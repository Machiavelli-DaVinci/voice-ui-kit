"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@pipecat-ai";
exports.ids = ["vendor-chunks/@pipecat-ai"];
exports.modules = {

/***/ "(ssr)/../../node_modules/@pipecat-ai/client-js/dist/index.module.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/@pipecat-ai/client-js/dist/index.module.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BotNotReadyError: () => (/* binding */ $db6391dc7d757577$export$885fb96b850e8fbb),\n/* harmony export */   ConnectionTimeoutError: () => (/* binding */ $db6391dc7d757577$export$c67992fa684a81a6),\n/* harmony export */   LogLevel: () => (/* binding */ $e0900798b6cc045b$export$243e62d78d3b544d),\n/* harmony export */   MessageDispatcher: () => (/* binding */ $769bb602511974a1$export$e9a960646cc432aa),\n/* harmony export */   PipecatClient: () => (/* binding */ $364c127d152b1085$export$8f7f86a77535f7a3),\n/* harmony export */   RTVIError: () => (/* binding */ $db6391dc7d757577$export$59b4786f333aac02),\n/* harmony export */   RTVIEvent: () => (/* binding */ $c1b4da4af54f4fa1$export$6b4624d233c61fcb),\n/* harmony export */   RTVIMessage: () => (/* binding */ $c0d10c4690969999$export$69aa9ab0334b212),\n/* harmony export */   RTVIMessageType: () => (/* binding */ $c0d10c4690969999$export$38b3db05cbf0e240),\n/* harmony export */   RTVI_MESSAGE_LABEL: () => (/* binding */ $c0d10c4690969999$export$882b13c7fda338f5),\n/* harmony export */   RTVI_PROTOCOL_VERSION: () => (/* binding */ $c0d10c4690969999$export$7bdaf0e0d661a8f5),\n/* harmony export */   StartBotError: () => (/* binding */ $db6391dc7d757577$export$e7544ab812238a61),\n/* harmony export */   Transport: () => (/* binding */ $7ef5cee66c377f4d$export$86495b081fef8e52),\n/* harmony export */   TransportStartError: () => (/* binding */ $db6391dc7d757577$export$e0624a511a2c4e9),\n/* harmony export */   TransportWrapper: () => (/* binding */ $7ef5cee66c377f4d$export$82b6ede160a64a3c),\n/* harmony export */   UnsupportedFeatureError: () => (/* binding */ $db6391dc7d757577$export$bd0820eb8444fcd9),\n/* harmony export */   logger: () => (/* binding */ $e0900798b6cc045b$export$af88d00dbe7f521),\n/* harmony export */   setAboutClient: () => (/* binding */ $c0d10c4690969999$export$e4036f9b8ddb7379)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"(ssr)/../../node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var bowser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bowser */ \"(ssr)/../../node_modules/bowser/src/bowser.js\");\n\n\n\n\n\nfunction $parcel$exportWildcard(dest, source) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule' || Object.prototype.hasOwnProperty.call(dest, key)) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function get() {\n        return source[key];\n      }\n    });\n  });\n\n  return dest;\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ var $05fa7b586184a19c$exports = {};\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ var $364c127d152b1085$exports = {};\n\n$parcel$export($364c127d152b1085$exports, \"PipecatClient\", () => $364c127d152b1085$export$8f7f86a77535f7a3);\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \nvar $e3bad9cc25e327f7$exports = {};\n$e3bad9cc25e327f7$exports = JSON.parse(\"{\\\"name\\\":\\\"@pipecat-ai/client-js\\\",\\\"version\\\":\\\"1.0.0\\\",\\\"license\\\":\\\"BSD-2-Clause\\\",\\\"main\\\":\\\"dist/index.js\\\",\\\"module\\\":\\\"dist/index.module.js\\\",\\\"types\\\":\\\"dist/index.d.ts\\\",\\\"source\\\":\\\"index.ts\\\",\\\"repository\\\":{\\\"type\\\":\\\"git\\\",\\\"url\\\":\\\"git+https://github.com/pipecat-ai/pipecat-client-web.git\\\"},\\\"files\\\":[\\\"dist\\\",\\\"package.json\\\",\\\"README.md\\\"],\\\"scripts\\\":{\\\"build\\\":\\\"jest --silent --passWithNoTests && parcel build --no-cache\\\",\\\"dev\\\":\\\"parcel watch\\\",\\\"lint\\\":\\\"eslint . --report-unused-disable-directives --max-warnings 0\\\",\\\"test\\\":\\\"jest\\\"},\\\"jest\\\":{\\\"preset\\\":\\\"ts-jest\\\",\\\"testEnvironment\\\":\\\"jsdom\\\"},\\\"devDependencies\\\":{\\\"@jest/globals\\\":\\\"^29.7.0\\\",\\\"@types/clone-deep\\\":\\\"^4.0.4\\\",\\\"@types/jest\\\":\\\"^29.5.12\\\",\\\"@types/uuid\\\":\\\"^10.0.0\\\",\\\"eslint\\\":\\\"^9.11.1\\\",\\\"eslint-config-prettier\\\":\\\"^9.1.0\\\",\\\"eslint-plugin-simple-import-sort\\\":\\\"^12.1.1\\\",\\\"jest\\\":\\\"^29.7.0\\\",\\\"jest-environment-jsdom\\\":\\\"^30.0.2\\\",\\\"ts-jest\\\":\\\"^29.2.5\\\"},\\\"dependencies\\\":{\\\"@types/events\\\":\\\"^3.0.3\\\",\\\"bowser\\\":\\\"^2.11.0\\\",\\\"clone-deep\\\":\\\"^4.0.1\\\",\\\"events\\\":\\\"^3.3.0\\\",\\\"typed-emitter\\\":\\\"^2.1.0\\\",\\\"uuid\\\":\\\"^10.0.0\\\"}}\");\n\n\nvar $fc3f408bb0b1f921$exports = {};\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ var $6396333126da0e76$exports = {};\n\n\nvar $db6391dc7d757577$exports = {};\n\n$parcel$export($db6391dc7d757577$exports, \"RTVIError\", () => $db6391dc7d757577$export$59b4786f333aac02);\n$parcel$export($db6391dc7d757577$exports, \"ConnectionTimeoutError\", () => $db6391dc7d757577$export$c67992fa684a81a6);\n$parcel$export($db6391dc7d757577$exports, \"StartBotError\", () => $db6391dc7d757577$export$e7544ab812238a61);\n$parcel$export($db6391dc7d757577$exports, \"TransportStartError\", () => $db6391dc7d757577$export$e0624a511a2c4e9);\n$parcel$export($db6391dc7d757577$exports, \"BotNotReadyError\", () => $db6391dc7d757577$export$885fb96b850e8fbb);\n$parcel$export($db6391dc7d757577$exports, \"UnsupportedFeatureError\", () => $db6391dc7d757577$export$bd0820eb8444fcd9);\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ class $db6391dc7d757577$export$59b4786f333aac02 extends Error {\n    constructor(message, status){\n        super(message);\n        this.status = status;\n    }\n}\nclass $db6391dc7d757577$export$c67992fa684a81a6 extends $db6391dc7d757577$export$59b4786f333aac02 {\n    constructor(message){\n        super(message ?? \"Bot did not enter ready state within the specified timeout period.\");\n    }\n}\nclass $db6391dc7d757577$export$e7544ab812238a61 extends $db6391dc7d757577$export$59b4786f333aac02 {\n    constructor(message, status){\n        super(message ?? `Failed to connect / invalid auth bundle from base url`, status ?? 500);\n        this.error = \"invalid-request-error\";\n    }\n}\nclass $db6391dc7d757577$export$e0624a511a2c4e9 extends $db6391dc7d757577$export$59b4786f333aac02 {\n    constructor(message){\n        super(message ?? \"Unable to connect to transport\");\n    }\n}\nclass $db6391dc7d757577$export$885fb96b850e8fbb extends $db6391dc7d757577$export$59b4786f333aac02 {\n    constructor(message){\n        super(message ?? \"Attempt to call action on transport when not in 'ready' state.\");\n    }\n}\nclass $db6391dc7d757577$export$bd0820eb8444fcd9 extends $db6391dc7d757577$export$59b4786f333aac02 {\n    constructor(feature, source, message){\n        let msg = `${feature} not supported${message ? `: ${message}` : \"\"}`;\n        if (source) msg = `${source} does not support ${feature}${message ? `: ${message}` : \"\"}`;\n        super(msg);\n        this.feature = feature;\n    }\n}\n\n\nvar $c1b4da4af54f4fa1$exports = {};\n\n$parcel$export($c1b4da4af54f4fa1$exports, \"RTVIEvent\", () => $c1b4da4af54f4fa1$export$6b4624d233c61fcb);\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ var $c1b4da4af54f4fa1$export$6b4624d233c61fcb;\n(function(RTVIEvent) {\n    /** local connection state events */ RTVIEvent[\"Connected\"] = \"connected\";\n    RTVIEvent[\"Disconnected\"] = \"disconnected\";\n    RTVIEvent[\"TransportStateChanged\"] = \"transportStateChanged\";\n    /** remote connection state events */ RTVIEvent[\"BotConnected\"] = \"botConnected\";\n    RTVIEvent[\"BotReady\"] = \"botReady\";\n    RTVIEvent[\"BotDisconnected\"] = \"botDisconnected\";\n    RTVIEvent[\"Error\"] = \"error\";\n    /** server messaging */ RTVIEvent[\"ServerMessage\"] = \"serverMessage\";\n    RTVIEvent[\"ServerResponse\"] = \"serverResponse\";\n    RTVIEvent[\"MessageError\"] = \"messageError\";\n    /** service events */ RTVIEvent[\"Metrics\"] = \"metrics\";\n    // vad events\n    RTVIEvent[\"BotStartedSpeaking\"] = \"botStartedSpeaking\";\n    RTVIEvent[\"BotStoppedSpeaking\"] = \"botStoppedSpeaking\";\n    RTVIEvent[\"UserStartedSpeaking\"] = \"userStartedSpeaking\";\n    RTVIEvent[\"UserStoppedSpeaking\"] = \"userStoppedSpeaking\";\n    // stt events\n    RTVIEvent[\"UserTranscript\"] = \"userTranscript\";\n    RTVIEvent[\"BotTranscript\"] = \"botTranscript\";\n    // llm events\n    RTVIEvent[\"BotLlmText\"] = \"botLlmText\";\n    RTVIEvent[\"BotLlmStarted\"] = \"botLlmStarted\";\n    RTVIEvent[\"BotLlmStopped\"] = \"botLlmStopped\";\n    RTVIEvent[\"LLMFunctionCall\"] = \"llmFunctionCall\";\n    RTVIEvent[\"BotLlmSearchResponse\"] = \"botLlmSearchResponse\";\n    // tts events\n    RTVIEvent[\"BotTtsText\"] = \"botTtsText\";\n    RTVIEvent[\"BotTtsStarted\"] = \"botTtsStarted\";\n    RTVIEvent[\"BotTtsStopped\"] = \"botTtsStopped\";\n    /** participant events */ RTVIEvent[\"ParticipantConnected\"] = \"participantConnected\";\n    RTVIEvent[\"ParticipantLeft\"] = \"participantLeft\";\n    /** media events */ RTVIEvent[\"TrackStarted\"] = \"trackStarted\";\n    RTVIEvent[\"TrackStopped\"] = \"trackStopped\";\n    RTVIEvent[\"ScreenTrackStarted\"] = \"screenTrackStarted\";\n    RTVIEvent[\"ScreenTrackStopped\"] = \"screenTrackStopped\";\n    RTVIEvent[\"ScreenShareError\"] = \"screenShareError\";\n    RTVIEvent[\"LocalAudioLevel\"] = \"localAudioLevel\";\n    RTVIEvent[\"RemoteAudioLevel\"] = \"remoteAudioLevel\";\n    /** media device events */ RTVIEvent[\"AvailableCamsUpdated\"] = \"availableCamsUpdated\";\n    RTVIEvent[\"AvailableMicsUpdated\"] = \"availableMicsUpdated\";\n    RTVIEvent[\"AvailableSpeakersUpdated\"] = \"availableSpeakersUpdated\";\n    RTVIEvent[\"CamUpdated\"] = \"camUpdated\";\n    RTVIEvent[\"MicUpdated\"] = \"micUpdated\";\n    RTVIEvent[\"SpeakerUpdated\"] = \"speakerUpdated\";\n})($c1b4da4af54f4fa1$export$6b4624d233c61fcb || ($c1b4da4af54f4fa1$export$6b4624d233c61fcb = {}));\n\n\nvar $c0d10c4690969999$exports = {};\n\n$parcel$export($c0d10c4690969999$exports, \"RTVI_PROTOCOL_VERSION\", () => $c0d10c4690969999$export$7bdaf0e0d661a8f5);\n$parcel$export($c0d10c4690969999$exports, \"RTVI_MESSAGE_LABEL\", () => $c0d10c4690969999$export$882b13c7fda338f5);\n$parcel$export($c0d10c4690969999$exports, \"RTVIMessageType\", () => $c0d10c4690969999$export$38b3db05cbf0e240);\n$parcel$export($c0d10c4690969999$exports, \"setAboutClient\", () => $c0d10c4690969999$export$e4036f9b8ddb7379);\n$parcel$export($c0d10c4690969999$exports, \"RTVIMessage\", () => $c0d10c4690969999$export$69aa9ab0334b212);\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \n\nconst $c0d10c4690969999$export$7bdaf0e0d661a8f5 = \"1.0.0\";\nconst $c0d10c4690969999$export$882b13c7fda338f5 = \"rtvi-ai\";\nvar $c0d10c4690969999$export$38b3db05cbf0e240;\n(function(RTVIMessageType) {\n    /** Outbound Messages */ RTVIMessageType[\"CLIENT_READY\"] = \"client-ready\";\n    RTVIMessageType[\"DISCONNECT_BOT\"] = \"disconnect-bot\";\n    // Client-to-server messages\n    RTVIMessageType[\"CLIENT_MESSAGE\"] = \"client-message\";\n    RTVIMessageType[\"APPEND_TO_CONTEXT\"] = \"append-to-context\";\n    /**\n     * Inbound Messages\n     * Messages the server-side client sends to our client-side client regarding\n     * its state or other non-service-specific messaging.\n     */ RTVIMessageType[\"BOT_READY\"] = \"bot-ready\";\n    RTVIMessageType[\"ERROR\"] = \"error\";\n    RTVIMessageType[\"METRICS\"] = \"metrics\";\n    RTVIMessageType[\"SERVER_MESSAGE\"] = \"server-message\";\n    RTVIMessageType[\"SERVER_RESPONSE\"] = \"server-response\";\n    RTVIMessageType[\"ERROR_RESPONSE\"] = \"error-response\";\n    RTVIMessageType[\"APPEND_TO_CONTEXT_RESULT\"] = \"append-to-context-result\";\n    /** Transcription Messages */ RTVIMessageType[\"USER_TRANSCRIPTION\"] = \"user-transcription\";\n    RTVIMessageType[\"BOT_TRANSCRIPTION\"] = \"bot-transcription\";\n    RTVIMessageType[\"USER_STARTED_SPEAKING\"] = \"user-started-speaking\";\n    RTVIMessageType[\"USER_STOPPED_SPEAKING\"] = \"user-stopped-speaking\";\n    RTVIMessageType[\"BOT_STARTED_SPEAKING\"] = \"bot-started-speaking\";\n    RTVIMessageType[\"BOT_STOPPED_SPEAKING\"] = \"bot-stopped-speaking\";\n    /** LLM Messages */ RTVIMessageType[\"USER_LLM_TEXT\"] = \"user-llm-text\";\n    RTVIMessageType[\"BOT_LLM_TEXT\"] = \"bot-llm-text\";\n    RTVIMessageType[\"BOT_LLM_STARTED\"] = \"bot-llm-started\";\n    RTVIMessageType[\"BOT_LLM_STOPPED\"] = \"bot-llm-stopped\";\n    // Function calling\n    RTVIMessageType[\"LLM_FUNCTION_CALL\"] = \"llm-function-call\";\n    RTVIMessageType[\"LLM_FUNCTION_CALL_RESULT\"] = \"llm-function-call-result\";\n    RTVIMessageType[\"BOT_LLM_SEARCH_RESPONSE\"] = \"bot-llm-search-response\";\n    /** TTS Messages */ RTVIMessageType[\"BOT_TTS_TEXT\"] = \"bot-tts-text\";\n    RTVIMessageType[\"BOT_TTS_STARTED\"] = \"bot-tts-started\";\n    RTVIMessageType[\"BOT_TTS_STOPPED\"] = \"bot-tts-stopped\";\n})($c0d10c4690969999$export$38b3db05cbf0e240 || ($c0d10c4690969999$export$38b3db05cbf0e240 = {}));\n// ----- Message Classes\nlet $c0d10c4690969999$var$_aboutClient;\nfunction $c0d10c4690969999$export$e4036f9b8ddb7379(about) {\n    // allow for partial updates to the about data\n    // this allows the client to set the about data at any time\n    // before sending the `client-ready` message and not worry about\n    // overwriting existing data\n    if ($c0d10c4690969999$var$_aboutClient) $c0d10c4690969999$var$_aboutClient = {\n        ...$c0d10c4690969999$var$_aboutClient,\n        ...about\n    };\n    else // if no about data is set, set it to the provided value\n    $c0d10c4690969999$var$_aboutClient = about;\n}\nclass $c0d10c4690969999$export$69aa9ab0334b212 {\n    constructor(type, data, id){\n        this.label = $c0d10c4690969999$export$882b13c7fda338f5;\n        this.type = type;\n        this.data = data;\n        this.id = id || (0, uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])().slice(0, 8);\n    }\n    // Outbound message types\n    static clientReady() {\n        return new $c0d10c4690969999$export$69aa9ab0334b212($c0d10c4690969999$export$38b3db05cbf0e240.CLIENT_READY, {\n            version: $c0d10c4690969999$export$7bdaf0e0d661a8f5,\n            about: $c0d10c4690969999$var$_aboutClient || {\n                library: (0, $e3bad9cc25e327f7$exports.name),\n                library_version: (0, $e3bad9cc25e327f7$exports.version)\n            }\n        });\n    }\n    static disconnectBot() {\n        return new $c0d10c4690969999$export$69aa9ab0334b212($c0d10c4690969999$export$38b3db05cbf0e240.DISCONNECT_BOT, {});\n    }\n    static error(message, fatal = false) {\n        return new $c0d10c4690969999$export$69aa9ab0334b212($c0d10c4690969999$export$38b3db05cbf0e240.ERROR, {\n            message: message,\n            fatal: fatal\n        });\n    }\n}\n\n\n$parcel$exportWildcard($fc3f408bb0b1f921$exports, $6396333126da0e76$exports);\n$parcel$exportWildcard($fc3f408bb0b1f921$exports, $db6391dc7d757577$exports);\n$parcel$exportWildcard($fc3f408bb0b1f921$exports, $c1b4da4af54f4fa1$exports);\n$parcel$exportWildcard($fc3f408bb0b1f921$exports, $c0d10c4690969999$exports);\n\n\n\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \nfunction $c68ef2498d1a7177$export$f1586721024c4dab(_target, propertyKey, descriptor) {\n    const originalMethod = descriptor.value;\n    descriptor.value = function(...args) {\n        if (this.state === \"ready\") return originalMethod.apply(this, args);\n        else throw new (0, $db6391dc7d757577$export$885fb96b850e8fbb)(`Attempt to call ${propertyKey.toString()} when transport not in ready state. Await connect() first.`);\n    };\n    return descriptor;\n}\nfunction $c68ef2498d1a7177$export$808994d0d8c9acb3(states) {\n    return function(_target, propertyKey, descriptor) {\n        const originalMethod = descriptor.value;\n        descriptor.get = function(...args) {\n            if (states.includes(this.state)) return originalMethod.apply(this, args);\n            else throw new (0, $db6391dc7d757577$export$885fb96b850e8fbb)(`Attempt to call ${propertyKey.toString()} when transport not in ${states}.`);\n        };\n        return descriptor;\n    };\n}\nfunction $c68ef2498d1a7177$export$5c35b4fe6fa8c9a6(...states) {\n    states = [\n        \"ready\",\n        ...states\n    ];\n    return function(_target, propertyKey, descriptor) {\n        const originalGetter = descriptor.get;\n        descriptor.get = function() {\n            if (states.includes(this.state)) return originalGetter?.apply(this);\n            else throw new (0, $db6391dc7d757577$export$885fb96b850e8fbb)(`Attempt to call ${propertyKey.toString()} when transport not in ${states}. Await connect() first.`);\n        };\n        return descriptor;\n    };\n}\n\n\nvar $769bb602511974a1$exports = {};\n\n$parcel$export($769bb602511974a1$exports, \"MessageDispatcher\", () => $769bb602511974a1$export$e9a960646cc432aa);\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \nvar $e0900798b6cc045b$exports = {};\n\n$parcel$export($e0900798b6cc045b$exports, \"LogLevel\", () => $e0900798b6cc045b$export$243e62d78d3b544d);\n$parcel$export($e0900798b6cc045b$exports, \"logger\", () => $e0900798b6cc045b$export$af88d00dbe7f521);\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ var $e0900798b6cc045b$export$243e62d78d3b544d;\n(function(LogLevel) {\n    LogLevel[LogLevel[\"NONE\"] = 0] = \"NONE\";\n    LogLevel[LogLevel[\"ERROR\"] = 1] = \"ERROR\";\n    LogLevel[LogLevel[\"WARN\"] = 2] = \"WARN\";\n    LogLevel[LogLevel[\"INFO\"] = 3] = \"INFO\";\n    LogLevel[LogLevel[\"DEBUG\"] = 4] = \"DEBUG\";\n})($e0900798b6cc045b$export$243e62d78d3b544d || ($e0900798b6cc045b$export$243e62d78d3b544d = {}));\nclass $e0900798b6cc045b$var$Logger {\n    constructor(){\n        this.level = $e0900798b6cc045b$export$243e62d78d3b544d.DEBUG;\n    }\n    static getInstance() {\n        if (!$e0900798b6cc045b$var$Logger.instance) $e0900798b6cc045b$var$Logger.instance = new $e0900798b6cc045b$var$Logger();\n        return $e0900798b6cc045b$var$Logger.instance;\n    }\n    setLevel(level) {\n        this.level = level;\n    }\n    debug(...args) {\n        if (this.level >= $e0900798b6cc045b$export$243e62d78d3b544d.DEBUG) console.debug(...args);\n    }\n    info(...args) {\n        if (this.level >= $e0900798b6cc045b$export$243e62d78d3b544d.INFO) console.info(...args);\n    }\n    warn(...args) {\n        if (this.level >= $e0900798b6cc045b$export$243e62d78d3b544d.WARN) console.warn(...args);\n    }\n    error(...args) {\n        if (this.level >= $e0900798b6cc045b$export$243e62d78d3b544d.ERROR) console.error(...args);\n    }\n}\nconst $e0900798b6cc045b$export$af88d00dbe7f521 = $e0900798b6cc045b$var$Logger.getInstance();\n\n\nclass $769bb602511974a1$export$e9a960646cc432aa {\n    constructor(sendMethod){\n        this._queue = new Array();\n        this._gcInterval = undefined;\n        this._queue = [];\n        this._sendMethod = sendMethod;\n    }\n    disconnect() {\n        this.clearQueue();\n        clearInterval(this._gcInterval);\n        this._gcInterval = undefined;\n    }\n    dispatch(message_data, type = (0, $c0d10c4690969999$export$38b3db05cbf0e240).CLIENT_MESSAGE, timeout = 10000) {\n        if (!this._gcInterval) // start garbage collection if not already running\n        this._gcInterval = setInterval(()=>{\n            this._gc();\n        }, 2000); // Run garbage collection every 2 seconds\n        const message = new (0, $c0d10c4690969999$export$69aa9ab0334b212)(type, message_data);\n        const promise = new Promise((resolve, reject)=>{\n            this._queue.push({\n                message: message,\n                timestamp: Date.now(),\n                timeout: timeout,\n                resolve: resolve,\n                reject: reject\n            });\n        });\n        (0, $e0900798b6cc045b$export$af88d00dbe7f521).debug(\"[MessageDispatcher] dispatch\", message);\n        try {\n            this._sendMethod(message);\n        } catch (e) {\n            (0, $e0900798b6cc045b$export$af88d00dbe7f521).error(\"[MessageDispatcher] Error sending message\", e);\n            return Promise.reject(e);\n        }\n        this._gc();\n        return promise;\n    }\n    clearQueue() {\n        this._queue = [];\n    }\n    _resolveReject(message, resolve = true) {\n        const queuedMessage = this._queue.find((msg)=>msg.message.id === message.id);\n        if (queuedMessage) {\n            if (resolve) {\n                (0, $e0900798b6cc045b$export$af88d00dbe7f521).debug(\"[MessageDispatcher] Resolve\", message);\n                queuedMessage.resolve(message);\n            } else {\n                (0, $e0900798b6cc045b$export$af88d00dbe7f521).debug(\"[MessageDispatcher] Reject\", message);\n                queuedMessage.reject(message);\n            }\n            // Remove message from queue\n            this._queue = this._queue.filter((msg)=>msg.message.id !== message.id);\n            (0, $e0900798b6cc045b$export$af88d00dbe7f521).debug(\"[MessageDispatcher] Queue\", this._queue);\n        }\n        return message;\n    }\n    resolve(message) {\n        return this._resolveReject(message, true);\n    }\n    reject(message) {\n        return this._resolveReject(message, false);\n    }\n    _gc() {\n        const expired = [];\n        this._queue = this._queue.filter((msg)=>{\n            const isValid = Date.now() - msg.timestamp < msg.timeout;\n            if (!isValid) expired.push(msg);\n            return isValid;\n        });\n        expired.forEach((msg)=>{\n            if (msg.message.type === (0, $c0d10c4690969999$export$38b3db05cbf0e240).CLIENT_MESSAGE) msg.reject(new (0, $c0d10c4690969999$export$69aa9ab0334b212)((0, $c0d10c4690969999$export$38b3db05cbf0e240).ERROR_RESPONSE, {\n                error: \"Timed out waiting for response\",\n                msgType: msg.message.data.t,\n                data: msg.message.data.d,\n                fatal: false\n            }));\n        });\n        (0, $e0900798b6cc045b$export$af88d00dbe7f521).debug(\"[MessageDispatcher] GC\", this._queue);\n    }\n}\n\n\n\n\n\nfunction $d0e914667cc5346b$export$649b6456532c29e2(value) {\n    if (typeof value === \"object\" && value !== null && Object.keys(value).includes(\"endpoint\")) return typeof value[\"endpoint\"] === \"string\";\n    return false;\n}\nasync function $d0e914667cc5346b$export$cf4bd460ba47a2f2(cxnOpts, abortController) {\n    if (!abortController) abortController = new AbortController();\n    let handshakeTimeout;\n    return new Promise((resolve, reject)=>{\n        (async ()=>{\n            if (cxnOpts.timeout) handshakeTimeout = setTimeout(async ()=>{\n                abortController.abort();\n                reject(new Error(\"Timed out\"));\n            }, cxnOpts.timeout);\n            (0, $e0900798b6cc045b$export$af88d00dbe7f521).debug(`[Pipecat Client] Fetching connection params from ${cxnOpts.endpoint}`);\n            fetch(cxnOpts.endpoint, {\n                method: \"POST\",\n                mode: \"cors\",\n                headers: new Headers({\n                    \"Content-Type\": \"application/json\",\n                    ...Object.fromEntries((cxnOpts.headers ?? new Headers()).entries())\n                }),\n                body: JSON.stringify(cxnOpts.requestData),\n                signal: abortController?.signal\n            }).then((res)=>{\n                (0, $e0900798b6cc045b$export$af88d00dbe7f521).debug(`[Pipecat Client] Received response from ${cxnOpts.endpoint}`, res);\n                if (!res.ok) throw res;\n                res.json().then((data)=>resolve(data));\n            }).catch((err)=>{\n                (0, $e0900798b6cc045b$export$af88d00dbe7f521).error(`[Pipecat Client] Error fetching connection params: ${err}`);\n                if (err instanceof Response) err.json().then((errResp)=>{\n                    reject(new $db6391dc7d757577$export$e7544ab812238a61(errResp.info ?? errResp.detail ?? err.statusText, err.status));\n                });\n                else reject(new $db6391dc7d757577$export$e7544ab812238a61());\n            }).finally(()=>{\n                if (handshakeTimeout) clearTimeout(handshakeTimeout);\n            });\n        })();\n    });\n}\n\n\nvar $7ef5cee66c377f4d$exports = {};\n\n$parcel$export($7ef5cee66c377f4d$exports, \"Transport\", () => $7ef5cee66c377f4d$export$86495b081fef8e52);\n$parcel$export($7ef5cee66c377f4d$exports, \"TransportWrapper\", () => $7ef5cee66c377f4d$export$82b6ede160a64a3c);\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \nclass $7ef5cee66c377f4d$export$86495b081fef8e52 {\n    constructor(){\n        this._state = \"disconnected\";\n    }\n    /**\n     * Establishes a connection with the remote server. This is the main entry\n     * point for the transport to start sending and receiving media and messages.\n     * This is called from PipecatClient.connect() and should not be called directly.\n     * @param connectParams - This type will ultimately be defned by the transport\n     * implementation. It is used to pass connection parameters to the transport.\n     */ connect(connectParams) {\n        this._abortController = new AbortController();\n        let validatedParams = connectParams;\n        try {\n            validatedParams = this._validateConnectionParams(connectParams);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        } catch (e) {\n            throw new (0, $db6391dc7d757577$export$59b4786f333aac02)(`Invalid connection params: ${e.message}. Please check your connection params and try again.`);\n        }\n        return this._connect(validatedParams);\n    }\n    /**\n     * Disconnects the transport from the remote server. This is called from\n     * PipecatClient.disconnect() and should not be called directly.\n     */ disconnect() {\n        if (this._abortController) this._abortController.abort();\n        return this._disconnect();\n    }\n}\nclass $7ef5cee66c377f4d$export$82b6ede160a64a3c {\n    constructor(transport){\n        this._transport = transport;\n        this._proxy = new Proxy(this._transport, {\n            get: (target, prop, receiver)=>{\n                if (typeof target[prop] === \"function\") {\n                    let errMsg;\n                    switch(String(prop)){\n                        // Disable methods that modify the lifecycle of the call. These operations\n                        // should be performed via the Pipecat client in order to keep state in sync.\n                        case \"initialize\":\n                            errMsg = `Direct calls to initialize() are disabled and used internally by the PipecatClient.`;\n                            break;\n                        case \"initDevices\":\n                            errMsg = `Direct calls to initDevices() are disabled. Please use the PipecatClient.initDevices() wrapper or let PipecatClient.connect() call it for you.`;\n                            break;\n                        case \"sendReadyMessage\":\n                            errMsg = `Direct calls to sendReadyMessage() are disabled and used internally by the PipecatClient.`;\n                            break;\n                        case \"connect\":\n                            errMsg = `Direct calls to connect() are disabled. Please use the PipecatClient.connect() wrapper.`;\n                            break;\n                        case \"disconnect\":\n                            errMsg = `Direct calls to disconnect() are disabled. Please use the PipecatClient.disconnect() wrapper.`;\n                            break;\n                    }\n                    if (errMsg) return ()=>{\n                        throw new Error(errMsg);\n                    };\n                    // Forward other method calls\n                    return (...args)=>{\n                        // eslint-disable-next-line @typescript-eslint/no-unsafe-function-type\n                        return target[prop](...args);\n                    };\n                }\n                // Forward property access\n                return Reflect.get(target, prop, receiver);\n            }\n        });\n    }\n    get proxy() {\n        return this._proxy;\n    }\n}\n\n\n\n\nfunction $dfd757760e36925b$export$7eb7b0a641098f31() {\n    let about = {\n        library: (0, $e3bad9cc25e327f7$exports.name),\n        library_version: (0, $e3bad9cc25e327f7$exports.version),\n        platform_details: {}\n    };\n    // This uses legacy browser user agent parsing, which we still fall\n    // back to if the User Agent Hints API is not available\n    let navAgentInfo = null;\n    if (window?.navigator?.userAgent) try {\n        navAgentInfo = (0, bowser__WEBPACK_IMPORTED_MODULE_1__[\"default\"]).parse(window.navigator.userAgent);\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    } catch (_) {\n    // void\n    }\n    if (navAgentInfo?.browser?.name) about.platform_details.browser = navAgentInfo.browser.name;\n    if (navAgentInfo?.browser?.name === \"Safari\" && !navAgentInfo.browser.version) about.platform_details.browser_version = \"Web View\";\n    else if (navAgentInfo?.browser?.version) about.platform_details.browser_version = navAgentInfo.browser.version;\n    if (navAgentInfo?.platform?.type) about.platform_details.platform_type = navAgentInfo.platform.type;\n    if (navAgentInfo?.engine?.name) about.platform_details.engine = navAgentInfo.engine.name;\n    if (navAgentInfo?.os) {\n        about.platform = navAgentInfo.os.name;\n        about.platform_version = navAgentInfo.os.version;\n    }\n    return about;\n}\n\n\nvar $364c127d152b1085$var$__decorate =  false || function(decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nclass $364c127d152b1085$var$RTVIEventEmitter extends (0, (events__WEBPACK_IMPORTED_MODULE_0___default())) {\n}\nclass $364c127d152b1085$export$8f7f86a77535f7a3 extends $364c127d152b1085$var$RTVIEventEmitter {\n    constructor(options){\n        super();\n        this._functionCallCallbacks = {};\n        (0, $c0d10c4690969999$export$e4036f9b8ddb7379)((0, $dfd757760e36925b$export$7eb7b0a641098f31)());\n        this._transport = options.transport;\n        this._transportWrapper = new (0, $7ef5cee66c377f4d$export$82b6ede160a64a3c)(this._transport);\n        // Wrap transport callbacks with event triggers\n        // This allows for either functional callbacks or .on / .off event listeners\n        const wrappedCallbacks = {\n            ...options.callbacks,\n            onMessageError: (message)=>{\n                options?.callbacks?.onMessageError?.(message);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).MessageError, message);\n            },\n            onError: (message)=>{\n                options?.callbacks?.onError?.(message);\n                try {\n                    this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).Error, message);\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                } catch (e) {\n                    (0, $e0900798b6cc045b$export$af88d00dbe7f521).debug(\"Could not emit error\", message);\n                }\n                const data = message.data;\n                if (data?.fatal) {\n                    (0, $e0900798b6cc045b$export$af88d00dbe7f521).error(\"Fatal error reported. Disconnecting...\");\n                    this.disconnect();\n                }\n            },\n            onConnected: ()=>{\n                options?.callbacks?.onConnected?.();\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).Connected);\n            },\n            onDisconnected: ()=>{\n                options?.callbacks?.onDisconnected?.();\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).Disconnected);\n            },\n            onTransportStateChanged: (state)=>{\n                options?.callbacks?.onTransportStateChanged?.(state);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).TransportStateChanged, state);\n            },\n            onParticipantJoined: (p)=>{\n                options?.callbacks?.onParticipantJoined?.(p);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).ParticipantConnected, p);\n            },\n            onParticipantLeft: (p)=>{\n                options?.callbacks?.onParticipantLeft?.(p);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).ParticipantLeft, p);\n            },\n            onTrackStarted: (track, p)=>{\n                options?.callbacks?.onTrackStarted?.(track, p);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).TrackStarted, track, p);\n            },\n            onTrackStopped: (track, p)=>{\n                options?.callbacks?.onTrackStopped?.(track, p);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).TrackStopped, track, p);\n            },\n            onScreenTrackStarted: (track, p)=>{\n                options?.callbacks?.onScreenTrackStarted?.(track, p);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).ScreenTrackStarted, track, p);\n            },\n            onScreenTrackStopped: (track, p)=>{\n                options?.callbacks?.onScreenTrackStopped?.(track, p);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).ScreenTrackStopped, track, p);\n            },\n            onScreenShareError: (errorMessage)=>{\n                options?.callbacks?.onScreenShareError?.(errorMessage);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).ScreenShareError, errorMessage);\n            },\n            onAvailableCamsUpdated: (cams)=>{\n                options?.callbacks?.onAvailableCamsUpdated?.(cams);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).AvailableCamsUpdated, cams);\n            },\n            onAvailableMicsUpdated: (mics)=>{\n                options?.callbacks?.onAvailableMicsUpdated?.(mics);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).AvailableMicsUpdated, mics);\n            },\n            onAvailableSpeakersUpdated: (speakers)=>{\n                options?.callbacks?.onAvailableSpeakersUpdated?.(speakers);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).AvailableSpeakersUpdated, speakers);\n            },\n            onCamUpdated: (cam)=>{\n                options?.callbacks?.onCamUpdated?.(cam);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).CamUpdated, cam);\n            },\n            onMicUpdated: (mic)=>{\n                options?.callbacks?.onMicUpdated?.(mic);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).MicUpdated, mic);\n            },\n            onSpeakerUpdated: (speaker)=>{\n                options?.callbacks?.onSpeakerUpdated?.(speaker);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).SpeakerUpdated, speaker);\n            },\n            onBotConnected: (p)=>{\n                options?.callbacks?.onBotConnected?.(p);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).BotConnected, p);\n            },\n            onBotReady: (botReadyData)=>{\n                options?.callbacks?.onBotReady?.(botReadyData);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).BotReady, botReadyData);\n            },\n            onBotDisconnected: (p)=>{\n                options?.callbacks?.onBotDisconnected?.(p);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).BotDisconnected, p);\n            },\n            onBotStartedSpeaking: ()=>{\n                options?.callbacks?.onBotStartedSpeaking?.();\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).BotStartedSpeaking);\n            },\n            onBotStoppedSpeaking: ()=>{\n                options?.callbacks?.onBotStoppedSpeaking?.();\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).BotStoppedSpeaking);\n            },\n            onRemoteAudioLevel: (level, p)=>{\n                options?.callbacks?.onRemoteAudioLevel?.(level, p);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).RemoteAudioLevel, level, p);\n            },\n            onUserStartedSpeaking: ()=>{\n                options?.callbacks?.onUserStartedSpeaking?.();\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).UserStartedSpeaking);\n            },\n            onUserStoppedSpeaking: ()=>{\n                options?.callbacks?.onUserStoppedSpeaking?.();\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).UserStoppedSpeaking);\n            },\n            onLocalAudioLevel: (level)=>{\n                options?.callbacks?.onLocalAudioLevel?.(level);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).LocalAudioLevel, level);\n            },\n            onUserTranscript: (data)=>{\n                options?.callbacks?.onUserTranscript?.(data);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).UserTranscript, data);\n            },\n            onBotTranscript: (text)=>{\n                options?.callbacks?.onBotTranscript?.(text);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).BotTranscript, text);\n            },\n            onBotLlmText: (text)=>{\n                options?.callbacks?.onBotLlmText?.(text);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).BotLlmText, text);\n            },\n            onBotLlmStarted: ()=>{\n                options?.callbacks?.onBotLlmStarted?.();\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).BotLlmStarted);\n            },\n            onBotLlmStopped: ()=>{\n                options?.callbacks?.onBotLlmStopped?.();\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).BotLlmStopped);\n            },\n            onBotTtsText: (text)=>{\n                options?.callbacks?.onBotTtsText?.(text);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).BotTtsText, text);\n            },\n            onBotTtsStarted: ()=>{\n                options?.callbacks?.onBotTtsStarted?.();\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).BotTtsStarted);\n            },\n            onBotTtsStopped: ()=>{\n                options?.callbacks?.onBotTtsStopped?.();\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).BotTtsStopped);\n            }\n        };\n        // Update options to reference wrapped callbacks and config defaults\n        this._options = {\n            ...options,\n            callbacks: wrappedCallbacks,\n            enableMic: options.enableMic ?? true,\n            enableCam: options.enableCam ?? false,\n            enableScreenShare: options.enableScreenShare ?? false\n        };\n        // Instantiate the transport class and bind message handler\n        this._initialize();\n        // Get package version number\n        (0, $e0900798b6cc045b$export$af88d00dbe7f521).debug(\"[Pipecat Client] Initialized\", this.version);\n    }\n    setLogLevel(level) {\n        (0, $e0900798b6cc045b$export$af88d00dbe7f521).setLevel(level);\n    }\n    // ------ Transport methods\n    /**\n     * Initialize local media devices\n     */ async initDevices() {\n        (0, $e0900798b6cc045b$export$af88d00dbe7f521).debug(\"[Pipecat Client] Initializing devices...\");\n        await this._transport.initDevices();\n    }\n    /**\n     * The `connect` function establishes a transport session and awaits a\n     * bot-ready signal, handling various connection states and errors.\n     * @param {TransportConnectionParams | ConnectionEndpoint} [connectParams] -\n     * The `connectParams` parameter in the `connect` method can be either of type\n     * `TransportConnectionParams` or `ConnectionEndpoint`. It is used to provide\n     * connection parameters for establishing a transport session. If\n     * `connectParams` is of type `ConnectionEndpoint`, the method will go through\n     * an authentication process\n     * @returns The `connect` method returns a Promise that resolves to an unknown value.\n     */ async connect(connectParams) {\n        if ([\n            \"authenticating\",\n            \"connecting\",\n            \"connected\",\n            \"ready\"\n        ].includes(this._transport.state)) throw new $db6391dc7d757577$export$59b4786f333aac02(\"Voice client has already been started. Please call disconnect() before starting again.\");\n        // Establish transport session and await bot ready signal\n        return new Promise((resolve, reject)=>{\n            (async ()=>{\n                this._startResolve = resolve;\n                if (this._transport.state === \"disconnected\") await this._transport.initDevices();\n                try {\n                    let cxnParams;\n                    if (connectParams) {\n                        if ((0, $d0e914667cc5346b$export$649b6456532c29e2)(connectParams)) {\n                            this._transport.state = \"authenticating\";\n                            this._abortController = new AbortController();\n                            cxnParams = await (0, $d0e914667cc5346b$export$cf4bd460ba47a2f2)(connectParams, this._abortController);\n                            if (this._abortController?.signal.aborted) return;\n                            this._transport.state = \"authenticated\";\n                        } else cxnParams = connectParams;\n                    }\n                    await this._transport.connect(cxnParams);\n                    await this._transport.sendReadyMessage();\n                } catch (e) {\n                    this.disconnect();\n                    reject(e);\n                    return;\n                }\n            })();\n        });\n    }\n    /**\n     * Disconnect the voice client from the transport\n     * Reset / reinitialize transport and abort any pending requests\n     */ async disconnect() {\n        await this._transport.disconnect();\n        this._messageDispatcher.disconnect();\n    }\n    /**\n     * The _initialize function performs internal set up of the transport and\n     * message dispatcher.\n     */ _initialize() {\n        this._transport.initialize(this._options, this.handleMessage.bind(this));\n        // Create a new message dispatch queue for async message handling\n        this._messageDispatcher = new (0, $769bb602511974a1$export$e9a960646cc432aa)(this._transport.sendMessage.bind(this._transport));\n    }\n    /**\n     * Get the current state of the transport\n     */ get connected() {\n        return [\n            \"connected\",\n            \"ready\"\n        ].includes(this._transport.state);\n    }\n    get transport() {\n        return this._transportWrapper.proxy;\n    }\n    get state() {\n        return this._transport.state;\n    }\n    get version() {\n        return (0, (/*@__PURE__*/$parcel$interopDefault($e3bad9cc25e327f7$exports))).version;\n    }\n    // ------ Device methods\n    async getAllMics() {\n        return await this._transport.getAllMics();\n    }\n    async getAllCams() {\n        return await this._transport.getAllCams();\n    }\n    async getAllSpeakers() {\n        return await this._transport.getAllSpeakers();\n    }\n    get selectedMic() {\n        return this._transport.selectedMic;\n    }\n    get selectedCam() {\n        return this._transport.selectedCam;\n    }\n    get selectedSpeaker() {\n        return this._transport.selectedSpeaker;\n    }\n    updateMic(micId) {\n        this._transport.updateMic(micId);\n    }\n    updateCam(camId) {\n        this._transport.updateCam(camId);\n    }\n    updateSpeaker(speakerId) {\n        this._transport.updateSpeaker(speakerId);\n    }\n    enableMic(enable) {\n        this._transport.enableMic(enable);\n    }\n    get isMicEnabled() {\n        return this._transport.isMicEnabled;\n    }\n    enableCam(enable) {\n        this._transport.enableCam(enable);\n    }\n    get isCamEnabled() {\n        return this._transport.isCamEnabled;\n    }\n    tracks() {\n        return this._transport.tracks();\n    }\n    enableScreenShare(enable) {\n        return this._transport.enableScreenShare(enable);\n    }\n    get isSharingScreen() {\n        return this._transport.isSharingScreen;\n    }\n    // ------ Messages\n    /**\n     * Directly send a message to the bot via the transport.\n     * Do not await a response.\n     * @param msgType - a string representing the message type\n     * @param data - a dictionary of data to send with the message\n     */ sendClientMessage(msgType, data) {\n        this._transport.sendMessage(new (0, $c0d10c4690969999$export$69aa9ab0334b212)((0, $c0d10c4690969999$export$38b3db05cbf0e240).CLIENT_MESSAGE, {\n            t: msgType,\n            d: data\n        }));\n    }\n    /**\n     * Directly send a message to the bot via the transport.\n     * Wait for and return the response.\n     * @param msgType - a string representing the message type\n     * @param data - a dictionary of data to send with the message\n     * @param timeout - optional timeout in milliseconds for the response\n     */ async sendClientRequest(msgType, data, timeout) {\n        const msgData = {\n            t: msgType,\n            d: data\n        };\n        const response = await this._messageDispatcher.dispatch(msgData, (0, $c0d10c4690969999$export$38b3db05cbf0e240).CLIENT_MESSAGE, timeout);\n        const ret_data = response.data;\n        return ret_data.d;\n    }\n    registerFunctionCallHandler(functionName, callback) {\n        this._functionCallCallbacks[functionName] = callback;\n    }\n    async appendToContext(context) {\n        const response = await this._messageDispatcher.dispatch({\n            role: context.role,\n            content: context.content,\n            run_immediately: context.run_immediately\n        }, (0, $c0d10c4690969999$export$38b3db05cbf0e240).APPEND_TO_CONTEXT);\n        const responseData = response.data;\n        return !!responseData.result;\n    }\n    /**\n     * Disconnects the bot, but keeps the session alive\n     */ disconnectBot() {\n        this._transport.sendMessage(new (0, $c0d10c4690969999$export$69aa9ab0334b212)((0, $c0d10c4690969999$export$38b3db05cbf0e240).DISCONNECT_BOT, {}));\n    }\n    handleMessage(ev) {\n        (0, $e0900798b6cc045b$export$af88d00dbe7f521).debug(\"[RTVI Message]\", ev);\n        switch(ev.type){\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).BOT_READY:\n                {\n                    const data = ev.data;\n                    const botVersion = data.version ? data.version.split(\".\").map(Number) : [\n                        0,\n                        0,\n                        0\n                    ];\n                    (0, $e0900798b6cc045b$export$af88d00dbe7f521).debug(`[Pipecat Client] Bot is ready. Version: ${data.version}`);\n                    if (botVersion[0] < 1) (0, $e0900798b6cc045b$export$af88d00dbe7f521).warn(\"[Pipecat Client] Bot version is less than 1.0.0, which may not be compatible with this client.\");\n                    this._startResolve?.(ev.data);\n                    this._options.callbacks?.onBotReady?.(ev.data);\n                    break;\n                }\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).ERROR:\n                this._options.callbacks?.onError?.(ev);\n                break;\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).SERVER_RESPONSE:\n                this._messageDispatcher.resolve(ev);\n                break;\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).ERROR_RESPONSE:\n                {\n                    const resp = this._messageDispatcher.reject(ev);\n                    this._options.callbacks?.onMessageError?.(resp);\n                    break;\n                }\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).USER_STARTED_SPEAKING:\n                this._options.callbacks?.onUserStartedSpeaking?.();\n                break;\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).USER_STOPPED_SPEAKING:\n                this._options.callbacks?.onUserStoppedSpeaking?.();\n                break;\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).BOT_STARTED_SPEAKING:\n                this._options.callbacks?.onBotStartedSpeaking?.();\n                break;\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).BOT_STOPPED_SPEAKING:\n                this._options.callbacks?.onBotStoppedSpeaking?.();\n                break;\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).USER_TRANSCRIPTION:\n                {\n                    const TranscriptData = ev.data;\n                    this._options.callbacks?.onUserTranscript?.(TranscriptData);\n                    break;\n                }\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).BOT_TRANSCRIPTION:\n                this._options.callbacks?.onBotTranscript?.(ev.data);\n                break;\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).BOT_LLM_TEXT:\n                this._options.callbacks?.onBotLlmText?.(ev.data);\n                break;\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).BOT_LLM_STARTED:\n                this._options.callbacks?.onBotLlmStarted?.();\n                break;\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).BOT_LLM_STOPPED:\n                this._options.callbacks?.onBotLlmStopped?.();\n                break;\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).BOT_TTS_TEXT:\n                this._options.callbacks?.onBotTtsText?.(ev.data);\n                break;\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).BOT_TTS_STARTED:\n                this._options.callbacks?.onBotTtsStarted?.();\n                break;\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).BOT_TTS_STOPPED:\n                this._options.callbacks?.onBotTtsStopped?.();\n                break;\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).METRICS:\n                this._options.callbacks?.onMetrics?.(ev.data);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).Metrics, ev.data);\n                break;\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).APPEND_TO_CONTEXT_RESULT:\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).SERVER_MESSAGE:\n                this._options.callbacks?.onServerMessage?.(ev.data);\n                this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).ServerMessage, ev.data);\n                break;\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).LLM_FUNCTION_CALL:\n                {\n                    const data = ev.data;\n                    const fc = this._functionCallCallbacks[data.function_name];\n                    if (fc) {\n                        const params = {\n                            functionName: data.function_name,\n                            arguments: data.args\n                        };\n                        fc(params).then((result)=>{\n                            this._transport.sendMessage(new (0, $c0d10c4690969999$export$69aa9ab0334b212)((0, $c0d10c4690969999$export$38b3db05cbf0e240).LLM_FUNCTION_CALL_RESULT, {\n                                function_name: data.function_name,\n                                tool_call_id: data.tool_call_id,\n                                arguments: data.args,\n                                result: result\n                            }));\n                        });\n                    }\n                    break;\n                }\n            case (0, $c0d10c4690969999$export$38b3db05cbf0e240).BOT_LLM_SEARCH_RESPONSE:\n                {\n                    const data = ev.data;\n                    this._options.callbacks?.onBotLlmSearchResponse?.(data);\n                    this.emit((0, $c1b4da4af54f4fa1$export$6b4624d233c61fcb).BotLlmSearchResponse, data);\n                    break;\n                }\n            default:\n                (0, $e0900798b6cc045b$export$af88d00dbe7f521).debug(\"[Pipecat Client] Unrecognized message type\", ev.type);\n                break;\n        }\n    }\n}\n$364c127d152b1085$var$__decorate([\n    (0, $c68ef2498d1a7177$export$f1586721024c4dab)\n], $364c127d152b1085$export$8f7f86a77535f7a3.prototype, \"sendClientMessage\", null);\n$364c127d152b1085$var$__decorate([\n    (0, $c68ef2498d1a7177$export$f1586721024c4dab)\n], $364c127d152b1085$export$8f7f86a77535f7a3.prototype, \"sendClientRequest\", null);\n$364c127d152b1085$var$__decorate([\n    (0, $c68ef2498d1a7177$export$f1586721024c4dab)\n], $364c127d152b1085$export$8f7f86a77535f7a3.prototype, \"appendToContext\", null);\n$364c127d152b1085$var$__decorate([\n    (0, $c68ef2498d1a7177$export$f1586721024c4dab)\n], $364c127d152b1085$export$8f7f86a77535f7a3.prototype, \"disconnectBot\", null);\n\n\n\n\n\n$parcel$exportWildcard($05fa7b586184a19c$exports, $364c127d152b1085$exports);\n$parcel$exportWildcard($05fa7b586184a19c$exports, $769bb602511974a1$exports);\n$parcel$exportWildcard($05fa7b586184a19c$exports, $e0900798b6cc045b$exports);\n$parcel$exportWildcard($05fa7b586184a19c$exports, $7ef5cee66c377f4d$exports);\n\n\n\n\n\n\n//# sourceMappingURL=index.module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BwaXBlY2F0LWFpL2NsaWVudC1qcy9kaXN0L2luZGV4Lm1vZHVsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW1DO0FBQ0U7QUFDRjs7O0FBR25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0JBQStCLHFEQUFxRDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDJOQUEyTixzRkFBc0Ysa0VBQWtFLDhMQUE4TCxXQUFXLHFEQUFxRCxzQkFBc0IsMFRBQTBULG1CQUFtQix1SkFBdUo7OztBQUdwcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsU0FBUyxlQUFlLGVBQWUsUUFBUSxPQUFPO0FBQzNFLDZCQUE2QixRQUFRLG1CQUFtQixRQUFRLEVBQUUsZUFBZSxRQUFRLE9BQU87QUFDaEc7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnREFBZ0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUpBQXVKO0FBQ3ZKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1IQUFtSCxhQUFhO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTXNsQztBQUN0bEMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L25vZGVfbW9kdWxlcy9AcGlwZWNhdC1haS9jbGllbnQtanMvZGlzdC9pbmRleC5tb2R1bGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICRnSDJXSiRldmVudHMgZnJvbSBcImV2ZW50c1wiO1xuaW1wb3J0IHt2NCBhcyAkZ0gyV0okdjR9IGZyb20gXCJ1dWlkXCI7XG5pbXBvcnQgJGdIMldKJGJvd3NlciBmcm9tIFwiYm93c2VyXCI7XG5cblxuZnVuY3Rpb24gJHBhcmNlbCRleHBvcnRXaWxkY2FyZChkZXN0LCBzb3VyY2UpIHtcbiAgT2JqZWN0LmtleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmIChrZXkgPT09ICdkZWZhdWx0JyB8fCBrZXkgPT09ICdfX2VzTW9kdWxlJyB8fCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGVzdCwga2V5KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkZXN0LCBrZXksIHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gZGVzdDtcbn1cblxuZnVuY3Rpb24gJHBhcmNlbCRpbnRlcm9wRGVmYXVsdChhKSB7XG4gIHJldHVybiBhICYmIGEuX19lc01vZHVsZSA/IGEuZGVmYXVsdCA6IGE7XG59XG5cbmZ1bmN0aW9uICRwYXJjZWwkZXhwb3J0KGUsIG4sIHYsIHMpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIG4sIHtnZXQ6IHYsIHNldDogcywgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSk7XG59XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAyNCwgRGFpbHkuXG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0yLUNsYXVzZVxuICovIHZhciAkMDVmYTdiNTg2MTg0YTE5YyRleHBvcnRzID0ge307XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAyNCwgRGFpbHkuXG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0yLUNsYXVzZVxuICovIHZhciAkMzY0YzEyN2QxNTJiMTA4NSRleHBvcnRzID0ge307XG5cbiRwYXJjZWwkZXhwb3J0KCQzNjRjMTI3ZDE1MmIxMDg1JGV4cG9ydHMsIFwiUGlwZWNhdENsaWVudFwiLCAoKSA9PiAkMzY0YzEyN2QxNTJiMTA4NSRleHBvcnQkOGY3Zjg2YTc3NTM1ZjdhMyk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAyNCwgRGFpbHkuXG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0yLUNsYXVzZVxuICovIFxudmFyICRlM2JhZDljYzI1ZTMyN2Y3JGV4cG9ydHMgPSB7fTtcbiRlM2JhZDljYzI1ZTMyN2Y3JGV4cG9ydHMgPSBKU09OLnBhcnNlKFwie1xcXCJuYW1lXFxcIjpcXFwiQHBpcGVjYXQtYWkvY2xpZW50LWpzXFxcIixcXFwidmVyc2lvblxcXCI6XFxcIjEuMC4wXFxcIixcXFwibGljZW5zZVxcXCI6XFxcIkJTRC0yLUNsYXVzZVxcXCIsXFxcIm1haW5cXFwiOlxcXCJkaXN0L2luZGV4LmpzXFxcIixcXFwibW9kdWxlXFxcIjpcXFwiZGlzdC9pbmRleC5tb2R1bGUuanNcXFwiLFxcXCJ0eXBlc1xcXCI6XFxcImRpc3QvaW5kZXguZC50c1xcXCIsXFxcInNvdXJjZVxcXCI6XFxcImluZGV4LnRzXFxcIixcXFwicmVwb3NpdG9yeVxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwiZ2l0XFxcIixcXFwidXJsXFxcIjpcXFwiZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS9waXBlY2F0LWFpL3BpcGVjYXQtY2xpZW50LXdlYi5naXRcXFwifSxcXFwiZmlsZXNcXFwiOltcXFwiZGlzdFxcXCIsXFxcInBhY2thZ2UuanNvblxcXCIsXFxcIlJFQURNRS5tZFxcXCJdLFxcXCJzY3JpcHRzXFxcIjp7XFxcImJ1aWxkXFxcIjpcXFwiamVzdCAtLXNpbGVudCAtLXBhc3NXaXRoTm9UZXN0cyAmJiBwYXJjZWwgYnVpbGQgLS1uby1jYWNoZVxcXCIsXFxcImRldlxcXCI6XFxcInBhcmNlbCB3YXRjaFxcXCIsXFxcImxpbnRcXFwiOlxcXCJlc2xpbnQgLiAtLXJlcG9ydC11bnVzZWQtZGlzYWJsZS1kaXJlY3RpdmVzIC0tbWF4LXdhcm5pbmdzIDBcXFwiLFxcXCJ0ZXN0XFxcIjpcXFwiamVzdFxcXCJ9LFxcXCJqZXN0XFxcIjp7XFxcInByZXNldFxcXCI6XFxcInRzLWplc3RcXFwiLFxcXCJ0ZXN0RW52aXJvbm1lbnRcXFwiOlxcXCJqc2RvbVxcXCJ9LFxcXCJkZXZEZXBlbmRlbmNpZXNcXFwiOntcXFwiQGplc3QvZ2xvYmFsc1xcXCI6XFxcIl4yOS43LjBcXFwiLFxcXCJAdHlwZXMvY2xvbmUtZGVlcFxcXCI6XFxcIl40LjAuNFxcXCIsXFxcIkB0eXBlcy9qZXN0XFxcIjpcXFwiXjI5LjUuMTJcXFwiLFxcXCJAdHlwZXMvdXVpZFxcXCI6XFxcIl4xMC4wLjBcXFwiLFxcXCJlc2xpbnRcXFwiOlxcXCJeOS4xMS4xXFxcIixcXFwiZXNsaW50LWNvbmZpZy1wcmV0dGllclxcXCI6XFxcIl45LjEuMFxcXCIsXFxcImVzbGludC1wbHVnaW4tc2ltcGxlLWltcG9ydC1zb3J0XFxcIjpcXFwiXjEyLjEuMVxcXCIsXFxcImplc3RcXFwiOlxcXCJeMjkuNy4wXFxcIixcXFwiamVzdC1lbnZpcm9ubWVudC1qc2RvbVxcXCI6XFxcIl4zMC4wLjJcXFwiLFxcXCJ0cy1qZXN0XFxcIjpcXFwiXjI5LjIuNVxcXCJ9LFxcXCJkZXBlbmRlbmNpZXNcXFwiOntcXFwiQHR5cGVzL2V2ZW50c1xcXCI6XFxcIl4zLjAuM1xcXCIsXFxcImJvd3NlclxcXCI6XFxcIl4yLjExLjBcXFwiLFxcXCJjbG9uZS1kZWVwXFxcIjpcXFwiXjQuMC4xXFxcIixcXFwiZXZlbnRzXFxcIjpcXFwiXjMuMy4wXFxcIixcXFwidHlwZWQtZW1pdHRlclxcXCI6XFxcIl4yLjEuMFxcXCIsXFxcInV1aWRcXFwiOlxcXCJeMTAuMC4wXFxcIn19XCIpO1xuXG5cbnZhciAkZmMzZjQwOGJiMGIxZjkyMSRleHBvcnRzID0ge307XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAyNCwgRGFpbHkuXG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0yLUNsYXVzZVxuICovIHZhciAkNjM5NjMzMzEyNmRhMGU3NiRleHBvcnRzID0ge307XG5cblxudmFyICRkYjYzOTFkYzdkNzU3NTc3JGV4cG9ydHMgPSB7fTtcblxuJHBhcmNlbCRleHBvcnQoJGRiNjM5MWRjN2Q3NTc1NzckZXhwb3J0cywgXCJSVFZJRXJyb3JcIiwgKCkgPT4gJGRiNjM5MWRjN2Q3NTc1NzckZXhwb3J0JDU5YjQ3ODZmMzMzYWFjMDIpO1xuJHBhcmNlbCRleHBvcnQoJGRiNjM5MWRjN2Q3NTc1NzckZXhwb3J0cywgXCJDb25uZWN0aW9uVGltZW91dEVycm9yXCIsICgpID0+ICRkYjYzOTFkYzdkNzU3NTc3JGV4cG9ydCRjNjc5OTJmYTY4NGE4MWE2KTtcbiRwYXJjZWwkZXhwb3J0KCRkYjYzOTFkYzdkNzU3NTc3JGV4cG9ydHMsIFwiU3RhcnRCb3RFcnJvclwiLCAoKSA9PiAkZGI2MzkxZGM3ZDc1NzU3NyRleHBvcnQkZTc1NDRhYjgxMjIzOGE2MSk7XG4kcGFyY2VsJGV4cG9ydCgkZGI2MzkxZGM3ZDc1NzU3NyRleHBvcnRzLCBcIlRyYW5zcG9ydFN0YXJ0RXJyb3JcIiwgKCkgPT4gJGRiNjM5MWRjN2Q3NTc1NzckZXhwb3J0JGUwNjI0YTUxMWEyYzRlOSk7XG4kcGFyY2VsJGV4cG9ydCgkZGI2MzkxZGM3ZDc1NzU3NyRleHBvcnRzLCBcIkJvdE5vdFJlYWR5RXJyb3JcIiwgKCkgPT4gJGRiNjM5MWRjN2Q3NTc1NzckZXhwb3J0JDg4NWZiOTZiODUwZThmYmIpO1xuJHBhcmNlbCRleHBvcnQoJGRiNjM5MWRjN2Q3NTc1NzckZXhwb3J0cywgXCJVbnN1cHBvcnRlZEZlYXR1cmVFcnJvclwiLCAoKSA9PiAkZGI2MzkxZGM3ZDc1NzU3NyRleHBvcnQkYmQwODIwZWI4NDQ0ZmNkOSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAyNCwgRGFpbHkuXG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0yLUNsYXVzZVxuICovIGNsYXNzICRkYjYzOTFkYzdkNzU3NTc3JGV4cG9ydCQ1OWI0Nzg2ZjMzM2FhYzAyIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXR1cyl7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB9XG59XG5jbGFzcyAkZGI2MzkxZGM3ZDc1NzU3NyRleHBvcnQkYzY3OTkyZmE2ODRhODFhNiBleHRlbmRzICRkYjYzOTFkYzdkNzU3NTc3JGV4cG9ydCQ1OWI0Nzg2ZjMzM2FhYzAyIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKXtcbiAgICAgICAgc3VwZXIobWVzc2FnZSA/PyBcIkJvdCBkaWQgbm90IGVudGVyIHJlYWR5IHN0YXRlIHdpdGhpbiB0aGUgc3BlY2lmaWVkIHRpbWVvdXQgcGVyaW9kLlwiKTtcbiAgICB9XG59XG5jbGFzcyAkZGI2MzkxZGM3ZDc1NzU3NyRleHBvcnQkZTc1NDRhYjgxMjIzOGE2MSBleHRlbmRzICRkYjYzOTFkYzdkNzU3NTc3JGV4cG9ydCQ1OWI0Nzg2ZjMzM2FhYzAyIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBzdGF0dXMpe1xuICAgICAgICBzdXBlcihtZXNzYWdlID8/IGBGYWlsZWQgdG8gY29ubmVjdCAvIGludmFsaWQgYXV0aCBidW5kbGUgZnJvbSBiYXNlIHVybGAsIHN0YXR1cyA/PyA1MDApO1xuICAgICAgICB0aGlzLmVycm9yID0gXCJpbnZhbGlkLXJlcXVlc3QtZXJyb3JcIjtcbiAgICB9XG59XG5jbGFzcyAkZGI2MzkxZGM3ZDc1NzU3NyRleHBvcnQkZTA2MjRhNTExYTJjNGU5IGV4dGVuZHMgJGRiNjM5MWRjN2Q3NTc1NzckZXhwb3J0JDU5YjQ3ODZmMzMzYWFjMDIge1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2Upe1xuICAgICAgICBzdXBlcihtZXNzYWdlID8/IFwiVW5hYmxlIHRvIGNvbm5lY3QgdG8gdHJhbnNwb3J0XCIpO1xuICAgIH1cbn1cbmNsYXNzICRkYjYzOTFkYzdkNzU3NTc3JGV4cG9ydCQ4ODVmYjk2Yjg1MGU4ZmJiIGV4dGVuZHMgJGRiNjM5MWRjN2Q3NTc1NzckZXhwb3J0JDU5YjQ3ODZmMzMzYWFjMDIge1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2Upe1xuICAgICAgICBzdXBlcihtZXNzYWdlID8/IFwiQXR0ZW1wdCB0byBjYWxsIGFjdGlvbiBvbiB0cmFuc3BvcnQgd2hlbiBub3QgaW4gJ3JlYWR5JyBzdGF0ZS5cIik7XG4gICAgfVxufVxuY2xhc3MgJGRiNjM5MWRjN2Q3NTc1NzckZXhwb3J0JGJkMDgyMGViODQ0NGZjZDkgZXh0ZW5kcyAkZGI2MzkxZGM3ZDc1NzU3NyRleHBvcnQkNTliNDc4NmYzMzNhYWMwMiB7XG4gICAgY29uc3RydWN0b3IoZmVhdHVyZSwgc291cmNlLCBtZXNzYWdlKXtcbiAgICAgICAgbGV0IG1zZyA9IGAke2ZlYXR1cmV9IG5vdCBzdXBwb3J0ZWQke21lc3NhZ2UgPyBgOiAke21lc3NhZ2V9YCA6IFwiXCJ9YDtcbiAgICAgICAgaWYgKHNvdXJjZSkgbXNnID0gYCR7c291cmNlfSBkb2VzIG5vdCBzdXBwb3J0ICR7ZmVhdHVyZX0ke21lc3NhZ2UgPyBgOiAke21lc3NhZ2V9YCA6IFwiXCJ9YDtcbiAgICAgICAgc3VwZXIobXNnKTtcbiAgICAgICAgdGhpcy5mZWF0dXJlID0gZmVhdHVyZTtcbiAgICB9XG59XG5cblxudmFyICRjMWI0ZGE0YWY1NGY0ZmExJGV4cG9ydHMgPSB7fTtcblxuJHBhcmNlbCRleHBvcnQoJGMxYjRkYTRhZjU0ZjRmYTEkZXhwb3J0cywgXCJSVFZJRXZlbnRcIiwgKCkgPT4gJGMxYjRkYTRhZjU0ZjRmYTEkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjQsIERhaWx5LlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMi1DbGF1c2VcbiAqLyB2YXIgJGMxYjRkYTRhZjU0ZjRmYTEkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2I7XG4oZnVuY3Rpb24oUlRWSUV2ZW50KSB7XG4gICAgLyoqIGxvY2FsIGNvbm5lY3Rpb24gc3RhdGUgZXZlbnRzICovIFJUVklFdmVudFtcIkNvbm5lY3RlZFwiXSA9IFwiY29ubmVjdGVkXCI7XG4gICAgUlRWSUV2ZW50W1wiRGlzY29ubmVjdGVkXCJdID0gXCJkaXNjb25uZWN0ZWRcIjtcbiAgICBSVFZJRXZlbnRbXCJUcmFuc3BvcnRTdGF0ZUNoYW5nZWRcIl0gPSBcInRyYW5zcG9ydFN0YXRlQ2hhbmdlZFwiO1xuICAgIC8qKiByZW1vdGUgY29ubmVjdGlvbiBzdGF0ZSBldmVudHMgKi8gUlRWSUV2ZW50W1wiQm90Q29ubmVjdGVkXCJdID0gXCJib3RDb25uZWN0ZWRcIjtcbiAgICBSVFZJRXZlbnRbXCJCb3RSZWFkeVwiXSA9IFwiYm90UmVhZHlcIjtcbiAgICBSVFZJRXZlbnRbXCJCb3REaXNjb25uZWN0ZWRcIl0gPSBcImJvdERpc2Nvbm5lY3RlZFwiO1xuICAgIFJUVklFdmVudFtcIkVycm9yXCJdID0gXCJlcnJvclwiO1xuICAgIC8qKiBzZXJ2ZXIgbWVzc2FnaW5nICovIFJUVklFdmVudFtcIlNlcnZlck1lc3NhZ2VcIl0gPSBcInNlcnZlck1lc3NhZ2VcIjtcbiAgICBSVFZJRXZlbnRbXCJTZXJ2ZXJSZXNwb25zZVwiXSA9IFwic2VydmVyUmVzcG9uc2VcIjtcbiAgICBSVFZJRXZlbnRbXCJNZXNzYWdlRXJyb3JcIl0gPSBcIm1lc3NhZ2VFcnJvclwiO1xuICAgIC8qKiBzZXJ2aWNlIGV2ZW50cyAqLyBSVFZJRXZlbnRbXCJNZXRyaWNzXCJdID0gXCJtZXRyaWNzXCI7XG4gICAgLy8gdmFkIGV2ZW50c1xuICAgIFJUVklFdmVudFtcIkJvdFN0YXJ0ZWRTcGVha2luZ1wiXSA9IFwiYm90U3RhcnRlZFNwZWFraW5nXCI7XG4gICAgUlRWSUV2ZW50W1wiQm90U3RvcHBlZFNwZWFraW5nXCJdID0gXCJib3RTdG9wcGVkU3BlYWtpbmdcIjtcbiAgICBSVFZJRXZlbnRbXCJVc2VyU3RhcnRlZFNwZWFraW5nXCJdID0gXCJ1c2VyU3RhcnRlZFNwZWFraW5nXCI7XG4gICAgUlRWSUV2ZW50W1wiVXNlclN0b3BwZWRTcGVha2luZ1wiXSA9IFwidXNlclN0b3BwZWRTcGVha2luZ1wiO1xuICAgIC8vIHN0dCBldmVudHNcbiAgICBSVFZJRXZlbnRbXCJVc2VyVHJhbnNjcmlwdFwiXSA9IFwidXNlclRyYW5zY3JpcHRcIjtcbiAgICBSVFZJRXZlbnRbXCJCb3RUcmFuc2NyaXB0XCJdID0gXCJib3RUcmFuc2NyaXB0XCI7XG4gICAgLy8gbGxtIGV2ZW50c1xuICAgIFJUVklFdmVudFtcIkJvdExsbVRleHRcIl0gPSBcImJvdExsbVRleHRcIjtcbiAgICBSVFZJRXZlbnRbXCJCb3RMbG1TdGFydGVkXCJdID0gXCJib3RMbG1TdGFydGVkXCI7XG4gICAgUlRWSUV2ZW50W1wiQm90TGxtU3RvcHBlZFwiXSA9IFwiYm90TGxtU3RvcHBlZFwiO1xuICAgIFJUVklFdmVudFtcIkxMTUZ1bmN0aW9uQ2FsbFwiXSA9IFwibGxtRnVuY3Rpb25DYWxsXCI7XG4gICAgUlRWSUV2ZW50W1wiQm90TGxtU2VhcmNoUmVzcG9uc2VcIl0gPSBcImJvdExsbVNlYXJjaFJlc3BvbnNlXCI7XG4gICAgLy8gdHRzIGV2ZW50c1xuICAgIFJUVklFdmVudFtcIkJvdFR0c1RleHRcIl0gPSBcImJvdFR0c1RleHRcIjtcbiAgICBSVFZJRXZlbnRbXCJCb3RUdHNTdGFydGVkXCJdID0gXCJib3RUdHNTdGFydGVkXCI7XG4gICAgUlRWSUV2ZW50W1wiQm90VHRzU3RvcHBlZFwiXSA9IFwiYm90VHRzU3RvcHBlZFwiO1xuICAgIC8qKiBwYXJ0aWNpcGFudCBldmVudHMgKi8gUlRWSUV2ZW50W1wiUGFydGljaXBhbnRDb25uZWN0ZWRcIl0gPSBcInBhcnRpY2lwYW50Q29ubmVjdGVkXCI7XG4gICAgUlRWSUV2ZW50W1wiUGFydGljaXBhbnRMZWZ0XCJdID0gXCJwYXJ0aWNpcGFudExlZnRcIjtcbiAgICAvKiogbWVkaWEgZXZlbnRzICovIFJUVklFdmVudFtcIlRyYWNrU3RhcnRlZFwiXSA9IFwidHJhY2tTdGFydGVkXCI7XG4gICAgUlRWSUV2ZW50W1wiVHJhY2tTdG9wcGVkXCJdID0gXCJ0cmFja1N0b3BwZWRcIjtcbiAgICBSVFZJRXZlbnRbXCJTY3JlZW5UcmFja1N0YXJ0ZWRcIl0gPSBcInNjcmVlblRyYWNrU3RhcnRlZFwiO1xuICAgIFJUVklFdmVudFtcIlNjcmVlblRyYWNrU3RvcHBlZFwiXSA9IFwic2NyZWVuVHJhY2tTdG9wcGVkXCI7XG4gICAgUlRWSUV2ZW50W1wiU2NyZWVuU2hhcmVFcnJvclwiXSA9IFwic2NyZWVuU2hhcmVFcnJvclwiO1xuICAgIFJUVklFdmVudFtcIkxvY2FsQXVkaW9MZXZlbFwiXSA9IFwibG9jYWxBdWRpb0xldmVsXCI7XG4gICAgUlRWSUV2ZW50W1wiUmVtb3RlQXVkaW9MZXZlbFwiXSA9IFwicmVtb3RlQXVkaW9MZXZlbFwiO1xuICAgIC8qKiBtZWRpYSBkZXZpY2UgZXZlbnRzICovIFJUVklFdmVudFtcIkF2YWlsYWJsZUNhbXNVcGRhdGVkXCJdID0gXCJhdmFpbGFibGVDYW1zVXBkYXRlZFwiO1xuICAgIFJUVklFdmVudFtcIkF2YWlsYWJsZU1pY3NVcGRhdGVkXCJdID0gXCJhdmFpbGFibGVNaWNzVXBkYXRlZFwiO1xuICAgIFJUVklFdmVudFtcIkF2YWlsYWJsZVNwZWFrZXJzVXBkYXRlZFwiXSA9IFwiYXZhaWxhYmxlU3BlYWtlcnNVcGRhdGVkXCI7XG4gICAgUlRWSUV2ZW50W1wiQ2FtVXBkYXRlZFwiXSA9IFwiY2FtVXBkYXRlZFwiO1xuICAgIFJUVklFdmVudFtcIk1pY1VwZGF0ZWRcIl0gPSBcIm1pY1VwZGF0ZWRcIjtcbiAgICBSVFZJRXZlbnRbXCJTcGVha2VyVXBkYXRlZFwiXSA9IFwic3BlYWtlclVwZGF0ZWRcIjtcbn0pKCRjMWI0ZGE0YWY1NGY0ZmExJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiIHx8ICgkYzFiNGRhNGFmNTRmNGZhMSRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYiA9IHt9KSk7XG5cblxudmFyICRjMGQxMGM0NjkwOTY5OTk5JGV4cG9ydHMgPSB7fTtcblxuJHBhcmNlbCRleHBvcnQoJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0cywgXCJSVFZJX1BST1RPQ09MX1ZFUlNJT05cIiwgKCkgPT4gJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDdiZGFmMGUwZDY2MWE4ZjUpO1xuJHBhcmNlbCRleHBvcnQoJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0cywgXCJSVFZJX01FU1NBR0VfTEFCRUxcIiwgKCkgPT4gJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDg4MmIxM2M3ZmRhMzM4ZjUpO1xuJHBhcmNlbCRleHBvcnQoJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0cywgXCJSVFZJTWVzc2FnZVR5cGVcIiwgKCkgPT4gJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApO1xuJHBhcmNlbCRleHBvcnQoJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0cywgXCJzZXRBYm91dENsaWVudFwiLCAoKSA9PiAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkZTQwMzZmOWI4ZGRiNzM3OSk7XG4kcGFyY2VsJGV4cG9ydCgkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnRzLCBcIlJUVklNZXNzYWdlXCIsICgpID0+ICRjMGQxMGM0NjkwOTY5OTk5JGV4cG9ydCQ2OWFhOWFiMDMzNGIyMTIpO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjQsIERhaWx5LlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMi1DbGF1c2VcbiAqLyBcblxuY29uc3QgJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDdiZGFmMGUwZDY2MWE4ZjUgPSBcIjEuMC4wXCI7XG5jb25zdCAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkODgyYjEzYzdmZGEzMzhmNSA9IFwicnR2aS1haVwiO1xudmFyICRjMGQxMGM0NjkwOTY5OTk5JGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwO1xuKGZ1bmN0aW9uKFJUVklNZXNzYWdlVHlwZSkge1xuICAgIC8qKiBPdXRib3VuZCBNZXNzYWdlcyAqLyBSVFZJTWVzc2FnZVR5cGVbXCJDTElFTlRfUkVBRFlcIl0gPSBcImNsaWVudC1yZWFkeVwiO1xuICAgIFJUVklNZXNzYWdlVHlwZVtcIkRJU0NPTk5FQ1RfQk9UXCJdID0gXCJkaXNjb25uZWN0LWJvdFwiO1xuICAgIC8vIENsaWVudC10by1zZXJ2ZXIgbWVzc2FnZXNcbiAgICBSVFZJTWVzc2FnZVR5cGVbXCJDTElFTlRfTUVTU0FHRVwiXSA9IFwiY2xpZW50LW1lc3NhZ2VcIjtcbiAgICBSVFZJTWVzc2FnZVR5cGVbXCJBUFBFTkRfVE9fQ09OVEVYVFwiXSA9IFwiYXBwZW5kLXRvLWNvbnRleHRcIjtcbiAgICAvKipcbiAgICAgKiBJbmJvdW5kIE1lc3NhZ2VzXG4gICAgICogTWVzc2FnZXMgdGhlIHNlcnZlci1zaWRlIGNsaWVudCBzZW5kcyB0byBvdXIgY2xpZW50LXNpZGUgY2xpZW50IHJlZ2FyZGluZ1xuICAgICAqIGl0cyBzdGF0ZSBvciBvdGhlciBub24tc2VydmljZS1zcGVjaWZpYyBtZXNzYWdpbmcuXG4gICAgICovIFJUVklNZXNzYWdlVHlwZVtcIkJPVF9SRUFEWVwiXSA9IFwiYm90LXJlYWR5XCI7XG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiRVJST1JcIl0gPSBcImVycm9yXCI7XG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiTUVUUklDU1wiXSA9IFwibWV0cmljc1wiO1xuICAgIFJUVklNZXNzYWdlVHlwZVtcIlNFUlZFUl9NRVNTQUdFXCJdID0gXCJzZXJ2ZXItbWVzc2FnZVwiO1xuICAgIFJUVklNZXNzYWdlVHlwZVtcIlNFUlZFUl9SRVNQT05TRVwiXSA9IFwic2VydmVyLXJlc3BvbnNlXCI7XG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiRVJST1JfUkVTUE9OU0VcIl0gPSBcImVycm9yLXJlc3BvbnNlXCI7XG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiQVBQRU5EX1RPX0NPTlRFWFRfUkVTVUxUXCJdID0gXCJhcHBlbmQtdG8tY29udGV4dC1yZXN1bHRcIjtcbiAgICAvKiogVHJhbnNjcmlwdGlvbiBNZXNzYWdlcyAqLyBSVFZJTWVzc2FnZVR5cGVbXCJVU0VSX1RSQU5TQ1JJUFRJT05cIl0gPSBcInVzZXItdHJhbnNjcmlwdGlvblwiO1xuICAgIFJUVklNZXNzYWdlVHlwZVtcIkJPVF9UUkFOU0NSSVBUSU9OXCJdID0gXCJib3QtdHJhbnNjcmlwdGlvblwiO1xuICAgIFJUVklNZXNzYWdlVHlwZVtcIlVTRVJfU1RBUlRFRF9TUEVBS0lOR1wiXSA9IFwidXNlci1zdGFydGVkLXNwZWFraW5nXCI7XG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiVVNFUl9TVE9QUEVEX1NQRUFLSU5HXCJdID0gXCJ1c2VyLXN0b3BwZWQtc3BlYWtpbmdcIjtcbiAgICBSVFZJTWVzc2FnZVR5cGVbXCJCT1RfU1RBUlRFRF9TUEVBS0lOR1wiXSA9IFwiYm90LXN0YXJ0ZWQtc3BlYWtpbmdcIjtcbiAgICBSVFZJTWVzc2FnZVR5cGVbXCJCT1RfU1RPUFBFRF9TUEVBS0lOR1wiXSA9IFwiYm90LXN0b3BwZWQtc3BlYWtpbmdcIjtcbiAgICAvKiogTExNIE1lc3NhZ2VzICovIFJUVklNZXNzYWdlVHlwZVtcIlVTRVJfTExNX1RFWFRcIl0gPSBcInVzZXItbGxtLXRleHRcIjtcbiAgICBSVFZJTWVzc2FnZVR5cGVbXCJCT1RfTExNX1RFWFRcIl0gPSBcImJvdC1sbG0tdGV4dFwiO1xuICAgIFJUVklNZXNzYWdlVHlwZVtcIkJPVF9MTE1fU1RBUlRFRFwiXSA9IFwiYm90LWxsbS1zdGFydGVkXCI7XG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiQk9UX0xMTV9TVE9QUEVEXCJdID0gXCJib3QtbGxtLXN0b3BwZWRcIjtcbiAgICAvLyBGdW5jdGlvbiBjYWxsaW5nXG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiTExNX0ZVTkNUSU9OX0NBTExcIl0gPSBcImxsbS1mdW5jdGlvbi1jYWxsXCI7XG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiTExNX0ZVTkNUSU9OX0NBTExfUkVTVUxUXCJdID0gXCJsbG0tZnVuY3Rpb24tY2FsbC1yZXN1bHRcIjtcbiAgICBSVFZJTWVzc2FnZVR5cGVbXCJCT1RfTExNX1NFQVJDSF9SRVNQT05TRVwiXSA9IFwiYm90LWxsbS1zZWFyY2gtcmVzcG9uc2VcIjtcbiAgICAvKiogVFRTIE1lc3NhZ2VzICovIFJUVklNZXNzYWdlVHlwZVtcIkJPVF9UVFNfVEVYVFwiXSA9IFwiYm90LXR0cy10ZXh0XCI7XG4gICAgUlRWSU1lc3NhZ2VUeXBlW1wiQk9UX1RUU19TVEFSVEVEXCJdID0gXCJib3QtdHRzLXN0YXJ0ZWRcIjtcbiAgICBSVFZJTWVzc2FnZVR5cGVbXCJCT1RfVFRTX1NUT1BQRURcIl0gPSBcImJvdC10dHMtc3RvcHBlZFwiO1xufSkoJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDAgfHwgKCRjMGQxMGM0NjkwOTY5OTk5JGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwID0ge30pKTtcbi8vIC0tLS0tIE1lc3NhZ2UgQ2xhc3Nlc1xubGV0ICRjMGQxMGM0NjkwOTY5OTk5JHZhciRfYWJvdXRDbGllbnQ7XG5mdW5jdGlvbiAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkZTQwMzZmOWI4ZGRiNzM3OShhYm91dCkge1xuICAgIC8vIGFsbG93IGZvciBwYXJ0aWFsIHVwZGF0ZXMgdG8gdGhlIGFib3V0IGRhdGFcbiAgICAvLyB0aGlzIGFsbG93cyB0aGUgY2xpZW50IHRvIHNldCB0aGUgYWJvdXQgZGF0YSBhdCBhbnkgdGltZVxuICAgIC8vIGJlZm9yZSBzZW5kaW5nIHRoZSBgY2xpZW50LXJlYWR5YCBtZXNzYWdlIGFuZCBub3Qgd29ycnkgYWJvdXRcbiAgICAvLyBvdmVyd3JpdGluZyBleGlzdGluZyBkYXRhXG4gICAgaWYgKCRjMGQxMGM0NjkwOTY5OTk5JHZhciRfYWJvdXRDbGllbnQpICRjMGQxMGM0NjkwOTY5OTk5JHZhciRfYWJvdXRDbGllbnQgPSB7XG4gICAgICAgIC4uLiRjMGQxMGM0NjkwOTY5OTk5JHZhciRfYWJvdXRDbGllbnQsXG4gICAgICAgIC4uLmFib3V0XG4gICAgfTtcbiAgICBlbHNlIC8vIGlmIG5vIGFib3V0IGRhdGEgaXMgc2V0LCBzZXQgaXQgdG8gdGhlIHByb3ZpZGVkIHZhbHVlXG4gICAgJGMwZDEwYzQ2OTA5Njk5OTkkdmFyJF9hYm91dENsaWVudCA9IGFib3V0O1xufVxuY2xhc3MgJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDY5YWE5YWIwMzM0YjIxMiB7XG4gICAgY29uc3RydWN0b3IodHlwZSwgZGF0YSwgaWQpe1xuICAgICAgICB0aGlzLmxhYmVsID0gJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDg4MmIxM2M3ZmRhMzM4ZjU7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuaWQgPSBpZCB8fCAoMCwgJGdIMldKJHY0KSgpLnNsaWNlKDAsIDgpO1xuICAgIH1cbiAgICAvLyBPdXRib3VuZCBtZXNzYWdlIHR5cGVzXG4gICAgc3RhdGljIGNsaWVudFJlYWR5KCkge1xuICAgICAgICByZXR1cm4gbmV3ICRjMGQxMGM0NjkwOTY5OTk5JGV4cG9ydCQ2OWFhOWFiMDMzNGIyMTIoJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDAuQ0xJRU5UX1JFQURZLCB7XG4gICAgICAgICAgICB2ZXJzaW9uOiAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkN2JkYWYwZTBkNjYxYThmNSxcbiAgICAgICAgICAgIGFib3V0OiAkYzBkMTBjNDY5MDk2OTk5OSR2YXIkX2Fib3V0Q2xpZW50IHx8IHtcbiAgICAgICAgICAgICAgICBsaWJyYXJ5OiAoMCwgJGUzYmFkOWNjMjVlMzI3ZjckZXhwb3J0cy5uYW1lKSxcbiAgICAgICAgICAgICAgICBsaWJyYXJ5X3ZlcnNpb246ICgwLCAkZTNiYWQ5Y2MyNWUzMjdmNyRleHBvcnRzLnZlcnNpb24pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgZGlzY29ubmVjdEJvdCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkNjlhYTlhYjAzMzRiMjEyKCRjMGQxMGM0NjkwOTY5OTk5JGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwLkRJU0NPTk5FQ1RfQk9ULCB7fSk7XG4gICAgfVxuICAgIHN0YXRpYyBlcnJvcihtZXNzYWdlLCBmYXRhbCA9IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBuZXcgJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDY5YWE5YWIwMzM0YjIxMigkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MC5FUlJPUiwge1xuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgIGZhdGFsOiBmYXRhbFxuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuJHBhcmNlbCRleHBvcnRXaWxkY2FyZCgkZmMzZjQwOGJiMGIxZjkyMSRleHBvcnRzLCAkNjM5NjMzMzEyNmRhMGU3NiRleHBvcnRzKTtcbiRwYXJjZWwkZXhwb3J0V2lsZGNhcmQoJGZjM2Y0MDhiYjBiMWY5MjEkZXhwb3J0cywgJGRiNjM5MWRjN2Q3NTc1NzckZXhwb3J0cyk7XG4kcGFyY2VsJGV4cG9ydFdpbGRjYXJkKCRmYzNmNDA4YmIwYjFmOTIxJGV4cG9ydHMsICRjMWI0ZGE0YWY1NGY0ZmExJGV4cG9ydHMpO1xuJHBhcmNlbCRleHBvcnRXaWxkY2FyZCgkZmMzZjQwOGJiMGIxZjkyMSRleHBvcnRzLCAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnRzKTtcblxuXG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDI0LCBEYWlseS5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTItQ2xhdXNlXG4gKi8gXG5mdW5jdGlvbiAkYzY4ZWYyNDk4ZDFhNzE3NyRleHBvcnQkZjE1ODY3MjEwMjRjNGRhYihfdGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcikge1xuICAgIGNvbnN0IG9yaWdpbmFsTWV0aG9kID0gZGVzY3JpcHRvci52YWx1ZTtcbiAgICBkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gXCJyZWFkeVwiKSByZXR1cm4gb3JpZ2luYWxNZXRob2QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIGVsc2UgdGhyb3cgbmV3ICgwLCAkZGI2MzkxZGM3ZDc1NzU3NyRleHBvcnQkODg1ZmI5NmI4NTBlOGZiYikoYEF0dGVtcHQgdG8gY2FsbCAke3Byb3BlcnR5S2V5LnRvU3RyaW5nKCl9IHdoZW4gdHJhbnNwb3J0IG5vdCBpbiByZWFkeSBzdGF0ZS4gQXdhaXQgY29ubmVjdCgpIGZpcnN0LmApO1xuICAgIH07XG4gICAgcmV0dXJuIGRlc2NyaXB0b3I7XG59XG5mdW5jdGlvbiAkYzY4ZWYyNDk4ZDFhNzE3NyRleHBvcnQkODA4OTk0ZDBkOGM5YWNiMyhzdGF0ZXMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oX3RhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxNZXRob2QgPSBkZXNjcmlwdG9yLnZhbHVlO1xuICAgICAgICBkZXNjcmlwdG9yLmdldCA9IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZXMuaW5jbHVkZXModGhpcy5zdGF0ZSkpIHJldHVybiBvcmlnaW5hbE1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3ICgwLCAkZGI2MzkxZGM3ZDc1NzU3NyRleHBvcnQkODg1ZmI5NmI4NTBlOGZiYikoYEF0dGVtcHQgdG8gY2FsbCAke3Byb3BlcnR5S2V5LnRvU3RyaW5nKCl9IHdoZW4gdHJhbnNwb3J0IG5vdCBpbiAke3N0YXRlc30uYCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgIH07XG59XG5mdW5jdGlvbiAkYzY4ZWYyNDk4ZDFhNzE3NyRleHBvcnQkNWMzNWI0ZmU2ZmE4YzlhNiguLi5zdGF0ZXMpIHtcbiAgICBzdGF0ZXMgPSBbXG4gICAgICAgIFwicmVhZHlcIixcbiAgICAgICAgLi4uc3RhdGVzXG4gICAgXTtcbiAgICByZXR1cm4gZnVuY3Rpb24oX3RhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxHZXR0ZXIgPSBkZXNjcmlwdG9yLmdldDtcbiAgICAgICAgZGVzY3JpcHRvci5nZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZXMuaW5jbHVkZXModGhpcy5zdGF0ZSkpIHJldHVybiBvcmlnaW5hbEdldHRlcj8uYXBwbHkodGhpcyk7XG4gICAgICAgICAgICBlbHNlIHRocm93IG5ldyAoMCwgJGRiNjM5MWRjN2Q3NTc1NzckZXhwb3J0JDg4NWZiOTZiODUwZThmYmIpKGBBdHRlbXB0IHRvIGNhbGwgJHtwcm9wZXJ0eUtleS50b1N0cmluZygpfSB3aGVuIHRyYW5zcG9ydCBub3QgaW4gJHtzdGF0ZXN9LiBBd2FpdCBjb25uZWN0KCkgZmlyc3QuYCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgIH07XG59XG5cblxudmFyICQ3NjliYjYwMjUxMTk3NGExJGV4cG9ydHMgPSB7fTtcblxuJHBhcmNlbCRleHBvcnQoJDc2OWJiNjAyNTExOTc0YTEkZXhwb3J0cywgXCJNZXNzYWdlRGlzcGF0Y2hlclwiLCAoKSA9PiAkNzY5YmI2MDI1MTE5NzRhMSRleHBvcnQkZTlhOTYwNjQ2Y2M0MzJhYSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAyNCwgRGFpbHkuXG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0yLUNsYXVzZVxuICovIFxudmFyICRlMDkwMDc5OGI2Y2MwNDViJGV4cG9ydHMgPSB7fTtcblxuJHBhcmNlbCRleHBvcnQoJGUwOTAwNzk4YjZjYzA0NWIkZXhwb3J0cywgXCJMb2dMZXZlbFwiLCAoKSA9PiAkZTA5MDA3OThiNmNjMDQ1YiRleHBvcnQkMjQzZTYyZDc4ZDNiNTQ0ZCk7XG4kcGFyY2VsJGV4cG9ydCgkZTA5MDA3OThiNmNjMDQ1YiRleHBvcnRzLCBcImxvZ2dlclwiLCAoKSA9PiAkZTA5MDA3OThiNmNjMDQ1YiRleHBvcnQkYWY4OGQwMGRiZTdmNTIxKTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDI0LCBEYWlseS5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTItQ2xhdXNlXG4gKi8gdmFyICRlMDkwMDc5OGI2Y2MwNDViJGV4cG9ydCQyNDNlNjJkNzhkM2I1NDRkO1xuKGZ1bmN0aW9uKExvZ0xldmVsKSB7XG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkVSUk9SXCJdID0gMV0gPSBcIkVSUk9SXCI7XG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJXQVJOXCJdID0gMl0gPSBcIldBUk5cIjtcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIklORk9cIl0gPSAzXSA9IFwiSU5GT1wiO1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiREVCVUdcIl0gPSA0XSA9IFwiREVCVUdcIjtcbn0pKCRlMDkwMDc5OGI2Y2MwNDViJGV4cG9ydCQyNDNlNjJkNzhkM2I1NDRkIHx8ICgkZTA5MDA3OThiNmNjMDQ1YiRleHBvcnQkMjQzZTYyZDc4ZDNiNTQ0ZCA9IHt9KSk7XG5jbGFzcyAkZTA5MDA3OThiNmNjMDQ1YiR2YXIkTG9nZ2VyIHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICB0aGlzLmxldmVsID0gJGUwOTAwNzk4YjZjYzA0NWIkZXhwb3J0JDI0M2U2MmQ3OGQzYjU0NGQuREVCVUc7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCEkZTA5MDA3OThiNmNjMDQ1YiR2YXIkTG9nZ2VyLmluc3RhbmNlKSAkZTA5MDA3OThiNmNjMDQ1YiR2YXIkTG9nZ2VyLmluc3RhbmNlID0gbmV3ICRlMDkwMDc5OGI2Y2MwNDViJHZhciRMb2dnZXIoKTtcbiAgICAgICAgcmV0dXJuICRlMDkwMDc5OGI2Y2MwNDViJHZhciRMb2dnZXIuaW5zdGFuY2U7XG4gICAgfVxuICAgIHNldExldmVsKGxldmVsKSB7XG4gICAgICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcbiAgICB9XG4gICAgZGVidWcoLi4uYXJncykge1xuICAgICAgICBpZiAodGhpcy5sZXZlbCA+PSAkZTA5MDA3OThiNmNjMDQ1YiRleHBvcnQkMjQzZTYyZDc4ZDNiNTQ0ZC5ERUJVRykgY29uc29sZS5kZWJ1ZyguLi5hcmdzKTtcbiAgICB9XG4gICAgaW5mbyguLi5hcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLmxldmVsID49ICRlMDkwMDc5OGI2Y2MwNDViJGV4cG9ydCQyNDNlNjJkNzhkM2I1NDRkLklORk8pIGNvbnNvbGUuaW5mbyguLi5hcmdzKTtcbiAgICB9XG4gICAgd2FybiguLi5hcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLmxldmVsID49ICRlMDkwMDc5OGI2Y2MwNDViJGV4cG9ydCQyNDNlNjJkNzhkM2I1NDRkLldBUk4pIGNvbnNvbGUud2FybiguLi5hcmdzKTtcbiAgICB9XG4gICAgZXJyb3IoLi4uYXJncykge1xuICAgICAgICBpZiAodGhpcy5sZXZlbCA+PSAkZTA5MDA3OThiNmNjMDQ1YiRleHBvcnQkMjQzZTYyZDc4ZDNiNTQ0ZC5FUlJPUikgY29uc29sZS5lcnJvciguLi5hcmdzKTtcbiAgICB9XG59XG5jb25zdCAkZTA5MDA3OThiNmNjMDQ1YiRleHBvcnQkYWY4OGQwMGRiZTdmNTIxID0gJGUwOTAwNzk4YjZjYzA0NWIkdmFyJExvZ2dlci5nZXRJbnN0YW5jZSgpO1xuXG5cbmNsYXNzICQ3NjliYjYwMjUxMTk3NGExJGV4cG9ydCRlOWE5NjA2NDZjYzQzMmFhIHtcbiAgICBjb25zdHJ1Y3RvcihzZW5kTWV0aG9kKXtcbiAgICAgICAgdGhpcy5fcXVldWUgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy5fZ2NJbnRlcnZhbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fcXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5fc2VuZE1ldGhvZCA9IHNlbmRNZXRob2Q7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJRdWV1ZSgpO1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuX2djSW50ZXJ2YWwpO1xuICAgICAgICB0aGlzLl9nY0ludGVydmFsID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBkaXNwYXRjaChtZXNzYWdlX2RhdGEsIHR5cGUgPSAoMCwgJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLkNMSUVOVF9NRVNTQUdFLCB0aW1lb3V0ID0gMTAwMDApIHtcbiAgICAgICAgaWYgKCF0aGlzLl9nY0ludGVydmFsKSAvLyBzdGFydCBnYXJiYWdlIGNvbGxlY3Rpb24gaWYgbm90IGFscmVhZHkgcnVubmluZ1xuICAgICAgICB0aGlzLl9nY0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCk9PntcbiAgICAgICAgICAgIHRoaXMuX2djKCk7XG4gICAgICAgIH0sIDIwMDApOyAvLyBSdW4gZ2FyYmFnZSBjb2xsZWN0aW9uIGV2ZXJ5IDIgc2Vjb25kc1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gbmV3ICgwLCAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkNjlhYTlhYjAzMzRiMjEyKSh0eXBlLCBtZXNzYWdlX2RhdGEpO1xuICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PntcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IHRpbWVvdXQsXG4gICAgICAgICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICByZWplY3Q6IHJlamVjdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAoMCwgJGUwOTAwNzk4YjZjYzA0NWIkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuZGVidWcoXCJbTWVzc2FnZURpc3BhdGNoZXJdIGRpc3BhdGNoXCIsIG1lc3NhZ2UpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fc2VuZE1ldGhvZChtZXNzYWdlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgKDAsICRlMDkwMDc5OGI2Y2MwNDViJGV4cG9ydCRhZjg4ZDAwZGJlN2Y1MjEpLmVycm9yKFwiW01lc3NhZ2VEaXNwYXRjaGVyXSBFcnJvciBzZW5kaW5nIG1lc3NhZ2VcIiwgZSk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZ2MoKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIGNsZWFyUXVldWUoKSB7XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XG4gICAgfVxuICAgIF9yZXNvbHZlUmVqZWN0KG1lc3NhZ2UsIHJlc29sdmUgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IHF1ZXVlZE1lc3NhZ2UgPSB0aGlzLl9xdWV1ZS5maW5kKChtc2cpPT5tc2cubWVzc2FnZS5pZCA9PT0gbWVzc2FnZS5pZCk7XG4gICAgICAgIGlmIChxdWV1ZWRNZXNzYWdlKSB7XG4gICAgICAgICAgICBpZiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICgwLCAkZTA5MDA3OThiNmNjMDQ1YiRleHBvcnQkYWY4OGQwMGRiZTdmNTIxKS5kZWJ1ZyhcIltNZXNzYWdlRGlzcGF0Y2hlcl0gUmVzb2x2ZVwiLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBxdWV1ZWRNZXNzYWdlLnJlc29sdmUobWVzc2FnZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICgwLCAkZTA5MDA3OThiNmNjMDQ1YiRleHBvcnQkYWY4OGQwMGRiZTdmNTIxKS5kZWJ1ZyhcIltNZXNzYWdlRGlzcGF0Y2hlcl0gUmVqZWN0XCIsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHF1ZXVlZE1lc3NhZ2UucmVqZWN0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVtb3ZlIG1lc3NhZ2UgZnJvbSBxdWV1ZVxuICAgICAgICAgICAgdGhpcy5fcXVldWUgPSB0aGlzLl9xdWV1ZS5maWx0ZXIoKG1zZyk9Pm1zZy5tZXNzYWdlLmlkICE9PSBtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICgwLCAkZTA5MDA3OThiNmNjMDQ1YiRleHBvcnQkYWY4OGQwMGRiZTdmNTIxKS5kZWJ1ZyhcIltNZXNzYWdlRGlzcGF0Y2hlcl0gUXVldWVcIiwgdGhpcy5fcXVldWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICByZXNvbHZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc29sdmVSZWplY3QobWVzc2FnZSwgdHJ1ZSk7XG4gICAgfVxuICAgIHJlamVjdChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHZlUmVqZWN0KG1lc3NhZ2UsIGZhbHNlKTtcbiAgICB9XG4gICAgX2djKCkge1xuICAgICAgICBjb25zdCBleHBpcmVkID0gW107XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gdGhpcy5fcXVldWUuZmlsdGVyKChtc2cpPT57XG4gICAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gRGF0ZS5ub3coKSAtIG1zZy50aW1lc3RhbXAgPCBtc2cudGltZW91dDtcbiAgICAgICAgICAgIGlmICghaXNWYWxpZCkgZXhwaXJlZC5wdXNoKG1zZyk7XG4gICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGV4cGlyZWQuZm9yRWFjaCgobXNnKT0+e1xuICAgICAgICAgICAgaWYgKG1zZy5tZXNzYWdlLnR5cGUgPT09ICgwLCAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MCkuQ0xJRU5UX01FU1NBR0UpIG1zZy5yZWplY3QobmV3ICgwLCAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkNjlhYTlhYjAzMzRiMjEyKSgoMCwgJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLkVSUk9SX1JFU1BPTlNFLCB7XG4gICAgICAgICAgICAgICAgZXJyb3I6IFwiVGltZWQgb3V0IHdhaXRpbmcgZm9yIHJlc3BvbnNlXCIsXG4gICAgICAgICAgICAgICAgbXNnVHlwZTogbXNnLm1lc3NhZ2UuZGF0YS50LFxuICAgICAgICAgICAgICAgIGRhdGE6IG1zZy5tZXNzYWdlLmRhdGEuZCxcbiAgICAgICAgICAgICAgICBmYXRhbDogZmFsc2VcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gICAgICAgICgwLCAkZTA5MDA3OThiNmNjMDQ1YiRleHBvcnQkYWY4OGQwMGRiZTdmNTIxKS5kZWJ1ZyhcIltNZXNzYWdlRGlzcGF0Y2hlcl0gR0NcIiwgdGhpcy5fcXVldWUpO1xuICAgIH1cbn1cblxuXG5cblxuXG5mdW5jdGlvbiAkZDBlOTE0NjY3Y2M1MzQ2YiRleHBvcnQkNjQ5YjY0NTY1MzJjMjllMih2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGwgJiYgT2JqZWN0LmtleXModmFsdWUpLmluY2x1ZGVzKFwiZW5kcG9pbnRcIikpIHJldHVybiB0eXBlb2YgdmFsdWVbXCJlbmRwb2ludFwiXSA9PT0gXCJzdHJpbmdcIjtcbiAgICByZXR1cm4gZmFsc2U7XG59XG5hc3luYyBmdW5jdGlvbiAkZDBlOTE0NjY3Y2M1MzQ2YiRleHBvcnQkY2Y0YmQ0NjBiYTQ3YTJmMihjeG5PcHRzLCBhYm9ydENvbnRyb2xsZXIpIHtcbiAgICBpZiAoIWFib3J0Q29udHJvbGxlcikgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGxldCBoYW5kc2hha2VUaW1lb3V0O1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+e1xuICAgICAgICAoYXN5bmMgKCk9PntcbiAgICAgICAgICAgIGlmIChjeG5PcHRzLnRpbWVvdXQpIGhhbmRzaGFrZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGFzeW5jICgpPT57XG4gICAgICAgICAgICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIlRpbWVkIG91dFwiKSk7XG4gICAgICAgICAgICB9LCBjeG5PcHRzLnRpbWVvdXQpO1xuICAgICAgICAgICAgKDAsICRlMDkwMDc5OGI2Y2MwNDViJGV4cG9ydCRhZjg4ZDAwZGJlN2Y1MjEpLmRlYnVnKGBbUGlwZWNhdCBDbGllbnRdIEZldGNoaW5nIGNvbm5lY3Rpb24gcGFyYW1zIGZyb20gJHtjeG5PcHRzLmVuZHBvaW50fWApO1xuICAgICAgICAgICAgZmV0Y2goY3huT3B0cy5lbmRwb2ludCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgbW9kZTogXCJjb3JzXCIsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoe1xuICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgICAgICAgLi4uT2JqZWN0LmZyb21FbnRyaWVzKChjeG5PcHRzLmhlYWRlcnMgPz8gbmV3IEhlYWRlcnMoKSkuZW50cmllcygpKVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGN4bk9wdHMucmVxdWVzdERhdGEpLFxuICAgICAgICAgICAgICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyPy5zaWduYWxcbiAgICAgICAgICAgIH0pLnRoZW4oKHJlcyk9PntcbiAgICAgICAgICAgICAgICAoMCwgJGUwOTAwNzk4YjZjYzA0NWIkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuZGVidWcoYFtQaXBlY2F0IENsaWVudF0gUmVjZWl2ZWQgcmVzcG9uc2UgZnJvbSAke2N4bk9wdHMuZW5kcG9pbnR9YCwgcmVzKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlcy5vaykgdGhyb3cgcmVzO1xuICAgICAgICAgICAgICAgIHJlcy5qc29uKCkudGhlbigoZGF0YSk9PnJlc29sdmUoZGF0YSkpO1xuICAgICAgICAgICAgfSkuY2F0Y2goKGVycik9PntcbiAgICAgICAgICAgICAgICAoMCwgJGUwOTAwNzk4YjZjYzA0NWIkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuZXJyb3IoYFtQaXBlY2F0IENsaWVudF0gRXJyb3IgZmV0Y2hpbmcgY29ubmVjdGlvbiBwYXJhbXM6ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBSZXNwb25zZSkgZXJyLmpzb24oKS50aGVuKChlcnJSZXNwKT0+e1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3ICRkYjYzOTFkYzdkNzU3NTc3JGV4cG9ydCRlNzU0NGFiODEyMjM4YTYxKGVyclJlc3AuaW5mbyA/PyBlcnJSZXNwLmRldGFpbCA/PyBlcnIuc3RhdHVzVGV4dCwgZXJyLnN0YXR1cykpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGVsc2UgcmVqZWN0KG5ldyAkZGI2MzkxZGM3ZDc1NzU3NyRleHBvcnQkZTc1NDRhYjgxMjIzOGE2MSgpKTtcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCk9PntcbiAgICAgICAgICAgICAgICBpZiAoaGFuZHNoYWtlVGltZW91dCkgY2xlYXJUaW1lb3V0KGhhbmRzaGFrZVRpbWVvdXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKCk7XG4gICAgfSk7XG59XG5cblxudmFyICQ3ZWY1Y2VlNjZjMzc3ZjRkJGV4cG9ydHMgPSB7fTtcblxuJHBhcmNlbCRleHBvcnQoJDdlZjVjZWU2NmMzNzdmNGQkZXhwb3J0cywgXCJUcmFuc3BvcnRcIiwgKCkgPT4gJDdlZjVjZWU2NmMzNzdmNGQkZXhwb3J0JDg2NDk1YjA4MWZlZjhlNTIpO1xuJHBhcmNlbCRleHBvcnQoJDdlZjVjZWU2NmMzNzdmNGQkZXhwb3J0cywgXCJUcmFuc3BvcnRXcmFwcGVyXCIsICgpID0+ICQ3ZWY1Y2VlNjZjMzc3ZjRkJGV4cG9ydCQ4MmI2ZWRlMTYwYTY0YTNjKTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDI0LCBEYWlseS5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTItQ2xhdXNlXG4gKi8gXG5jbGFzcyAkN2VmNWNlZTY2YzM3N2Y0ZCRleHBvcnQkODY0OTViMDgxZmVmOGU1MiB7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBcImRpc2Nvbm5lY3RlZFwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFc3RhYmxpc2hlcyBhIGNvbm5lY3Rpb24gd2l0aCB0aGUgcmVtb3RlIHNlcnZlci4gVGhpcyBpcyB0aGUgbWFpbiBlbnRyeVxuICAgICAqIHBvaW50IGZvciB0aGUgdHJhbnNwb3J0IHRvIHN0YXJ0IHNlbmRpbmcgYW5kIHJlY2VpdmluZyBtZWRpYSBhbmQgbWVzc2FnZXMuXG4gICAgICogVGhpcyBpcyBjYWxsZWQgZnJvbSBQaXBlY2F0Q2xpZW50LmNvbm5lY3QoKSBhbmQgc2hvdWxkIG5vdCBiZSBjYWxsZWQgZGlyZWN0bHkuXG4gICAgICogQHBhcmFtIGNvbm5lY3RQYXJhbXMgLSBUaGlzIHR5cGUgd2lsbCB1bHRpbWF0ZWx5IGJlIGRlZm5lZCBieSB0aGUgdHJhbnNwb3J0XG4gICAgICogaW1wbGVtZW50YXRpb24uIEl0IGlzIHVzZWQgdG8gcGFzcyBjb25uZWN0aW9uIHBhcmFtZXRlcnMgdG8gdGhlIHRyYW5zcG9ydC5cbiAgICAgKi8gY29ubmVjdChjb25uZWN0UGFyYW1zKSB7XG4gICAgICAgIHRoaXMuX2Fib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgbGV0IHZhbGlkYXRlZFBhcmFtcyA9IGNvbm5lY3RQYXJhbXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YWxpZGF0ZWRQYXJhbXMgPSB0aGlzLl92YWxpZGF0ZUNvbm5lY3Rpb25QYXJhbXMoY29ubmVjdFBhcmFtcyk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyAoMCwgJGRiNjM5MWRjN2Q3NTc1NzckZXhwb3J0JDU5YjQ3ODZmMzMzYWFjMDIpKGBJbnZhbGlkIGNvbm5lY3Rpb24gcGFyYW1zOiAke2UubWVzc2FnZX0uIFBsZWFzZSBjaGVjayB5b3VyIGNvbm5lY3Rpb24gcGFyYW1zIGFuZCB0cnkgYWdhaW4uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3QodmFsaWRhdGVkUGFyYW1zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdHMgdGhlIHRyYW5zcG9ydCBmcm9tIHRoZSByZW1vdGUgc2VydmVyLiBUaGlzIGlzIGNhbGxlZCBmcm9tXG4gICAgICogUGlwZWNhdENsaWVudC5kaXNjb25uZWN0KCkgYW5kIHNob3VsZCBub3QgYmUgY2FsbGVkIGRpcmVjdGx5LlxuICAgICAqLyBkaXNjb25uZWN0KCkge1xuICAgICAgICBpZiAodGhpcy5fYWJvcnRDb250cm9sbGVyKSB0aGlzLl9hYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc2Nvbm5lY3QoKTtcbiAgICB9XG59XG5jbGFzcyAkN2VmNWNlZTY2YzM3N2Y0ZCRleHBvcnQkODJiNmVkZTE2MGE2NGEzYyB7XG4gICAgY29uc3RydWN0b3IodHJhbnNwb3J0KXtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgICAgICB0aGlzLl9wcm94eSA9IG5ldyBQcm94eSh0aGlzLl90cmFuc3BvcnQsIHtcbiAgICAgICAgICAgIGdldDogKHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpPT57XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXRbcHJvcF0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZXJyTXNnO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2goU3RyaW5nKHByb3ApKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERpc2FibGUgbWV0aG9kcyB0aGF0IG1vZGlmeSB0aGUgbGlmZWN5Y2xlIG9mIHRoZSBjYWxsLiBUaGVzZSBvcGVyYXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG91bGQgYmUgcGVyZm9ybWVkIHZpYSB0aGUgUGlwZWNhdCBjbGllbnQgaW4gb3JkZXIgdG8ga2VlcCBzdGF0ZSBpbiBzeW5jLlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImluaXRpYWxpemVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJNc2cgPSBgRGlyZWN0IGNhbGxzIHRvIGluaXRpYWxpemUoKSBhcmUgZGlzYWJsZWQgYW5kIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgUGlwZWNhdENsaWVudC5gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImluaXREZXZpY2VzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyTXNnID0gYERpcmVjdCBjYWxscyB0byBpbml0RGV2aWNlcygpIGFyZSBkaXNhYmxlZC4gUGxlYXNlIHVzZSB0aGUgUGlwZWNhdENsaWVudC5pbml0RGV2aWNlcygpIHdyYXBwZXIgb3IgbGV0IFBpcGVjYXRDbGllbnQuY29ubmVjdCgpIGNhbGwgaXQgZm9yIHlvdS5gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNlbmRSZWFkeU1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJNc2cgPSBgRGlyZWN0IGNhbGxzIHRvIHNlbmRSZWFkeU1lc3NhZ2UoKSBhcmUgZGlzYWJsZWQgYW5kIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgUGlwZWNhdENsaWVudC5gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbm5lY3RcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJNc2cgPSBgRGlyZWN0IGNhbGxzIHRvIGNvbm5lY3QoKSBhcmUgZGlzYWJsZWQuIFBsZWFzZSB1c2UgdGhlIFBpcGVjYXRDbGllbnQuY29ubmVjdCgpIHdyYXBwZXIuYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkaXNjb25uZWN0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyTXNnID0gYERpcmVjdCBjYWxscyB0byBkaXNjb25uZWN0KCkgYXJlIGRpc2FibGVkLiBQbGVhc2UgdXNlIHRoZSBQaXBlY2F0Q2xpZW50LmRpc2Nvbm5lY3QoKSB3cmFwcGVyLmA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVyck1zZykgcmV0dXJuICgpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yd2FyZCBvdGhlciBtZXRob2QgY2FsbHNcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtZnVuY3Rpb24tdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXSguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRm9yd2FyZCBwcm9wZXJ0eSBhY2Nlc3NcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgcHJveHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm94eTtcbiAgICB9XG59XG5cblxuXG5cbmZ1bmN0aW9uICRkZmQ3NTc3NjBlMzY5MjViJGV4cG9ydCQ3ZWI3YjBhNjQxMDk4ZjMxKCkge1xuICAgIGxldCBhYm91dCA9IHtcbiAgICAgICAgbGlicmFyeTogKDAsICRlM2JhZDljYzI1ZTMyN2Y3JGV4cG9ydHMubmFtZSksXG4gICAgICAgIGxpYnJhcnlfdmVyc2lvbjogKDAsICRlM2JhZDljYzI1ZTMyN2Y3JGV4cG9ydHMudmVyc2lvbiksXG4gICAgICAgIHBsYXRmb3JtX2RldGFpbHM6IHt9XG4gICAgfTtcbiAgICAvLyBUaGlzIHVzZXMgbGVnYWN5IGJyb3dzZXIgdXNlciBhZ2VudCBwYXJzaW5nLCB3aGljaCB3ZSBzdGlsbCBmYWxsXG4gICAgLy8gYmFjayB0byBpZiB0aGUgVXNlciBBZ2VudCBIaW50cyBBUEkgaXMgbm90IGF2YWlsYWJsZVxuICAgIGxldCBuYXZBZ2VudEluZm8gPSBudWxsO1xuICAgIGlmICh3aW5kb3c/Lm5hdmlnYXRvcj8udXNlckFnZW50KSB0cnkge1xuICAgICAgICBuYXZBZ2VudEluZm8gPSAoMCwgJGdIMldKJGJvd3NlcikucGFyc2Uod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICB9IGNhdGNoIChfKSB7XG4gICAgLy8gdm9pZFxuICAgIH1cbiAgICBpZiAobmF2QWdlbnRJbmZvPy5icm93c2VyPy5uYW1lKSBhYm91dC5wbGF0Zm9ybV9kZXRhaWxzLmJyb3dzZXIgPSBuYXZBZ2VudEluZm8uYnJvd3Nlci5uYW1lO1xuICAgIGlmIChuYXZBZ2VudEluZm8/LmJyb3dzZXI/Lm5hbWUgPT09IFwiU2FmYXJpXCIgJiYgIW5hdkFnZW50SW5mby5icm93c2VyLnZlcnNpb24pIGFib3V0LnBsYXRmb3JtX2RldGFpbHMuYnJvd3Nlcl92ZXJzaW9uID0gXCJXZWIgVmlld1wiO1xuICAgIGVsc2UgaWYgKG5hdkFnZW50SW5mbz8uYnJvd3Nlcj8udmVyc2lvbikgYWJvdXQucGxhdGZvcm1fZGV0YWlscy5icm93c2VyX3ZlcnNpb24gPSBuYXZBZ2VudEluZm8uYnJvd3Nlci52ZXJzaW9uO1xuICAgIGlmIChuYXZBZ2VudEluZm8/LnBsYXRmb3JtPy50eXBlKSBhYm91dC5wbGF0Zm9ybV9kZXRhaWxzLnBsYXRmb3JtX3R5cGUgPSBuYXZBZ2VudEluZm8ucGxhdGZvcm0udHlwZTtcbiAgICBpZiAobmF2QWdlbnRJbmZvPy5lbmdpbmU/Lm5hbWUpIGFib3V0LnBsYXRmb3JtX2RldGFpbHMuZW5naW5lID0gbmF2QWdlbnRJbmZvLmVuZ2luZS5uYW1lO1xuICAgIGlmIChuYXZBZ2VudEluZm8/Lm9zKSB7XG4gICAgICAgIGFib3V0LnBsYXRmb3JtID0gbmF2QWdlbnRJbmZvLm9zLm5hbWU7XG4gICAgICAgIGFib3V0LnBsYXRmb3JtX3ZlcnNpb24gPSBuYXZBZ2VudEluZm8ub3MudmVyc2lvbjtcbiAgICB9XG4gICAgcmV0dXJuIGFib3V0O1xufVxuXG5cbnZhciAkMzY0YzEyN2QxNTJiMTA4NSR2YXIkX19kZWNvcmF0ZSA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19kZWNvcmF0ZSB8fCBmdW5jdGlvbihkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvcih2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0paWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmNsYXNzICQzNjRjMTI3ZDE1MmIxMDg1JHZhciRSVFZJRXZlbnRFbWl0dGVyIGV4dGVuZHMgKDAsICRnSDJXSiRldmVudHMpIHtcbn1cbmNsYXNzICQzNjRjMTI3ZDE1MmIxMDg1JGV4cG9ydCQ4ZjdmODZhNzc1MzVmN2EzIGV4dGVuZHMgJDM2NGMxMjdkMTUyYjEwODUkdmFyJFJUVklFdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpe1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9mdW5jdGlvbkNhbGxDYWxsYmFja3MgPSB7fTtcbiAgICAgICAgKDAsICRjMGQxMGM0NjkwOTY5OTk5JGV4cG9ydCRlNDAzNmY5YjhkZGI3Mzc5KSgoMCwgJGRmZDc1Nzc2MGUzNjkyNWIkZXhwb3J0JDdlYjdiMGE2NDEwOThmMzEpKCkpO1xuICAgICAgICB0aGlzLl90cmFuc3BvcnQgPSBvcHRpb25zLnRyYW5zcG9ydDtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0V3JhcHBlciA9IG5ldyAoMCwgJDdlZjVjZWU2NmMzNzdmNGQkZXhwb3J0JDgyYjZlZGUxNjBhNjRhM2MpKHRoaXMuX3RyYW5zcG9ydCk7XG4gICAgICAgIC8vIFdyYXAgdHJhbnNwb3J0IGNhbGxiYWNrcyB3aXRoIGV2ZW50IHRyaWdnZXJzXG4gICAgICAgIC8vIFRoaXMgYWxsb3dzIGZvciBlaXRoZXIgZnVuY3Rpb25hbCBjYWxsYmFja3Mgb3IgLm9uIC8gLm9mZiBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgY29uc3Qgd3JhcHBlZENhbGxiYWNrcyA9IHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMuY2FsbGJhY2tzLFxuICAgICAgICAgICAgb25NZXNzYWdlRXJyb3I6IChtZXNzYWdlKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25NZXNzYWdlRXJyb3I/LihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRjMWI0ZGE0YWY1NGY0ZmExJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5NZXNzYWdlRXJyb3IsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRXJyb3I6IChtZXNzYWdlKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25FcnJvcj8uKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGMxYjRkYTRhZjU0ZjRmYTEkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkVycm9yLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAoMCwgJGUwOTAwNzk4YjZjYzA0NWIkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuZGVidWcoXCJDb3VsZCBub3QgZW1pdCBlcnJvclwiLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IG1lc3NhZ2UuZGF0YTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YT8uZmF0YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgKDAsICRlMDkwMDc5OGI2Y2MwNDViJGV4cG9ydCRhZjg4ZDAwZGJlN2Y1MjEpLmVycm9yKFwiRmF0YWwgZXJyb3IgcmVwb3J0ZWQuIERpc2Nvbm5lY3RpbmcuLi5cIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNvbm5lY3RlZDogKCk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uQ29ubmVjdGVkPy4oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRjMWI0ZGE0YWY1NGY0ZmExJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5Db25uZWN0ZWQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRGlzY29ubmVjdGVkOiAoKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25EaXNjb25uZWN0ZWQ/LigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGMxYjRkYTRhZjU0ZjRmYTEkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkRpc2Nvbm5lY3RlZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25UcmFuc3BvcnRTdGF0ZUNoYW5nZWQ6IChzdGF0ZSk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uVHJhbnNwb3J0U3RhdGVDaGFuZ2VkPy4oc3RhdGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGMxYjRkYTRhZjU0ZjRmYTEkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLlRyYW5zcG9ydFN0YXRlQ2hhbmdlZCwgc3RhdGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUGFydGljaXBhbnRKb2luZWQ6IChwKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25QYXJ0aWNpcGFudEpvaW5lZD8uKHApO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGMxYjRkYTRhZjU0ZjRmYTEkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLlBhcnRpY2lwYW50Q29ubmVjdGVkLCBwKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblBhcnRpY2lwYW50TGVmdDogKHApPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vblBhcnRpY2lwYW50TGVmdD8uKHApO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGMxYjRkYTRhZjU0ZjRmYTEkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLlBhcnRpY2lwYW50TGVmdCwgcCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25UcmFja1N0YXJ0ZWQ6ICh0cmFjaywgcCk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uVHJhY2tTdGFydGVkPy4odHJhY2ssIHApO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGMxYjRkYTRhZjU0ZjRmYTEkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLlRyYWNrU3RhcnRlZCwgdHJhY2ssIHApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uVHJhY2tTdG9wcGVkOiAodHJhY2ssIHApPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vblRyYWNrU3RvcHBlZD8uKHRyYWNrLCBwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRjMWI0ZGE0YWY1NGY0ZmExJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5UcmFja1N0b3BwZWQsIHRyYWNrLCBwKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblNjcmVlblRyYWNrU3RhcnRlZDogKHRyYWNrLCBwKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25TY3JlZW5UcmFja1N0YXJ0ZWQ/Lih0cmFjaywgcCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkYzFiNGRhNGFmNTRmNGZhMSRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuU2NyZWVuVHJhY2tTdGFydGVkLCB0cmFjaywgcCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25TY3JlZW5UcmFja1N0b3BwZWQ6ICh0cmFjaywgcCk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uU2NyZWVuVHJhY2tTdG9wcGVkPy4odHJhY2ssIHApO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGMxYjRkYTRhZjU0ZjRmYTEkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLlNjcmVlblRyYWNrU3RvcHBlZCwgdHJhY2ssIHApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uU2NyZWVuU2hhcmVFcnJvcjogKGVycm9yTWVzc2FnZSk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uU2NyZWVuU2hhcmVFcnJvcj8uKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkYzFiNGRhNGFmNTRmNGZhMSRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuU2NyZWVuU2hhcmVFcnJvciwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkF2YWlsYWJsZUNhbXNVcGRhdGVkOiAoY2Ftcyk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uQXZhaWxhYmxlQ2Ftc1VwZGF0ZWQ/LihjYW1zKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRjMWI0ZGE0YWY1NGY0ZmExJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5BdmFpbGFibGVDYW1zVXBkYXRlZCwgY2Ftcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25BdmFpbGFibGVNaWNzVXBkYXRlZDogKG1pY3MpPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vbkF2YWlsYWJsZU1pY3NVcGRhdGVkPy4obWljcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkYzFiNGRhNGFmNTRmNGZhMSRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuQXZhaWxhYmxlTWljc1VwZGF0ZWQsIG1pY3MpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQXZhaWxhYmxlU3BlYWtlcnNVcGRhdGVkOiAoc3BlYWtlcnMpPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vbkF2YWlsYWJsZVNwZWFrZXJzVXBkYXRlZD8uKHNwZWFrZXJzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRjMWI0ZGE0YWY1NGY0ZmExJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5BdmFpbGFibGVTcGVha2Vyc1VwZGF0ZWQsIHNwZWFrZXJzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNhbVVwZGF0ZWQ6IChjYW0pPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vbkNhbVVwZGF0ZWQ/LihjYW0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGMxYjRkYTRhZjU0ZjRmYTEkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkNhbVVwZGF0ZWQsIGNhbSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25NaWNVcGRhdGVkOiAobWljKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25NaWNVcGRhdGVkPy4obWljKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRjMWI0ZGE0YWY1NGY0ZmExJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5NaWNVcGRhdGVkLCBtaWMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uU3BlYWtlclVwZGF0ZWQ6IChzcGVha2VyKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25TcGVha2VyVXBkYXRlZD8uKHNwZWFrZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGMxYjRkYTRhZjU0ZjRmYTEkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLlNwZWFrZXJVcGRhdGVkLCBzcGVha2VyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkJvdENvbm5lY3RlZDogKHApPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vbkJvdENvbm5lY3RlZD8uKHApO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGMxYjRkYTRhZjU0ZjRmYTEkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkJvdENvbm5lY3RlZCwgcCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Cb3RSZWFkeTogKGJvdFJlYWR5RGF0YSk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uQm90UmVhZHk/Lihib3RSZWFkeURhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGMxYjRkYTRhZjU0ZjRmYTEkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkJvdFJlYWR5LCBib3RSZWFkeURhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQm90RGlzY29ubmVjdGVkOiAocCk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uQm90RGlzY29ubmVjdGVkPy4ocCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkYzFiNGRhNGFmNTRmNGZhMSRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuQm90RGlzY29ubmVjdGVkLCBwKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkJvdFN0YXJ0ZWRTcGVha2luZzogKCk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uQm90U3RhcnRlZFNwZWFraW5nPy4oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRjMWI0ZGE0YWY1NGY0ZmExJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5Cb3RTdGFydGVkU3BlYWtpbmcpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQm90U3RvcHBlZFNwZWFraW5nOiAoKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25Cb3RTdG9wcGVkU3BlYWtpbmc/LigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGMxYjRkYTRhZjU0ZjRmYTEkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkJvdFN0b3BwZWRTcGVha2luZyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZW1vdGVBdWRpb0xldmVsOiAobGV2ZWwsIHApPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vblJlbW90ZUF1ZGlvTGV2ZWw/LihsZXZlbCwgcCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkYzFiNGRhNGFmNTRmNGZhMSRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuUmVtb3RlQXVkaW9MZXZlbCwgbGV2ZWwsIHApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uVXNlclN0YXJ0ZWRTcGVha2luZzogKCk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uVXNlclN0YXJ0ZWRTcGVha2luZz8uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkYzFiNGRhNGFmNTRmNGZhMSRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuVXNlclN0YXJ0ZWRTcGVha2luZyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Vc2VyU3RvcHBlZFNwZWFraW5nOiAoKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25Vc2VyU3RvcHBlZFNwZWFraW5nPy4oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRjMWI0ZGE0YWY1NGY0ZmExJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5Vc2VyU3RvcHBlZFNwZWFraW5nKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkxvY2FsQXVkaW9MZXZlbDogKGxldmVsKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25Mb2NhbEF1ZGlvTGV2ZWw/LihsZXZlbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkYzFiNGRhNGFmNTRmNGZhMSRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuTG9jYWxBdWRpb0xldmVsLCBsZXZlbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Vc2VyVHJhbnNjcmlwdDogKGRhdGEpPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vblVzZXJUcmFuc2NyaXB0Py4oZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkYzFiNGRhNGFmNTRmNGZhMSRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuVXNlclRyYW5zY3JpcHQsIGRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQm90VHJhbnNjcmlwdDogKHRleHQpPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vbkJvdFRyYW5zY3JpcHQ/Lih0ZXh0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRjMWI0ZGE0YWY1NGY0ZmExJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5Cb3RUcmFuc2NyaXB0LCB0ZXh0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkJvdExsbVRleHQ6ICh0ZXh0KT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25Cb3RMbG1UZXh0Py4odGV4dCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkYzFiNGRhNGFmNTRmNGZhMSRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuQm90TGxtVGV4dCwgdGV4dCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Cb3RMbG1TdGFydGVkOiAoKT0+e1xuICAgICAgICAgICAgICAgIG9wdGlvbnM/LmNhbGxiYWNrcz8ub25Cb3RMbG1TdGFydGVkPy4oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRjMWI0ZGE0YWY1NGY0ZmExJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5Cb3RMbG1TdGFydGVkKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkJvdExsbVN0b3BwZWQ6ICgpPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vbkJvdExsbVN0b3BwZWQ/LigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGMxYjRkYTRhZjU0ZjRmYTEkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkJvdExsbVN0b3BwZWQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQm90VHRzVGV4dDogKHRleHQpPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vbkJvdFR0c1RleHQ/Lih0ZXh0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRjMWI0ZGE0YWY1NGY0ZmExJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5Cb3RUdHNUZXh0LCB0ZXh0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkJvdFR0c1N0YXJ0ZWQ6ICgpPT57XG4gICAgICAgICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tzPy5vbkJvdFR0c1N0YXJ0ZWQ/LigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGMxYjRkYTRhZjU0ZjRmYTEkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLkJvdFR0c1N0YXJ0ZWQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQm90VHRzU3RvcHBlZDogKCk9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja3M/Lm9uQm90VHRzU3RvcHBlZD8uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkYzFiNGRhNGFmNTRmNGZhMSRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuQm90VHRzU3RvcHBlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIFVwZGF0ZSBvcHRpb25zIHRvIHJlZmVyZW5jZSB3cmFwcGVkIGNhbGxiYWNrcyBhbmQgY29uZmlnIGRlZmF1bHRzXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiB3cmFwcGVkQ2FsbGJhY2tzLFxuICAgICAgICAgICAgZW5hYmxlTWljOiBvcHRpb25zLmVuYWJsZU1pYyA/PyB0cnVlLFxuICAgICAgICAgICAgZW5hYmxlQ2FtOiBvcHRpb25zLmVuYWJsZUNhbSA/PyBmYWxzZSxcbiAgICAgICAgICAgIGVuYWJsZVNjcmVlblNoYXJlOiBvcHRpb25zLmVuYWJsZVNjcmVlblNoYXJlID8/IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIC8vIEluc3RhbnRpYXRlIHRoZSB0cmFuc3BvcnQgY2xhc3MgYW5kIGJpbmQgbWVzc2FnZSBoYW5kbGVyXG4gICAgICAgIHRoaXMuX2luaXRpYWxpemUoKTtcbiAgICAgICAgLy8gR2V0IHBhY2thZ2UgdmVyc2lvbiBudW1iZXJcbiAgICAgICAgKDAsICRlMDkwMDc5OGI2Y2MwNDViJGV4cG9ydCRhZjg4ZDAwZGJlN2Y1MjEpLmRlYnVnKFwiW1BpcGVjYXQgQ2xpZW50XSBJbml0aWFsaXplZFwiLCB0aGlzLnZlcnNpb24pO1xuICAgIH1cbiAgICBzZXRMb2dMZXZlbChsZXZlbCkge1xuICAgICAgICAoMCwgJGUwOTAwNzk4YjZjYzA0NWIkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuc2V0TGV2ZWwobGV2ZWwpO1xuICAgIH1cbiAgICAvLyAtLS0tLS0gVHJhbnNwb3J0IG1ldGhvZHNcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGxvY2FsIG1lZGlhIGRldmljZXNcbiAgICAgKi8gYXN5bmMgaW5pdERldmljZXMoKSB7XG4gICAgICAgICgwLCAkZTA5MDA3OThiNmNjMDQ1YiRleHBvcnQkYWY4OGQwMGRiZTdmNTIxKS5kZWJ1ZyhcIltQaXBlY2F0IENsaWVudF0gSW5pdGlhbGl6aW5nIGRldmljZXMuLi5cIik7XG4gICAgICAgIGF3YWl0IHRoaXMuX3RyYW5zcG9ydC5pbml0RGV2aWNlcygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYGNvbm5lY3RgIGZ1bmN0aW9uIGVzdGFibGlzaGVzIGEgdHJhbnNwb3J0IHNlc3Npb24gYW5kIGF3YWl0cyBhXG4gICAgICogYm90LXJlYWR5IHNpZ25hbCwgaGFuZGxpbmcgdmFyaW91cyBjb25uZWN0aW9uIHN0YXRlcyBhbmQgZXJyb3JzLlxuICAgICAqIEBwYXJhbSB7VHJhbnNwb3J0Q29ubmVjdGlvblBhcmFtcyB8IENvbm5lY3Rpb25FbmRwb2ludH0gW2Nvbm5lY3RQYXJhbXNdIC1cbiAgICAgKiBUaGUgYGNvbm5lY3RQYXJhbXNgIHBhcmFtZXRlciBpbiB0aGUgYGNvbm5lY3RgIG1ldGhvZCBjYW4gYmUgZWl0aGVyIG9mIHR5cGVcbiAgICAgKiBgVHJhbnNwb3J0Q29ubmVjdGlvblBhcmFtc2Agb3IgYENvbm5lY3Rpb25FbmRwb2ludGAuIEl0IGlzIHVzZWQgdG8gcHJvdmlkZVxuICAgICAqIGNvbm5lY3Rpb24gcGFyYW1ldGVycyBmb3IgZXN0YWJsaXNoaW5nIGEgdHJhbnNwb3J0IHNlc3Npb24uIElmXG4gICAgICogYGNvbm5lY3RQYXJhbXNgIGlzIG9mIHR5cGUgYENvbm5lY3Rpb25FbmRwb2ludGAsIHRoZSBtZXRob2Qgd2lsbCBnbyB0aHJvdWdoXG4gICAgICogYW4gYXV0aGVudGljYXRpb24gcHJvY2Vzc1xuICAgICAqIEByZXR1cm5zIFRoZSBgY29ubmVjdGAgbWV0aG9kIHJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gdW5rbm93biB2YWx1ZS5cbiAgICAgKi8gYXN5bmMgY29ubmVjdChjb25uZWN0UGFyYW1zKSB7XG4gICAgICAgIGlmIChbXG4gICAgICAgICAgICBcImF1dGhlbnRpY2F0aW5nXCIsXG4gICAgICAgICAgICBcImNvbm5lY3RpbmdcIixcbiAgICAgICAgICAgIFwiY29ubmVjdGVkXCIsXG4gICAgICAgICAgICBcInJlYWR5XCJcbiAgICAgICAgXS5pbmNsdWRlcyh0aGlzLl90cmFuc3BvcnQuc3RhdGUpKSB0aHJvdyBuZXcgJGRiNjM5MWRjN2Q3NTc1NzckZXhwb3J0JDU5YjQ3ODZmMzMzYWFjMDIoXCJWb2ljZSBjbGllbnQgaGFzIGFscmVhZHkgYmVlbiBzdGFydGVkLiBQbGVhc2UgY2FsbCBkaXNjb25uZWN0KCkgYmVmb3JlIHN0YXJ0aW5nIGFnYWluLlwiKTtcbiAgICAgICAgLy8gRXN0YWJsaXNoIHRyYW5zcG9ydCBzZXNzaW9uIGFuZCBhd2FpdCBib3QgcmVhZHkgc2lnbmFsXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+e1xuICAgICAgICAgICAgKGFzeW5jICgpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdHJhbnNwb3J0LnN0YXRlID09PSBcImRpc2Nvbm5lY3RlZFwiKSBhd2FpdCB0aGlzLl90cmFuc3BvcnQuaW5pdERldmljZXMoKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3huUGFyYW1zO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29ubmVjdFBhcmFtcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgwLCAkZDBlOTE0NjY3Y2M1MzQ2YiRleHBvcnQkNjQ5YjY0NTY1MzJjMjllMikoY29ubmVjdFBhcmFtcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmFuc3BvcnQuc3RhdGUgPSBcImF1dGhlbnRpY2F0aW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN4blBhcmFtcyA9IGF3YWl0ICgwLCAkZDBlOTE0NjY3Y2M1MzQ2YiRleHBvcnQkY2Y0YmQ0NjBiYTQ3YTJmMikoY29ubmVjdFBhcmFtcywgdGhpcy5fYWJvcnRDb250cm9sbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fYWJvcnRDb250cm9sbGVyPy5zaWduYWwuYWJvcnRlZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zcG9ydC5zdGF0ZSA9IFwiYXV0aGVudGljYXRlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGN4blBhcmFtcyA9IGNvbm5lY3RQYXJhbXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fdHJhbnNwb3J0LmNvbm5lY3QoY3huUGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fdHJhbnNwb3J0LnNlbmRSZWFkeU1lc3NhZ2UoKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdCB0aGUgdm9pY2UgY2xpZW50IGZyb20gdGhlIHRyYW5zcG9ydFxuICAgICAqIFJlc2V0IC8gcmVpbml0aWFsaXplIHRyYW5zcG9ydCBhbmQgYWJvcnQgYW55IHBlbmRpbmcgcmVxdWVzdHNcbiAgICAgKi8gYXN5bmMgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fdHJhbnNwb3J0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5fbWVzc2FnZURpc3BhdGNoZXIuZGlzY29ubmVjdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgX2luaXRpYWxpemUgZnVuY3Rpb24gcGVyZm9ybXMgaW50ZXJuYWwgc2V0IHVwIG9mIHRoZSB0cmFuc3BvcnQgYW5kXG4gICAgICogbWVzc2FnZSBkaXNwYXRjaGVyLlxuICAgICAqLyBfaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0LmluaXRpYWxpemUodGhpcy5fb3B0aW9ucywgdGhpcy5oYW5kbGVNZXNzYWdlLmJpbmQodGhpcykpO1xuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgbWVzc2FnZSBkaXNwYXRjaCBxdWV1ZSBmb3IgYXN5bmMgbWVzc2FnZSBoYW5kbGluZ1xuICAgICAgICB0aGlzLl9tZXNzYWdlRGlzcGF0Y2hlciA9IG5ldyAoMCwgJDc2OWJiNjAyNTExOTc0YTEkZXhwb3J0JGU5YTk2MDY0NmNjNDMyYWEpKHRoaXMuX3RyYW5zcG9ydC5zZW5kTWVzc2FnZS5iaW5kKHRoaXMuX3RyYW5zcG9ydCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHRyYW5zcG9ydFxuICAgICAqLyBnZXQgY29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgXCJjb25uZWN0ZWRcIixcbiAgICAgICAgICAgIFwicmVhZHlcIlxuICAgICAgICBdLmluY2x1ZGVzKHRoaXMuX3RyYW5zcG9ydC5zdGF0ZSk7XG4gICAgfVxuICAgIGdldCB0cmFuc3BvcnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnRXcmFwcGVyLnByb3h5O1xuICAgIH1cbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQuc3RhdGU7XG4gICAgfVxuICAgIGdldCB2ZXJzaW9uKCkge1xuICAgICAgICByZXR1cm4gKDAsICgvKkBfX1BVUkVfXyovJHBhcmNlbCRpbnRlcm9wRGVmYXVsdCgkZTNiYWQ5Y2MyNWUzMjdmNyRleHBvcnRzKSkpLnZlcnNpb247XG4gICAgfVxuICAgIC8vIC0tLS0tLSBEZXZpY2UgbWV0aG9kc1xuICAgIGFzeW5jIGdldEFsbE1pY3MoKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl90cmFuc3BvcnQuZ2V0QWxsTWljcygpO1xuICAgIH1cbiAgICBhc3luYyBnZXRBbGxDYW1zKCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fdHJhbnNwb3J0LmdldEFsbENhbXMoKTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0QWxsU3BlYWtlcnMoKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl90cmFuc3BvcnQuZ2V0QWxsU3BlYWtlcnMoKTtcbiAgICB9XG4gICAgZ2V0IHNlbGVjdGVkTWljKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNwb3J0LnNlbGVjdGVkTWljO1xuICAgIH1cbiAgICBnZXQgc2VsZWN0ZWRDYW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQuc2VsZWN0ZWRDYW07XG4gICAgfVxuICAgIGdldCBzZWxlY3RlZFNwZWFrZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQuc2VsZWN0ZWRTcGVha2VyO1xuICAgIH1cbiAgICB1cGRhdGVNaWMobWljSWQpIHtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0LnVwZGF0ZU1pYyhtaWNJZCk7XG4gICAgfVxuICAgIHVwZGF0ZUNhbShjYW1JZCkge1xuICAgICAgICB0aGlzLl90cmFuc3BvcnQudXBkYXRlQ2FtKGNhbUlkKTtcbiAgICB9XG4gICAgdXBkYXRlU3BlYWtlcihzcGVha2VySWQpIHtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0LnVwZGF0ZVNwZWFrZXIoc3BlYWtlcklkKTtcbiAgICB9XG4gICAgZW5hYmxlTWljKGVuYWJsZSkge1xuICAgICAgICB0aGlzLl90cmFuc3BvcnQuZW5hYmxlTWljKGVuYWJsZSk7XG4gICAgfVxuICAgIGdldCBpc01pY0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQuaXNNaWNFbmFibGVkO1xuICAgIH1cbiAgICBlbmFibGVDYW0oZW5hYmxlKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zcG9ydC5lbmFibGVDYW0oZW5hYmxlKTtcbiAgICB9XG4gICAgZ2V0IGlzQ2FtRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5pc0NhbUVuYWJsZWQ7XG4gICAgfVxuICAgIHRyYWNrcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC50cmFja3MoKTtcbiAgICB9XG4gICAgZW5hYmxlU2NyZWVuU2hhcmUoZW5hYmxlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQuZW5hYmxlU2NyZWVuU2hhcmUoZW5hYmxlKTtcbiAgICB9XG4gICAgZ2V0IGlzU2hhcmluZ1NjcmVlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5pc1NoYXJpbmdTY3JlZW47XG4gICAgfVxuICAgIC8vIC0tLS0tLSBNZXNzYWdlc1xuICAgIC8qKlxuICAgICAqIERpcmVjdGx5IHNlbmQgYSBtZXNzYWdlIHRvIHRoZSBib3QgdmlhIHRoZSB0cmFuc3BvcnQuXG4gICAgICogRG8gbm90IGF3YWl0IGEgcmVzcG9uc2UuXG4gICAgICogQHBhcmFtIG1zZ1R5cGUgLSBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG1lc3NhZ2UgdHlwZVxuICAgICAqIEBwYXJhbSBkYXRhIC0gYSBkaWN0aW9uYXJ5IG9mIGRhdGEgdG8gc2VuZCB3aXRoIHRoZSBtZXNzYWdlXG4gICAgICovIHNlbmRDbGllbnRNZXNzYWdlKG1zZ1R5cGUsIGRhdGEpIHtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0LnNlbmRNZXNzYWdlKG5ldyAoMCwgJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDY5YWE5YWIwMzM0YjIxMikoKDAsICRjMGQxMGM0NjkwOTY5OTk5JGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwKS5DTElFTlRfTUVTU0FHRSwge1xuICAgICAgICAgICAgdDogbXNnVHlwZSxcbiAgICAgICAgICAgIGQ6IGRhdGFcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXJlY3RseSBzZW5kIGEgbWVzc2FnZSB0byB0aGUgYm90IHZpYSB0aGUgdHJhbnNwb3J0LlxuICAgICAqIFdhaXQgZm9yIGFuZCByZXR1cm4gdGhlIHJlc3BvbnNlLlxuICAgICAqIEBwYXJhbSBtc2dUeXBlIC0gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBtZXNzYWdlIHR5cGVcbiAgICAgKiBAcGFyYW0gZGF0YSAtIGEgZGljdGlvbmFyeSBvZiBkYXRhIHRvIHNlbmQgd2l0aCB0aGUgbWVzc2FnZVxuICAgICAqIEBwYXJhbSB0aW1lb3V0IC0gb3B0aW9uYWwgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSByZXNwb25zZVxuICAgICAqLyBhc3luYyBzZW5kQ2xpZW50UmVxdWVzdChtc2dUeXBlLCBkYXRhLCB0aW1lb3V0KSB7XG4gICAgICAgIGNvbnN0IG1zZ0RhdGEgPSB7XG4gICAgICAgICAgICB0OiBtc2dUeXBlLFxuICAgICAgICAgICAgZDogZGF0YVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuX21lc3NhZ2VEaXNwYXRjaGVyLmRpc3BhdGNoKG1zZ0RhdGEsICgwLCAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MCkuQ0xJRU5UX01FU1NBR0UsIHRpbWVvdXQpO1xuICAgICAgICBjb25zdCByZXRfZGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIHJldHVybiByZXRfZGF0YS5kO1xuICAgIH1cbiAgICByZWdpc3RlckZ1bmN0aW9uQ2FsbEhhbmRsZXIoZnVuY3Rpb25OYW1lLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9mdW5jdGlvbkNhbGxDYWxsYmFja3NbZnVuY3Rpb25OYW1lXSA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICBhc3luYyBhcHBlbmRUb0NvbnRleHQoY29udGV4dCkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuX21lc3NhZ2VEaXNwYXRjaGVyLmRpc3BhdGNoKHtcbiAgICAgICAgICAgIHJvbGU6IGNvbnRleHQucm9sZSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRleHQuY29udGVudCxcbiAgICAgICAgICAgIHJ1bl9pbW1lZGlhdGVseTogY29udGV4dC5ydW5faW1tZWRpYXRlbHlcbiAgICAgICAgfSwgKDAsICRjMGQxMGM0NjkwOTY5OTk5JGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwKS5BUFBFTkRfVE9fQ09OVEVYVCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIHJldHVybiAhIXJlc3BvbnNlRGF0YS5yZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3RzIHRoZSBib3QsIGJ1dCBrZWVwcyB0aGUgc2Vzc2lvbiBhbGl2ZVxuICAgICAqLyBkaXNjb25uZWN0Qm90KCkge1xuICAgICAgICB0aGlzLl90cmFuc3BvcnQuc2VuZE1lc3NhZ2UobmV3ICgwLCAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkNjlhYTlhYjAzMzRiMjEyKSgoMCwgJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLkRJU0NPTk5FQ1RfQk9ULCB7fSkpO1xuICAgIH1cbiAgICBoYW5kbGVNZXNzYWdlKGV2KSB7XG4gICAgICAgICgwLCAkZTA5MDA3OThiNmNjMDQ1YiRleHBvcnQkYWY4OGQwMGRiZTdmNTIxKS5kZWJ1ZyhcIltSVFZJIE1lc3NhZ2VdXCIsIGV2KTtcbiAgICAgICAgc3dpdGNoKGV2LnR5cGUpe1xuICAgICAgICAgICAgY2FzZSAoMCwgJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLkJPVF9SRUFEWTpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBldi5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBib3RWZXJzaW9uID0gZGF0YS52ZXJzaW9uID8gZGF0YS52ZXJzaW9uLnNwbGl0KFwiLlwiKS5tYXAoTnVtYmVyKSA6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAoMCwgJGUwOTAwNzk4YjZjYzA0NWIkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkuZGVidWcoYFtQaXBlY2F0IENsaWVudF0gQm90IGlzIHJlYWR5LiBWZXJzaW9uOiAke2RhdGEudmVyc2lvbn1gKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvdFZlcnNpb25bMF0gPCAxKSAoMCwgJGUwOTAwNzk4YjZjYzA0NWIkZXhwb3J0JGFmODhkMDBkYmU3ZjUyMSkud2FybihcIltQaXBlY2F0IENsaWVudF0gQm90IHZlcnNpb24gaXMgbGVzcyB0aGFuIDEuMC4wLCB3aGljaCBtYXkgbm90IGJlIGNvbXBhdGlibGUgd2l0aCB0aGlzIGNsaWVudC5cIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0UmVzb2x2ZT8uKGV2LmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmNhbGxiYWNrcz8ub25Cb3RSZWFkeT8uKGV2LmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICgwLCAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MCkuRVJST1I6XG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5jYWxsYmFja3M/Lm9uRXJyb3I/Lihldik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICgwLCAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MCkuU0VSVkVSX1JFU1BPTlNFOlxuICAgICAgICAgICAgICAgIHRoaXMuX21lc3NhZ2VEaXNwYXRjaGVyLnJlc29sdmUoZXYpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAoMCwgJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLkVSUk9SX1JFU1BPTlNFOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcCA9IHRoaXMuX21lc3NhZ2VEaXNwYXRjaGVyLnJlamVjdChldik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzPy5vbk1lc3NhZ2VFcnJvcj8uKHJlc3ApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICgwLCAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MCkuVVNFUl9TVEFSVEVEX1NQRUFLSU5HOlxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzPy5vblVzZXJTdGFydGVkU3BlYWtpbmc/LigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAoMCwgJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLlVTRVJfU1RPUFBFRF9TUEVBS0lORzpcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmNhbGxiYWNrcz8ub25Vc2VyU3RvcHBlZFNwZWFraW5nPy4oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgKDAsICRjMGQxMGM0NjkwOTY5OTk5JGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwKS5CT1RfU1RBUlRFRF9TUEVBS0lORzpcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmNhbGxiYWNrcz8ub25Cb3RTdGFydGVkU3BlYWtpbmc/LigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAoMCwgJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLkJPVF9TVE9QUEVEX1NQRUFLSU5HOlxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzPy5vbkJvdFN0b3BwZWRTcGVha2luZz8uKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICgwLCAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MCkuVVNFUl9UUkFOU0NSSVBUSU9OOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgVHJhbnNjcmlwdERhdGEgPSBldi5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmNhbGxiYWNrcz8ub25Vc2VyVHJhbnNjcmlwdD8uKFRyYW5zY3JpcHREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAoMCwgJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLkJPVF9UUkFOU0NSSVBUSU9OOlxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzPy5vbkJvdFRyYW5zY3JpcHQ/Lihldi5kYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgKDAsICRjMGQxMGM0NjkwOTY5OTk5JGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwKS5CT1RfTExNX1RFWFQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5jYWxsYmFja3M/Lm9uQm90TGxtVGV4dD8uKGV2LmRhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAoMCwgJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLkJPVF9MTE1fU1RBUlRFRDpcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmNhbGxiYWNrcz8ub25Cb3RMbG1TdGFydGVkPy4oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgKDAsICRjMGQxMGM0NjkwOTY5OTk5JGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwKS5CT1RfTExNX1NUT1BQRUQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5jYWxsYmFja3M/Lm9uQm90TGxtU3RvcHBlZD8uKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICgwLCAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MCkuQk9UX1RUU19URVhUOlxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzPy5vbkJvdFR0c1RleHQ/Lihldi5kYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgKDAsICRjMGQxMGM0NjkwOTY5OTk5JGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwKS5CT1RfVFRTX1NUQVJURUQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5jYWxsYmFja3M/Lm9uQm90VHRzU3RhcnRlZD8uKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICgwLCAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MCkuQk9UX1RUU19TVE9QUEVEOlxuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzPy5vbkJvdFR0c1N0b3BwZWQ/LigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAoMCwgJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLk1FVFJJQ1M6XG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5jYWxsYmFja3M/Lm9uTWV0cmljcz8uKGV2LmRhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgoMCwgJGMxYjRkYTRhZjU0ZjRmYTEkZXhwb3J0JDZiNDYyNGQyMzNjNjFmY2IpLk1ldHJpY3MsIGV2LmRhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAoMCwgJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLkFQUEVORF9UT19DT05URVhUX1JFU1VMVDpcbiAgICAgICAgICAgIGNhc2UgKDAsICRjMGQxMGM0NjkwOTY5OTk5JGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwKS5TRVJWRVJfTUVTU0FHRTpcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmNhbGxiYWNrcz8ub25TZXJ2ZXJNZXNzYWdlPy4oZXYuZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCgwLCAkYzFiNGRhNGFmNTRmNGZhMSRleHBvcnQkNmI0NjI0ZDIzM2M2MWZjYikuU2VydmVyTWVzc2FnZSwgZXYuZGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICgwLCAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkMzhiM2RiMDVjYmYwZTI0MCkuTExNX0ZVTkNUSU9OX0NBTEw6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gZXYuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmMgPSB0aGlzLl9mdW5jdGlvbkNhbGxDYWxsYmFja3NbZGF0YS5mdW5jdGlvbl9uYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25OYW1lOiBkYXRhLmZ1bmN0aW9uX25hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzOiBkYXRhLmFyZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBmYyhwYXJhbXMpLnRoZW4oKHJlc3VsdCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmFuc3BvcnQuc2VuZE1lc3NhZ2UobmV3ICgwLCAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkNjlhYTlhYjAzMzRiMjEyKSgoMCwgJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDM4YjNkYjA1Y2JmMGUyNDApLkxMTV9GVU5DVElPTl9DQUxMX1JFU1VMVCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbl9uYW1lOiBkYXRhLmZ1bmN0aW9uX25hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xfY2FsbF9pZDogZGF0YS50b29sX2NhbGxfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogZGF0YS5hcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgKDAsICRjMGQxMGM0NjkwOTY5OTk5JGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwKS5CT1RfTExNX1NFQVJDSF9SRVNQT05TRTpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBldi5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmNhbGxiYWNrcz8ub25Cb3RMbG1TZWFyY2hSZXNwb25zZT8uKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoKDAsICRjMWI0ZGE0YWY1NGY0ZmExJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiKS5Cb3RMbG1TZWFyY2hSZXNwb25zZSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgKDAsICRlMDkwMDc5OGI2Y2MwNDViJGV4cG9ydCRhZjg4ZDAwZGJlN2Y1MjEpLmRlYnVnKFwiW1BpcGVjYXQgQ2xpZW50XSBVbnJlY29nbml6ZWQgbWVzc2FnZSB0eXBlXCIsIGV2LnR5cGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuJDM2NGMxMjdkMTUyYjEwODUkdmFyJF9fZGVjb3JhdGUoW1xuICAgICgwLCAkYzY4ZWYyNDk4ZDFhNzE3NyRleHBvcnQkZjE1ODY3MjEwMjRjNGRhYilcbl0sICQzNjRjMTI3ZDE1MmIxMDg1JGV4cG9ydCQ4ZjdmODZhNzc1MzVmN2EzLnByb3RvdHlwZSwgXCJzZW5kQ2xpZW50TWVzc2FnZVwiLCBudWxsKTtcbiQzNjRjMTI3ZDE1MmIxMDg1JHZhciRfX2RlY29yYXRlKFtcbiAgICAoMCwgJGM2OGVmMjQ5OGQxYTcxNzckZXhwb3J0JGYxNTg2NzIxMDI0YzRkYWIpXG5dLCAkMzY0YzEyN2QxNTJiMTA4NSRleHBvcnQkOGY3Zjg2YTc3NTM1ZjdhMy5wcm90b3R5cGUsIFwic2VuZENsaWVudFJlcXVlc3RcIiwgbnVsbCk7XG4kMzY0YzEyN2QxNTJiMTA4NSR2YXIkX19kZWNvcmF0ZShbXG4gICAgKDAsICRjNjhlZjI0OThkMWE3MTc3JGV4cG9ydCRmMTU4NjcyMTAyNGM0ZGFiKVxuXSwgJDM2NGMxMjdkMTUyYjEwODUkZXhwb3J0JDhmN2Y4NmE3NzUzNWY3YTMucHJvdG90eXBlLCBcImFwcGVuZFRvQ29udGV4dFwiLCBudWxsKTtcbiQzNjRjMTI3ZDE1MmIxMDg1JHZhciRfX2RlY29yYXRlKFtcbiAgICAoMCwgJGM2OGVmMjQ5OGQxYTcxNzckZXhwb3J0JGYxNTg2NzIxMDI0YzRkYWIpXG5dLCAkMzY0YzEyN2QxNTJiMTA4NSRleHBvcnQkOGY3Zjg2YTc3NTM1ZjdhMy5wcm90b3R5cGUsIFwiZGlzY29ubmVjdEJvdFwiLCBudWxsKTtcblxuXG5cblxuXG4kcGFyY2VsJGV4cG9ydFdpbGRjYXJkKCQwNWZhN2I1ODYxODRhMTljJGV4cG9ydHMsICQzNjRjMTI3ZDE1MmIxMDg1JGV4cG9ydHMpO1xuJHBhcmNlbCRleHBvcnRXaWxkY2FyZCgkMDVmYTdiNTg2MTg0YTE5YyRleHBvcnRzLCAkNzY5YmI2MDI1MTE5NzRhMSRleHBvcnRzKTtcbiRwYXJjZWwkZXhwb3J0V2lsZGNhcmQoJDA1ZmE3YjU4NjE4NGExOWMkZXhwb3J0cywgJGUwOTAwNzk4YjZjYzA0NWIkZXhwb3J0cyk7XG4kcGFyY2VsJGV4cG9ydFdpbGRjYXJkKCQwNWZhN2I1ODYxODRhMTljJGV4cG9ydHMsICQ3ZWY1Y2VlNjZjMzc3ZjRkJGV4cG9ydHMpO1xuXG5cblxuXG5cbmV4cG9ydCB7JDM2NGMxMjdkMTUyYjEwODUkZXhwb3J0JDhmN2Y4NmE3NzUzNWY3YTMgYXMgUGlwZWNhdENsaWVudCwgJDc2OWJiNjAyNTExOTc0YTEkZXhwb3J0JGU5YTk2MDY0NmNjNDMyYWEgYXMgTWVzc2FnZURpc3BhdGNoZXIsICRlMDkwMDc5OGI2Y2MwNDViJGV4cG9ydCQyNDNlNjJkNzhkM2I1NDRkIGFzIExvZ0xldmVsLCAkZTA5MDA3OThiNmNjMDQ1YiRleHBvcnQkYWY4OGQwMGRiZTdmNTIxIGFzIGxvZ2dlciwgJDdlZjVjZWU2NmMzNzdmNGQkZXhwb3J0JDg2NDk1YjA4MWZlZjhlNTIgYXMgVHJhbnNwb3J0LCAkN2VmNWNlZTY2YzM3N2Y0ZCRleHBvcnQkODJiNmVkZTE2MGE2NGEzYyBhcyBUcmFuc3BvcnRXcmFwcGVyLCAkZGI2MzkxZGM3ZDc1NzU3NyRleHBvcnQkNTliNDc4NmYzMzNhYWMwMiBhcyBSVFZJRXJyb3IsICRkYjYzOTFkYzdkNzU3NTc3JGV4cG9ydCRjNjc5OTJmYTY4NGE4MWE2IGFzIENvbm5lY3Rpb25UaW1lb3V0RXJyb3IsICRkYjYzOTFkYzdkNzU3NTc3JGV4cG9ydCRlNzU0NGFiODEyMjM4YTYxIGFzIFN0YXJ0Qm90RXJyb3IsICRkYjYzOTFkYzdkNzU3NTc3JGV4cG9ydCRlMDYyNGE1MTFhMmM0ZTkgYXMgVHJhbnNwb3J0U3RhcnRFcnJvciwgJGRiNjM5MWRjN2Q3NTc1NzckZXhwb3J0JDg4NWZiOTZiODUwZThmYmIgYXMgQm90Tm90UmVhZHlFcnJvciwgJGRiNjM5MWRjN2Q3NTc1NzckZXhwb3J0JGJkMDgyMGViODQ0NGZjZDkgYXMgVW5zdXBwb3J0ZWRGZWF0dXJlRXJyb3IsICRjMWI0ZGE0YWY1NGY0ZmExJGV4cG9ydCQ2YjQ2MjRkMjMzYzYxZmNiIGFzIFJUVklFdmVudCwgJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JDdiZGFmMGUwZDY2MWE4ZjUgYXMgUlRWSV9QUk9UT0NPTF9WRVJTSU9OLCAkYzBkMTBjNDY5MDk2OTk5OSRleHBvcnQkODgyYjEzYzdmZGEzMzhmNSBhcyBSVFZJX01FU1NBR0VfTEFCRUwsICRjMGQxMGM0NjkwOTY5OTk5JGV4cG9ydCQzOGIzZGIwNWNiZjBlMjQwIGFzIFJUVklNZXNzYWdlVHlwZSwgJGMwZDEwYzQ2OTA5Njk5OTkkZXhwb3J0JGU0MDM2ZjliOGRkYjczNzkgYXMgc2V0QWJvdXRDbGllbnQsICRjMGQxMGM0NjkwOTY5OTk5JGV4cG9ydCQ2OWFhOWFiMDMzNGIyMTIgYXMgUlRWSU1lc3NhZ2V9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubW9kdWxlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@pipecat-ai/client-js/dist/index.module.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@pipecat-ai/client-react/dist/index.module.js":
/*!************************************************************************!*\
  !*** ../../node_modules/@pipecat-ai/client-react/dist/index.module.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PipecatClientAudio: () => (/* binding */ $f209aa7ddb77dcb2$export$b52250cb73ff4de1),\n/* harmony export */   PipecatClientCamToggle: () => (/* binding */ $7cb2ce2c4cbfb401$export$dc9a029eeca8213f),\n/* harmony export */   PipecatClientMicToggle: () => (/* binding */ $2984fdfc31bad375$export$bc8133b69ff660a2),\n/* harmony export */   PipecatClientProvider: () => (/* binding */ $d2e362c5a07ee3c5$export$bb43666ced7a20d0),\n/* harmony export */   PipecatClientVideo: () => (/* binding */ $6a65deb8615a2ad7$export$85974db6d0cc43b3),\n/* harmony export */   VoiceVisualizer: () => (/* binding */ $993a744193844a95$export$59bf27bd43679db6),\n/* harmony export */   usePipecatClient: () => (/* binding */ $034a56e7ee1b7bed$export$777fa8498be78705),\n/* harmony export */   usePipecatClientCamControl: () => (/* binding */ $e76ee2f021b54325$export$3ea2601427f0430f),\n/* harmony export */   usePipecatClientMediaDevices: () => (/* binding */ $f934f1f8b10aaf19$export$642bc4d2d2a376f1),\n/* harmony export */   usePipecatClientMediaTrack: () => (/* binding */ $4b4b9099cdb5b776$export$9813dcd2d0c26814),\n/* harmony export */   usePipecatClientMicControl: () => (/* binding */ $5905c001b0dc8d25$export$388e706586309ef0),\n/* harmony export */   usePipecatClientTransportState: () => (/* binding */ $33f3729bbe9f09df$export$30aee278309a867b),\n/* harmony export */   useRTVIClientEvent: () => (/* binding */ $824ea64b5f757259$export$33a6ac53b8f02625)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pipecat-ai/client-js */ \"(ssr)/../../node_modules/@pipecat-ai/client-js/dist/index.module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jotai__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jotai */ \"(ssr)/../../node_modules/jotai/esm/vanilla.mjs\");\n/* harmony import */ var jotai_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jotai/react */ \"(ssr)/../../node_modules/jotai/esm/react.mjs\");\n/* harmony import */ var jotai_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jotai/utils */ \"(ssr)/../../node_modules/jotai/esm/vanilla/utils.mjs\");\n/* harmony import */ var jotai_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jotai/utils */ \"(ssr)/../../node_modules/jotai/esm/react/utils.mjs\");\n\n\n\n\n\n\n\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \n\n\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \n\n\n\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \n\n\n\n\n\nvar $ad20387e24e513d4$exports = {};\n$ad20387e24e513d4$exports = JSON.parse(\"{\\\"name\\\":\\\"@pipecat-ai/client-react\\\",\\\"version\\\":\\\"1.0.0\\\",\\\"license\\\":\\\"BSD-2-Clause\\\",\\\"main\\\":\\\"dist/index.js\\\",\\\"module\\\":\\\"dist/index.module.js\\\",\\\"types\\\":\\\"dist/index.d.ts\\\",\\\"source\\\":\\\"src/index.ts\\\",\\\"repository\\\":{\\\"type\\\":\\\"git\\\",\\\"url\\\":\\\"git+https://github.com/pipecat-ai/pipecat-client-web.git\\\"},\\\"files\\\":[\\\"dist\\\",\\\"package.json\\\",\\\"README.md\\\"],\\\"scripts\\\":{\\\"build\\\":\\\"parcel build --no-cache\\\",\\\"dev\\\":\\\"parcel watch\\\",\\\"lint\\\":\\\"eslint . --report-unused-disable-directives --max-warnings 0 --ignore-pattern 'dist/'\\\"},\\\"devDependencies\\\":{\\\"@pipecat-ai/client-js\\\":\\\"*\\\",\\\"@types/react\\\":\\\"^18.3.3\\\",\\\"@types/react-dom\\\":\\\"^18.3.0\\\",\\\"@typescript-eslint/eslint-plugin\\\":\\\"^8.32.0\\\",\\\"eslint\\\":\\\"^9.11.1\\\",\\\"eslint-config-prettier\\\":\\\"^9.1.0\\\",\\\"eslint-plugin-react-hooks\\\":\\\"^5.2.0\\\",\\\"eslint-plugin-simple-import-sort\\\":\\\"^12.1.1\\\",\\\"parcel\\\":\\\"^2.12.0\\\",\\\"react\\\":\\\"^18.3.1\\\",\\\"react-dom\\\":\\\"^18.3.1\\\",\\\"typescript\\\":\\\"^5.2.2\\\"},\\\"peerDependencies\\\":{\\\"@pipecat-ai/client-js\\\":\\\"*\\\",\\\"react\\\":\\\">=18\\\",\\\"react-dom\\\":\\\">=18\\\"},\\\"dependencies\\\":{\\\"jotai\\\":\\\"^2.9.0\\\"}}\");\n\n\n\nconst $33f16f27e37c90bc$export$fe23d0ef95286467 = /*#__PURE__*/ (0, react__WEBPACK_IMPORTED_MODULE_2__.createContext)({\n    on: ()=>{},\n    off: ()=>{}\n});\n\n\nconst $d2e362c5a07ee3c5$var$defaultStore = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.createStore)();\nconst $d2e362c5a07ee3c5$export$67f6d73bc6cd7bb1 = /*#__PURE__*/ (0, react__WEBPACK_IMPORTED_MODULE_2__.createContext)({});\nconst $d2e362c5a07ee3c5$export$bb43666ced7a20d0 = ({ children: children, client: client, jotaiStore: jotaiStore = $d2e362c5a07ee3c5$var$defaultStore })=>{\n    (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.setAboutClient)({\n            library: (0, $ad20387e24e513d4$exports.name),\n            library_version: (0, $ad20387e24e513d4$exports.version)\n        });\n    }, []);\n    const eventHandlersMap = (0, react__WEBPACK_IMPORTED_MODULE_2__.useRef)({});\n    (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!client) return;\n        const allEvents = Object.values((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent)).filter((value)=>isNaN(Number(value)));\n        const allHandlers = {};\n        allEvents.forEach((event)=>{\n            const handler = (...payload)=>{\n                const handlers = eventHandlersMap.current[event];\n                if (!handlers) return;\n                handlers.forEach((h)=>{\n                    h(...payload);\n                });\n            };\n            allHandlers[event] = handler;\n            client.on(event, handler);\n        });\n        return ()=>{\n            allEvents.forEach((event)=>{\n                client.off(event, allHandlers[event]);\n            });\n        };\n    }, [\n        client\n    ]);\n    const on = (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((event, handler)=>{\n        if (!eventHandlersMap.current[event]) eventHandlersMap.current[event] = new Set();\n        eventHandlersMap.current[event].add(handler);\n    }, []);\n    const off = (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((event, handler)=>{\n        eventHandlersMap.current[event]?.delete(handler);\n    }, []);\n    return (0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((0, jotai_react__WEBPACK_IMPORTED_MODULE_4__.Provider), {\n        store: jotaiStore,\n        children: (0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)($d2e362c5a07ee3c5$export$67f6d73bc6cd7bb1.Provider, {\n            value: {\n                client: client\n            },\n            children: (0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((0, $33f16f27e37c90bc$export$fe23d0ef95286467).Provider, {\n                value: {\n                    on: on,\n                    off: off\n                },\n                children: children\n            })\n        })\n    });\n};\n$d2e362c5a07ee3c5$export$bb43666ced7a20d0.displayName = \"PipecatClientProvider\";\n\n\nconst $034a56e7ee1b7bed$export$777fa8498be78705 = ()=>{\n    const { client: client } = (0, react__WEBPACK_IMPORTED_MODULE_2__.useContext)((0, $d2e362c5a07ee3c5$export$67f6d73bc6cd7bb1));\n    return client;\n};\n\n\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \n\nconst $824ea64b5f757259$export$33a6ac53b8f02625 = (event, handler)=>{\n    const { on: on, off: off } = (0, react__WEBPACK_IMPORTED_MODULE_2__.useContext)((0, $33f16f27e37c90bc$export$fe23d0ef95286467));\n    (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        on(event, handler);\n        return ()=>{\n            off(event, handler);\n        };\n    }, [\n        event,\n        handler,\n        on,\n        off\n    ]);\n};\n\n\nconst $4b4b9099cdb5b776$var$localAudioTrackAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)(null);\nconst $4b4b9099cdb5b776$var$localVideoTrackAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)(null);\nconst $4b4b9099cdb5b776$var$localScreenAudioTrackAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)(null);\nconst $4b4b9099cdb5b776$var$localScreenVideoTrackAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)(null);\nconst $4b4b9099cdb5b776$var$botAudioTrackAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)(null);\nconst $4b4b9099cdb5b776$var$botVideoTrackAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)(null);\nconst $4b4b9099cdb5b776$var$trackAtom = (0, jotai_utils__WEBPACK_IMPORTED_MODULE_5__.atomFamily)(({ local: local, trackType: trackType })=>{\n    if (local) switch(trackType){\n        case \"audio\":\n            return $4b4b9099cdb5b776$var$localAudioTrackAtom;\n        case \"screenAudio\":\n            return $4b4b9099cdb5b776$var$localScreenAudioTrackAtom;\n        case \"screenVideo\":\n            return $4b4b9099cdb5b776$var$localScreenVideoTrackAtom;\n        case \"video\":\n            return $4b4b9099cdb5b776$var$localVideoTrackAtom;\n    }\n    return trackType === \"audio\" ? $4b4b9099cdb5b776$var$botAudioTrackAtom : $4b4b9099cdb5b776$var$botVideoTrackAtom;\n});\nconst $4b4b9099cdb5b776$export$9813dcd2d0c26814 = (trackType, participantType)=>{\n    const client = (0, $034a56e7ee1b7bed$export$777fa8498be78705)();\n    const track = (0, jotai_react__WEBPACK_IMPORTED_MODULE_4__.useAtomValue)($4b4b9099cdb5b776$var$trackAtom({\n        local: participantType === \"local\",\n        trackType: trackType\n    }));\n    const updateTrack = (0, jotai_utils__WEBPACK_IMPORTED_MODULE_6__.useAtomCallback)((0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((get, set, track, trackType, local)=>{\n        const atom = $4b4b9099cdb5b776$var$trackAtom({\n            local: local,\n            trackType: trackType\n        });\n        const oldTrack = get(atom);\n        if (oldTrack?.id === track.id) return;\n        set(atom, track);\n    }, []));\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).TrackStarted, (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((track, participant)=>{\n        updateTrack(track, track.kind, Boolean(participant?.local));\n    }, [\n        updateTrack\n    ]));\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).ScreenTrackStarted, (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((track, participant)=>{\n        const trackType = track.kind === \"audio\" ? \"screenAudio\" : \"screenVideo\";\n        updateTrack(track, trackType, Boolean(participant?.local));\n    }, [\n        updateTrack\n    ]));\n    (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!client) return;\n        const tracks = client.tracks();\n        const track = tracks?.[participantType]?.[trackType];\n        if (!track) return;\n        updateTrack(track, trackType, participantType === \"local\");\n    }, [\n        participantType,\n        trackType,\n        updateTrack,\n        client\n    ]);\n    return track;\n};\n\n\n\nconst $f209aa7ddb77dcb2$export$b52250cb73ff4de1 = ()=>{\n    const botAudioRef = (0, react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const botAudioTrack = (0, $4b4b9099cdb5b776$export$9813dcd2d0c26814)(\"audio\", \"bot\");\n    (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!botAudioRef.current || !botAudioTrack) return;\n        if (botAudioRef.current.srcObject) {\n            const oldTrack = botAudioRef.current.srcObject.getAudioTracks()[0];\n            if (oldTrack.id === botAudioTrack.id) return;\n        }\n        botAudioRef.current.srcObject = new MediaStream([\n            botAudioTrack\n        ]);\n    }, [\n        botAudioTrack\n    ]);\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).SpeakerUpdated, (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((speaker)=>{\n        if (!botAudioRef.current) return;\n        if (typeof botAudioRef.current.setSinkId !== \"function\") return;\n        botAudioRef.current.setSinkId(speaker.deviceId);\n    }, []));\n    return (0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment), {\n        children: (0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"audio\", {\n            ref: botAudioRef,\n            autoPlay: true\n        })\n    });\n};\n$f209aa7ddb77dcb2$export$b52250cb73ff4de1.displayName = \"PipecatClientAudio\";\n\n\n\n\n\n\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n */ \n\n\nconst $33f3729bbe9f09df$var$transportStateAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)(\"disconnected\");\nconst $33f3729bbe9f09df$export$30aee278309a867b = ()=>{\n    const [transportState, setTransportState] = (0, jotai_react__WEBPACK_IMPORTED_MODULE_4__.useAtom)($33f3729bbe9f09df$var$transportStateAtom);\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).TransportStateChanged, setTransportState);\n    return transportState;\n};\n\n\nconst $e76ee2f021b54325$export$3ea2601427f0430f = ()=>{\n    const client = (0, $034a56e7ee1b7bed$export$777fa8498be78705)();\n    const [isCamEnabled, setIsCamEnabled] = (0, react__WEBPACK_IMPORTED_MODULE_2__.useState)(client?.isCamEnabled ?? false);\n    const transportState = (0, $33f3729bbe9f09df$export$30aee278309a867b)();\n    // Sync component state with client state initially\n    (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!client || transportState !== \"initialized\" || typeof client.isCamEnabled !== \"boolean\") return;\n        setIsCamEnabled(client.isCamEnabled);\n    }, [\n        client,\n        transportState\n    ]);\n    const enableCam = (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((enabled)=>{\n        setIsCamEnabled(enabled);\n        client?.enableCam?.(enabled);\n    }, [\n        client\n    ]);\n    return {\n        enableCam: enableCam,\n        isCamEnabled: isCamEnabled\n    };\n};\n\n\nconst $7cb2ce2c4cbfb401$export$dc9a029eeca8213f = ({ onCamEnabledChanged: onCamEnabledChanged, disabled: disabled = false, children: children })=>{\n    const { isCamEnabled: isCamEnabled, enableCam: enableCam } = (0, $e76ee2f021b54325$export$3ea2601427f0430f)();\n    const handleToggleCam = (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(()=>{\n        if (disabled) return;\n        const newEnabledState = !isCamEnabled;\n        enableCam(newEnabledState);\n        onCamEnabledChanged?.(newEnabledState);\n    }, [\n        disabled,\n        enableCam,\n        isCamEnabled,\n        onCamEnabledChanged\n    ]);\n    return (0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment), {\n        children: children({\n            isCamEnabled: isCamEnabled,\n            onClick: handleToggleCam,\n            disabled: disabled\n        })\n    });\n};\nvar $7cb2ce2c4cbfb401$export$2e2bcd8739ae039 = $7cb2ce2c4cbfb401$export$dc9a029eeca8213f;\n\n\n\n\n\n\n\nconst $5905c001b0dc8d25$export$388e706586309ef0 = ()=>{\n    const client = (0, $034a56e7ee1b7bed$export$777fa8498be78705)();\n    const [isMicEnabled, setIsMicEnabled] = (0, react__WEBPACK_IMPORTED_MODULE_2__.useState)(client?.isMicEnabled ?? false);\n    const transportState = (0, $33f3729bbe9f09df$export$30aee278309a867b)();\n    // Sync component state with client state initially\n    (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!client || transportState !== \"initialized\" || typeof client.isMicEnabled !== \"boolean\") return;\n        setIsMicEnabled(client.isMicEnabled);\n    }, [\n        client,\n        transportState\n    ]);\n    const enableMic = (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((enabled)=>{\n        setIsMicEnabled(enabled);\n        client?.enableMic?.(enabled);\n    }, [\n        client\n    ]);\n    return {\n        enableMic: enableMic,\n        isMicEnabled: isMicEnabled\n    };\n};\n\n\nconst $2984fdfc31bad375$export$bc8133b69ff660a2 = ({ onMicEnabledChanged: onMicEnabledChanged, disabled: disabled = false, children: children })=>{\n    const { enableMic: enableMic, isMicEnabled: isMicEnabled } = (0, $5905c001b0dc8d25$export$388e706586309ef0)();\n    const handleToggleMic = (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(()=>{\n        if (disabled) return;\n        const newEnabledState = !isMicEnabled;\n        enableMic(newEnabledState);\n        onMicEnabledChanged?.(newEnabledState);\n    }, [\n        disabled,\n        enableMic,\n        isMicEnabled,\n        onMicEnabledChanged\n    ]);\n    return (0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment), {\n        children: children({\n            isMicEnabled: isMicEnabled,\n            onClick: handleToggleMic,\n            disabled: disabled\n        })\n    });\n};\nvar $2984fdfc31bad375$export$2e2bcd8739ae039 = $2984fdfc31bad375$export$bc8133b69ff660a2;\n\n\n\n\n\n/**\n * Copyright (c) 2024, Daily.\n *\n * SPDX-License-Identifier: BSD-2-Clause\n *\n * This file contains code derived from:\n * https://github.com/jaredLunde/react-hook/blob/master/packages/merged-ref/src/index.tsx\n * Original author: Jared Lunde (https://github.com/jaredLunde)\n * Original license: MIT (https://github.com/jaredLunde/react-hook/blob/master/LICENSE)\n */ \nfunction $9098519210cf34e2$var$useMergedRef(...refs) {\n    return (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((element)=>{\n        for(let i = 0; i < refs.length; i++){\n            const ref = refs[i];\n            if (typeof ref === \"function\") ref(element);\n            else if (ref && typeof ref === \"object\") ref.current = element;\n        }\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    refs);\n}\nvar $9098519210cf34e2$export$2e2bcd8739ae039 = $9098519210cf34e2$var$useMergedRef;\n\n\n\nconst $6a65deb8615a2ad7$export$85974db6d0cc43b3 = /*#__PURE__*/ (0, react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(function VoiceClientVideo({ participant: participant = \"local\", fit: fit = \"contain\", mirror: mirror, onResize: onResize, style: style = {}, trackType: trackType = \"video\", ...props }, ref) {\n    const videoTrack = (0, $4b4b9099cdb5b776$export$9813dcd2d0c26814)(trackType, participant);\n    const videoEl = (0, react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const videoRef = (0, $9098519210cf34e2$export$2e2bcd8739ae039)(videoEl, ref);\n    /**\n     * Handle canplay & picture-in-picture events.\n     */ (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function setupVideoEvents() {\n        const video = videoEl.current;\n        if (!video) return;\n        const playVideo = ()=>{\n            const promise = video.play();\n            if (promise !== undefined) promise.then(()=>{\n                // All good, playback started.\n                video.controls = false;\n            }).catch((error)=>{\n                // Auto-play was prevented. Show video controls, so user can play video manually.\n                video.controls = true;\n                console.warn(\"Failed to play video\", error);\n            });\n        };\n        const handleCanPlay = ()=>{\n            if (!video.paused) return;\n            playVideo();\n        };\n        const handleEnterPIP = ()=>{\n            video.style.transform = \"scale(1)\";\n        };\n        const handleLeavePIP = ()=>{\n            video.style.transform = \"\";\n            setTimeout(()=>{\n                if (video.paused) playVideo();\n            }, 100);\n        };\n        const handleVisibilityChange = ()=>{\n            if (document.visibilityState === \"hidden\") return;\n            if (!video.paused) return;\n            playVideo();\n        };\n        video.addEventListener(\"canplay\", handleCanPlay);\n        video.addEventListener(\"enterpictureinpicture\", handleEnterPIP);\n        video.addEventListener(\"leavepictureinpicture\", handleLeavePIP);\n        // Videos can be paused if media was played in another app on iOS.\n        document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n        return ()=>{\n            video.removeEventListener(\"canplay\", handleCanPlay);\n            video.removeEventListener(\"enterpictureinpicture\", handleEnterPIP);\n            video.removeEventListener(\"leavepictureinpicture\", handleLeavePIP);\n            document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n        };\n    }, []);\n    /**\n     * Update srcObject.\n     */ (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function updateSrcObject() {\n        const video = videoEl.current;\n        if (!video || !videoTrack) return;\n        video.srcObject = new MediaStream([\n            videoTrack\n        ]);\n        video.load();\n        return ()=>{\n            // clean up when unmounted\n            video.srcObject = null;\n            video.load();\n        };\n    }, [\n        videoTrack,\n        videoTrack?.id\n    ]);\n    /**\n     * Add optional event listener for resize event so the parent component\n     * can know the video's native aspect ratio.\n     */ (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function reportVideoDimensions() {\n        const video = videoEl.current;\n        if (!onResize || !video) return;\n        let frame;\n        function handleResize() {\n            if (frame) cancelAnimationFrame(frame);\n            frame = requestAnimationFrame(()=>{\n                const video = videoEl.current;\n                if (!video || document.hidden) return;\n                const videoWidth = video.videoWidth;\n                const videoHeight = video.videoHeight;\n                if (videoWidth && videoHeight) onResize?.({\n                    aspectRatio: videoWidth / videoHeight,\n                    height: videoHeight,\n                    width: videoWidth\n                });\n            });\n        }\n        handleResize();\n        video.addEventListener(\"loadedmetadata\", handleResize);\n        video.addEventListener(\"resize\", handleResize);\n        return ()=>{\n            if (frame) cancelAnimationFrame(frame);\n            video.removeEventListener(\"loadedmetadata\", handleResize);\n            video.removeEventListener(\"resize\", handleResize);\n        };\n    }, [\n        onResize\n    ]);\n    return (0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"video\", {\n        autoPlay: true,\n        muted: true,\n        playsInline: true,\n        ref: videoRef,\n        style: {\n            objectFit: fit,\n            transform: mirror ? \"scale(-1, 1)\" : \"\",\n            ...style\n        },\n        ...props\n    });\n});\n$6a65deb8615a2ad7$export$85974db6d0cc43b3.displayName = \"PipecatClientVideo\";\n\n\n\n\n\n\n\n\n\n\nconst $f934f1f8b10aaf19$var$availableMicsAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)([]);\nconst $f934f1f8b10aaf19$var$availableCamsAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)([]);\nconst $f934f1f8b10aaf19$var$availableSpeakersAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)([]);\nconst $f934f1f8b10aaf19$var$selectedMicAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)({});\nconst $f934f1f8b10aaf19$var$selectedCamAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)({});\nconst $f934f1f8b10aaf19$var$selectedSpeakerAtom = (0, jotai__WEBPACK_IMPORTED_MODULE_3__.atom)({});\nconst $f934f1f8b10aaf19$export$642bc4d2d2a376f1 = ()=>{\n    const client = (0, $034a56e7ee1b7bed$export$777fa8498be78705)();\n    const availableCams = (0, jotai_react__WEBPACK_IMPORTED_MODULE_4__.useAtomValue)($f934f1f8b10aaf19$var$availableCamsAtom);\n    const availableMics = (0, jotai_react__WEBPACK_IMPORTED_MODULE_4__.useAtomValue)($f934f1f8b10aaf19$var$availableMicsAtom);\n    const availableSpeakers = (0, jotai_react__WEBPACK_IMPORTED_MODULE_4__.useAtomValue)($f934f1f8b10aaf19$var$availableSpeakersAtom);\n    const selectedCam = (0, jotai_react__WEBPACK_IMPORTED_MODULE_4__.useAtomValue)($f934f1f8b10aaf19$var$selectedCamAtom);\n    const selectedMic = (0, jotai_react__WEBPACK_IMPORTED_MODULE_4__.useAtomValue)($f934f1f8b10aaf19$var$selectedMicAtom);\n    const selectedSpeaker = (0, jotai_react__WEBPACK_IMPORTED_MODULE_4__.useAtomValue)($f934f1f8b10aaf19$var$selectedSpeakerAtom);\n    const initDevices = (0, jotai_utils__WEBPACK_IMPORTED_MODULE_6__.useAtomCallback)((0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(async (_get, set)=>{\n        if (!client) return;\n        const availableCams = await client.getAllCams();\n        const availableMics = await client.getAllMics();\n        const availableSpeakers = await client.getAllSpeakers();\n        set($f934f1f8b10aaf19$var$availableCamsAtom, availableCams);\n        set($f934f1f8b10aaf19$var$availableMicsAtom, availableMics);\n        set($f934f1f8b10aaf19$var$availableSpeakersAtom, availableSpeakers);\n        set($f934f1f8b10aaf19$var$selectedCamAtom, client.selectedCam);\n        set($f934f1f8b10aaf19$var$selectedMicAtom, client.selectedMic);\n        set($f934f1f8b10aaf19$var$selectedSpeakerAtom, client.selectedSpeaker);\n    }, [\n        client\n    ]));\n    (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        initDevices();\n    }, [\n        initDevices\n    ]);\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).AvailableCamsUpdated, (0, jotai_utils__WEBPACK_IMPORTED_MODULE_6__.useAtomCallback)((0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((_get, set, cams)=>{\n        set($f934f1f8b10aaf19$var$availableCamsAtom, cams);\n    }, [])));\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).AvailableMicsUpdated, (0, jotai_utils__WEBPACK_IMPORTED_MODULE_6__.useAtomCallback)((0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((_get, set, mics)=>{\n        set($f934f1f8b10aaf19$var$availableMicsAtom, mics);\n    }, [])));\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).AvailableSpeakersUpdated, (0, jotai_utils__WEBPACK_IMPORTED_MODULE_6__.useAtomCallback)((0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((_get, set, speakers)=>{\n        set($f934f1f8b10aaf19$var$availableSpeakersAtom, speakers);\n    }, [])));\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).CamUpdated, (0, jotai_utils__WEBPACK_IMPORTED_MODULE_6__.useAtomCallback)((0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((_get, set, cam)=>{\n        set($f934f1f8b10aaf19$var$selectedCamAtom, cam);\n    }, [])));\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).MicUpdated, (0, jotai_utils__WEBPACK_IMPORTED_MODULE_6__.useAtomCallback)((0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((_get, set, mic)=>{\n        set($f934f1f8b10aaf19$var$selectedMicAtom, mic);\n    }, [])));\n    (0, $824ea64b5f757259$export$33a6ac53b8f02625)((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIEvent).SpeakerUpdated, (0, jotai_utils__WEBPACK_IMPORTED_MODULE_6__.useAtomCallback)((0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((_get, set, speaker)=>{\n        set($f934f1f8b10aaf19$var$selectedSpeakerAtom, speaker);\n    }, [])));\n    const updateCam = (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((id)=>{\n        client?.updateCam(id);\n    }, [\n        client\n    ]);\n    const updateMic = (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((id)=>{\n        client?.updateMic(id);\n    }, [\n        client\n    ]);\n    const updateSpeaker = (0, react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((id)=>{\n        client?.updateSpeaker(id);\n    }, [\n        client\n    ]);\n    return {\n        availableCams: availableCams,\n        availableMics: availableMics,\n        availableSpeakers: availableSpeakers,\n        selectedCam: selectedCam,\n        selectedMic: selectedMic,\n        selectedSpeaker: selectedSpeaker,\n        updateCam: updateCam,\n        updateMic: updateMic,\n        updateSpeaker: updateSpeaker\n    };\n};\n\n\n\n\n\n\n\n\n\nconst $993a744193844a95$export$59bf27bd43679db6 = /*#__PURE__*/ (0, (react__WEBPACK_IMPORTED_MODULE_2___default())).memo(({ backgroundColor: backgroundColor = \"transparent\", barColor: barColor = \"black\", barCount: barCount = 5, barGap: barGap = 12, barLineCap: barLineCap = \"round\", barMaxHeight: barMaxHeight = 120, barOrigin: barOrigin = \"center\", barWidth: barWidth = 30, participantType: participantType })=>{\n    const canvasRef = (0, react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const track = (0, $4b4b9099cdb5b776$export$9813dcd2d0c26814)(\"audio\", participantType);\n    (0, react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!canvasRef.current) return;\n        const canvasWidth = barCount * barWidth + (barCount - 1) * barGap;\n        const canvasHeight = barMaxHeight;\n        const canvas = canvasRef.current;\n        const scaleFactor = 2;\n        // Make canvas fill the width and height of its container\n        const resizeCanvas = ()=>{\n            canvas.width = canvasWidth * scaleFactor;\n            canvas.height = canvasHeight * scaleFactor;\n            canvas.style.width = `${canvasWidth}px`;\n            canvas.style.height = `${canvasHeight}px`;\n            canvasCtx.lineCap = barLineCap;\n            canvasCtx.scale(scaleFactor, scaleFactor);\n        };\n        const canvasCtx = canvas.getContext(\"2d\");\n        resizeCanvas();\n        if (!track) return;\n        const audioContext = new AudioContext();\n        const source = audioContext.createMediaStreamSource(new MediaStream([\n            track\n        ]));\n        const analyser = audioContext.createAnalyser();\n        analyser.fftSize = 1024;\n        source.connect(analyser);\n        const frequencyData = new Uint8Array(analyser.frequencyBinCount);\n        canvasCtx.lineCap = barLineCap;\n        // Create frequency bands based on barCount\n        const bands = Array.from({\n            length: barCount\n        }, (_, i)=>{\n            // Use improved logarithmic scale for better frequency distribution\n            const minFreq = barCount > 20 ? 200 : 80; // Adjust min frequency based on bar count\n            const maxFreq = 10000; // Cover most important audio frequencies\n            // Use Mel scale inspired approach for more perceptually uniform distribution\n            // This helps with a large number of bars by placing fewer in the very low range\n            // https://en.wikipedia.org/wiki/Mel_scale\n            const melMin = 2595 * Math.log10(1 + minFreq / 700);\n            const melMax = 2595 * Math.log10(1 + maxFreq / 700);\n            const melStep = (melMax - melMin) / barCount;\n            const melValue = melMin + i * melStep;\n            const startFreq = 700 * (Math.pow(10, melValue / 2595) - 1);\n            const endFreq = 700 * (Math.pow(10, (melValue + melStep) / 2595) - 1);\n            return {\n                startFreq: startFreq,\n                endFreq: endFreq,\n                smoothValue: 0\n            };\n        });\n        const getFrequencyBinIndex = (frequency)=>{\n            const nyquist = audioContext.sampleRate / 2;\n            return Math.round(frequency / nyquist * (analyser.frequencyBinCount - 1));\n        };\n        function drawSpectrum() {\n            analyser.getByteFrequencyData(frequencyData);\n            canvasCtx.clearRect(0, 0, canvas.width / scaleFactor, canvas.height / scaleFactor);\n            canvasCtx.fillStyle = backgroundColor;\n            canvasCtx.fillRect(0, 0, canvas.width / scaleFactor, canvas.height / scaleFactor);\n            let isActive = false;\n            const totalBarsWidth = bands.length * barWidth + (bands.length - 1) * barGap;\n            const startX = (canvas.width / scaleFactor - totalBarsWidth) / 2; // Center bars\n            const adjustedCircleRadius = barWidth / 2; // Fixed radius for reset circles\n            bands.forEach((band, i)=>{\n                const startIndex = getFrequencyBinIndex(band.startFreq);\n                const endIndex = getFrequencyBinIndex(band.endFreq);\n                const bandData = frequencyData.slice(startIndex, endIndex);\n                const bandValue = bandData.reduce((acc, val)=>acc + val, 0) / bandData.length;\n                const smoothingFactor = 0.2;\n                if (bandValue < 1) band.smoothValue = Math.max(band.smoothValue - smoothingFactor * 5, 0);\n                else {\n                    band.smoothValue = band.smoothValue + (bandValue - band.smoothValue) * smoothingFactor;\n                    isActive = true;\n                }\n                const x = startX + i * (barWidth + barGap);\n                // Calculate bar height with a maximum cap\n                const minHeight = 0;\n                const barHeight = Math.max(minHeight, Math.min(band.smoothValue / 255 * barMaxHeight, barMaxHeight));\n                let yTop, yBottom;\n                const canvasHeight = canvas.height / scaleFactor;\n                switch(barOrigin){\n                    case \"top\":\n                        yTop = adjustedCircleRadius;\n                        yBottom = Math.min(adjustedCircleRadius + barHeight, canvasHeight - adjustedCircleRadius);\n                        break;\n                    case \"bottom\":\n                        yBottom = canvasHeight - adjustedCircleRadius;\n                        yTop = Math.max(yBottom - barHeight, adjustedCircleRadius);\n                        break;\n                    case \"center\":\n                    default:\n                        yTop = Math.max(canvasHeight / 2 - barHeight / 2, adjustedCircleRadius);\n                        yBottom = Math.min(canvasHeight / 2 + barHeight / 2, canvasHeight - adjustedCircleRadius);\n                        break;\n                }\n                if (band.smoothValue > 0) {\n                    canvasCtx.beginPath();\n                    canvasCtx.moveTo(x + barWidth / 2, yTop);\n                    canvasCtx.lineTo(x + barWidth / 2, yBottom);\n                    canvasCtx.lineWidth = barWidth;\n                    canvasCtx.strokeStyle = barColor;\n                    canvasCtx.stroke();\n                } else drawInactiveCircle(adjustedCircleRadius, barColor, x, yTop);\n            });\n            if (!isActive) drawInactiveCircles(adjustedCircleRadius, barColor);\n            requestAnimationFrame(drawSpectrum);\n        }\n        function drawInactiveCircle(circleRadius, color, x, y) {\n            switch(barLineCap){\n                case \"square\":\n                    canvasCtx.fillStyle = color;\n                    canvasCtx.fillRect(x + barWidth / 2 - circleRadius, y - circleRadius, circleRadius * 2, circleRadius * 2);\n                    break;\n                case \"round\":\n                default:\n                    canvasCtx.beginPath();\n                    canvasCtx.arc(x + barWidth / 2, y, circleRadius, 0, 2 * Math.PI);\n                    canvasCtx.fillStyle = color;\n                    canvasCtx.fill();\n                    canvasCtx.closePath();\n                    break;\n            }\n        }\n        function drawInactiveCircles(circleRadius, color) {\n            const totalBarsWidth = bands.length * barWidth + (bands.length - 1) * barGap;\n            const startX = (canvas.width / scaleFactor - totalBarsWidth) / 2;\n            const canvasHeight = canvas.height / scaleFactor;\n            let y;\n            switch(barOrigin){\n                case \"top\":\n                    y = circleRadius;\n                    break;\n                case \"bottom\":\n                    y = canvasHeight - circleRadius;\n                    break;\n                case \"center\":\n                default:\n                    y = canvasHeight / 2;\n                    break;\n            }\n            bands.forEach((_, i)=>{\n                const x = startX + i * (barWidth + barGap);\n                drawInactiveCircle(circleRadius, color, x, y);\n            });\n        }\n        drawSpectrum();\n        // Handle resizing\n        window.addEventListener(\"resize\", resizeCanvas);\n        return ()=>{\n            audioContext.close();\n            window.removeEventListener(\"resize\", resizeCanvas);\n        };\n    }, [\n        backgroundColor,\n        barColor,\n        barCount,\n        barGap,\n        barLineCap,\n        barMaxHeight,\n        barOrigin,\n        barWidth,\n        track\n    ]);\n    return (0, react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"canvas\", {\n        ref: canvasRef,\n        style: {\n            display: \"block\",\n            width: \"100%\",\n            height: \"100%\"\n        }\n    });\n});\n$993a744193844a95$export$59bf27bd43679db6.displayName = \"VoiceVisualizer\";\n\n\n\n\n\n//# sourceMappingURL=index.module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BwaXBlY2F0LWFpL2NsaWVudC1yZWFjdC9kaXN0L2luZGV4Lm1vZHVsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlGO0FBQzRCO0FBQ3VKO0FBQ3ZIO0FBQ3RDO0FBQy9DOztBQUV4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQSx5Q0FBeUMsa09BQWtPLHNGQUFzRixrRUFBa0Usa0tBQWtLLHNCQUFzQix1WUFBdVksdUJBQXVCLDBFQUEwRSxtQkFBbUIsc0JBQXNCOzs7O0FBSTVtQyxvRUFBb0UsZ0RBQW9CO0FBQ3hGLGNBQWM7QUFDZDtBQUNBLENBQUM7OztBQUdELCtDQUErQyw4Q0FBa0I7QUFDakUsb0VBQW9FLGdEQUFvQixJQUFJO0FBQzVGLHFEQUFxRCxpR0FBaUc7QUFDdEosUUFBUSw0Q0FBZ0I7QUFDeEIsWUFBWSxpRUFBcUI7QUFDakM7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0wsaUNBQWlDLHlDQUFhLElBQUk7QUFDbEQsUUFBUSw0Q0FBZ0I7QUFDeEI7QUFDQSw0Q0FBNEMsNERBQWdCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG1CQUFtQiw4Q0FBa0I7QUFDckM7QUFDQTtBQUNBLEtBQUs7QUFDTCxvQkFBb0IsOENBQWtCO0FBQ3RDO0FBQ0EsS0FBSztBQUNMLGVBQWUsa0RBQVUsTUFBTSxpREFBZTtBQUM5QztBQUNBLHNCQUFzQixrREFBVTtBQUNoQztBQUNBO0FBQ0EsYUFBYTtBQUNiLDBCQUEwQixrREFBVTtBQUNwQztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBOzs7QUFHQTtBQUNBLFlBQVksaUJBQWlCLE1BQU0sNkNBQWlCO0FBQ3BEO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZLG1CQUFtQixNQUFNLDZDQUFpQjtBQUN0RCxRQUFRLDRDQUFnQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLHNEQUFzRCx1Q0FBVztBQUNqRSxzREFBc0QsdUNBQVc7QUFDakUsNERBQTRELHVDQUFXO0FBQ3ZFLDREQUE0RCx1Q0FBVztBQUN2RSxvREFBb0QsdUNBQVc7QUFDL0Qsb0RBQW9ELHVDQUFXO0FBQy9ELDRDQUE0QyxtREFBaUIsS0FBSyxvQ0FBb0M7QUFDdEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0Esc0JBQXNCLHFEQUFtQjtBQUN6QztBQUNBO0FBQ0EsS0FBSztBQUNMLDRCQUE0Qix3REFBc0IsTUFBTSw4Q0FBa0I7QUFDMUU7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx1REFBdUQsNERBQWdCLG9CQUFvQiw4Q0FBa0I7QUFDN0c7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHVEQUF1RCw0REFBZ0IsMEJBQTBCLDhDQUFrQjtBQUNuSDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxRQUFRLDRDQUFnQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQSw0QkFBNEIseUNBQWE7QUFDekM7QUFDQSxRQUFRLDRDQUFnQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx1REFBdUQsNERBQWdCLHNCQUFzQiw4Q0FBa0I7QUFDL0c7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGVBQWUsa0RBQVUsTUFBTSx1REFBZTtBQUM5QyxzQkFBc0Isa0RBQVU7QUFDaEM7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLHFEQUFxRCx1Q0FBVztBQUNoRTtBQUNBLG9EQUFvRCxnREFBYztBQUNsRSx1REFBdUQsNERBQWdCO0FBQ3ZFO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSxnREFBZ0QsMkNBQWU7QUFDL0Q7QUFDQTtBQUNBLFFBQVEsNENBQWdCO0FBQ3hCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDhDQUFrQjtBQUM1QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxxREFBcUQsMEZBQTBGO0FBQy9JLFlBQVksbURBQW1EO0FBQy9ELGdDQUFnQyw4Q0FBa0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0RBQVUsTUFBTSx1REFBZTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0EsZ0RBQWdELDJDQUFlO0FBQy9EO0FBQ0E7QUFDQSxRQUFRLDRDQUFnQjtBQUN4QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw4Q0FBa0I7QUFDNUM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0EscURBQXFELDBGQUEwRjtBQUMvSSxZQUFZLG1EQUFtRDtBQUMvRCxnQ0FBZ0MsOENBQWtCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtEQUFVLE1BQU0sdURBQWU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDhDQUFrQjtBQUNqQyx1QkFBdUIsaUJBQWlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7OztBQUlBLG9FQUFvRSw2Q0FBaUIsOEJBQThCLCtHQUErRyw0Q0FBNEM7QUFDOVE7QUFDQSx3QkFBd0IseUNBQWE7QUFDckM7QUFDQTtBQUNBO0FBQ0EsWUFBWSw0Q0FBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZLDRDQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNENBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZUFBZSxrREFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMLENBQUM7QUFDRDs7Ozs7Ozs7Ozs7QUFXQSxvREFBb0QsdUNBQVc7QUFDL0Qsb0RBQW9ELHVDQUFXO0FBQy9ELHdEQUF3RCx1Q0FBVztBQUNuRSxrREFBa0QsdUNBQVcsSUFBSTtBQUNqRSxrREFBa0QsdUNBQVcsSUFBSTtBQUNqRSxzREFBc0QsdUNBQVcsSUFBSTtBQUNyRTtBQUNBO0FBQ0EsOEJBQThCLHFEQUFtQjtBQUNqRCw4QkFBOEIscURBQW1CO0FBQ2pELGtDQUFrQyxxREFBbUI7QUFDckQsNEJBQTRCLHFEQUFtQjtBQUMvQyw0QkFBNEIscURBQW1CO0FBQy9DLGdDQUFnQyxxREFBbUI7QUFDbkQsNEJBQTRCLHdEQUFzQixNQUFNLDhDQUFrQjtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsUUFBUSw0Q0FBZ0I7QUFDeEI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHVEQUF1RCw0REFBZ0IsNEJBQTRCLHdEQUFzQixNQUFNLDhDQUFrQjtBQUNqSjtBQUNBLEtBQUs7QUFDTCx1REFBdUQsNERBQWdCLDRCQUE0Qix3REFBc0IsTUFBTSw4Q0FBa0I7QUFDako7QUFDQSxLQUFLO0FBQ0wsdURBQXVELDREQUFnQixnQ0FBZ0Msd0RBQXNCLE1BQU0sOENBQWtCO0FBQ3JKO0FBQ0EsS0FBSztBQUNMLHVEQUF1RCw0REFBZ0Isa0JBQWtCLHdEQUFzQixNQUFNLDhDQUFrQjtBQUN2STtBQUNBLEtBQUs7QUFDTCx1REFBdUQsNERBQWdCLGtCQUFrQix3REFBc0IsTUFBTSw4Q0FBa0I7QUFDdkk7QUFDQSxLQUFLO0FBQ0wsdURBQXVELDREQUFnQixzQkFBc0Isd0RBQXNCLE1BQU0sOENBQWtCO0FBQzNJO0FBQ0EsS0FBSztBQUNMLDBCQUEwQiw4Q0FBa0I7QUFDNUM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDBCQUEwQiw4Q0FBa0I7QUFDNUM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDhCQUE4Qiw4Q0FBa0I7QUFDaEQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQVVBLG9FQUFvRSw4Q0FBWSxVQUFVLDZSQUE2UjtBQUN2WCwwQkFBMEIseUNBQWE7QUFDdkM7QUFDQSxRQUFRLDRDQUFnQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsWUFBWTtBQUNoRCxxQ0FBcUMsYUFBYTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxzREFBc0Q7QUFDdEQsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RTtBQUM5RSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0RBQVU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUM7QUFDRDs7Ozs7QUFLeTRCO0FBQ3o0QiIsInNvdXJjZXMiOlsiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvbm9kZV9tb2R1bGVzL0BwaXBlY2F0LWFpL2NsaWVudC1yZWFjdC9kaXN0L2luZGV4Lm1vZHVsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2pzeCBhcyAkaDlsWHokanN4LCBGcmFnbWVudCBhcyAkaDlsWHokRnJhZ21lbnR9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuaW1wb3J0IHtSVFZJRXZlbnQgYXMgJGg5bFh6JFJUVklFdmVudCwgc2V0QWJvdXRDbGllbnQgYXMgJGg5bFh6JHNldEFib3V0Q2xpZW50fSBmcm9tIFwiQHBpcGVjYXQtYWkvY2xpZW50LWpzXCI7XG5pbXBvcnQgJGg5bFh6JHJlYWN0LCB7dXNlUmVmIGFzICRoOWxYeiR1c2VSZWYsIHVzZUVmZmVjdCBhcyAkaDlsWHokdXNlRWZmZWN0LCB1c2VDYWxsYmFjayBhcyAkaDlsWHokdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQgYXMgJGg5bFh6JHVzZUNvbnRleHQsIGNyZWF0ZUNvbnRleHQgYXMgJGg5bFh6JGNyZWF0ZUNvbnRleHQsIHVzZVN0YXRlIGFzICRoOWxYeiR1c2VTdGF0ZSwgZm9yd2FyZFJlZiBhcyAkaDlsWHokZm9yd2FyZFJlZn0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge2F0b20gYXMgJGg5bFh6JGF0b20sIHVzZUF0b21WYWx1ZSBhcyAkaDlsWHokdXNlQXRvbVZhbHVlLCBjcmVhdGVTdG9yZSBhcyAkaDlsWHokY3JlYXRlU3RvcmUsIHVzZUF0b20gYXMgJGg5bFh6JHVzZUF0b219IGZyb20gXCJqb3RhaVwiO1xuaW1wb3J0IHthdG9tRmFtaWx5IGFzICRoOWxYeiRhdG9tRmFtaWx5LCB1c2VBdG9tQ2FsbGJhY2sgYXMgJGg5bFh6JHVzZUF0b21DYWxsYmFja30gZnJvbSBcImpvdGFpL3V0aWxzXCI7XG5pbXBvcnQge1Byb3ZpZGVyIGFzICRoOWxYeiRQcm92aWRlcn0gZnJvbSBcImpvdGFpL3JlYWN0XCI7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDI0LCBEYWlseS5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTItQ2xhdXNlXG4gKi8gXG5cblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjQsIERhaWx5LlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMi1DbGF1c2VcbiAqLyBcblxuXG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDI0LCBEYWlseS5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTItQ2xhdXNlXG4gKi8gXG5cblxuXG5cblxudmFyICRhZDIwMzg3ZTI0ZTUxM2Q0JGV4cG9ydHMgPSB7fTtcbiRhZDIwMzg3ZTI0ZTUxM2Q0JGV4cG9ydHMgPSBKU09OLnBhcnNlKFwie1xcXCJuYW1lXFxcIjpcXFwiQHBpcGVjYXQtYWkvY2xpZW50LXJlYWN0XFxcIixcXFwidmVyc2lvblxcXCI6XFxcIjEuMC4wXFxcIixcXFwibGljZW5zZVxcXCI6XFxcIkJTRC0yLUNsYXVzZVxcXCIsXFxcIm1haW5cXFwiOlxcXCJkaXN0L2luZGV4LmpzXFxcIixcXFwibW9kdWxlXFxcIjpcXFwiZGlzdC9pbmRleC5tb2R1bGUuanNcXFwiLFxcXCJ0eXBlc1xcXCI6XFxcImRpc3QvaW5kZXguZC50c1xcXCIsXFxcInNvdXJjZVxcXCI6XFxcInNyYy9pbmRleC50c1xcXCIsXFxcInJlcG9zaXRvcnlcXFwiOntcXFwidHlwZVxcXCI6XFxcImdpdFxcXCIsXFxcInVybFxcXCI6XFxcImdpdCtodHRwczovL2dpdGh1Yi5jb20vcGlwZWNhdC1haS9waXBlY2F0LWNsaWVudC13ZWIuZ2l0XFxcIn0sXFxcImZpbGVzXFxcIjpbXFxcImRpc3RcXFwiLFxcXCJwYWNrYWdlLmpzb25cXFwiLFxcXCJSRUFETUUubWRcXFwiXSxcXFwic2NyaXB0c1xcXCI6e1xcXCJidWlsZFxcXCI6XFxcInBhcmNlbCBidWlsZCAtLW5vLWNhY2hlXFxcIixcXFwiZGV2XFxcIjpcXFwicGFyY2VsIHdhdGNoXFxcIixcXFwibGludFxcXCI6XFxcImVzbGludCAuIC0tcmVwb3J0LXVudXNlZC1kaXNhYmxlLWRpcmVjdGl2ZXMgLS1tYXgtd2FybmluZ3MgMCAtLWlnbm9yZS1wYXR0ZXJuICdkaXN0LydcXFwifSxcXFwiZGV2RGVwZW5kZW5jaWVzXFxcIjp7XFxcIkBwaXBlY2F0LWFpL2NsaWVudC1qc1xcXCI6XFxcIipcXFwiLFxcXCJAdHlwZXMvcmVhY3RcXFwiOlxcXCJeMTguMy4zXFxcIixcXFwiQHR5cGVzL3JlYWN0LWRvbVxcXCI6XFxcIl4xOC4zLjBcXFwiLFxcXCJAdHlwZXNjcmlwdC1lc2xpbnQvZXNsaW50LXBsdWdpblxcXCI6XFxcIl44LjMyLjBcXFwiLFxcXCJlc2xpbnRcXFwiOlxcXCJeOS4xMS4xXFxcIixcXFwiZXNsaW50LWNvbmZpZy1wcmV0dGllclxcXCI6XFxcIl45LjEuMFxcXCIsXFxcImVzbGludC1wbHVnaW4tcmVhY3QtaG9va3NcXFwiOlxcXCJeNS4yLjBcXFwiLFxcXCJlc2xpbnQtcGx1Z2luLXNpbXBsZS1pbXBvcnQtc29ydFxcXCI6XFxcIl4xMi4xLjFcXFwiLFxcXCJwYXJjZWxcXFwiOlxcXCJeMi4xMi4wXFxcIixcXFwicmVhY3RcXFwiOlxcXCJeMTguMy4xXFxcIixcXFwicmVhY3QtZG9tXFxcIjpcXFwiXjE4LjMuMVxcXCIsXFxcInR5cGVzY3JpcHRcXFwiOlxcXCJeNS4yLjJcXFwifSxcXFwicGVlckRlcGVuZGVuY2llc1xcXCI6e1xcXCJAcGlwZWNhdC1haS9jbGllbnQtanNcXFwiOlxcXCIqXFxcIixcXFwicmVhY3RcXFwiOlxcXCI+PTE4XFxcIixcXFwicmVhY3QtZG9tXFxcIjpcXFwiPj0xOFxcXCJ9LFxcXCJkZXBlbmRlbmNpZXNcXFwiOntcXFwiam90YWlcXFwiOlxcXCJeMi45LjBcXFwifX1cIik7XG5cblxuXG5jb25zdCAkMzNmMTZmMjdlMzdjOTBiYyRleHBvcnQkZmUyM2QwZWY5NTI4NjQ2NyA9IC8qI19fUFVSRV9fKi8gKDAsICRoOWxYeiRjcmVhdGVDb250ZXh0KSh7XG4gICAgb246ICgpPT57fSxcbiAgICBvZmY6ICgpPT57fVxufSk7XG5cblxuY29uc3QgJGQyZTM2MmM1YTA3ZWUzYzUkdmFyJGRlZmF1bHRTdG9yZSA9ICgwLCAkaDlsWHokY3JlYXRlU3RvcmUpKCk7XG5jb25zdCAkZDJlMzYyYzVhMDdlZTNjNSRleHBvcnQkNjdmNmQ3M2JjNmNkN2JiMSA9IC8qI19fUFVSRV9fKi8gKDAsICRoOWxYeiRjcmVhdGVDb250ZXh0KSh7fSk7XG5jb25zdCAkZDJlMzYyYzVhMDdlZTNjNSRleHBvcnQkYmI0MzY2NmNlZDdhMjBkMCA9ICh7IGNoaWxkcmVuOiBjaGlsZHJlbiwgY2xpZW50OiBjbGllbnQsIGpvdGFpU3RvcmU6IGpvdGFpU3RvcmUgPSAkZDJlMzYyYzVhMDdlZTNjNSR2YXIkZGVmYXVsdFN0b3JlIH0pPT57XG4gICAgKDAsICRoOWxYeiR1c2VFZmZlY3QpKCgpPT57XG4gICAgICAgICgwLCAkaDlsWHokc2V0QWJvdXRDbGllbnQpKHtcbiAgICAgICAgICAgIGxpYnJhcnk6ICgwLCAkYWQyMDM4N2UyNGU1MTNkNCRleHBvcnRzLm5hbWUpLFxuICAgICAgICAgICAgbGlicmFyeV92ZXJzaW9uOiAoMCwgJGFkMjAzODdlMjRlNTEzZDQkZXhwb3J0cy52ZXJzaW9uKVxuICAgICAgICB9KTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgZXZlbnRIYW5kbGVyc01hcCA9ICgwLCAkaDlsWHokdXNlUmVmKSh7fSk7XG4gICAgKDAsICRoOWxYeiR1c2VFZmZlY3QpKCgpPT57XG4gICAgICAgIGlmICghY2xpZW50KSByZXR1cm47XG4gICAgICAgIGNvbnN0IGFsbEV2ZW50cyA9IE9iamVjdC52YWx1ZXMoKDAsICRoOWxYeiRSVFZJRXZlbnQpKS5maWx0ZXIoKHZhbHVlKT0+aXNOYU4oTnVtYmVyKHZhbHVlKSkpO1xuICAgICAgICBjb25zdCBhbGxIYW5kbGVycyA9IHt9O1xuICAgICAgICBhbGxFdmVudHMuZm9yRWFjaCgoZXZlbnQpPT57XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gKC4uLnBheWxvYWQpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlcnMgPSBldmVudEhhbmRsZXJzTWFwLmN1cnJlbnRbZXZlbnRdO1xuICAgICAgICAgICAgICAgIGlmICghaGFuZGxlcnMpIHJldHVybjtcbiAgICAgICAgICAgICAgICBoYW5kbGVycy5mb3JFYWNoKChoKT0+e1xuICAgICAgICAgICAgICAgICAgICBoKC4uLnBheWxvYWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFsbEhhbmRsZXJzW2V2ZW50XSA9IGhhbmRsZXI7XG4gICAgICAgICAgICBjbGllbnQub24oZXZlbnQsIGhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICgpPT57XG4gICAgICAgICAgICBhbGxFdmVudHMuZm9yRWFjaCgoZXZlbnQpPT57XG4gICAgICAgICAgICAgICAgY2xpZW50Lm9mZihldmVudCwgYWxsSGFuZGxlcnNbZXZlbnRdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH0sIFtcbiAgICAgICAgY2xpZW50XG4gICAgXSk7XG4gICAgY29uc3Qgb24gPSAoMCwgJGg5bFh6JHVzZUNhbGxiYWNrKSgoZXZlbnQsIGhhbmRsZXIpPT57XG4gICAgICAgIGlmICghZXZlbnRIYW5kbGVyc01hcC5jdXJyZW50W2V2ZW50XSkgZXZlbnRIYW5kbGVyc01hcC5jdXJyZW50W2V2ZW50XSA9IG5ldyBTZXQoKTtcbiAgICAgICAgZXZlbnRIYW5kbGVyc01hcC5jdXJyZW50W2V2ZW50XS5hZGQoaGFuZGxlcik7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IG9mZiA9ICgwLCAkaDlsWHokdXNlQ2FsbGJhY2spKChldmVudCwgaGFuZGxlcik9PntcbiAgICAgICAgZXZlbnRIYW5kbGVyc01hcC5jdXJyZW50W2V2ZW50XT8uZGVsZXRlKGhhbmRsZXIpO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gKDAsICRoOWxYeiRqc3gpKCgwLCAkaDlsWHokUHJvdmlkZXIpLCB7XG4gICAgICAgIHN0b3JlOiBqb3RhaVN0b3JlLFxuICAgICAgICBjaGlsZHJlbjogKDAsICRoOWxYeiRqc3gpKCRkMmUzNjJjNWEwN2VlM2M1JGV4cG9ydCQ2N2Y2ZDczYmM2Y2Q3YmIxLlByb3ZpZGVyLCB7XG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgIGNsaWVudDogY2xpZW50XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hpbGRyZW46ICgwLCAkaDlsWHokanN4KSgoMCwgJDMzZjE2ZjI3ZTM3YzkwYmMkZXhwb3J0JGZlMjNkMGVmOTUyODY0NjcpLlByb3ZpZGVyLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgb246IG9uLFxuICAgICAgICAgICAgICAgICAgICBvZmY6IG9mZlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH0pO1xufTtcbiRkMmUzNjJjNWEwN2VlM2M1JGV4cG9ydCRiYjQzNjY2Y2VkN2EyMGQwLmRpc3BsYXlOYW1lID0gXCJQaXBlY2F0Q2xpZW50UHJvdmlkZXJcIjtcblxuXG5jb25zdCAkMDM0YTU2ZTdlZTFiN2JlZCRleHBvcnQkNzc3ZmE4NDk4YmU3ODcwNSA9ICgpPT57XG4gICAgY29uc3QgeyBjbGllbnQ6IGNsaWVudCB9ID0gKDAsICRoOWxYeiR1c2VDb250ZXh0KSgoMCwgJGQyZTM2MmM1YTA3ZWUzYzUkZXhwb3J0JDY3ZjZkNzNiYzZjZDdiYjEpKTtcbiAgICByZXR1cm4gY2xpZW50O1xufTtcblxuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAyNCwgRGFpbHkuXG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0yLUNsYXVzZVxuICovIFxuXG5jb25zdCAkODI0ZWE2NGI1Zjc1NzI1OSRleHBvcnQkMzNhNmFjNTNiOGYwMjYyNSA9IChldmVudCwgaGFuZGxlcik9PntcbiAgICBjb25zdCB7IG9uOiBvbiwgb2ZmOiBvZmYgfSA9ICgwLCAkaDlsWHokdXNlQ29udGV4dCkoKDAsICQzM2YxNmYyN2UzN2M5MGJjJGV4cG9ydCRmZTIzZDBlZjk1Mjg2NDY3KSk7XG4gICAgKDAsICRoOWxYeiR1c2VFZmZlY3QpKCgpPT57XG4gICAgICAgIG9uKGV2ZW50LCBoYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuICgpPT57XG4gICAgICAgICAgICBvZmYoZXZlbnQsIGhhbmRsZXIpO1xuICAgICAgICB9O1xuICAgIH0sIFtcbiAgICAgICAgZXZlbnQsXG4gICAgICAgIGhhbmRsZXIsXG4gICAgICAgIG9uLFxuICAgICAgICBvZmZcbiAgICBdKTtcbn07XG5cblxuY29uc3QgJDRiNGI5MDk5Y2RiNWI3NzYkdmFyJGxvY2FsQXVkaW9UcmFja0F0b20gPSAoMCwgJGg5bFh6JGF0b20pKG51bGwpO1xuY29uc3QgJDRiNGI5MDk5Y2RiNWI3NzYkdmFyJGxvY2FsVmlkZW9UcmFja0F0b20gPSAoMCwgJGg5bFh6JGF0b20pKG51bGwpO1xuY29uc3QgJDRiNGI5MDk5Y2RiNWI3NzYkdmFyJGxvY2FsU2NyZWVuQXVkaW9UcmFja0F0b20gPSAoMCwgJGg5bFh6JGF0b20pKG51bGwpO1xuY29uc3QgJDRiNGI5MDk5Y2RiNWI3NzYkdmFyJGxvY2FsU2NyZWVuVmlkZW9UcmFja0F0b20gPSAoMCwgJGg5bFh6JGF0b20pKG51bGwpO1xuY29uc3QgJDRiNGI5MDk5Y2RiNWI3NzYkdmFyJGJvdEF1ZGlvVHJhY2tBdG9tID0gKDAsICRoOWxYeiRhdG9tKShudWxsKTtcbmNvbnN0ICQ0YjRiOTA5OWNkYjViNzc2JHZhciRib3RWaWRlb1RyYWNrQXRvbSA9ICgwLCAkaDlsWHokYXRvbSkobnVsbCk7XG5jb25zdCAkNGI0YjkwOTljZGI1Yjc3NiR2YXIkdHJhY2tBdG9tID0gKDAsICRoOWxYeiRhdG9tRmFtaWx5KSgoeyBsb2NhbDogbG9jYWwsIHRyYWNrVHlwZTogdHJhY2tUeXBlIH0pPT57XG4gICAgaWYgKGxvY2FsKSBzd2l0Y2godHJhY2tUeXBlKXtcbiAgICAgICAgY2FzZSBcImF1ZGlvXCI6XG4gICAgICAgICAgICByZXR1cm4gJDRiNGI5MDk5Y2RiNWI3NzYkdmFyJGxvY2FsQXVkaW9UcmFja0F0b207XG4gICAgICAgIGNhc2UgXCJzY3JlZW5BdWRpb1wiOlxuICAgICAgICAgICAgcmV0dXJuICQ0YjRiOTA5OWNkYjViNzc2JHZhciRsb2NhbFNjcmVlbkF1ZGlvVHJhY2tBdG9tO1xuICAgICAgICBjYXNlIFwic2NyZWVuVmlkZW9cIjpcbiAgICAgICAgICAgIHJldHVybiAkNGI0YjkwOTljZGI1Yjc3NiR2YXIkbG9jYWxTY3JlZW5WaWRlb1RyYWNrQXRvbTtcbiAgICAgICAgY2FzZSBcInZpZGVvXCI6XG4gICAgICAgICAgICByZXR1cm4gJDRiNGI5MDk5Y2RiNWI3NzYkdmFyJGxvY2FsVmlkZW9UcmFja0F0b207XG4gICAgfVxuICAgIHJldHVybiB0cmFja1R5cGUgPT09IFwiYXVkaW9cIiA/ICQ0YjRiOTA5OWNkYjViNzc2JHZhciRib3RBdWRpb1RyYWNrQXRvbSA6ICQ0YjRiOTA5OWNkYjViNzc2JHZhciRib3RWaWRlb1RyYWNrQXRvbTtcbn0pO1xuY29uc3QgJDRiNGI5MDk5Y2RiNWI3NzYkZXhwb3J0JDk4MTNkY2QyZDBjMjY4MTQgPSAodHJhY2tUeXBlLCBwYXJ0aWNpcGFudFR5cGUpPT57XG4gICAgY29uc3QgY2xpZW50ID0gKDAsICQwMzRhNTZlN2VlMWI3YmVkJGV4cG9ydCQ3NzdmYTg0OThiZTc4NzA1KSgpO1xuICAgIGNvbnN0IHRyYWNrID0gKDAsICRoOWxYeiR1c2VBdG9tVmFsdWUpKCQ0YjRiOTA5OWNkYjViNzc2JHZhciR0cmFja0F0b20oe1xuICAgICAgICBsb2NhbDogcGFydGljaXBhbnRUeXBlID09PSBcImxvY2FsXCIsXG4gICAgICAgIHRyYWNrVHlwZTogdHJhY2tUeXBlXG4gICAgfSkpO1xuICAgIGNvbnN0IHVwZGF0ZVRyYWNrID0gKDAsICRoOWxYeiR1c2VBdG9tQ2FsbGJhY2spKCgwLCAkaDlsWHokdXNlQ2FsbGJhY2spKChnZXQsIHNldCwgdHJhY2ssIHRyYWNrVHlwZSwgbG9jYWwpPT57XG4gICAgICAgIGNvbnN0IGF0b20gPSAkNGI0YjkwOTljZGI1Yjc3NiR2YXIkdHJhY2tBdG9tKHtcbiAgICAgICAgICAgIGxvY2FsOiBsb2NhbCxcbiAgICAgICAgICAgIHRyYWNrVHlwZTogdHJhY2tUeXBlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBvbGRUcmFjayA9IGdldChhdG9tKTtcbiAgICAgICAgaWYgKG9sZFRyYWNrPy5pZCA9PT0gdHJhY2suaWQpIHJldHVybjtcbiAgICAgICAgc2V0KGF0b20sIHRyYWNrKTtcbiAgICB9LCBbXSkpO1xuICAgICgwLCAkODI0ZWE2NGI1Zjc1NzI1OSRleHBvcnQkMzNhNmFjNTNiOGYwMjYyNSkoKDAsICRoOWxYeiRSVFZJRXZlbnQpLlRyYWNrU3RhcnRlZCwgKDAsICRoOWxYeiR1c2VDYWxsYmFjaykoKHRyYWNrLCBwYXJ0aWNpcGFudCk9PntcbiAgICAgICAgdXBkYXRlVHJhY2sodHJhY2ssIHRyYWNrLmtpbmQsIEJvb2xlYW4ocGFydGljaXBhbnQ/LmxvY2FsKSk7XG4gICAgfSwgW1xuICAgICAgICB1cGRhdGVUcmFja1xuICAgIF0pKTtcbiAgICAoMCwgJDgyNGVhNjRiNWY3NTcyNTkkZXhwb3J0JDMzYTZhYzUzYjhmMDI2MjUpKCgwLCAkaDlsWHokUlRWSUV2ZW50KS5TY3JlZW5UcmFja1N0YXJ0ZWQsICgwLCAkaDlsWHokdXNlQ2FsbGJhY2spKCh0cmFjaywgcGFydGljaXBhbnQpPT57XG4gICAgICAgIGNvbnN0IHRyYWNrVHlwZSA9IHRyYWNrLmtpbmQgPT09IFwiYXVkaW9cIiA/IFwic2NyZWVuQXVkaW9cIiA6IFwic2NyZWVuVmlkZW9cIjtcbiAgICAgICAgdXBkYXRlVHJhY2sodHJhY2ssIHRyYWNrVHlwZSwgQm9vbGVhbihwYXJ0aWNpcGFudD8ubG9jYWwpKTtcbiAgICB9LCBbXG4gICAgICAgIHVwZGF0ZVRyYWNrXG4gICAgXSkpO1xuICAgICgwLCAkaDlsWHokdXNlRWZmZWN0KSgoKT0+e1xuICAgICAgICBpZiAoIWNsaWVudCkgcmV0dXJuO1xuICAgICAgICBjb25zdCB0cmFja3MgPSBjbGllbnQudHJhY2tzKCk7XG4gICAgICAgIGNvbnN0IHRyYWNrID0gdHJhY2tzPy5bcGFydGljaXBhbnRUeXBlXT8uW3RyYWNrVHlwZV07XG4gICAgICAgIGlmICghdHJhY2spIHJldHVybjtcbiAgICAgICAgdXBkYXRlVHJhY2sodHJhY2ssIHRyYWNrVHlwZSwgcGFydGljaXBhbnRUeXBlID09PSBcImxvY2FsXCIpO1xuICAgIH0sIFtcbiAgICAgICAgcGFydGljaXBhbnRUeXBlLFxuICAgICAgICB0cmFja1R5cGUsXG4gICAgICAgIHVwZGF0ZVRyYWNrLFxuICAgICAgICBjbGllbnRcbiAgICBdKTtcbiAgICByZXR1cm4gdHJhY2s7XG59O1xuXG5cblxuY29uc3QgJGYyMDlhYTdkZGI3N2RjYjIkZXhwb3J0JGI1MjI1MGNiNzNmZjRkZTEgPSAoKT0+e1xuICAgIGNvbnN0IGJvdEF1ZGlvUmVmID0gKDAsICRoOWxYeiR1c2VSZWYpKG51bGwpO1xuICAgIGNvbnN0IGJvdEF1ZGlvVHJhY2sgPSAoMCwgJDRiNGI5MDk5Y2RiNWI3NzYkZXhwb3J0JDk4MTNkY2QyZDBjMjY4MTQpKFwiYXVkaW9cIiwgXCJib3RcIik7XG4gICAgKDAsICRoOWxYeiR1c2VFZmZlY3QpKCgpPT57XG4gICAgICAgIGlmICghYm90QXVkaW9SZWYuY3VycmVudCB8fCAhYm90QXVkaW9UcmFjaykgcmV0dXJuO1xuICAgICAgICBpZiAoYm90QXVkaW9SZWYuY3VycmVudC5zcmNPYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZFRyYWNrID0gYm90QXVkaW9SZWYuY3VycmVudC5zcmNPYmplY3QuZ2V0QXVkaW9UcmFja3MoKVswXTtcbiAgICAgICAgICAgIGlmIChvbGRUcmFjay5pZCA9PT0gYm90QXVkaW9UcmFjay5pZCkgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJvdEF1ZGlvUmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gbmV3IE1lZGlhU3RyZWFtKFtcbiAgICAgICAgICAgIGJvdEF1ZGlvVHJhY2tcbiAgICAgICAgXSk7XG4gICAgfSwgW1xuICAgICAgICBib3RBdWRpb1RyYWNrXG4gICAgXSk7XG4gICAgKDAsICQ4MjRlYTY0YjVmNzU3MjU5JGV4cG9ydCQzM2E2YWM1M2I4ZjAyNjI1KSgoMCwgJGg5bFh6JFJUVklFdmVudCkuU3BlYWtlclVwZGF0ZWQsICgwLCAkaDlsWHokdXNlQ2FsbGJhY2spKChzcGVha2VyKT0+e1xuICAgICAgICBpZiAoIWJvdEF1ZGlvUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGVvZiBib3RBdWRpb1JlZi5jdXJyZW50LnNldFNpbmtJZCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm47XG4gICAgICAgIGJvdEF1ZGlvUmVmLmN1cnJlbnQuc2V0U2lua0lkKHNwZWFrZXIuZGV2aWNlSWQpO1xuICAgIH0sIFtdKSk7XG4gICAgcmV0dXJuICgwLCAkaDlsWHokanN4KSgoMCwgJGg5bFh6JEZyYWdtZW50KSwge1xuICAgICAgICBjaGlsZHJlbjogKDAsICRoOWxYeiRqc3gpKFwiYXVkaW9cIiwge1xuICAgICAgICAgICAgcmVmOiBib3RBdWRpb1JlZixcbiAgICAgICAgICAgIGF1dG9QbGF5OiB0cnVlXG4gICAgICAgIH0pXG4gICAgfSk7XG59O1xuJGYyMDlhYTdkZGI3N2RjYjIkZXhwb3J0JGI1MjI1MGNiNzNmZjRkZTEuZGlzcGxheU5hbWUgPSBcIlBpcGVjYXRDbGllbnRBdWRpb1wiO1xuXG5cblxuXG5cblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjQsIERhaWx5LlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMi1DbGF1c2VcbiAqLyBcblxuXG5jb25zdCAkMzNmMzcyOWJiZTlmMDlkZiR2YXIkdHJhbnNwb3J0U3RhdGVBdG9tID0gKDAsICRoOWxYeiRhdG9tKShcImRpc2Nvbm5lY3RlZFwiKTtcbmNvbnN0ICQzM2YzNzI5YmJlOWYwOWRmJGV4cG9ydCQzMGFlZTI3ODMwOWE4NjdiID0gKCk9PntcbiAgICBjb25zdCBbdHJhbnNwb3J0U3RhdGUsIHNldFRyYW5zcG9ydFN0YXRlXSA9ICgwLCAkaDlsWHokdXNlQXRvbSkoJDMzZjM3MjliYmU5ZjA5ZGYkdmFyJHRyYW5zcG9ydFN0YXRlQXRvbSk7XG4gICAgKDAsICQ4MjRlYTY0YjVmNzU3MjU5JGV4cG9ydCQzM2E2YWM1M2I4ZjAyNjI1KSgoMCwgJGg5bFh6JFJUVklFdmVudCkuVHJhbnNwb3J0U3RhdGVDaGFuZ2VkLCBzZXRUcmFuc3BvcnRTdGF0ZSk7XG4gICAgcmV0dXJuIHRyYW5zcG9ydFN0YXRlO1xufTtcblxuXG5jb25zdCAkZTc2ZWUyZjAyMWI1NDMyNSRleHBvcnQkM2VhMjYwMTQyN2YwNDMwZiA9ICgpPT57XG4gICAgY29uc3QgY2xpZW50ID0gKDAsICQwMzRhNTZlN2VlMWI3YmVkJGV4cG9ydCQ3NzdmYTg0OThiZTc4NzA1KSgpO1xuICAgIGNvbnN0IFtpc0NhbUVuYWJsZWQsIHNldElzQ2FtRW5hYmxlZF0gPSAoMCwgJGg5bFh6JHVzZVN0YXRlKShjbGllbnQ/LmlzQ2FtRW5hYmxlZCA/PyBmYWxzZSk7XG4gICAgY29uc3QgdHJhbnNwb3J0U3RhdGUgPSAoMCwgJDMzZjM3MjliYmU5ZjA5ZGYkZXhwb3J0JDMwYWVlMjc4MzA5YTg2N2IpKCk7XG4gICAgLy8gU3luYyBjb21wb25lbnQgc3RhdGUgd2l0aCBjbGllbnQgc3RhdGUgaW5pdGlhbGx5XG4gICAgKDAsICRoOWxYeiR1c2VFZmZlY3QpKCgpPT57XG4gICAgICAgIGlmICghY2xpZW50IHx8IHRyYW5zcG9ydFN0YXRlICE9PSBcImluaXRpYWxpemVkXCIgfHwgdHlwZW9mIGNsaWVudC5pc0NhbUVuYWJsZWQgIT09IFwiYm9vbGVhblwiKSByZXR1cm47XG4gICAgICAgIHNldElzQ2FtRW5hYmxlZChjbGllbnQuaXNDYW1FbmFibGVkKTtcbiAgICB9LCBbXG4gICAgICAgIGNsaWVudCxcbiAgICAgICAgdHJhbnNwb3J0U3RhdGVcbiAgICBdKTtcbiAgICBjb25zdCBlbmFibGVDYW0gPSAoMCwgJGg5bFh6JHVzZUNhbGxiYWNrKSgoZW5hYmxlZCk9PntcbiAgICAgICAgc2V0SXNDYW1FbmFibGVkKGVuYWJsZWQpO1xuICAgICAgICBjbGllbnQ/LmVuYWJsZUNhbT8uKGVuYWJsZWQpO1xuICAgIH0sIFtcbiAgICAgICAgY2xpZW50XG4gICAgXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW5hYmxlQ2FtOiBlbmFibGVDYW0sXG4gICAgICAgIGlzQ2FtRW5hYmxlZDogaXNDYW1FbmFibGVkXG4gICAgfTtcbn07XG5cblxuY29uc3QgJDdjYjJjZTJjNGNiZmI0MDEkZXhwb3J0JGRjOWEwMjllZWNhODIxM2YgPSAoeyBvbkNhbUVuYWJsZWRDaGFuZ2VkOiBvbkNhbUVuYWJsZWRDaGFuZ2VkLCBkaXNhYmxlZDogZGlzYWJsZWQgPSBmYWxzZSwgY2hpbGRyZW46IGNoaWxkcmVuIH0pPT57XG4gICAgY29uc3QgeyBpc0NhbUVuYWJsZWQ6IGlzQ2FtRW5hYmxlZCwgZW5hYmxlQ2FtOiBlbmFibGVDYW0gfSA9ICgwLCAkZTc2ZWUyZjAyMWI1NDMyNSRleHBvcnQkM2VhMjYwMTQyN2YwNDMwZikoKTtcbiAgICBjb25zdCBoYW5kbGVUb2dnbGVDYW0gPSAoMCwgJGg5bFh6JHVzZUNhbGxiYWNrKSgoKT0+e1xuICAgICAgICBpZiAoZGlzYWJsZWQpIHJldHVybjtcbiAgICAgICAgY29uc3QgbmV3RW5hYmxlZFN0YXRlID0gIWlzQ2FtRW5hYmxlZDtcbiAgICAgICAgZW5hYmxlQ2FtKG5ld0VuYWJsZWRTdGF0ZSk7XG4gICAgICAgIG9uQ2FtRW5hYmxlZENoYW5nZWQ/LihuZXdFbmFibGVkU3RhdGUpO1xuICAgIH0sIFtcbiAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgIGVuYWJsZUNhbSxcbiAgICAgICAgaXNDYW1FbmFibGVkLFxuICAgICAgICBvbkNhbUVuYWJsZWRDaGFuZ2VkXG4gICAgXSk7XG4gICAgcmV0dXJuICgwLCAkaDlsWHokanN4KSgoMCwgJGg5bFh6JEZyYWdtZW50KSwge1xuICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW4oe1xuICAgICAgICAgICAgaXNDYW1FbmFibGVkOiBpc0NhbUVuYWJsZWQsXG4gICAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVUb2dnbGVDYW0sXG4gICAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWRcbiAgICAgICAgfSlcbiAgICB9KTtcbn07XG52YXIgJDdjYjJjZTJjNGNiZmI0MDEkZXhwb3J0JDJlMmJjZDg3MzlhZTAzOSA9ICQ3Y2IyY2UyYzRjYmZiNDAxJGV4cG9ydCRkYzlhMDI5ZWVjYTgyMTNmO1xuXG5cblxuXG5cblxuXG5jb25zdCAkNTkwNWMwMDFiMGRjOGQyNSRleHBvcnQkMzg4ZTcwNjU4NjMwOWVmMCA9ICgpPT57XG4gICAgY29uc3QgY2xpZW50ID0gKDAsICQwMzRhNTZlN2VlMWI3YmVkJGV4cG9ydCQ3NzdmYTg0OThiZTc4NzA1KSgpO1xuICAgIGNvbnN0IFtpc01pY0VuYWJsZWQsIHNldElzTWljRW5hYmxlZF0gPSAoMCwgJGg5bFh6JHVzZVN0YXRlKShjbGllbnQ/LmlzTWljRW5hYmxlZCA/PyBmYWxzZSk7XG4gICAgY29uc3QgdHJhbnNwb3J0U3RhdGUgPSAoMCwgJDMzZjM3MjliYmU5ZjA5ZGYkZXhwb3J0JDMwYWVlMjc4MzA5YTg2N2IpKCk7XG4gICAgLy8gU3luYyBjb21wb25lbnQgc3RhdGUgd2l0aCBjbGllbnQgc3RhdGUgaW5pdGlhbGx5XG4gICAgKDAsICRoOWxYeiR1c2VFZmZlY3QpKCgpPT57XG4gICAgICAgIGlmICghY2xpZW50IHx8IHRyYW5zcG9ydFN0YXRlICE9PSBcImluaXRpYWxpemVkXCIgfHwgdHlwZW9mIGNsaWVudC5pc01pY0VuYWJsZWQgIT09IFwiYm9vbGVhblwiKSByZXR1cm47XG4gICAgICAgIHNldElzTWljRW5hYmxlZChjbGllbnQuaXNNaWNFbmFibGVkKTtcbiAgICB9LCBbXG4gICAgICAgIGNsaWVudCxcbiAgICAgICAgdHJhbnNwb3J0U3RhdGVcbiAgICBdKTtcbiAgICBjb25zdCBlbmFibGVNaWMgPSAoMCwgJGg5bFh6JHVzZUNhbGxiYWNrKSgoZW5hYmxlZCk9PntcbiAgICAgICAgc2V0SXNNaWNFbmFibGVkKGVuYWJsZWQpO1xuICAgICAgICBjbGllbnQ/LmVuYWJsZU1pYz8uKGVuYWJsZWQpO1xuICAgIH0sIFtcbiAgICAgICAgY2xpZW50XG4gICAgXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW5hYmxlTWljOiBlbmFibGVNaWMsXG4gICAgICAgIGlzTWljRW5hYmxlZDogaXNNaWNFbmFibGVkXG4gICAgfTtcbn07XG5cblxuY29uc3QgJDI5ODRmZGZjMzFiYWQzNzUkZXhwb3J0JGJjODEzM2I2OWZmNjYwYTIgPSAoeyBvbk1pY0VuYWJsZWRDaGFuZ2VkOiBvbk1pY0VuYWJsZWRDaGFuZ2VkLCBkaXNhYmxlZDogZGlzYWJsZWQgPSBmYWxzZSwgY2hpbGRyZW46IGNoaWxkcmVuIH0pPT57XG4gICAgY29uc3QgeyBlbmFibGVNaWM6IGVuYWJsZU1pYywgaXNNaWNFbmFibGVkOiBpc01pY0VuYWJsZWQgfSA9ICgwLCAkNTkwNWMwMDFiMGRjOGQyNSRleHBvcnQkMzg4ZTcwNjU4NjMwOWVmMCkoKTtcbiAgICBjb25zdCBoYW5kbGVUb2dnbGVNaWMgPSAoMCwgJGg5bFh6JHVzZUNhbGxiYWNrKSgoKT0+e1xuICAgICAgICBpZiAoZGlzYWJsZWQpIHJldHVybjtcbiAgICAgICAgY29uc3QgbmV3RW5hYmxlZFN0YXRlID0gIWlzTWljRW5hYmxlZDtcbiAgICAgICAgZW5hYmxlTWljKG5ld0VuYWJsZWRTdGF0ZSk7XG4gICAgICAgIG9uTWljRW5hYmxlZENoYW5nZWQ/LihuZXdFbmFibGVkU3RhdGUpO1xuICAgIH0sIFtcbiAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgIGVuYWJsZU1pYyxcbiAgICAgICAgaXNNaWNFbmFibGVkLFxuICAgICAgICBvbk1pY0VuYWJsZWRDaGFuZ2VkXG4gICAgXSk7XG4gICAgcmV0dXJuICgwLCAkaDlsWHokanN4KSgoMCwgJGg5bFh6JEZyYWdtZW50KSwge1xuICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW4oe1xuICAgICAgICAgICAgaXNNaWNFbmFibGVkOiBpc01pY0VuYWJsZWQsXG4gICAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVUb2dnbGVNaWMsXG4gICAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWRcbiAgICAgICAgfSlcbiAgICB9KTtcbn07XG52YXIgJDI5ODRmZGZjMzFiYWQzNzUkZXhwb3J0JDJlMmJjZDg3MzlhZTAzOSA9ICQyOTg0ZmRmYzMxYmFkMzc1JGV4cG9ydCRiYzgxMzNiNjlmZjY2MGEyO1xuXG5cblxuXG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDI0LCBEYWlseS5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTItQ2xhdXNlXG4gKlxuICogVGhpcyBmaWxlIGNvbnRhaW5zIGNvZGUgZGVyaXZlZCBmcm9tOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2phcmVkTHVuZGUvcmVhY3QtaG9vay9ibG9iL21hc3Rlci9wYWNrYWdlcy9tZXJnZWQtcmVmL3NyYy9pbmRleC50c3hcbiAqIE9yaWdpbmFsIGF1dGhvcjogSmFyZWQgTHVuZGUgKGh0dHBzOi8vZ2l0aHViLmNvbS9qYXJlZEx1bmRlKVxuICogT3JpZ2luYWwgbGljZW5zZTogTUlUIChodHRwczovL2dpdGh1Yi5jb20vamFyZWRMdW5kZS9yZWFjdC1ob29rL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKi8gXG5mdW5jdGlvbiAkOTA5ODUxOTIxMGNmMzRlMiR2YXIkdXNlTWVyZ2VkUmVmKC4uLnJlZnMpIHtcbiAgICByZXR1cm4gKDAsICRoOWxYeiR1c2VDYWxsYmFjaykoKGVsZW1lbnQpPT57XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCByZWZzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGNvbnN0IHJlZiA9IHJlZnNbaV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlZiA9PT0gXCJmdW5jdGlvblwiKSByZWYoZWxlbWVudCk7XG4gICAgICAgICAgICBlbHNlIGlmIChyZWYgJiYgdHlwZW9mIHJlZiA9PT0gXCJvYmplY3RcIikgcmVmLmN1cnJlbnQgPSBlbGVtZW50O1xuICAgICAgICB9XG4gICAgfSwgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIHJlZnMpO1xufVxudmFyICQ5MDk4NTE5MjEwY2YzNGUyJGV4cG9ydCQyZTJiY2Q4NzM5YWUwMzkgPSAkOTA5ODUxOTIxMGNmMzRlMiR2YXIkdXNlTWVyZ2VkUmVmO1xuXG5cblxuY29uc3QgJDZhNjVkZWI4NjE1YTJhZDckZXhwb3J0JDg1OTc0ZGI2ZDBjYzQzYjMgPSAvKiNfX1BVUkVfXyovICgwLCAkaDlsWHokZm9yd2FyZFJlZikoZnVuY3Rpb24gVm9pY2VDbGllbnRWaWRlbyh7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCA9IFwibG9jYWxcIiwgZml0OiBmaXQgPSBcImNvbnRhaW5cIiwgbWlycm9yOiBtaXJyb3IsIG9uUmVzaXplOiBvblJlc2l6ZSwgc3R5bGU6IHN0eWxlID0ge30sIHRyYWNrVHlwZTogdHJhY2tUeXBlID0gXCJ2aWRlb1wiLCAuLi5wcm9wcyB9LCByZWYpIHtcbiAgICBjb25zdCB2aWRlb1RyYWNrID0gKDAsICQ0YjRiOTA5OWNkYjViNzc2JGV4cG9ydCQ5ODEzZGNkMmQwYzI2ODE0KSh0cmFja1R5cGUsIHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCB2aWRlb0VsID0gKDAsICRoOWxYeiR1c2VSZWYpKG51bGwpO1xuICAgIGNvbnN0IHZpZGVvUmVmID0gKDAsICQ5MDk4NTE5MjEwY2YzNGUyJGV4cG9ydCQyZTJiY2Q4NzM5YWUwMzkpKHZpZGVvRWwsIHJlZik7XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGNhbnBsYXkgJiBwaWN0dXJlLWluLXBpY3R1cmUgZXZlbnRzLlxuICAgICAqLyAoMCwgJGg5bFh6JHVzZUVmZmVjdCkoZnVuY3Rpb24gc2V0dXBWaWRlb0V2ZW50cygpIHtcbiAgICAgICAgY29uc3QgdmlkZW8gPSB2aWRlb0VsLmN1cnJlbnQ7XG4gICAgICAgIGlmICghdmlkZW8pIHJldHVybjtcbiAgICAgICAgY29uc3QgcGxheVZpZGVvID0gKCk9PntcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSB2aWRlby5wbGF5KCk7XG4gICAgICAgICAgICBpZiAocHJvbWlzZSAhPT0gdW5kZWZpbmVkKSBwcm9taXNlLnRoZW4oKCk9PntcbiAgICAgICAgICAgICAgICAvLyBBbGwgZ29vZCwgcGxheWJhY2sgc3RhcnRlZC5cbiAgICAgICAgICAgICAgICB2aWRlby5jb250cm9scyA9IGZhbHNlO1xuICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+e1xuICAgICAgICAgICAgICAgIC8vIEF1dG8tcGxheSB3YXMgcHJldmVudGVkLiBTaG93IHZpZGVvIGNvbnRyb2xzLCBzbyB1c2VyIGNhbiBwbGF5IHZpZGVvIG1hbnVhbGx5LlxuICAgICAgICAgICAgICAgIHZpZGVvLmNvbnRyb2xzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gcGxheSB2aWRlb1wiLCBlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlQ2FuUGxheSA9ICgpPT57XG4gICAgICAgICAgICBpZiAoIXZpZGVvLnBhdXNlZCkgcmV0dXJuO1xuICAgICAgICAgICAgcGxheVZpZGVvKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZUVudGVyUElQID0gKCk9PntcbiAgICAgICAgICAgIHZpZGVvLnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoMSlcIjtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlTGVhdmVQSVAgPSAoKT0+e1xuICAgICAgICAgICAgdmlkZW8uc3R5bGUudHJhbnNmb3JtID0gXCJcIjtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgICAgICBpZiAodmlkZW8ucGF1c2VkKSBwbGF5VmlkZW8oKTtcbiAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UgPSAoKT0+e1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gXCJoaWRkZW5cIikgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCF2aWRlby5wYXVzZWQpIHJldHVybjtcbiAgICAgICAgICAgIHBsYXlWaWRlbygpO1xuICAgICAgICB9O1xuICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKFwiY2FucGxheVwiLCBoYW5kbGVDYW5QbGF5KTtcbiAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImVudGVycGljdHVyZWlucGljdHVyZVwiLCBoYW5kbGVFbnRlclBJUCk7XG4gICAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJsZWF2ZXBpY3R1cmVpbnBpY3R1cmVcIiwgaGFuZGxlTGVhdmVQSVApO1xuICAgICAgICAvLyBWaWRlb3MgY2FuIGJlIHBhdXNlZCBpZiBtZWRpYSB3YXMgcGxheWVkIGluIGFub3RoZXIgYXBwIG9uIGlPUy5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgICAgIHJldHVybiAoKT0+e1xuICAgICAgICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNhbnBsYXlcIiwgaGFuZGxlQ2FuUGxheSk7XG4gICAgICAgICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW50ZXJwaWN0dXJlaW5waWN0dXJlXCIsIGhhbmRsZUVudGVyUElQKTtcbiAgICAgICAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsZWF2ZXBpY3R1cmVpbnBpY3R1cmVcIiwgaGFuZGxlTGVhdmVQSVApO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBzcmNPYmplY3QuXG4gICAgICovICgwLCAkaDlsWHokdXNlRWZmZWN0KShmdW5jdGlvbiB1cGRhdGVTcmNPYmplY3QoKSB7XG4gICAgICAgIGNvbnN0IHZpZGVvID0gdmlkZW9FbC5jdXJyZW50O1xuICAgICAgICBpZiAoIXZpZGVvIHx8ICF2aWRlb1RyYWNrKSByZXR1cm47XG4gICAgICAgIHZpZGVvLnNyY09iamVjdCA9IG5ldyBNZWRpYVN0cmVhbShbXG4gICAgICAgICAgICB2aWRlb1RyYWNrXG4gICAgICAgIF0pO1xuICAgICAgICB2aWRlby5sb2FkKCk7XG4gICAgICAgIHJldHVybiAoKT0+e1xuICAgICAgICAgICAgLy8gY2xlYW4gdXAgd2hlbiB1bm1vdW50ZWRcbiAgICAgICAgICAgIHZpZGVvLnNyY09iamVjdCA9IG51bGw7XG4gICAgICAgICAgICB2aWRlby5sb2FkKCk7XG4gICAgICAgIH07XG4gICAgfSwgW1xuICAgICAgICB2aWRlb1RyYWNrLFxuICAgICAgICB2aWRlb1RyYWNrPy5pZFxuICAgIF0pO1xuICAgIC8qKlxuICAgICAqIEFkZCBvcHRpb25hbCBldmVudCBsaXN0ZW5lciBmb3IgcmVzaXplIGV2ZW50IHNvIHRoZSBwYXJlbnQgY29tcG9uZW50XG4gICAgICogY2FuIGtub3cgdGhlIHZpZGVvJ3MgbmF0aXZlIGFzcGVjdCByYXRpby5cbiAgICAgKi8gKDAsICRoOWxYeiR1c2VFZmZlY3QpKGZ1bmN0aW9uIHJlcG9ydFZpZGVvRGltZW5zaW9ucygpIHtcbiAgICAgICAgY29uc3QgdmlkZW8gPSB2aWRlb0VsLmN1cnJlbnQ7XG4gICAgICAgIGlmICghb25SZXNpemUgfHwgIXZpZGVvKSByZXR1cm47XG4gICAgICAgIGxldCBmcmFtZTtcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlUmVzaXplKCkge1xuICAgICAgICAgICAgaWYgKGZyYW1lKSBjYW5jZWxBbmltYXRpb25GcmFtZShmcmFtZSk7XG4gICAgICAgICAgICBmcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZGVvID0gdmlkZW9FbC5jdXJyZW50O1xuICAgICAgICAgICAgICAgIGlmICghdmlkZW8gfHwgZG9jdW1lbnQuaGlkZGVuKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgdmlkZW9XaWR0aCA9IHZpZGVvLnZpZGVvV2lkdGg7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlkZW9IZWlnaHQgPSB2aWRlby52aWRlb0hlaWdodDtcbiAgICAgICAgICAgICAgICBpZiAodmlkZW9XaWR0aCAmJiB2aWRlb0hlaWdodCkgb25SZXNpemU/Lih7XG4gICAgICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvOiB2aWRlb1dpZHRoIC8gdmlkZW9IZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogdmlkZW9IZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB2aWRlb1dpZHRoXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVSZXNpemUoKTtcbiAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlZG1ldGFkYXRhXCIsIGhhbmRsZVJlc2l6ZSk7XG4gICAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKTtcbiAgICAgICAgcmV0dXJuICgpPT57XG4gICAgICAgICAgICBpZiAoZnJhbWUpIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lKTtcbiAgICAgICAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkZWRtZXRhZGF0YVwiLCBoYW5kbGVSZXNpemUpO1xuICAgICAgICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBoYW5kbGVSZXNpemUpO1xuICAgICAgICB9O1xuICAgIH0sIFtcbiAgICAgICAgb25SZXNpemVcbiAgICBdKTtcbiAgICByZXR1cm4gKDAsICRoOWxYeiRqc3gpKFwidmlkZW9cIiwge1xuICAgICAgICBhdXRvUGxheTogdHJ1ZSxcbiAgICAgICAgbXV0ZWQ6IHRydWUsXG4gICAgICAgIHBsYXlzSW5saW5lOiB0cnVlLFxuICAgICAgICByZWY6IHZpZGVvUmVmLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgb2JqZWN0Rml0OiBmaXQsXG4gICAgICAgICAgICB0cmFuc2Zvcm06IG1pcnJvciA/IFwic2NhbGUoLTEsIDEpXCIgOiBcIlwiLFxuICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgfSxcbiAgICAgICAgLi4ucHJvcHNcbiAgICB9KTtcbn0pO1xuJDZhNjVkZWI4NjE1YTJhZDckZXhwb3J0JDg1OTc0ZGI2ZDBjYzQzYjMuZGlzcGxheU5hbWUgPSBcIlBpcGVjYXRDbGllbnRWaWRlb1wiO1xuXG5cblxuXG5cblxuXG5cblxuXG5jb25zdCAkZjkzNGYxZjhiMTBhYWYxOSR2YXIkYXZhaWxhYmxlTWljc0F0b20gPSAoMCwgJGg5bFh6JGF0b20pKFtdKTtcbmNvbnN0ICRmOTM0ZjFmOGIxMGFhZjE5JHZhciRhdmFpbGFibGVDYW1zQXRvbSA9ICgwLCAkaDlsWHokYXRvbSkoW10pO1xuY29uc3QgJGY5MzRmMWY4YjEwYWFmMTkkdmFyJGF2YWlsYWJsZVNwZWFrZXJzQXRvbSA9ICgwLCAkaDlsWHokYXRvbSkoW10pO1xuY29uc3QgJGY5MzRmMWY4YjEwYWFmMTkkdmFyJHNlbGVjdGVkTWljQXRvbSA9ICgwLCAkaDlsWHokYXRvbSkoe30pO1xuY29uc3QgJGY5MzRmMWY4YjEwYWFmMTkkdmFyJHNlbGVjdGVkQ2FtQXRvbSA9ICgwLCAkaDlsWHokYXRvbSkoe30pO1xuY29uc3QgJGY5MzRmMWY4YjEwYWFmMTkkdmFyJHNlbGVjdGVkU3BlYWtlckF0b20gPSAoMCwgJGg5bFh6JGF0b20pKHt9KTtcbmNvbnN0ICRmOTM0ZjFmOGIxMGFhZjE5JGV4cG9ydCQ2NDJiYzRkMmQyYTM3NmYxID0gKCk9PntcbiAgICBjb25zdCBjbGllbnQgPSAoMCwgJDAzNGE1NmU3ZWUxYjdiZWQkZXhwb3J0JDc3N2ZhODQ5OGJlNzg3MDUpKCk7XG4gICAgY29uc3QgYXZhaWxhYmxlQ2FtcyA9ICgwLCAkaDlsWHokdXNlQXRvbVZhbHVlKSgkZjkzNGYxZjhiMTBhYWYxOSR2YXIkYXZhaWxhYmxlQ2Ftc0F0b20pO1xuICAgIGNvbnN0IGF2YWlsYWJsZU1pY3MgPSAoMCwgJGg5bFh6JHVzZUF0b21WYWx1ZSkoJGY5MzRmMWY4YjEwYWFmMTkkdmFyJGF2YWlsYWJsZU1pY3NBdG9tKTtcbiAgICBjb25zdCBhdmFpbGFibGVTcGVha2VycyA9ICgwLCAkaDlsWHokdXNlQXRvbVZhbHVlKSgkZjkzNGYxZjhiMTBhYWYxOSR2YXIkYXZhaWxhYmxlU3BlYWtlcnNBdG9tKTtcbiAgICBjb25zdCBzZWxlY3RlZENhbSA9ICgwLCAkaDlsWHokdXNlQXRvbVZhbHVlKSgkZjkzNGYxZjhiMTBhYWYxOSR2YXIkc2VsZWN0ZWRDYW1BdG9tKTtcbiAgICBjb25zdCBzZWxlY3RlZE1pYyA9ICgwLCAkaDlsWHokdXNlQXRvbVZhbHVlKSgkZjkzNGYxZjhiMTBhYWYxOSR2YXIkc2VsZWN0ZWRNaWNBdG9tKTtcbiAgICBjb25zdCBzZWxlY3RlZFNwZWFrZXIgPSAoMCwgJGg5bFh6JHVzZUF0b21WYWx1ZSkoJGY5MzRmMWY4YjEwYWFmMTkkdmFyJHNlbGVjdGVkU3BlYWtlckF0b20pO1xuICAgIGNvbnN0IGluaXREZXZpY2VzID0gKDAsICRoOWxYeiR1c2VBdG9tQ2FsbGJhY2spKCgwLCAkaDlsWHokdXNlQ2FsbGJhY2spKGFzeW5jIChfZ2V0LCBzZXQpPT57XG4gICAgICAgIGlmICghY2xpZW50KSByZXR1cm47XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZUNhbXMgPSBhd2FpdCBjbGllbnQuZ2V0QWxsQ2FtcygpO1xuICAgICAgICBjb25zdCBhdmFpbGFibGVNaWNzID0gYXdhaXQgY2xpZW50LmdldEFsbE1pY3MoKTtcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlU3BlYWtlcnMgPSBhd2FpdCBjbGllbnQuZ2V0QWxsU3BlYWtlcnMoKTtcbiAgICAgICAgc2V0KCRmOTM0ZjFmOGIxMGFhZjE5JHZhciRhdmFpbGFibGVDYW1zQXRvbSwgYXZhaWxhYmxlQ2Ftcyk7XG4gICAgICAgIHNldCgkZjkzNGYxZjhiMTBhYWYxOSR2YXIkYXZhaWxhYmxlTWljc0F0b20sIGF2YWlsYWJsZU1pY3MpO1xuICAgICAgICBzZXQoJGY5MzRmMWY4YjEwYWFmMTkkdmFyJGF2YWlsYWJsZVNwZWFrZXJzQXRvbSwgYXZhaWxhYmxlU3BlYWtlcnMpO1xuICAgICAgICBzZXQoJGY5MzRmMWY4YjEwYWFmMTkkdmFyJHNlbGVjdGVkQ2FtQXRvbSwgY2xpZW50LnNlbGVjdGVkQ2FtKTtcbiAgICAgICAgc2V0KCRmOTM0ZjFmOGIxMGFhZjE5JHZhciRzZWxlY3RlZE1pY0F0b20sIGNsaWVudC5zZWxlY3RlZE1pYyk7XG4gICAgICAgIHNldCgkZjkzNGYxZjhiMTBhYWYxOSR2YXIkc2VsZWN0ZWRTcGVha2VyQXRvbSwgY2xpZW50LnNlbGVjdGVkU3BlYWtlcik7XG4gICAgfSwgW1xuICAgICAgICBjbGllbnRcbiAgICBdKSk7XG4gICAgKDAsICRoOWxYeiR1c2VFZmZlY3QpKCgpPT57XG4gICAgICAgIGluaXREZXZpY2VzKCk7XG4gICAgfSwgW1xuICAgICAgICBpbml0RGV2aWNlc1xuICAgIF0pO1xuICAgICgwLCAkODI0ZWE2NGI1Zjc1NzI1OSRleHBvcnQkMzNhNmFjNTNiOGYwMjYyNSkoKDAsICRoOWxYeiRSVFZJRXZlbnQpLkF2YWlsYWJsZUNhbXNVcGRhdGVkLCAoMCwgJGg5bFh6JHVzZUF0b21DYWxsYmFjaykoKDAsICRoOWxYeiR1c2VDYWxsYmFjaykoKF9nZXQsIHNldCwgY2Ftcyk9PntcbiAgICAgICAgc2V0KCRmOTM0ZjFmOGIxMGFhZjE5JHZhciRhdmFpbGFibGVDYW1zQXRvbSwgY2Ftcyk7XG4gICAgfSwgW10pKSk7XG4gICAgKDAsICQ4MjRlYTY0YjVmNzU3MjU5JGV4cG9ydCQzM2E2YWM1M2I4ZjAyNjI1KSgoMCwgJGg5bFh6JFJUVklFdmVudCkuQXZhaWxhYmxlTWljc1VwZGF0ZWQsICgwLCAkaDlsWHokdXNlQXRvbUNhbGxiYWNrKSgoMCwgJGg5bFh6JHVzZUNhbGxiYWNrKSgoX2dldCwgc2V0LCBtaWNzKT0+e1xuICAgICAgICBzZXQoJGY5MzRmMWY4YjEwYWFmMTkkdmFyJGF2YWlsYWJsZU1pY3NBdG9tLCBtaWNzKTtcbiAgICB9LCBbXSkpKTtcbiAgICAoMCwgJDgyNGVhNjRiNWY3NTcyNTkkZXhwb3J0JDMzYTZhYzUzYjhmMDI2MjUpKCgwLCAkaDlsWHokUlRWSUV2ZW50KS5BdmFpbGFibGVTcGVha2Vyc1VwZGF0ZWQsICgwLCAkaDlsWHokdXNlQXRvbUNhbGxiYWNrKSgoMCwgJGg5bFh6JHVzZUNhbGxiYWNrKSgoX2dldCwgc2V0LCBzcGVha2Vycyk9PntcbiAgICAgICAgc2V0KCRmOTM0ZjFmOGIxMGFhZjE5JHZhciRhdmFpbGFibGVTcGVha2Vyc0F0b20sIHNwZWFrZXJzKTtcbiAgICB9LCBbXSkpKTtcbiAgICAoMCwgJDgyNGVhNjRiNWY3NTcyNTkkZXhwb3J0JDMzYTZhYzUzYjhmMDI2MjUpKCgwLCAkaDlsWHokUlRWSUV2ZW50KS5DYW1VcGRhdGVkLCAoMCwgJGg5bFh6JHVzZUF0b21DYWxsYmFjaykoKDAsICRoOWxYeiR1c2VDYWxsYmFjaykoKF9nZXQsIHNldCwgY2FtKT0+e1xuICAgICAgICBzZXQoJGY5MzRmMWY4YjEwYWFmMTkkdmFyJHNlbGVjdGVkQ2FtQXRvbSwgY2FtKTtcbiAgICB9LCBbXSkpKTtcbiAgICAoMCwgJDgyNGVhNjRiNWY3NTcyNTkkZXhwb3J0JDMzYTZhYzUzYjhmMDI2MjUpKCgwLCAkaDlsWHokUlRWSUV2ZW50KS5NaWNVcGRhdGVkLCAoMCwgJGg5bFh6JHVzZUF0b21DYWxsYmFjaykoKDAsICRoOWxYeiR1c2VDYWxsYmFjaykoKF9nZXQsIHNldCwgbWljKT0+e1xuICAgICAgICBzZXQoJGY5MzRmMWY4YjEwYWFmMTkkdmFyJHNlbGVjdGVkTWljQXRvbSwgbWljKTtcbiAgICB9LCBbXSkpKTtcbiAgICAoMCwgJDgyNGVhNjRiNWY3NTcyNTkkZXhwb3J0JDMzYTZhYzUzYjhmMDI2MjUpKCgwLCAkaDlsWHokUlRWSUV2ZW50KS5TcGVha2VyVXBkYXRlZCwgKDAsICRoOWxYeiR1c2VBdG9tQ2FsbGJhY2spKCgwLCAkaDlsWHokdXNlQ2FsbGJhY2spKChfZ2V0LCBzZXQsIHNwZWFrZXIpPT57XG4gICAgICAgIHNldCgkZjkzNGYxZjhiMTBhYWYxOSR2YXIkc2VsZWN0ZWRTcGVha2VyQXRvbSwgc3BlYWtlcik7XG4gICAgfSwgW10pKSk7XG4gICAgY29uc3QgdXBkYXRlQ2FtID0gKDAsICRoOWxYeiR1c2VDYWxsYmFjaykoKGlkKT0+e1xuICAgICAgICBjbGllbnQ/LnVwZGF0ZUNhbShpZCk7XG4gICAgfSwgW1xuICAgICAgICBjbGllbnRcbiAgICBdKTtcbiAgICBjb25zdCB1cGRhdGVNaWMgPSAoMCwgJGg5bFh6JHVzZUNhbGxiYWNrKSgoaWQpPT57XG4gICAgICAgIGNsaWVudD8udXBkYXRlTWljKGlkKTtcbiAgICB9LCBbXG4gICAgICAgIGNsaWVudFxuICAgIF0pO1xuICAgIGNvbnN0IHVwZGF0ZVNwZWFrZXIgPSAoMCwgJGg5bFh6JHVzZUNhbGxiYWNrKSgoaWQpPT57XG4gICAgICAgIGNsaWVudD8udXBkYXRlU3BlYWtlcihpZCk7XG4gICAgfSwgW1xuICAgICAgICBjbGllbnRcbiAgICBdKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhdmFpbGFibGVDYW1zOiBhdmFpbGFibGVDYW1zLFxuICAgICAgICBhdmFpbGFibGVNaWNzOiBhdmFpbGFibGVNaWNzLFxuICAgICAgICBhdmFpbGFibGVTcGVha2VyczogYXZhaWxhYmxlU3BlYWtlcnMsXG4gICAgICAgIHNlbGVjdGVkQ2FtOiBzZWxlY3RlZENhbSxcbiAgICAgICAgc2VsZWN0ZWRNaWM6IHNlbGVjdGVkTWljLFxuICAgICAgICBzZWxlY3RlZFNwZWFrZXI6IHNlbGVjdGVkU3BlYWtlcixcbiAgICAgICAgdXBkYXRlQ2FtOiB1cGRhdGVDYW0sXG4gICAgICAgIHVwZGF0ZU1pYzogdXBkYXRlTWljLFxuICAgICAgICB1cGRhdGVTcGVha2VyOiB1cGRhdGVTcGVha2VyXG4gICAgfTtcbn07XG5cblxuXG5cblxuXG5cblxuXG5jb25zdCAkOTkzYTc0NDE5Mzg0NGE5NSRleHBvcnQkNTliZjI3YmQ0MzY3OWRiNiA9IC8qI19fUFVSRV9fKi8gKDAsICRoOWxYeiRyZWFjdCkubWVtbygoeyBiYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRDb2xvciA9IFwidHJhbnNwYXJlbnRcIiwgYmFyQ29sb3I6IGJhckNvbG9yID0gXCJibGFja1wiLCBiYXJDb3VudDogYmFyQ291bnQgPSA1LCBiYXJHYXA6IGJhckdhcCA9IDEyLCBiYXJMaW5lQ2FwOiBiYXJMaW5lQ2FwID0gXCJyb3VuZFwiLCBiYXJNYXhIZWlnaHQ6IGJhck1heEhlaWdodCA9IDEyMCwgYmFyT3JpZ2luOiBiYXJPcmlnaW4gPSBcImNlbnRlclwiLCBiYXJXaWR0aDogYmFyV2lkdGggPSAzMCwgcGFydGljaXBhbnRUeXBlOiBwYXJ0aWNpcGFudFR5cGUgfSk9PntcbiAgICBjb25zdCBjYW52YXNSZWYgPSAoMCwgJGg5bFh6JHVzZVJlZikobnVsbCk7XG4gICAgY29uc3QgdHJhY2sgPSAoMCwgJDRiNGI5MDk5Y2RiNWI3NzYkZXhwb3J0JDk4MTNkY2QyZDBjMjY4MTQpKFwiYXVkaW9cIiwgcGFydGljaXBhbnRUeXBlKTtcbiAgICAoMCwgJGg5bFh6JHVzZUVmZmVjdCkoKCk9PntcbiAgICAgICAgaWYgKCFjYW52YXNSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBjYW52YXNXaWR0aCA9IGJhckNvdW50ICogYmFyV2lkdGggKyAoYmFyQ291bnQgLSAxKSAqIGJhckdhcDtcbiAgICAgICAgY29uc3QgY2FudmFzSGVpZ2h0ID0gYmFyTWF4SGVpZ2h0O1xuICAgICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICAgICAgY29uc3Qgc2NhbGVGYWN0b3IgPSAyO1xuICAgICAgICAvLyBNYWtlIGNhbnZhcyBmaWxsIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIGl0cyBjb250YWluZXJcbiAgICAgICAgY29uc3QgcmVzaXplQ2FudmFzID0gKCk9PntcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoICogc2NhbGVGYWN0b3I7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzSGVpZ2h0ICogc2NhbGVGYWN0b3I7XG4gICAgICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBgJHtjYW52YXNXaWR0aH1weGA7XG4gICAgICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gYCR7Y2FudmFzSGVpZ2h0fXB4YDtcbiAgICAgICAgICAgIGNhbnZhc0N0eC5saW5lQ2FwID0gYmFyTGluZUNhcDtcbiAgICAgICAgICAgIGNhbnZhc0N0eC5zY2FsZShzY2FsZUZhY3Rvciwgc2NhbGVGYWN0b3IpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjYW52YXNDdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICByZXNpemVDYW52YXMoKTtcbiAgICAgICAgaWYgKCF0cmFjaykgcmV0dXJuO1xuICAgICAgICBjb25zdCBhdWRpb0NvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IGF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShuZXcgTWVkaWFTdHJlYW0oW1xuICAgICAgICAgICAgdHJhY2tcbiAgICAgICAgXSkpO1xuICAgICAgICBjb25zdCBhbmFseXNlciA9IGF1ZGlvQ29udGV4dC5jcmVhdGVBbmFseXNlcigpO1xuICAgICAgICBhbmFseXNlci5mZnRTaXplID0gMTAyNDtcbiAgICAgICAgc291cmNlLmNvbm5lY3QoYW5hbHlzZXIpO1xuICAgICAgICBjb25zdCBmcmVxdWVuY3lEYXRhID0gbmV3IFVpbnQ4QXJyYXkoYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQpO1xuICAgICAgICBjYW52YXNDdHgubGluZUNhcCA9IGJhckxpbmVDYXA7XG4gICAgICAgIC8vIENyZWF0ZSBmcmVxdWVuY3kgYmFuZHMgYmFzZWQgb24gYmFyQ291bnRcbiAgICAgICAgY29uc3QgYmFuZHMgPSBBcnJheS5mcm9tKHtcbiAgICAgICAgICAgIGxlbmd0aDogYmFyQ291bnRcbiAgICAgICAgfSwgKF8sIGkpPT57XG4gICAgICAgICAgICAvLyBVc2UgaW1wcm92ZWQgbG9nYXJpdGhtaWMgc2NhbGUgZm9yIGJldHRlciBmcmVxdWVuY3kgZGlzdHJpYnV0aW9uXG4gICAgICAgICAgICBjb25zdCBtaW5GcmVxID0gYmFyQ291bnQgPiAyMCA/IDIwMCA6IDgwOyAvLyBBZGp1c3QgbWluIGZyZXF1ZW5jeSBiYXNlZCBvbiBiYXIgY291bnRcbiAgICAgICAgICAgIGNvbnN0IG1heEZyZXEgPSAxMDAwMDsgLy8gQ292ZXIgbW9zdCBpbXBvcnRhbnQgYXVkaW8gZnJlcXVlbmNpZXNcbiAgICAgICAgICAgIC8vIFVzZSBNZWwgc2NhbGUgaW5zcGlyZWQgYXBwcm9hY2ggZm9yIG1vcmUgcGVyY2VwdHVhbGx5IHVuaWZvcm0gZGlzdHJpYnV0aW9uXG4gICAgICAgICAgICAvLyBUaGlzIGhlbHBzIHdpdGggYSBsYXJnZSBudW1iZXIgb2YgYmFycyBieSBwbGFjaW5nIGZld2VyIGluIHRoZSB2ZXJ5IGxvdyByYW5nZVxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTWVsX3NjYWxlXG4gICAgICAgICAgICBjb25zdCBtZWxNaW4gPSAyNTk1ICogTWF0aC5sb2cxMCgxICsgbWluRnJlcSAvIDcwMCk7XG4gICAgICAgICAgICBjb25zdCBtZWxNYXggPSAyNTk1ICogTWF0aC5sb2cxMCgxICsgbWF4RnJlcSAvIDcwMCk7XG4gICAgICAgICAgICBjb25zdCBtZWxTdGVwID0gKG1lbE1heCAtIG1lbE1pbikgLyBiYXJDb3VudDtcbiAgICAgICAgICAgIGNvbnN0IG1lbFZhbHVlID0gbWVsTWluICsgaSAqIG1lbFN0ZXA7XG4gICAgICAgICAgICBjb25zdCBzdGFydEZyZXEgPSA3MDAgKiAoTWF0aC5wb3coMTAsIG1lbFZhbHVlIC8gMjU5NSkgLSAxKTtcbiAgICAgICAgICAgIGNvbnN0IGVuZEZyZXEgPSA3MDAgKiAoTWF0aC5wb3coMTAsIChtZWxWYWx1ZSArIG1lbFN0ZXApIC8gMjU5NSkgLSAxKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhcnRGcmVxOiBzdGFydEZyZXEsXG4gICAgICAgICAgICAgICAgZW5kRnJlcTogZW5kRnJlcSxcbiAgICAgICAgICAgICAgICBzbW9vdGhWYWx1ZTogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGdldEZyZXF1ZW5jeUJpbkluZGV4ID0gKGZyZXF1ZW5jeSk9PntcbiAgICAgICAgICAgIGNvbnN0IG55cXVpc3QgPSBhdWRpb0NvbnRleHQuc2FtcGxlUmF0ZSAvIDI7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChmcmVxdWVuY3kgLyBueXF1aXN0ICogKGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50IC0gMSkpO1xuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBkcmF3U3BlY3RydW0oKSB7XG4gICAgICAgICAgICBhbmFseXNlci5nZXRCeXRlRnJlcXVlbmN5RGF0YShmcmVxdWVuY3lEYXRhKTtcbiAgICAgICAgICAgIGNhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoIC8gc2NhbGVGYWN0b3IsIGNhbnZhcy5oZWlnaHQgLyBzY2FsZUZhY3Rvcik7XG4gICAgICAgICAgICBjYW52YXNDdHguZmlsbFN0eWxlID0gYmFja2dyb3VuZENvbG9yO1xuICAgICAgICAgICAgY2FudmFzQ3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCAvIHNjYWxlRmFjdG9yLCBjYW52YXMuaGVpZ2h0IC8gc2NhbGVGYWN0b3IpO1xuICAgICAgICAgICAgbGV0IGlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCB0b3RhbEJhcnNXaWR0aCA9IGJhbmRzLmxlbmd0aCAqIGJhcldpZHRoICsgKGJhbmRzLmxlbmd0aCAtIDEpICogYmFyR2FwO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRYID0gKGNhbnZhcy53aWR0aCAvIHNjYWxlRmFjdG9yIC0gdG90YWxCYXJzV2lkdGgpIC8gMjsgLy8gQ2VudGVyIGJhcnNcbiAgICAgICAgICAgIGNvbnN0IGFkanVzdGVkQ2lyY2xlUmFkaXVzID0gYmFyV2lkdGggLyAyOyAvLyBGaXhlZCByYWRpdXMgZm9yIHJlc2V0IGNpcmNsZXNcbiAgICAgICAgICAgIGJhbmRzLmZvckVhY2goKGJhbmQsIGkpPT57XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IGdldEZyZXF1ZW5jeUJpbkluZGV4KGJhbmQuc3RhcnRGcmVxKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IGdldEZyZXF1ZW5jeUJpbkluZGV4KGJhbmQuZW5kRnJlcSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFuZERhdGEgPSBmcmVxdWVuY3lEYXRhLnNsaWNlKHN0YXJ0SW5kZXgsIGVuZEluZGV4KTtcbiAgICAgICAgICAgICAgICBjb25zdCBiYW5kVmFsdWUgPSBiYW5kRGF0YS5yZWR1Y2UoKGFjYywgdmFsKT0+YWNjICsgdmFsLCAwKSAvIGJhbmREYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBzbW9vdGhpbmdGYWN0b3IgPSAwLjI7XG4gICAgICAgICAgICAgICAgaWYgKGJhbmRWYWx1ZSA8IDEpIGJhbmQuc21vb3RoVmFsdWUgPSBNYXRoLm1heChiYW5kLnNtb290aFZhbHVlIC0gc21vb3RoaW5nRmFjdG9yICogNSwgMCk7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhbmQuc21vb3RoVmFsdWUgPSBiYW5kLnNtb290aFZhbHVlICsgKGJhbmRWYWx1ZSAtIGJhbmQuc21vb3RoVmFsdWUpICogc21vb3RoaW5nRmFjdG9yO1xuICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBzdGFydFggKyBpICogKGJhcldpZHRoICsgYmFyR2FwKTtcbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgYmFyIGhlaWdodCB3aXRoIGEgbWF4aW11bSBjYXBcbiAgICAgICAgICAgICAgICBjb25zdCBtaW5IZWlnaHQgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhckhlaWdodCA9IE1hdGgubWF4KG1pbkhlaWdodCwgTWF0aC5taW4oYmFuZC5zbW9vdGhWYWx1ZSAvIDI1NSAqIGJhck1heEhlaWdodCwgYmFyTWF4SGVpZ2h0KSk7XG4gICAgICAgICAgICAgICAgbGV0IHlUb3AsIHlCb3R0b207XG4gICAgICAgICAgICAgICAgY29uc3QgY2FudmFzSGVpZ2h0ID0gY2FudmFzLmhlaWdodCAvIHNjYWxlRmFjdG9yO1xuICAgICAgICAgICAgICAgIHN3aXRjaChiYXJPcmlnaW4pe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidG9wXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB5VG9wID0gYWRqdXN0ZWRDaXJjbGVSYWRpdXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB5Qm90dG9tID0gTWF0aC5taW4oYWRqdXN0ZWRDaXJjbGVSYWRpdXMgKyBiYXJIZWlnaHQsIGNhbnZhc0hlaWdodCAtIGFkanVzdGVkQ2lyY2xlUmFkaXVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB5Qm90dG9tID0gY2FudmFzSGVpZ2h0IC0gYWRqdXN0ZWRDaXJjbGVSYWRpdXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB5VG9wID0gTWF0aC5tYXgoeUJvdHRvbSAtIGJhckhlaWdodCwgYWRqdXN0ZWRDaXJjbGVSYWRpdXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjZW50ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHlUb3AgPSBNYXRoLm1heChjYW52YXNIZWlnaHQgLyAyIC0gYmFySGVpZ2h0IC8gMiwgYWRqdXN0ZWRDaXJjbGVSYWRpdXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgeUJvdHRvbSA9IE1hdGgubWluKGNhbnZhc0hlaWdodCAvIDIgKyBiYXJIZWlnaHQgLyAyLCBjYW52YXNIZWlnaHQgLSBhZGp1c3RlZENpcmNsZVJhZGl1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJhbmQuc21vb3RoVmFsdWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc0N0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzQ3R4Lm1vdmVUbyh4ICsgYmFyV2lkdGggLyAyLCB5VG9wKTtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzQ3R4LmxpbmVUbyh4ICsgYmFyV2lkdGggLyAyLCB5Qm90dG9tKTtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzQ3R4LmxpbmVXaWR0aCA9IGJhcldpZHRoO1xuICAgICAgICAgICAgICAgICAgICBjYW52YXNDdHguc3Ryb2tlU3R5bGUgPSBiYXJDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzQ3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBkcmF3SW5hY3RpdmVDaXJjbGUoYWRqdXN0ZWRDaXJjbGVSYWRpdXMsIGJhckNvbG9yLCB4LCB5VG9wKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFpc0FjdGl2ZSkgZHJhd0luYWN0aXZlQ2lyY2xlcyhhZGp1c3RlZENpcmNsZVJhZGl1cywgYmFyQ29sb3IpO1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXdTcGVjdHJ1bSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZHJhd0luYWN0aXZlQ2lyY2xlKGNpcmNsZVJhZGl1cywgY29sb3IsIHgsIHkpIHtcbiAgICAgICAgICAgIHN3aXRjaChiYXJMaW5lQ2FwKXtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3F1YXJlXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc0N0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzQ3R4LmZpbGxSZWN0KHggKyBiYXJXaWR0aCAvIDIgLSBjaXJjbGVSYWRpdXMsIHkgLSBjaXJjbGVSYWRpdXMsIGNpcmNsZVJhZGl1cyAqIDIsIGNpcmNsZVJhZGl1cyAqIDIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicm91bmRcIjpcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBjYW52YXNDdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc0N0eC5hcmMoeCArIGJhcldpZHRoIC8gMiwgeSwgY2lyY2xlUmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc0N0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzQ3R4LmZpbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzQ3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBkcmF3SW5hY3RpdmVDaXJjbGVzKGNpcmNsZVJhZGl1cywgY29sb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsQmFyc1dpZHRoID0gYmFuZHMubGVuZ3RoICogYmFyV2lkdGggKyAoYmFuZHMubGVuZ3RoIC0gMSkgKiBiYXJHYXA7XG4gICAgICAgICAgICBjb25zdCBzdGFydFggPSAoY2FudmFzLndpZHRoIC8gc2NhbGVGYWN0b3IgLSB0b3RhbEJhcnNXaWR0aCkgLyAyO1xuICAgICAgICAgICAgY29uc3QgY2FudmFzSGVpZ2h0ID0gY2FudmFzLmhlaWdodCAvIHNjYWxlRmFjdG9yO1xuICAgICAgICAgICAgbGV0IHk7XG4gICAgICAgICAgICBzd2l0Y2goYmFyT3JpZ2luKXtcbiAgICAgICAgICAgICAgICBjYXNlIFwidG9wXCI6XG4gICAgICAgICAgICAgICAgICAgIHkgPSBjaXJjbGVSYWRpdXM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJib3R0b21cIjpcbiAgICAgICAgICAgICAgICAgICAgeSA9IGNhbnZhc0hlaWdodCAtIGNpcmNsZVJhZGl1cztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNlbnRlclwiOlxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHkgPSBjYW52YXNIZWlnaHQgLyAyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJhbmRzLmZvckVhY2goKF8sIGkpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IHN0YXJ0WCArIGkgKiAoYmFyV2lkdGggKyBiYXJHYXApO1xuICAgICAgICAgICAgICAgIGRyYXdJbmFjdGl2ZUNpcmNsZShjaXJjbGVSYWRpdXMsIGNvbG9yLCB4LCB5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGRyYXdTcGVjdHJ1bSgpO1xuICAgICAgICAvLyBIYW5kbGUgcmVzaXppbmdcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgcmVzaXplQ2FudmFzKTtcbiAgICAgICAgcmV0dXJuICgpPT57XG4gICAgICAgICAgICBhdWRpb0NvbnRleHQuY2xvc2UoKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHJlc2l6ZUNhbnZhcyk7XG4gICAgICAgIH07XG4gICAgfSwgW1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgIGJhckNvbG9yLFxuICAgICAgICBiYXJDb3VudCxcbiAgICAgICAgYmFyR2FwLFxuICAgICAgICBiYXJMaW5lQ2FwLFxuICAgICAgICBiYXJNYXhIZWlnaHQsXG4gICAgICAgIGJhck9yaWdpbixcbiAgICAgICAgYmFyV2lkdGgsXG4gICAgICAgIHRyYWNrXG4gICAgXSk7XG4gICAgcmV0dXJuICgwLCAkaDlsWHokanN4KShcImNhbnZhc1wiLCB7XG4gICAgICAgIHJlZjogY2FudmFzUmVmLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIlxuICAgICAgICB9XG4gICAgfSk7XG59KTtcbiQ5OTNhNzQ0MTkzODQ0YTk1JGV4cG9ydCQ1OWJmMjdiZDQzNjc5ZGI2LmRpc3BsYXlOYW1lID0gXCJWb2ljZVZpc3VhbGl6ZXJcIjtcblxuXG5cblxuZXhwb3J0IHskZjIwOWFhN2RkYjc3ZGNiMiRleHBvcnQkYjUyMjUwY2I3M2ZmNGRlMSBhcyBQaXBlY2F0Q2xpZW50QXVkaW8sICQ3Y2IyY2UyYzRjYmZiNDAxJGV4cG9ydCRkYzlhMDI5ZWVjYTgyMTNmIGFzIFBpcGVjYXRDbGllbnRDYW1Ub2dnbGUsICQyOTg0ZmRmYzMxYmFkMzc1JGV4cG9ydCRiYzgxMzNiNjlmZjY2MGEyIGFzIFBpcGVjYXRDbGllbnRNaWNUb2dnbGUsICRkMmUzNjJjNWEwN2VlM2M1JGV4cG9ydCRiYjQzNjY2Y2VkN2EyMGQwIGFzIFBpcGVjYXRDbGllbnRQcm92aWRlciwgJDZhNjVkZWI4NjE1YTJhZDckZXhwb3J0JDg1OTc0ZGI2ZDBjYzQzYjMgYXMgUGlwZWNhdENsaWVudFZpZGVvLCAkMDM0YTU2ZTdlZTFiN2JlZCRleHBvcnQkNzc3ZmE4NDk4YmU3ODcwNSBhcyB1c2VQaXBlY2F0Q2xpZW50LCAkZTc2ZWUyZjAyMWI1NDMyNSRleHBvcnQkM2VhMjYwMTQyN2YwNDMwZiBhcyB1c2VQaXBlY2F0Q2xpZW50Q2FtQ29udHJvbCwgJGY5MzRmMWY4YjEwYWFmMTkkZXhwb3J0JDY0MmJjNGQyZDJhMzc2ZjEgYXMgdXNlUGlwZWNhdENsaWVudE1lZGlhRGV2aWNlcywgJDRiNGI5MDk5Y2RiNWI3NzYkZXhwb3J0JDk4MTNkY2QyZDBjMjY4MTQgYXMgdXNlUGlwZWNhdENsaWVudE1lZGlhVHJhY2ssICQ1OTA1YzAwMWIwZGM4ZDI1JGV4cG9ydCQzODhlNzA2NTg2MzA5ZWYwIGFzIHVzZVBpcGVjYXRDbGllbnRNaWNDb250cm9sLCAkMzNmMzcyOWJiZTlmMDlkZiRleHBvcnQkMzBhZWUyNzgzMDlhODY3YiBhcyB1c2VQaXBlY2F0Q2xpZW50VHJhbnNwb3J0U3RhdGUsICQ4MjRlYTY0YjVmNzU3MjU5JGV4cG9ydCQzM2E2YWM1M2I4ZjAyNjI1IGFzIHVzZVJUVklDbGllbnRFdmVudCwgJDk5M2E3NDQxOTM4NDRhOTUkZXhwb3J0JDU5YmYyN2JkNDM2NzlkYjYgYXMgVm9pY2VWaXN1YWxpemVyfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1vZHVsZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@pipecat-ai/client-react/dist/index.module.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@pipecat-ai/daily-transport/dist/index.module.js":
/*!***************************************************************************!*\
  !*** ../../node_modules/@pipecat-ai/daily-transport/dist/index.module.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DailyRTVIMessageType: () => (/* binding */ $683f111f61e07358$export$ef180de88fd317cc),\n/* harmony export */   DailyTransport: () => (/* binding */ $683f111f61e07358$export$b1ca982aa1e488c1)\n/* harmony export */ });\n/* harmony import */ var _daily_co_daily_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @daily-co/daily-js */ \"(ssr)/../../node_modules/@pipecat-ai/daily-transport/node_modules/@daily-co/daily-js/dist/daily-esm.js\");\n/* harmony import */ var _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pipecat-ai/client-js */ \"(ssr)/../../node_modules/@pipecat-ai/client-js/dist/index.module.js\");\n\n\n\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\nvar $683f111f61e07358$exports = {};\n\n$parcel$export($683f111f61e07358$exports, \"DailyRTVIMessageType\", () => $683f111f61e07358$export$ef180de88fd317cc);\n$parcel$export($683f111f61e07358$exports, \"DailyTransport\", () => $683f111f61e07358$export$b1ca982aa1e488c1);\n\n\n/**\n * Raw wav audio file contents\n * @typedef {Object} WavPackerAudioType\n * @property {Blob} blob\n * @property {string} url\n * @property {number} channelCount\n * @property {number} sampleRate\n * @property {number} duration\n */ /**\n * Utility class for assembling PCM16 \"audio/wav\" data\n * @class\n */ class $6d4b7449a1e1544a$export$13afda237b1c9846 {\n    /**\n   * Converts Float32Array of amplitude data to ArrayBuffer in Int16Array format\n   * @param {Float32Array} float32Array\n   * @returns {ArrayBuffer}\n   */ static floatTo16BitPCM(float32Array) {\n        const buffer = new ArrayBuffer(float32Array.length * 2);\n        const view = new DataView(buffer);\n        let offset = 0;\n        for(let i = 0; i < float32Array.length; i++, offset += 2){\n            let s = Math.max(-1, Math.min(1, float32Array[i]));\n            view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);\n        }\n        return buffer;\n    }\n    /**\n   * Concatenates two ArrayBuffers\n   * @param {ArrayBuffer} leftBuffer\n   * @param {ArrayBuffer} rightBuffer\n   * @returns {ArrayBuffer}\n   */ static mergeBuffers(leftBuffer, rightBuffer) {\n        const tmpArray = new Uint8Array(leftBuffer.byteLength + rightBuffer.byteLength);\n        tmpArray.set(new Uint8Array(leftBuffer), 0);\n        tmpArray.set(new Uint8Array(rightBuffer), leftBuffer.byteLength);\n        return tmpArray.buffer;\n    }\n    /**\n   * Packs data into an Int16 format\n   * @private\n   * @param {number} size 0 = 1x Int16, 1 = 2x Int16\n   * @param {number} arg value to pack\n   * @returns\n   */ _packData(size, arg) {\n        return [\n            new Uint8Array([\n                arg,\n                arg >> 8\n            ]),\n            new Uint8Array([\n                arg,\n                arg >> 8,\n                arg >> 16,\n                arg >> 24\n            ])\n        ][size];\n    }\n    /**\n   * Packs audio into \"audio/wav\" Blob\n   * @param {number} sampleRate\n   * @param {{bitsPerSample: number, channels: Array<Float32Array>, data: Int16Array}} audio\n   * @returns {WavPackerAudioType}\n   */ pack(sampleRate, audio) {\n        if (!audio?.bitsPerSample) throw new Error(`Missing \"bitsPerSample\"`);\n        else if (!audio?.channels) throw new Error(`Missing \"channels\"`);\n        else if (!audio?.data) throw new Error(`Missing \"data\"`);\n        const { bitsPerSample: bitsPerSample, channels: channels, data: data } = audio;\n        const output = [\n            // Header\n            'RIFF',\n            this._packData(1, 52),\n            'WAVE',\n            // chunk 1\n            'fmt ',\n            this._packData(1, 16),\n            this._packData(0, 1),\n            this._packData(0, channels.length),\n            this._packData(1, sampleRate),\n            this._packData(1, sampleRate * channels.length * bitsPerSample / 8),\n            this._packData(0, channels.length * bitsPerSample / 8),\n            this._packData(0, bitsPerSample),\n            // chunk 2\n            'data',\n            this._packData(1, channels[0].length * channels.length * bitsPerSample / 8),\n            data\n        ];\n        const blob = new Blob(output, {\n            type: 'audio/mpeg'\n        });\n        const url = URL.createObjectURL(blob);\n        return {\n            blob: blob,\n            url: url,\n            channelCount: channels.length,\n            sampleRate: sampleRate,\n            duration: data.byteLength / (channels.length * sampleRate * 2)\n        };\n    }\n}\nglobalThis.WavPacker = $6d4b7449a1e1544a$export$13afda237b1c9846;\n\n\n/**\n * Constants for help with visualization\n * Helps map frequency ranges from Fast Fourier Transform\n * to human-interpretable ranges, notably music ranges and\n * human vocal ranges.\n */ // Eighth octave frequencies\nconst $03f71ce85e00ada6$var$octave8Frequencies = [\n    4186.01,\n    4434.92,\n    4698.63,\n    4978.03,\n    5274.04,\n    5587.65,\n    5919.91,\n    6271.93,\n    6644.88,\n    7040.0,\n    7458.62,\n    7902.13\n];\n// Labels for each of the above frequencies\nconst $03f71ce85e00ada6$var$octave8FrequencyLabels = [\n    'C',\n    'C#',\n    'D',\n    'D#',\n    'E',\n    'F',\n    'F#',\n    'G',\n    'G#',\n    'A',\n    'A#',\n    'B'\n];\nconst $03f71ce85e00ada6$export$776c63898ae5b636 = [];\nconst $03f71ce85e00ada6$export$facd167cc27ea9b0 = [];\nfor(let i = 1; i <= 8; i++)for(let f = 0; f < $03f71ce85e00ada6$var$octave8Frequencies.length; f++){\n    const freq = $03f71ce85e00ada6$var$octave8Frequencies[f];\n    $03f71ce85e00ada6$export$776c63898ae5b636.push(freq / Math.pow(2, 8 - i));\n    $03f71ce85e00ada6$export$facd167cc27ea9b0.push($03f71ce85e00ada6$var$octave8FrequencyLabels[f] + i);\n}\n/**\n * Subset of the note frequencies between 32 and 2000 Hz\n * 6 octave range: C1 to B6\n */ const $03f71ce85e00ada6$var$voiceFrequencyRange = [\n    32.0,\n    2000.0\n];\nconst $03f71ce85e00ada6$export$dbc1581ed2cfa183 = $03f71ce85e00ada6$export$776c63898ae5b636.filter((_, i)=>{\n    return $03f71ce85e00ada6$export$776c63898ae5b636[i] > $03f71ce85e00ada6$var$voiceFrequencyRange[0] && $03f71ce85e00ada6$export$776c63898ae5b636[i] < $03f71ce85e00ada6$var$voiceFrequencyRange[1];\n});\nconst $03f71ce85e00ada6$export$30a6f2881311088f = $03f71ce85e00ada6$export$facd167cc27ea9b0.filter((_, i)=>{\n    return $03f71ce85e00ada6$export$776c63898ae5b636[i] > $03f71ce85e00ada6$var$voiceFrequencyRange[0] && $03f71ce85e00ada6$export$776c63898ae5b636[i] < $03f71ce85e00ada6$var$voiceFrequencyRange[1];\n});\n\n\nclass $f32f064564ee62f6$export$2c3136da0bf130f9 {\n    /**\n   * Retrieves frequency domain data from an AnalyserNode adjusted to a decibel range\n   * returns human-readable formatting and labels\n   * @param {AnalyserNode} analyser\n   * @param {number} sampleRate\n   * @param {Float32Array} [fftResult]\n   * @param {\"frequency\"|\"music\"|\"voice\"} [analysisType]\n   * @param {number} [minDecibels] default -100\n   * @param {number} [maxDecibels] default -30\n   * @returns {AudioAnalysisOutputType}\n   */ static getFrequencies(analyser, sampleRate, fftResult, analysisType = 'frequency', minDecibels = -100, maxDecibels = -30) {\n        if (!fftResult) {\n            fftResult = new Float32Array(analyser.frequencyBinCount);\n            analyser.getFloatFrequencyData(fftResult);\n        }\n        const nyquistFrequency = sampleRate / 2;\n        const frequencyStep = 1 / fftResult.length * nyquistFrequency;\n        let outputValues;\n        let frequencies;\n        let labels;\n        if (analysisType === 'music' || analysisType === 'voice') {\n            const useFrequencies = analysisType === 'voice' ? (0, $03f71ce85e00ada6$export$dbc1581ed2cfa183) : (0, $03f71ce85e00ada6$export$776c63898ae5b636);\n            const aggregateOutput = Array(useFrequencies.length).fill(minDecibels);\n            for(let i = 0; i < fftResult.length; i++){\n                const frequency = i * frequencyStep;\n                const amplitude = fftResult[i];\n                for(let n = useFrequencies.length - 1; n >= 0; n--)if (frequency > useFrequencies[n]) {\n                    aggregateOutput[n] = Math.max(aggregateOutput[n], amplitude);\n                    break;\n                }\n            }\n            outputValues = aggregateOutput;\n            frequencies = analysisType === 'voice' ? (0, $03f71ce85e00ada6$export$dbc1581ed2cfa183) : (0, $03f71ce85e00ada6$export$776c63898ae5b636);\n            labels = analysisType === 'voice' ? (0, $03f71ce85e00ada6$export$30a6f2881311088f) : (0, $03f71ce85e00ada6$export$facd167cc27ea9b0);\n        } else {\n            outputValues = Array.from(fftResult);\n            frequencies = outputValues.map((_, i)=>frequencyStep * i);\n            labels = frequencies.map((f)=>`${f.toFixed(2)} Hz`);\n        }\n        // We normalize to {0, 1}\n        const normalizedOutput = outputValues.map((v)=>{\n            return Math.max(0, Math.min((v - minDecibels) / (maxDecibels - minDecibels), 1));\n        });\n        const values = new Float32Array(normalizedOutput);\n        return {\n            values: values,\n            frequencies: frequencies,\n            labels: labels\n        };\n    }\n    /**\n   * Creates a new AudioAnalysis instance for an HTMLAudioElement\n   * @param {HTMLAudioElement} audioElement\n   * @param {AudioBuffer|null} [audioBuffer] If provided, will cache all frequency domain data from the buffer\n   * @returns {AudioAnalysis}\n   */ constructor(audioElement, audioBuffer = null){\n        this.fftResults = [];\n        if (audioBuffer) {\n            /**\n       * Modified from\n       * https://stackoverflow.com/questions/75063715/using-the-web-audio-api-to-analyze-a-song-without-playing\n       *\n       * We do this to populate FFT values for the audio if provided an `audioBuffer`\n       * The reason to do this is that Safari fails when using `createMediaElementSource`\n       * This has a non-zero RAM cost so we only opt-in to run it on Safari, Chrome is better\n       */ const { length: length, sampleRate: sampleRate } = audioBuffer;\n            const offlineAudioContext = new OfflineAudioContext({\n                length: length,\n                sampleRate: sampleRate\n            });\n            const source = offlineAudioContext.createBufferSource();\n            source.buffer = audioBuffer;\n            const analyser = offlineAudioContext.createAnalyser();\n            analyser.fftSize = 8192;\n            analyser.smoothingTimeConstant = 0.1;\n            source.connect(analyser);\n            // limit is :: 128 / sampleRate;\n            // but we just want 60fps - cuts ~1s from 6MB to 1MB of RAM\n            const renderQuantumInSeconds = 1 / 60;\n            const durationInSeconds = length / sampleRate;\n            const analyze = (index)=>{\n                const suspendTime = renderQuantumInSeconds * index;\n                if (suspendTime < durationInSeconds) offlineAudioContext.suspend(suspendTime).then(()=>{\n                    const fftResult = new Float32Array(analyser.frequencyBinCount);\n                    analyser.getFloatFrequencyData(fftResult);\n                    this.fftResults.push(fftResult);\n                    analyze(index + 1);\n                });\n                if (index === 1) offlineAudioContext.startRendering();\n                else offlineAudioContext.resume();\n            };\n            source.start(0);\n            analyze(1);\n            this.audio = audioElement;\n            this.context = offlineAudioContext;\n            this.analyser = analyser;\n            this.sampleRate = sampleRate;\n            this.audioBuffer = audioBuffer;\n        } else {\n            const audioContext = new AudioContext();\n            const track = audioContext.createMediaElementSource(audioElement);\n            const analyser = audioContext.createAnalyser();\n            analyser.fftSize = 8192;\n            analyser.smoothingTimeConstant = 0.1;\n            track.connect(analyser);\n            analyser.connect(audioContext.destination);\n            this.audio = audioElement;\n            this.context = audioContext;\n            this.analyser = analyser;\n            this.sampleRate = this.context.sampleRate;\n            this.audioBuffer = null;\n        }\n    }\n    /**\n   * Gets the current frequency domain data from the playing audio track\n   * @param {\"frequency\"|\"music\"|\"voice\"} [analysisType]\n   * @param {number} [minDecibels] default -100\n   * @param {number} [maxDecibels] default -30\n   * @returns {AudioAnalysisOutputType}\n   */ getFrequencies(analysisType = 'frequency', minDecibels = -100, maxDecibels = -30) {\n        let fftResult = null;\n        if (this.audioBuffer && this.fftResults.length) {\n            const pct = this.audio.currentTime / this.audio.duration;\n            const index = Math.min(pct * this.fftResults.length | 0, this.fftResults.length - 1);\n            fftResult = this.fftResults[index];\n        }\n        return $f32f064564ee62f6$export$2c3136da0bf130f9.getFrequencies(this.analyser, this.sampleRate, fftResult, analysisType, minDecibels, maxDecibels);\n    }\n    /**\n   * Resume the internal AudioContext if it was suspended due to the lack of\n   * user interaction when the AudioAnalysis was instantiated.\n   * @returns {Promise<true>}\n   */ async resumeIfSuspended() {\n        if (this.context.state === 'suspended') await this.context.resume();\n        return true;\n    }\n}\nglobalThis.AudioAnalysis = $f32f064564ee62f6$export$2c3136da0bf130f9;\n\n\nconst $29a8a70a9466b14f$export$50b76700e2b15e9 = `\nclass StreamProcessor extends AudioWorkletProcessor {\n  constructor() {\n    super();\n    this.hasStarted = false;\n    this.hasInterrupted = false;\n    this.outputBuffers = [];\n    this.bufferLength = 128;\n    this.write = { buffer: new Float32Array(this.bufferLength), trackId: null };\n    this.writeOffset = 0;\n    this.trackSampleOffsets = {};\n    this.port.onmessage = (event) => {\n      if (event.data) {\n        const payload = event.data;\n        if (payload.event === 'write') {\n          const int16Array = payload.buffer;\n          const float32Array = new Float32Array(int16Array.length);\n          for (let i = 0; i < int16Array.length; i++) {\n            float32Array[i] = int16Array[i] / 0x8000; // Convert Int16 to Float32\n          }\n          this.writeData(float32Array, payload.trackId);\n        } else if (\n          payload.event === 'offset' ||\n          payload.event === 'interrupt'\n        ) {\n          const requestId = payload.requestId;\n          const trackId = this.write.trackId;\n          const offset = this.trackSampleOffsets[trackId] || 0;\n          this.port.postMessage({\n            event: 'offset',\n            requestId,\n            trackId,\n            offset,\n          });\n          if (payload.event === 'interrupt') {\n            this.hasInterrupted = true;\n          }\n        } else {\n          throw new Error(\\`Unhandled event \"\\${payload.event}\"\\`);\n        }\n      }\n    };\n  }\n\n  writeData(float32Array, trackId = null) {\n    let { buffer } = this.write;\n    let offset = this.writeOffset;\n    for (let i = 0; i < float32Array.length; i++) {\n      buffer[offset++] = float32Array[i];\n      if (offset >= buffer.length) {\n        this.outputBuffers.push(this.write);\n        this.write = { buffer: new Float32Array(this.bufferLength), trackId };\n        buffer = this.write.buffer;\n        offset = 0;\n      }\n    }\n    this.writeOffset = offset;\n    return true;\n  }\n\n  process(inputs, outputs, parameters) {\n    const output = outputs[0];\n    const outputChannelData = output[0];\n    const outputBuffers = this.outputBuffers;\n    if (this.hasInterrupted) {\n      this.port.postMessage({ event: 'stop' });\n      return false;\n    } else if (outputBuffers.length) {\n      this.hasStarted = true;\n      const { buffer, trackId } = outputBuffers.shift();\n      for (let i = 0; i < outputChannelData.length; i++) {\n        outputChannelData[i] = buffer[i] || 0;\n      }\n      if (trackId) {\n        this.trackSampleOffsets[trackId] =\n          this.trackSampleOffsets[trackId] || 0;\n        this.trackSampleOffsets[trackId] += buffer.length;\n      }\n      return true;\n    } else if (this.hasStarted) {\n      this.port.postMessage({ event: 'stop' });\n      return false;\n    } else {\n      return true;\n    }\n  }\n}\n\nregisterProcessor('stream_processor', StreamProcessor);\n`;\nconst $29a8a70a9466b14f$var$script = new Blob([\n    $29a8a70a9466b14f$export$50b76700e2b15e9\n], {\n    type: 'application/javascript'\n});\nconst $29a8a70a9466b14f$var$src = URL.createObjectURL($29a8a70a9466b14f$var$script);\nconst $29a8a70a9466b14f$export$bfa8c596114d74df = $29a8a70a9466b14f$var$src;\n\n\n\nclass $d0a969833958d9e7$export$9698d62c78b8f366 {\n    /**\n   * Creates a new WavStreamPlayer instance\n   * @param {{sampleRate?: number}} options\n   * @returns {WavStreamPlayer}\n   */ constructor({ sampleRate: sampleRate = 44100 } = {}){\n        this.scriptSrc = (0, $29a8a70a9466b14f$export$bfa8c596114d74df);\n        this.sampleRate = sampleRate;\n        this.context = null;\n        this.stream = null;\n        this.analyser = null;\n        this.trackSampleOffsets = {};\n        this.interruptedTrackIds = {};\n    }\n    /**\n   * Connects the audio context and enables output to speakers\n   * @returns {Promise<true>}\n   */ async connect() {\n        this.context = new AudioContext({\n            sampleRate: this.sampleRate\n        });\n        if (this._speakerID) this.context.setSinkId(this._speakerID);\n        if (this.context.state === \"suspended\") await this.context.resume();\n        try {\n            await this.context.audioWorklet.addModule(this.scriptSrc);\n        } catch (e) {\n            console.error(e);\n            throw new Error(`Could not add audioWorklet module: ${this.scriptSrc}`);\n        }\n        const analyser = this.context.createAnalyser();\n        analyser.fftSize = 8192;\n        analyser.smoothingTimeConstant = 0.1;\n        this.analyser = analyser;\n        return true;\n    }\n    /**\n   * Gets the current frequency domain data from the playing track\n   * @param {\"frequency\"|\"music\"|\"voice\"} [analysisType]\n   * @param {number} [minDecibels] default -100\n   * @param {number} [maxDecibels] default -30\n   * @returns {import('./analysis/audio_analysis.js').AudioAnalysisOutputType}\n   */ getFrequencies(analysisType = \"frequency\", minDecibels = -100, maxDecibels = -30) {\n        if (!this.analyser) throw new Error(\"Not connected, please call .connect() first\");\n        return (0, $f32f064564ee62f6$export$2c3136da0bf130f9).getFrequencies(this.analyser, this.sampleRate, null, analysisType, minDecibels, maxDecibels);\n    }\n    /**\n   * @param {string} speaker deviceId\n   */ async updateSpeaker(speaker) {\n        const _prevSpeaker = this._speakerID;\n        this._speakerID = speaker;\n        if (this.context) try {\n            if (speaker === \"default\") await this.context.setSinkId();\n            else await this.context.setSinkId(speaker);\n        } catch (e) {\n            console.error(`Could not set sinkId to ${speaker}: ${e}`);\n            this._speakerID = _prevSpeaker;\n        }\n    }\n    /**\n   * Starts audio streaming\n   * @private\n   * @returns {Promise<true>}\n   */ _start() {\n        const streamNode = new AudioWorkletNode(this.context, \"stream_processor\");\n        streamNode.connect(this.context.destination);\n        streamNode.port.onmessage = (e)=>{\n            const { event: event } = e.data;\n            if (event === \"stop\") {\n                streamNode.disconnect();\n                this.stream = null;\n            } else if (event === \"offset\") {\n                const { requestId: requestId, trackId: trackId, offset: offset } = e.data;\n                const currentTime = offset / this.sampleRate;\n                this.trackSampleOffsets[requestId] = {\n                    trackId: trackId,\n                    offset: offset,\n                    currentTime: currentTime\n                };\n            }\n        };\n        this.analyser.disconnect();\n        streamNode.connect(this.analyser);\n        this.stream = streamNode;\n        return true;\n    }\n    /**\n   * Adds 16BitPCM data to the currently playing audio stream\n   * You can add chunks beyond the current play point and they will be queued for play\n   * @param {ArrayBuffer|Int16Array} arrayBuffer\n   * @param {string} [trackId]\n   * @returns {Int16Array}\n   */ add16BitPCM(arrayBuffer, trackId = \"default\") {\n        if (typeof trackId !== \"string\") throw new Error(`trackId must be a string`);\n        else if (this.interruptedTrackIds[trackId]) return;\n        if (!this.stream) this._start();\n        let buffer;\n        if (arrayBuffer instanceof Int16Array) buffer = arrayBuffer;\n        else if (arrayBuffer instanceof ArrayBuffer) buffer = new Int16Array(arrayBuffer);\n        else throw new Error(`argument must be Int16Array or ArrayBuffer`);\n        this.stream.port.postMessage({\n            event: \"write\",\n            buffer: buffer,\n            trackId: trackId\n        });\n        return buffer;\n    }\n    /**\n   * Gets the offset (sample count) of the currently playing stream\n   * @param {boolean} [interrupt]\n   * @returns {{trackId: string|null, offset: number, currentTime: number}}\n   */ async getTrackSampleOffset(interrupt = false) {\n        if (!this.stream) return null;\n        const requestId = crypto.randomUUID();\n        this.stream.port.postMessage({\n            event: interrupt ? \"interrupt\" : \"offset\",\n            requestId: requestId\n        });\n        let trackSampleOffset;\n        while(!trackSampleOffset){\n            trackSampleOffset = this.trackSampleOffsets[requestId];\n            await new Promise((r)=>setTimeout(()=>r(), 1));\n        }\n        const { trackId: trackId } = trackSampleOffset;\n        if (interrupt && trackId) this.interruptedTrackIds[trackId] = true;\n        return trackSampleOffset;\n    }\n    /**\n   * Strips the current stream and returns the sample offset of the audio\n   * @param {boolean} [interrupt]\n   * @returns {{trackId: string|null, offset: number, currentTime: number}}\n   */ async interrupt() {\n        return this.getTrackSampleOffset(true);\n    }\n}\nglobalThis.WavStreamPlayer = $d0a969833958d9e7$export$9698d62c78b8f366;\n\n\nconst $8e1d1e6ff08f6fb5$var$AudioProcessorWorklet = `\nclass AudioProcessor extends AudioWorkletProcessor {\n\n  constructor() {\n    super();\n    this.port.onmessage = this.receive.bind(this);\n    this.initialize();\n  }\n\n  initialize() {\n    this.foundAudio = false;\n    this.recording = false;\n    this.chunks = [];\n  }\n\n  /**\n   * Concatenates sampled chunks into channels\n   * Format is chunk[Left[], Right[]]\n   */\n  readChannelData(chunks, channel = -1, maxChannels = 9) {\n    let channelLimit;\n    if (channel !== -1) {\n      if (chunks[0] && chunks[0].length - 1 < channel) {\n        throw new Error(\n          \\`Channel \\${channel} out of range: max \\${chunks[0].length}\\`\n        );\n      }\n      channelLimit = channel + 1;\n    } else {\n      channel = 0;\n      channelLimit = Math.min(chunks[0] ? chunks[0].length : 1, maxChannels);\n    }\n    const channels = [];\n    for (let n = channel; n < channelLimit; n++) {\n      const length = chunks.reduce((sum, chunk) => {\n        return sum + chunk[n].length;\n      }, 0);\n      const buffers = chunks.map((chunk) => chunk[n]);\n      const result = new Float32Array(length);\n      let offset = 0;\n      for (let i = 0; i < buffers.length; i++) {\n        result.set(buffers[i], offset);\n        offset += buffers[i].length;\n      }\n      channels[n] = result;\n    }\n    return channels;\n  }\n\n  /**\n   * Combines parallel audio data into correct format,\n   * channels[Left[], Right[]] to float32Array[LRLRLRLR...]\n   */\n  formatAudioData(channels) {\n    if (channels.length === 1) {\n      // Simple case is only one channel\n      const float32Array = channels[0].slice();\n      const meanValues = channels[0].slice();\n      return { float32Array, meanValues };\n    } else {\n      const float32Array = new Float32Array(\n        channels[0].length * channels.length\n      );\n      const meanValues = new Float32Array(channels[0].length);\n      for (let i = 0; i < channels[0].length; i++) {\n        const offset = i * channels.length;\n        let meanValue = 0;\n        for (let n = 0; n < channels.length; n++) {\n          float32Array[offset + n] = channels[n][i];\n          meanValue += channels[n][i];\n        }\n        meanValues[i] = meanValue / channels.length;\n      }\n      return { float32Array, meanValues };\n    }\n  }\n\n  /**\n   * Converts 32-bit float data to 16-bit integers\n   */\n  floatTo16BitPCM(float32Array) {\n    const buffer = new ArrayBuffer(float32Array.length * 2);\n    const view = new DataView(buffer);\n    let offset = 0;\n    for (let i = 0; i < float32Array.length; i++, offset += 2) {\n      let s = Math.max(-1, Math.min(1, float32Array[i]));\n      view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);\n    }\n    return buffer;\n  }\n\n  /**\n   * Retrieves the most recent amplitude values from the audio stream\n   * @param {number} channel\n   */\n  getValues(channel = -1) {\n    const channels = this.readChannelData(this.chunks, channel);\n    const { meanValues } = this.formatAudioData(channels);\n    return { meanValues, channels };\n  }\n\n  /**\n   * Exports chunks as an audio/wav file\n   */\n  export() {\n    const channels = this.readChannelData(this.chunks);\n    const { float32Array, meanValues } = this.formatAudioData(channels);\n    const audioData = this.floatTo16BitPCM(float32Array);\n    return {\n      meanValues: meanValues,\n      audio: {\n        bitsPerSample: 16,\n        channels: channels,\n        data: audioData,\n      },\n    };\n  }\n\n  receive(e) {\n    const { event, id } = e.data;\n    let receiptData = {};\n    switch (event) {\n      case 'start':\n        this.recording = true;\n        break;\n      case 'stop':\n        this.recording = false;\n        break;\n      case 'clear':\n        this.initialize();\n        break;\n      case 'export':\n        receiptData = this.export();\n        break;\n      case 'read':\n        receiptData = this.getValues();\n        break;\n      default:\n        break;\n    }\n    // Always send back receipt\n    this.port.postMessage({ event: 'receipt', id, data: receiptData });\n  }\n\n  sendChunk(chunk) {\n    const channels = this.readChannelData([chunk]);\n    const { float32Array, meanValues } = this.formatAudioData(channels);\n    const rawAudioData = this.floatTo16BitPCM(float32Array);\n    const monoAudioData = this.floatTo16BitPCM(meanValues);\n    this.port.postMessage({\n      event: 'chunk',\n      data: {\n        mono: monoAudioData,\n        raw: rawAudioData,\n      },\n    });\n  }\n\n  process(inputList, outputList, parameters) {\n    // Copy input to output (e.g. speakers)\n    // Note that this creates choppy sounds with Mac products\n    const sourceLimit = Math.min(inputList.length, outputList.length);\n    for (let inputNum = 0; inputNum < sourceLimit; inputNum++) {\n      const input = inputList[inputNum];\n      const output = outputList[inputNum];\n      const channelCount = Math.min(input.length, output.length);\n      for (let channelNum = 0; channelNum < channelCount; channelNum++) {\n        input[channelNum].forEach((sample, i) => {\n          output[channelNum][i] = sample;\n        });\n      }\n    }\n    const inputs = inputList[0];\n    // There's latency at the beginning of a stream before recording starts\n    // Make sure we actually receive audio data before we start storing chunks\n    let sliceIndex = 0;\n    if (!this.foundAudio) {\n      for (const channel of inputs) {\n        sliceIndex = 0; // reset for each channel\n        if (this.foundAudio) {\n          break;\n        }\n        if (channel) {\n          for (const value of channel) {\n            if (value !== 0) {\n              // find only one non-zero entry in any channel\n              this.foundAudio = true;\n              break;\n            } else {\n              sliceIndex++;\n            }\n          }\n        }\n      }\n    }\n    if (inputs && inputs[0] && this.foundAudio && this.recording) {\n      // We need to copy the TypedArray, because the \\`process\\`\n      // internals will reuse the same buffer to hold each input\n      const chunk = inputs.map((input) => input.slice(sliceIndex));\n      this.chunks.push(chunk);\n      this.sendChunk(chunk);\n    }\n    return true;\n  }\n}\n\nregisterProcessor('audio_processor', AudioProcessor);\n`;\nconst $8e1d1e6ff08f6fb5$var$script = new Blob([\n    $8e1d1e6ff08f6fb5$var$AudioProcessorWorklet\n], {\n    type: 'application/javascript'\n});\nconst $8e1d1e6ff08f6fb5$var$src = URL.createObjectURL($8e1d1e6ff08f6fb5$var$script);\nconst $8e1d1e6ff08f6fb5$export$1f65f50a8cbff43c = $8e1d1e6ff08f6fb5$var$src;\n\n\n\n\nclass $62bc376044a05513$export$439b217ca659a877 {\n    /**\n   * Create a new WavRecorder instance\n   * @param {{sampleRate?: number, outputToSpeakers?: boolean, debug?: boolean}} [options]\n   * @returns {WavRecorder}\n   */ constructor({ sampleRate: sampleRate = 44100, outputToSpeakers: outputToSpeakers = false, debug: debug = false } = {}){\n        // Script source\n        this.scriptSrc = (0, $8e1d1e6ff08f6fb5$export$1f65f50a8cbff43c);\n        // Config\n        this.sampleRate = sampleRate;\n        this.outputToSpeakers = outputToSpeakers;\n        this.debug = !!debug;\n        this._deviceChangeCallback = null;\n        this._devices = [];\n        this.deviceSelection = null;\n        // State variables\n        this.stream = null;\n        this.processor = null;\n        this.source = null;\n        this.node = null;\n        this.recording = false;\n        // Event handling with AudioWorklet\n        this._lastEventId = 0;\n        this.eventReceipts = {};\n        this.eventTimeout = 5000;\n        // Process chunks of audio\n        this._chunkProcessor = ()=>{};\n        this._chunkProcessorSize = void 0;\n        this._chunkProcessorBuffer = {\n            raw: new ArrayBuffer(0),\n            mono: new ArrayBuffer(0)\n        };\n    }\n    /**\n   * Decodes audio data from multiple formats to a Blob, url, Float32Array and AudioBuffer\n   * @param {Blob|Float32Array|Int16Array|ArrayBuffer|number[]} audioData\n   * @param {number} sampleRate\n   * @param {number} fromSampleRate\n   * @returns {Promise<DecodedAudioType>}\n   */ static async decode(audioData, sampleRate = 44100, fromSampleRate = -1) {\n        const context = new AudioContext({\n            sampleRate: sampleRate\n        });\n        let arrayBuffer;\n        let blob;\n        if (audioData instanceof Blob) {\n            if (fromSampleRate !== -1) throw new Error(`Can not specify \"fromSampleRate\" when reading from Blob`);\n            blob = audioData;\n            arrayBuffer = await blob.arrayBuffer();\n        } else if (audioData instanceof ArrayBuffer) {\n            if (fromSampleRate !== -1) throw new Error(`Can not specify \"fromSampleRate\" when reading from ArrayBuffer`);\n            arrayBuffer = audioData;\n            blob = new Blob([\n                arrayBuffer\n            ], {\n                type: 'audio/wav'\n            });\n        } else {\n            let float32Array;\n            let data;\n            if (audioData instanceof Int16Array) {\n                data = audioData;\n                float32Array = new Float32Array(audioData.length);\n                for(let i = 0; i < audioData.length; i++)float32Array[i] = audioData[i] / 0x8000;\n            } else if (audioData instanceof Float32Array) float32Array = audioData;\n            else if (audioData instanceof Array) float32Array = new Float32Array(audioData);\n            else throw new Error(`\"audioData\" must be one of: Blob, Float32Arrray, Int16Array, ArrayBuffer, Array<number>`);\n            if (fromSampleRate === -1) throw new Error(`Must specify \"fromSampleRate\" when reading from Float32Array, In16Array or Array`);\n            else if (fromSampleRate < 3000) throw new Error(`Minimum \"fromSampleRate\" is 3000 (3kHz)`);\n            if (!data) data = (0, $6d4b7449a1e1544a$export$13afda237b1c9846).floatTo16BitPCM(float32Array);\n            const audio = {\n                bitsPerSample: 16,\n                channels: [\n                    float32Array\n                ],\n                data: data\n            };\n            const packer = new (0, $6d4b7449a1e1544a$export$13afda237b1c9846)();\n            const result = packer.pack(fromSampleRate, audio);\n            blob = result.blob;\n            arrayBuffer = await blob.arrayBuffer();\n        }\n        const audioBuffer = await context.decodeAudioData(arrayBuffer);\n        const values = audioBuffer.getChannelData(0);\n        const url = URL.createObjectURL(blob);\n        return {\n            blob: blob,\n            url: url,\n            values: values,\n            audioBuffer: audioBuffer\n        };\n    }\n    /**\n   * Logs data in debug mode\n   * @param {...any} arguments\n   * @returns {true}\n   */ log() {\n        if (this.debug) this.log(...arguments);\n        return true;\n    }\n    /**\n   * Retrieves the current sampleRate for the recorder\n   * @returns {number}\n   */ getSampleRate() {\n        return this.sampleRate;\n    }\n    /**\n   * Retrieves the current status of the recording\n   * @returns {\"ended\"|\"paused\"|\"recording\"}\n   */ getStatus() {\n        if (!this.processor) return 'ended';\n        else if (!this.recording) return 'paused';\n        else return 'recording';\n    }\n    /**\n   * Sends an event to the AudioWorklet\n   * @private\n   * @param {string} name\n   * @param {{[key: string]: any}} data\n   * @param {AudioWorkletNode} [_processor]\n   * @returns {Promise<{[key: string]: any}>}\n   */ async _event(name, data = {}, _processor = null) {\n        _processor = _processor || this.processor;\n        if (!_processor) throw new Error('Can not send events without recording first');\n        const message = {\n            event: name,\n            id: this._lastEventId++,\n            data: data\n        };\n        _processor.port.postMessage(message);\n        const t0 = new Date().valueOf();\n        while(!this.eventReceipts[message.id]){\n            if (new Date().valueOf() - t0 > this.eventTimeout) throw new Error(`Timeout waiting for \"${name}\" event`);\n            await new Promise((res)=>setTimeout(()=>res(true), 1));\n        }\n        const payload = this.eventReceipts[message.id];\n        delete this.eventReceipts[message.id];\n        return payload;\n    }\n    /**\n   * Sets device change callback, remove if callback provided is `null`\n   * @param {(Array<MediaDeviceInfo & {default: boolean}>): void|null} callback\n   * @returns {true}\n   */ listenForDeviceChange(callback) {\n        if (callback === null && this._deviceChangeCallback) {\n            navigator.mediaDevices.removeEventListener('devicechange', this._deviceChangeCallback);\n            this._deviceChangeCallback = null;\n        } else if (callback !== null) {\n            // Basically a debounce; we only want this called once when devices change\n            // And we only want the most recent callback() to be executed\n            // if a few are operating at the same time\n            let lastId = 0;\n            let lastDevices = [];\n            const serializeDevices = (devices)=>devices.map((d)=>d.deviceId).sort().join(',');\n            const cb = async ()=>{\n                let id = ++lastId;\n                const devices = await this.listDevices();\n                if (id === lastId) {\n                    if (serializeDevices(lastDevices) !== serializeDevices(devices)) {\n                        lastDevices = devices;\n                        callback(devices.slice());\n                    }\n                }\n            };\n            navigator.mediaDevices.addEventListener('devicechange', cb);\n            cb();\n            this._deviceChangeCallback = cb;\n        }\n        return true;\n    }\n    /**\n   * Manually request permission to use the microphone\n   * @returns {Promise<true>}\n   */ async requestPermission() {\n        const permissionStatus = await navigator.permissions.query({\n            name: 'microphone'\n        });\n        if (permissionStatus.state === 'denied') window.alert('You must grant microphone access to use this feature.');\n        else if (permissionStatus.state === 'prompt') try {\n            const stream = await navigator.mediaDevices.getUserMedia({\n                audio: true\n            });\n            const tracks = stream.getTracks();\n            tracks.forEach((track)=>track.stop());\n        } catch (e) {\n            window.alert('You must grant microphone access to use this feature.');\n        }\n        return true;\n    }\n    /**\n   * List all eligible devices for recording, will request permission to use microphone\n   * @returns {Promise<Array<MediaDeviceInfo & {default: boolean}>>}\n   */ async listDevices() {\n        if (!navigator.mediaDevices || !('enumerateDevices' in navigator.mediaDevices)) throw new Error('Could not request user devices');\n        await this.requestPermission();\n        const devices = await navigator.mediaDevices.enumerateDevices();\n        const audioDevices = devices.filter((device)=>device.kind === 'audioinput');\n        return audioDevices;\n    // const defaultDeviceIndex = audioDevices.findIndex(\n    //   (device) => device.deviceId === 'default'\n    // );\n    // const deviceList = [];\n    // if (defaultDeviceIndex !== -1) {\n    //   let defaultDevice = audioDevices.splice(defaultDeviceIndex, 1)[0];\n    //   let existingIndex = audioDevices.findIndex(\n    //     (device) => device.groupId === defaultDevice.groupId\n    //   );\n    //   if (existingIndex !== -1) {\n    //     defaultDevice = audioDevices.splice(existingIndex, 1)[0];\n    //   }\n    //   defaultDevice.default = true;\n    //   deviceList.push(defaultDevice);\n    // }\n    // return deviceList.concat(audioDevices);\n    }\n    /**\n   * Begins a recording session and requests microphone permissions if not already granted\n   * Microphone recording indicator will appear on browser tab but status will be \"paused\"\n   * @param {string} [deviceId] if no device provided, default device will be used\n   * @returns {Promise<true>}\n   */ async begin(deviceId) {\n        if (this.processor) throw new Error(`Already connected: please call .end() to start a new session`);\n        if (!navigator.mediaDevices || !('getUserMedia' in navigator.mediaDevices)) throw new Error('Could not request user media');\n        deviceId = deviceId ?? this.deviceSelection?.deviceId;\n        try {\n            const config = {\n                audio: true\n            };\n            if (deviceId) config.audio = {\n                deviceId: {\n                    exact: deviceId\n                }\n            };\n            this.stream = await navigator.mediaDevices.getUserMedia(config);\n        } catch (err) {\n            throw new Error('Could not start media stream');\n        }\n        this.listDevices().then((devices)=>{\n            deviceId = this.stream.getAudioTracks()[0].getSettings().deviceId;\n            console.log('find current device', devices, deviceId, this.stream.getAudioTracks()[0].getSettings());\n            this.deviceSelection = devices.find((d)=>d.deviceId === deviceId);\n            console.log('current device', this.deviceSelection);\n        });\n        const context = new AudioContext({\n            sampleRate: this.sampleRate\n        });\n        const source = context.createMediaStreamSource(this.stream);\n        // Load and execute the module script.\n        try {\n            await context.audioWorklet.addModule(this.scriptSrc);\n        } catch (e) {\n            console.error(e);\n            throw new Error(`Could not add audioWorklet module: ${this.scriptSrc}`);\n        }\n        const processor = new AudioWorkletNode(context, 'audio_processor');\n        processor.port.onmessage = (e)=>{\n            const { event: event, id: id, data: data } = e.data;\n            if (event === 'receipt') this.eventReceipts[id] = data;\n            else if (event === 'chunk') {\n                if (this._chunkProcessorSize) {\n                    const buffer = this._chunkProcessorBuffer;\n                    this._chunkProcessorBuffer = {\n                        raw: (0, $6d4b7449a1e1544a$export$13afda237b1c9846).mergeBuffers(buffer.raw, data.raw),\n                        mono: (0, $6d4b7449a1e1544a$export$13afda237b1c9846).mergeBuffers(buffer.mono, data.mono)\n                    };\n                    if (this._chunkProcessorBuffer.mono.byteLength >= this._chunkProcessorSize) {\n                        this._chunkProcessor(this._chunkProcessorBuffer);\n                        this._chunkProcessorBuffer = {\n                            raw: new ArrayBuffer(0),\n                            mono: new ArrayBuffer(0)\n                        };\n                    }\n                } else this._chunkProcessor(data);\n            }\n        };\n        const node = source.connect(processor);\n        const analyser = context.createAnalyser();\n        analyser.fftSize = 8192;\n        analyser.smoothingTimeConstant = 0.1;\n        node.connect(analyser);\n        if (this.outputToSpeakers) {\n            // eslint-disable-next-line no-console\n            console.warn(\"Warning: Output to speakers may affect sound quality,\\nespecially due to system audio feedback preventative measures.\\nuse only for debugging\");\n            analyser.connect(context.destination);\n        }\n        this.source = source;\n        this.node = node;\n        this.analyser = analyser;\n        this.processor = processor;\n        console.log('begin completed');\n        return true;\n    }\n    /**\n   * Gets the current frequency domain data from the recording track\n   * @param {\"frequency\"|\"music\"|\"voice\"} [analysisType]\n   * @param {number} [minDecibels] default -100\n   * @param {number} [maxDecibels] default -30\n   * @returns {import('./analysis/audio_analysis.js').AudioAnalysisOutputType}\n   */ getFrequencies(analysisType = 'frequency', minDecibels = -100, maxDecibels = -30) {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        return (0, $f32f064564ee62f6$export$2c3136da0bf130f9).getFrequencies(this.analyser, this.sampleRate, null, analysisType, minDecibels, maxDecibels);\n    }\n    /**\n   * Pauses the recording\n   * Keeps microphone stream open but halts storage of audio\n   * @returns {Promise<true>}\n   */ async pause() {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        else if (!this.recording) throw new Error('Already paused: please call .record() first');\n        if (this._chunkProcessorBuffer.raw.byteLength) this._chunkProcessor(this._chunkProcessorBuffer);\n        this.log('Pausing ...');\n        await this._event('stop');\n        this.recording = false;\n        return true;\n    }\n    /**\n   * Start recording stream and storing to memory from the connected audio source\n   * @param {(data: { mono: Int16Array; raw: Int16Array }) => any} [chunkProcessor]\n   * @param {number} [chunkSize] chunkProcessor will not be triggered until this size threshold met in mono audio\n   * @returns {Promise<true>}\n   */ async record(chunkProcessor = ()=>{}, chunkSize = 8192) {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        else if (this.recording) throw new Error('Already recording: please call .pause() first');\n        else if (typeof chunkProcessor !== 'function') throw new Error(`chunkProcessor must be a function`);\n        this._chunkProcessor = chunkProcessor;\n        this._chunkProcessorSize = chunkSize;\n        this._chunkProcessorBuffer = {\n            raw: new ArrayBuffer(0),\n            mono: new ArrayBuffer(0)\n        };\n        this.log('Recording ...');\n        await this._event('start');\n        this.recording = true;\n        return true;\n    }\n    /**\n   * Clears the audio buffer, empties stored recording\n   * @returns {Promise<true>}\n   */ async clear() {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        await this._event('clear');\n        return true;\n    }\n    /**\n   * Reads the current audio stream data\n   * @returns {Promise<{meanValues: Float32Array, channels: Array<Float32Array>}>}\n   */ async read() {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        this.log('Reading ...');\n        const result = await this._event('read');\n        return result;\n    }\n    /**\n   * Saves the current audio stream to a file\n   * @param {boolean} [force] Force saving while still recording\n   * @returns {Promise<import('./wav_packer.js').WavPackerAudioType>}\n   */ async save(force = false) {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        if (!force && this.recording) throw new Error('Currently recording: please call .pause() first, or call .save(true) to force');\n        this.log('Exporting ...');\n        const exportData = await this._event('export');\n        const packer = new (0, $6d4b7449a1e1544a$export$13afda237b1c9846)();\n        const result = packer.pack(this.sampleRate, exportData.audio);\n        return result;\n    }\n    /**\n   * Ends the current recording session and saves the result\n   * @returns {Promise<import('./wav_packer.js').WavPackerAudioType>}\n   */ async end() {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        const _processor = this.processor;\n        this.log('Stopping ...');\n        await this._event('stop');\n        this.recording = false;\n        const tracks = this.stream.getTracks();\n        tracks.forEach((track)=>track.stop());\n        this.log('Exporting ...');\n        const exportData = await this._event('export', {}, _processor);\n        this.processor.disconnect();\n        this.source.disconnect();\n        this.node.disconnect();\n        this.analyser.disconnect();\n        this.stream = null;\n        this.processor = null;\n        this.source = null;\n        this.node = null;\n        const packer = new (0, $6d4b7449a1e1544a$export$13afda237b1c9846)();\n        const result = packer.pack(this.sampleRate, exportData.audio);\n        return result;\n    }\n    /**\n   * Performs a full cleanup of WavRecorder instance\n   * Stops actively listening via microphone and removes existing listeners\n   * @returns {Promise<true>}\n   */ async quit() {\n        this.listenForDeviceChange(null);\n        // we do not reset this on end so that selections persist across starts\n        this.deviceSelection = null;\n        if (this.processor) await this.end();\n        return true;\n    }\n}\nglobalThis.WavRecorder = $62bc376044a05513$export$439b217ca659a877;\n\n\n\n\n\nclass $5fc11d7bc0d20724$export$2934cf2d25c67a48 {\n    /**\n   * Create a new MediaStreamRecorder instance\n   * @param {{sampleRate?: number, outputToSpeakers?: boolean, debug?: boolean}} [options]\n   * @returns {MediaStreamRecorder}\n   */ constructor({ sampleRate: sampleRate = 44100, outputToSpeakers: outputToSpeakers = false, debug: debug = false } = {}){\n        // Script source\n        this.scriptSrc = (0, $8e1d1e6ff08f6fb5$export$1f65f50a8cbff43c);\n        // Config\n        this.sampleRate = sampleRate;\n        this.outputToSpeakers = outputToSpeakers;\n        this.debug = !!debug;\n        // State variables\n        this.stream = null;\n        this.processor = null;\n        this.source = null;\n        this.node = null;\n        this.recording = false;\n        // Event handling with AudioWorklet\n        this._lastEventId = 0;\n        this.eventReceipts = {};\n        this.eventTimeout = 5000;\n        // Process chunks of audio\n        this._chunkProcessor = ()=>{};\n        this._chunkProcessorSize = void 0;\n        this._chunkProcessorBuffer = {\n            raw: new ArrayBuffer(0),\n            mono: new ArrayBuffer(0)\n        };\n    }\n    /**\n   * Logs data in debug mode\n   * @param {...any} arguments\n   * @returns {true}\n   */ log() {\n        if (this.debug) this.log(...arguments);\n        return true;\n    }\n    /**\n   * Retrieves the current sampleRate for the recorder\n   * @returns {number}\n   */ getSampleRate() {\n        return this.sampleRate;\n    }\n    /**\n   * Retrieves the current status of the recording\n   * @returns {\"ended\"|\"paused\"|\"recording\"}\n   */ getStatus() {\n        if (!this.processor) return \"ended\";\n        else if (!this.recording) return \"paused\";\n        else return \"recording\";\n    }\n    /**\n   * Sends an event to the AudioWorklet\n   * @private\n   * @param {string} name\n   * @param {{[key: string]: any}} data\n   * @param {AudioWorkletNode} [_processor]\n   * @returns {Promise<{[key: string]: any}>}\n   */ async _event(name, data = {}, _processor = null) {\n        _processor = _processor || this.processor;\n        if (!_processor) throw new Error(\"Can not send events without recording first\");\n        const message = {\n            event: name,\n            id: this._lastEventId++,\n            data: data\n        };\n        _processor.port.postMessage(message);\n        const t0 = new Date().valueOf();\n        while(!this.eventReceipts[message.id]){\n            if (new Date().valueOf() - t0 > this.eventTimeout) throw new Error(`Timeout waiting for \"${name}\" event`);\n            await new Promise((res)=>setTimeout(()=>res(true), 1));\n        }\n        const payload = this.eventReceipts[message.id];\n        delete this.eventReceipts[message.id];\n        return payload;\n    }\n    /**\n   * Begins a recording session for the given audioTrack\n   * Microphone recording indicator will appear on browser tab but status will be \"paused\"\n   * @param {MediaStreamTrack} [audioTrack] if no device provided, default device will be used\n   * @returns {Promise<true>}\n   */ async begin(audioTrack) {\n        if (this.processor) throw new Error(`Already connected: please call .end() to start a new session`);\n        if (!audioTrack || audioTrack.kind !== \"audio\") throw new Error(\"No audio track provided\");\n        this.stream = new MediaStream([\n            audioTrack\n        ]);\n        const context = new AudioContext({\n            sampleRate: this.sampleRate\n        });\n        const source = context.createMediaStreamSource(this.stream);\n        // Load and execute the module script.\n        try {\n            await context.audioWorklet.addModule(this.scriptSrc);\n        } catch (e) {\n            console.error(e);\n            throw new Error(`Could not add audioWorklet module: ${this.scriptSrc}`);\n        }\n        const processor = new AudioWorkletNode(context, \"audio_processor\");\n        processor.port.onmessage = (e)=>{\n            const { event: event, id: id, data: data } = e.data;\n            if (event === \"receipt\") this.eventReceipts[id] = data;\n            else if (event === \"chunk\") {\n                if (this._chunkProcessorSize) {\n                    const buffer = this._chunkProcessorBuffer;\n                    this._chunkProcessorBuffer = {\n                        raw: (0, $6d4b7449a1e1544a$export$13afda237b1c9846).mergeBuffers(buffer.raw, data.raw),\n                        mono: (0, $6d4b7449a1e1544a$export$13afda237b1c9846).mergeBuffers(buffer.mono, data.mono)\n                    };\n                    if (this._chunkProcessorBuffer.mono.byteLength >= this._chunkProcessorSize) {\n                        this._chunkProcessor(this._chunkProcessorBuffer);\n                        this._chunkProcessorBuffer = {\n                            raw: new ArrayBuffer(0),\n                            mono: new ArrayBuffer(0)\n                        };\n                    }\n                } else this._chunkProcessor(data);\n            }\n        };\n        const node = source.connect(processor);\n        const analyser = context.createAnalyser();\n        analyser.fftSize = 8192;\n        analyser.smoothingTimeConstant = 0.1;\n        node.connect(analyser);\n        if (this.outputToSpeakers) {\n            // eslint-disable-next-line no-console\n            console.warn(\"Warning: Output to speakers may affect sound quality,\\nespecially due to system audio feedback preventative measures.\\nuse only for debugging\");\n            analyser.connect(context.destination);\n        }\n        this.source = source;\n        this.node = node;\n        this.analyser = analyser;\n        this.processor = processor;\n        return true;\n    }\n    /**\n   * Gets the current frequency domain data from the recording track\n   * @param {\"frequency\"|\"music\"|\"voice\"} [analysisType]\n   * @param {number} [minDecibels] default -100\n   * @param {number} [maxDecibels] default -30\n   * @returns {import('./analysis/audio_analysis.js').AudioAnalysisOutputType}\n   */ getFrequencies(analysisType = \"frequency\", minDecibels = -100, maxDecibels = -30) {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        return (0, $f32f064564ee62f6$export$2c3136da0bf130f9).getFrequencies(this.analyser, this.sampleRate, null, analysisType, minDecibels, maxDecibels);\n    }\n    /**\n   * Pauses the recording\n   * Keeps microphone stream open but halts storage of audio\n   * @returns {Promise<true>}\n   */ async pause() {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        else if (!this.recording) throw new Error(\"Already paused: please call .record() first\");\n        if (this._chunkProcessorBuffer.raw.byteLength) this._chunkProcessor(this._chunkProcessorBuffer);\n        this.log(\"Pausing ...\");\n        await this._event(\"stop\");\n        this.recording = false;\n        return true;\n    }\n    /**\n   * Start recording stream and storing to memory from the connected audio source\n   * @param {(data: { mono: Int16Array; raw: Int16Array }) => any} [chunkProcessor]\n   * @param {number} [chunkSize] chunkProcessor will not be triggered until this size threshold met in mono audio\n   * @returns {Promise<true>}\n   */ async record(chunkProcessor = ()=>{}, chunkSize = 8192) {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        else if (this.recording) throw new Error(\"Already recording: HELLO please call .pause() first\");\n        else if (typeof chunkProcessor !== \"function\") throw new Error(`chunkProcessor must be a function`);\n        this._chunkProcessor = chunkProcessor;\n        this._chunkProcessorSize = chunkSize;\n        this._chunkProcessorBuffer = {\n            raw: new ArrayBuffer(0),\n            mono: new ArrayBuffer(0)\n        };\n        this.log(\"Recording ...\");\n        await this._event(\"start\");\n        this.recording = true;\n        return true;\n    }\n    /**\n   * Clears the audio buffer, empties stored recording\n   * @returns {Promise<true>}\n   */ async clear() {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        await this._event(\"clear\");\n        return true;\n    }\n    /**\n   * Reads the current audio stream data\n   * @returns {Promise<{meanValues: Float32Array, channels: Array<Float32Array>}>}\n   */ async read() {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        this.log(\"Reading ...\");\n        const result = await this._event(\"read\");\n        return result;\n    }\n    /**\n   * Saves the current audio stream to a file\n   * @param {boolean} [force] Force saving while still recording\n   * @returns {Promise<import('./wav_packer.js').WavPackerAudioType>}\n   */ async save(force = false) {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        if (!force && this.recording) throw new Error(\"Currently recording: please call .pause() first, or call .save(true) to force\");\n        this.log(\"Exporting ...\");\n        const exportData = await this._event(\"export\");\n        const packer = new (0, $6d4b7449a1e1544a$export$13afda237b1c9846)();\n        const result = packer.pack(this.sampleRate, exportData.audio);\n        return result;\n    }\n    /**\n   * Ends the current recording session and saves the result\n   * @returns {Promise<import('./wav_packer.js').WavPackerAudioType>}\n   */ async end() {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        const _processor = this.processor;\n        this.log(\"Stopping ...\");\n        await this._event(\"stop\");\n        this.recording = false;\n        this.log(\"Exporting ...\");\n        const exportData = await this._event(\"export\", {}, _processor);\n        this.processor.disconnect();\n        this.source.disconnect();\n        this.node.disconnect();\n        this.analyser.disconnect();\n        this.stream = null;\n        this.processor = null;\n        this.source = null;\n        this.node = null;\n        const packer = new (0, $6d4b7449a1e1544a$export$13afda237b1c9846)();\n        const result = packer.pack(this.sampleRate, exportData.audio);\n        return result;\n    }\n    /**\n   * Performs a full cleanup of WavRecorder instance\n   * Stops actively listening via microphone and removes existing listeners\n   * @returns {Promise<true>}\n   */ async quit() {\n        this.listenForDeviceChange(null);\n        if (this.processor) await this.end();\n        return true;\n    }\n}\nglobalThis.WavRecorder = WavRecorder;\n\n\n\n\nvar $58d19ff082af5e5c$exports = {};\n$58d19ff082af5e5c$exports = JSON.parse(\"{\\\"name\\\":\\\"@pipecat-ai/daily-transport\\\",\\\"version\\\":\\\"1.0.0\\\",\\\"license\\\":\\\"BSD-2-Clause\\\",\\\"main\\\":\\\"dist/index.js\\\",\\\"module\\\":\\\"dist/index.module.js\\\",\\\"types\\\":\\\"dist/index.d.ts\\\",\\\"source\\\":\\\"src/index.ts\\\",\\\"repository\\\":{\\\"type\\\":\\\"git\\\",\\\"url\\\":\\\"git+https://github.com/pipecat-ai/pipecat-client-web-transports.git\\\"},\\\"files\\\":[\\\"dist\\\",\\\"package.json\\\",\\\"README.md\\\"],\\\"scripts\\\":{\\\"build\\\":\\\"parcel build --no-cache\\\",\\\"dev\\\":\\\"parcel watch\\\",\\\"lint\\\":\\\"eslint . --ext ts --report-unused-disable-directives --max-warnings 0\\\"},\\\"devDependencies\\\":{\\\"@pipecat-ai/client-js\\\":\\\"^1.0.0\\\",\\\"eslint\\\":\\\"9.11.1\\\",\\\"eslint-config-prettier\\\":\\\"^9.1.0\\\",\\\"eslint-plugin-simple-import-sort\\\":\\\"^12.1.1\\\"},\\\"peerDependencies\\\":{\\\"@pipecat-ai/client-js\\\":\\\"~1.0.0\\\"},\\\"dependencies\\\":{\\\"@daily-co/daily-js\\\":\\\"^0.77.0\\\"},\\\"description\\\":\\\"Pipecat Daily Transport Package\\\",\\\"author\\\":\\\"Daily.co\\\",\\\"bugs\\\":{\\\"url\\\":\\\"https://github.com/pipecat-ai/pipecat-client-web-transports/issues\\\"},\\\"homepage\\\":\\\"https://github.com/pipecat-ai/pipecat-client-web-transports/blob/main/transports/daily-webrtc/README.md\\\"}\");\n\n\nvar $683f111f61e07358$export$ef180de88fd317cc;\n(function(DailyRTVIMessageType) {\n    DailyRTVIMessageType[\"AUDIO_BUFFERING_STARTED\"] = \"audio-buffering-started\";\n    DailyRTVIMessageType[\"AUDIO_BUFFERING_STOPPED\"] = \"audio-buffering-stopped\";\n})($683f111f61e07358$export$ef180de88fd317cc || ($683f111f61e07358$export$ef180de88fd317cc = {}));\nclass $683f111f61e07358$var$DailyCallWrapper {\n    constructor(daily){\n        this._daily = daily;\n        this._proxy = new Proxy(this._daily, {\n            get: (target, prop, receiver)=>{\n                if (typeof target[prop] === \"function\") {\n                    let errMsg;\n                    switch(String(prop)){\n                        // Disable methods that modify the lifecycle of the call. These operations\n                        // should be performed via the PipecatClient in order to keep state in sync.\n                        case \"preAuth\":\n                            errMsg = `Calls to preAuth() are disabled. Please use Transport.preAuth()`;\n                            break;\n                        case \"startCamera\":\n                            errMsg = `Calls to startCamera() are disabled. Please use PipecatClient.initDevices()`;\n                            break;\n                        case \"join\":\n                            errMsg = `Calls to join() are disabled. Please use PipecatClient.connect()`;\n                            break;\n                        case \"leave\":\n                            errMsg = `Calls to leave() are disabled. Please use PipecatClient.disconnect()`;\n                            break;\n                        case \"destroy\":\n                            errMsg = `Calls to destroy() are disabled.`;\n                            break;\n                    }\n                    if (errMsg) return ()=>{\n                        throw new Error(errMsg);\n                    };\n                    // Forward other method calls\n                    return (...args)=>{\n                        return target[prop](...args);\n                    };\n                }\n                // Forward property access\n                return Reflect.get(target, prop, receiver);\n            }\n        });\n    }\n    get proxy() {\n        return this._proxy;\n    }\n}\nclass $683f111f61e07358$export$b1ca982aa1e488c1 extends (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.Transport) {\n    constructor(opts = {}){\n        super();\n        this._botId = \"\";\n        this._selectedCam = {};\n        this._selectedMic = {};\n        this._selectedSpeaker = {};\n        this._currentAudioTrack = null;\n        this._audioQueue = [];\n        this._callbacks = {};\n        const { bufferLocalAudioUntilBotReady: bufferLocalAudioUntilBotReady, ...dailyOpts } = opts;\n        this._dailyFactoryOptions = dailyOpts;\n        this._bufferLocalAudioUntilBotReady = bufferLocalAudioUntilBotReady || false;\n        this._daily = (0, _daily_co_daily_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]).createCallObject({\n            ...this._dailyFactoryOptions,\n            allowMultipleCallInstances: true\n        });\n        this._dailyWrapper = new $683f111f61e07358$var$DailyCallWrapper(this._daily);\n    }\n    setupRecorder() {\n        this._mediaStreamRecorder = new (0, $5fc11d7bc0d20724$export$2934cf2d25c67a48)({\n            sampleRate: $683f111f61e07358$export$b1ca982aa1e488c1.RECORDER_SAMPLE_RATE\n        });\n    }\n    handleUserAudioStream(data) {\n        this._audioQueue.push(data);\n    }\n    flushAudioQueue() {\n        const batchSize = 10; // Number of buffers to send in one message\n        if (this._audioQueue.length === 0) return;\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).debug(`Will flush audio queue: ${this._audioQueue.length}`);\n        while(this._audioQueue.length > 0){\n            const batch = [];\n            // Collect up to `batchSize` items\n            while(batch.length < batchSize && this._audioQueue.length > 0){\n                const queuedData = this._audioQueue.shift();\n                if (queuedData) batch.push(queuedData);\n            }\n            if (batch.length > 0) this._sendAudioBatch(batch);\n        }\n    }\n    _sendAudioBatch(dataBatch) {\n        const encodedBatch = dataBatch.map((data)=>{\n            const pcmByteArray = new Uint8Array(data);\n            return btoa(String.fromCharCode(...pcmByteArray));\n        });\n        const audioMessage = {\n            id: \"raw-audio-batch\",\n            label: \"rtvi-ai\",\n            type: \"raw-audio-batch\",\n            data: {\n                base64AudioBatch: encodedBatch,\n                sampleRate: $683f111f61e07358$export$b1ca982aa1e488c1.RECORDER_SAMPLE_RATE,\n                numChannels: 1\n            }\n        };\n        this.sendMessage(audioMessage);\n    }\n    initialize(options, messageHandler) {\n        if (this._bufferLocalAudioUntilBotReady) this.setupRecorder();\n        this._callbacks = options.callbacks ?? {};\n        this._onMessage = messageHandler;\n        if (this._dailyFactoryOptions.startVideoOff == null || options.enableCam != null) // Default is cam off\n        this._dailyFactoryOptions.startVideoOff = !(options.enableCam ?? false);\n        if (this._dailyFactoryOptions.startAudioOff == null || options.enableMic != null) // Default is mic on\n        this._dailyFactoryOptions.startAudioOff = !(options.enableMic ?? true);\n        this.attachEventListeners();\n        this.state = \"disconnected\";\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).debug(\"[Daily Transport] Initialized\", (0, (/*@__PURE__*/$parcel$interopDefault($58d19ff082af5e5c$exports))).version);\n    }\n    get dailyCallClient() {\n        return this._dailyWrapper.proxy;\n    }\n    get state() {\n        return this._state;\n    }\n    set state(state) {\n        if (this._state === state) return;\n        this._state = state;\n        this._callbacks.onTransportStateChanged?.(state);\n    }\n    getSessionInfo() {\n        return this._daily.meetingSessionSummary();\n    }\n    async getAllCams() {\n        const { devices: devices } = await this._daily.enumerateDevices();\n        return devices.filter((d)=>d.kind === \"videoinput\");\n    }\n    updateCam(camId) {\n        this._daily.setInputDevicesAsync({\n            videoDeviceId: camId\n        }).then((infos)=>{\n            this._selectedCam = infos.camera;\n        });\n    }\n    get selectedCam() {\n        return this._selectedCam;\n    }\n    async getAllMics() {\n        const { devices: devices } = await this._daily.enumerateDevices();\n        return devices.filter((d)=>d.kind === \"audioinput\");\n    }\n    updateMic(micId) {\n        this._daily.setInputDevicesAsync({\n            audioDeviceId: micId\n        }).then((infos)=>{\n            this._selectedMic = infos.mic;\n        });\n    }\n    get selectedMic() {\n        return this._selectedMic;\n    }\n    async getAllSpeakers() {\n        const { devices: devices } = await this._daily.enumerateDevices();\n        return devices.filter((d)=>d.kind === \"audiooutput\");\n    }\n    updateSpeaker(speakerId) {\n        this._daily.setOutputDeviceAsync({\n            outputDeviceId: speakerId\n        }).then((infos)=>{\n            this._selectedSpeaker = infos.speaker;\n        });\n    }\n    get selectedSpeaker() {\n        return this._selectedSpeaker;\n    }\n    enableMic(enable) {\n        this._daily.setLocalAudio(enable);\n    }\n    get isMicEnabled() {\n        return this._daily.localAudio();\n    }\n    enableCam(enable) {\n        this._daily.setLocalVideo(enable);\n    }\n    get isCamEnabled() {\n        return this._daily.localVideo();\n    }\n    enableScreenShare(enable) {\n        if (enable) this._daily.startScreenShare();\n        else this._daily.stopScreenShare();\n    }\n    get isSharingScreen() {\n        return this._daily.localScreenAudio() || this._daily.localScreenVideo();\n    }\n    tracks() {\n        const participants = this._daily.participants() ?? {};\n        const bot = participants?.[this._botId];\n        const tracks = {\n            local: {\n                audio: participants?.local?.tracks?.audio?.persistentTrack,\n                screenAudio: participants?.local?.tracks?.screenAudio?.persistentTrack,\n                screenVideo: participants?.local?.tracks?.screenVideo?.persistentTrack,\n                video: participants?.local?.tracks?.video?.persistentTrack\n            }\n        };\n        if (bot) tracks.bot = {\n            audio: bot?.tracks?.audio?.persistentTrack,\n            video: bot?.tracks?.video?.persistentTrack\n        };\n        return tracks;\n    }\n    async startRecording() {\n        try {\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).info(\"[Daily Transport] Initializing recording\");\n            await this._mediaStreamRecorder.record((data)=>{\n                this.handleUserAudioStream(data.mono);\n            }, $683f111f61e07358$export$b1ca982aa1e488c1.RECORDER_CHUNK_SIZE);\n            this._callbacks.onAudioBufferingStarted?.();\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).info(\"[Daily Transport] Recording Initialized\");\n        } catch (e) {\n            const err = e;\n            if (!err.message.includes(\"Already recording\")) (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).error(\"Error starting recording\", e);\n        }\n    }\n    async preAuth(dailyCallOptions) {\n        this._dailyFactoryOptions = dailyCallOptions;\n        await this._daily.preAuth(dailyCallOptions);\n    }\n    async initDevices() {\n        if (!this._daily) throw new (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIError)(\"Transport instance not initialized\");\n        this.state = \"initializing\";\n        const infos = await this._daily.startCamera(this._dailyFactoryOptions);\n        const { devices: devices } = await this._daily.enumerateDevices();\n        const cams = devices.filter((d)=>d.kind === \"videoinput\");\n        const mics = devices.filter((d)=>d.kind === \"audioinput\");\n        const speakers = devices.filter((d)=>d.kind === \"audiooutput\");\n        this._selectedCam = infos.camera;\n        this._selectedMic = infos.mic;\n        this._selectedSpeaker = infos.speaker;\n        this._callbacks.onAvailableCamsUpdated?.(cams);\n        this._callbacks.onAvailableMicsUpdated?.(mics);\n        this._callbacks.onAvailableSpeakersUpdated?.(speakers);\n        this._callbacks.onCamUpdated?.(infos.camera);\n        this._callbacks.onMicUpdated?.(infos.mic);\n        this._callbacks.onSpeakerUpdated?.(infos.speaker);\n        // Instantiate audio observers\n        if (!this._daily.isLocalAudioLevelObserverRunning()) await this._daily.startLocalAudioLevelObserver(100);\n        if (!this._daily.isRemoteParticipantsAudioLevelObserverRunning()) await this._daily.startRemoteParticipantsAudioLevelObserver(100);\n        this.state = \"initialized\";\n    }\n    _validateConnectionParams(connectParams) {\n        if (connectParams === undefined || connectParams === null) return undefined;\n        if (typeof connectParams !== \"object\") throw new (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIError)(\"Invalid connection parameters\");\n        const tmpParams = connectParams;\n        if (tmpParams.room_url) {\n            tmpParams.url = tmpParams.room_url;\n            delete tmpParams.room_url;\n        }\n        if (!tmpParams.token) // Daily doesn't like token being in the map and undefined or null\n        delete tmpParams.token;\n        return tmpParams;\n    }\n    async _connect(connectParams) {\n        if (!this._daily) throw new (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIError)(\"Transport instance not initialized\");\n        if (connectParams) this._dailyFactoryOptions = {\n            ...this._dailyFactoryOptions,\n            ...connectParams\n        };\n        this.state = \"connecting\";\n        try {\n            await this._daily.join(this._dailyFactoryOptions);\n        } catch (e) {\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).error(\"Failed to join room\", e);\n            this.state = \"error\";\n            throw new (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.TransportStartError)();\n        }\n        if (this._abortController?.signal.aborted) return;\n        this.state = \"connected\";\n        this._callbacks.onConnected?.();\n    }\n    async sendReadyMessage() {\n        return new Promise((resolve)=>{\n            // Detect iOS devices\n            const isIOS = ()=>{\n                const userAgent = navigator.userAgent;\n                return /iPad|iPhone|iPod/.test(userAgent) || /Macintosh/.test(userAgent) && \"ontouchend\" in document;\n            };\n            const sendReadyMessage = ()=>{\n                this.state = \"ready\";\n                this.flushAudioQueue();\n                this.sendMessage((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIMessage).clientReady());\n                this.stopRecording();\n                resolve();\n            };\n            for(const id in this._daily.participants()){\n                const p = this._daily.participants()[id];\n                if (!p.local && p.tracks?.audio?.persistentTrack) {\n                    // If we already have a remote audio track, we can send the ready message immediately\n                    sendReadyMessage();\n                    resolve();\n                    return;\n                }\n            }\n            const readyHandler = (ev)=>{\n                if (!ev.participant?.local) {\n                    this._daily.off(\"track-started\", readyHandler);\n                    // Check if it's an iOS device\n                    if (isIOS()) {\n                        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).debug(\"[Daily Transport] iOS device detected, adding 0.5 second delay before sending ready message\");\n                        // Add 500ms delay for iOS devices:\n                        // This is a workaround for iOS devices clipping a portion\n                        // of the audio after the track becomes playable.\n                        setTimeout(sendReadyMessage, 500);\n                    } else // Non-iOS device, send ready message immediately\n                    sendReadyMessage();\n                }\n            };\n            this._daily.on(\"track-started\", readyHandler);\n        });\n    }\n    stopRecording() {\n        if (this._mediaStreamRecorder && this._mediaStreamRecorder.getStatus() !== \"ended\") {\n            // disconnecting, we don't need to record anymore\n            this._mediaStreamRecorder.end();\n            this._callbacks.onAudioBufferingStopped?.();\n        }\n    }\n    attachEventListeners() {\n        this._daily.on(\"available-devices-updated\", this.handleAvailableDevicesUpdated.bind(this));\n        this._daily.on(\"selected-devices-updated\", this.handleSelectedDevicesUpdated.bind(this));\n        this._daily.on(\"track-started\", this.handleTrackStarted.bind(this));\n        this._daily.on(\"track-stopped\", this.handleTrackStopped.bind(this));\n        this._daily.on(\"participant-joined\", this.handleParticipantJoined.bind(this));\n        this._daily.on(\"participant-left\", this.handleParticipantLeft.bind(this));\n        this._daily.on(\"local-audio-level\", this.handleLocalAudioLevel.bind(this));\n        this._daily.on(\"remote-participants-audio-level\", this.handleRemoteAudioLevel.bind(this));\n        this._daily.on(\"app-message\", this.handleAppMessage.bind(this));\n        this._daily.on(\"left-meeting\", this.handleLeftMeeting.bind(this));\n        this._daily.on(\"error\", this.handleFatalError.bind(this));\n        this._daily.on(\"nonfatal-error\", this.handleNonFatalError.bind(this));\n    }\n    async _disconnect() {\n        this.state = \"disconnecting\";\n        this._daily.stopLocalAudioLevelObserver();\n        this._daily.stopRemoteParticipantsAudioLevelObserver();\n        this._audioQueue = [];\n        this._currentAudioTrack = null;\n        this.stopRecording();\n        await this._daily.leave();\n    }\n    sendMessage(message) {\n        this._daily.sendAppMessage(message, \"*\");\n    }\n    handleAppMessage(ev) {\n        // Bubble any messages with rtvi-ai label\n        if (ev.data.label === \"rtvi-ai\") this._onMessage({\n            id: ev.data.id,\n            type: ev.data.type,\n            data: ev.data.data\n        });\n    }\n    handleAvailableDevicesUpdated(ev) {\n        this._callbacks.onAvailableCamsUpdated?.(ev.availableDevices.filter((d)=>d.kind === \"videoinput\"));\n        this._callbacks.onAvailableMicsUpdated?.(ev.availableDevices.filter((d)=>d.kind === \"audioinput\"));\n        this._callbacks.onAvailableSpeakersUpdated?.(ev.availableDevices.filter((d)=>d.kind === \"audiooutput\"));\n    }\n    handleSelectedDevicesUpdated(ev) {\n        if (this._selectedCam?.deviceId !== ev.devices.camera) {\n            this._selectedCam = ev.devices.camera;\n            this._callbacks.onCamUpdated?.(ev.devices.camera);\n        }\n        if (this._selectedMic?.deviceId !== ev.devices.mic) {\n            this._selectedMic = ev.devices.mic;\n            this._callbacks.onMicUpdated?.(ev.devices.mic);\n        }\n        if (this._selectedSpeaker?.deviceId !== ev.devices.speaker) {\n            this._selectedSpeaker = ev.devices.speaker;\n            this._callbacks.onSpeakerUpdated?.(ev.devices.speaker);\n        }\n    }\n    async handleLocalAudioTrack(track) {\n        if (this.state == \"ready\" || !this._bufferLocalAudioUntilBotReady) return;\n        const status = this._mediaStreamRecorder.getStatus();\n        switch(status){\n            case \"ended\":\n                await this._mediaStreamRecorder.begin(track);\n                await this.startRecording();\n                break;\n            case \"paused\":\n                await this.startRecording();\n                break;\n            case \"recording\":\n            default:\n                if (this._currentAudioTrack !== track) {\n                    await this._mediaStreamRecorder.end();\n                    await this._mediaStreamRecorder.begin(track);\n                    await this.startRecording();\n                } else (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).warn(\"track-started event received for current track and already recording\");\n                break;\n        }\n        this._currentAudioTrack = track;\n    }\n    handleTrackStarted(ev) {\n        if (ev.type === \"screenAudio\" || ev.type === \"screenVideo\") this._callbacks.onScreenTrackStarted?.(ev.track, ev.participant ? $683f111f61e07358$var$dailyParticipantToParticipant(ev.participant) : undefined);\n        else {\n            if (ev.participant?.local && ev.track.kind === \"audio\") this.handleLocalAudioTrack(ev.track);\n            this._callbacks.onTrackStarted?.(ev.track, ev.participant ? $683f111f61e07358$var$dailyParticipantToParticipant(ev.participant) : undefined);\n        }\n    }\n    handleTrackStopped(ev) {\n        if (ev.type === \"screenAudio\" || ev.type === \"screenVideo\") this._callbacks.onScreenTrackStopped?.(ev.track, ev.participant ? $683f111f61e07358$var$dailyParticipantToParticipant(ev.participant) : undefined);\n        else this._callbacks.onTrackStopped?.(ev.track, ev.participant ? $683f111f61e07358$var$dailyParticipantToParticipant(ev.participant) : undefined);\n    }\n    handleParticipantJoined(ev) {\n        const p = $683f111f61e07358$var$dailyParticipantToParticipant(ev.participant);\n        this._callbacks.onParticipantJoined?.(p);\n        if (p.local) return;\n        this._botId = ev.participant.session_id;\n        this._callbacks.onBotConnected?.(p);\n    }\n    handleParticipantLeft(ev) {\n        const p = $683f111f61e07358$var$dailyParticipantToParticipant(ev.participant);\n        this._callbacks.onParticipantLeft?.(p);\n        if (p.local) return;\n        this._botId = \"\";\n        this._callbacks.onBotDisconnected?.(p);\n    }\n    handleLocalAudioLevel(ev) {\n        this._callbacks.onLocalAudioLevel?.(ev.audioLevel);\n    }\n    handleRemoteAudioLevel(ev) {\n        const participants = this._daily.participants();\n        const ids = Object.keys(ev.participantsAudioLevel);\n        for(let i = 0; i < ids.length; i++){\n            const id = ids[i];\n            const level = ev.participantsAudioLevel[id];\n            this._callbacks.onRemoteAudioLevel?.(level, $683f111f61e07358$var$dailyParticipantToParticipant(participants[id]));\n        }\n    }\n    handleLeftMeeting() {\n        this.state = \"disconnected\";\n        this._botId = \"\";\n        this._callbacks.onDisconnected?.();\n    }\n    handleFatalError(ev) {\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.logger).error(\"Daily fatal error\", ev.errorMsg);\n        this.state = \"error\";\n        this._botId = \"\";\n        this._callbacks.onError?.((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_1__.RTVIMessage).error(ev.errorMsg, true));\n    }\n    handleNonFatalError(ev) {\n        switch(ev.type){\n            case \"screen-share-error\":\n                this._callbacks.onScreenShareError?.(ev.errorMsg);\n                break;\n        }\n    }\n}\n$683f111f61e07358$export$b1ca982aa1e488c1.RECORDER_SAMPLE_RATE = 16000;\n$683f111f61e07358$export$b1ca982aa1e488c1.RECORDER_CHUNK_SIZE = 512;\nconst $683f111f61e07358$var$dailyParticipantToParticipant = (p)=>({\n        id: p.user_id,\n        local: p.local,\n        name: p.user_name\n    });\n\n\n\n\n\n//# sourceMappingURL=index.module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BwaXBlY2F0LWFpL2RhaWx5LXRyYW5zcG9ydC9kaXN0L2luZGV4Lm1vZHVsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXVEO0FBQzJKOzs7QUFHbE47QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0JBQStCLHFEQUFxRDtBQUNwRjtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYyxNQUFNO0FBQ3BCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGNBQWM7QUFDM0IsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHlCQUF5QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsYUFBYTtBQUMxQixhQUFhLGFBQWE7QUFDMUIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixjQUFjLHlFQUF5RTtBQUN2RixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsK0RBQStEO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGdCQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx5REFBYTtBQUN6QjtBQUNBO0FBQ0Esc0NBQXNDLDhEQUFrQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOzs7OztBQUttSTtBQUN4SSIsInNvdXJjZXMiOlsiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvbm9kZV9tb2R1bGVzL0BwaXBlY2F0LWFpL2RhaWx5LXRyYW5zcG9ydC9kaXN0L2luZGV4Lm1vZHVsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJDd6YkQ4JGRhaWx5Y29kYWlseWpzIGZyb20gXCJAZGFpbHktY28vZGFpbHktanNcIjtcbmltcG9ydCB7bG9nZ2VyIGFzICQ3emJEOCRsb2dnZXIsIFJUVklFcnJvciBhcyAkN3piRDgkUlRWSUVycm9yLCBUcmFuc3BvcnRTdGFydEVycm9yIGFzICQ3emJEOCRUcmFuc3BvcnRTdGFydEVycm9yLCBSVFZJTWVzc2FnZSBhcyAkN3piRDgkUlRWSU1lc3NhZ2UsIFRyYW5zcG9ydCBhcyAkN3piRDgkVHJhbnNwb3J0fSBmcm9tIFwiQHBpcGVjYXQtYWkvY2xpZW50LWpzXCI7XG5cblxuZnVuY3Rpb24gJHBhcmNlbCRpbnRlcm9wRGVmYXVsdChhKSB7XG4gIHJldHVybiBhICYmIGEuX19lc01vZHVsZSA/IGEuZGVmYXVsdCA6IGE7XG59XG5cbmZ1bmN0aW9uICRwYXJjZWwkZXhwb3J0KGUsIG4sIHYsIHMpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIG4sIHtnZXQ6IHYsIHNldDogcywgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSk7XG59XG52YXIgJDY4M2YxMTFmNjFlMDczNTgkZXhwb3J0cyA9IHt9O1xuXG4kcGFyY2VsJGV4cG9ydCgkNjgzZjExMWY2MWUwNzM1OCRleHBvcnRzLCBcIkRhaWx5UlRWSU1lc3NhZ2VUeXBlXCIsICgpID0+ICQ2ODNmMTExZjYxZTA3MzU4JGV4cG9ydCRlZjE4MGRlODhmZDMxN2NjKTtcbiRwYXJjZWwkZXhwb3J0KCQ2ODNmMTExZjYxZTA3MzU4JGV4cG9ydHMsIFwiRGFpbHlUcmFuc3BvcnRcIiwgKCkgPT4gJDY4M2YxMTFmNjFlMDczNTgkZXhwb3J0JGIxY2E5ODJhYTFlNDg4YzEpO1xuXG5cbi8qKlxuICogUmF3IHdhdiBhdWRpbyBmaWxlIGNvbnRlbnRzXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBXYXZQYWNrZXJBdWRpb1R5cGVcbiAqIEBwcm9wZXJ0eSB7QmxvYn0gYmxvYlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHVybFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNoYW5uZWxDb3VudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNhbXBsZVJhdGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkdXJhdGlvblxuICovIC8qKlxuICogVXRpbGl0eSBjbGFzcyBmb3IgYXNzZW1ibGluZyBQQ00xNiBcImF1ZGlvL3dhdlwiIGRhdGFcbiAqIEBjbGFzc1xuICovIGNsYXNzICQ2ZDRiNzQ0OWExZTE1NDRhJGV4cG9ydCQxM2FmZGEyMzdiMWM5ODQ2IHtcbiAgICAvKipcbiAgICogQ29udmVydHMgRmxvYXQzMkFycmF5IG9mIGFtcGxpdHVkZSBkYXRhIHRvIEFycmF5QnVmZmVyIGluIEludDE2QXJyYXkgZm9ybWF0XG4gICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBmbG9hdDMyQXJyYXlcbiAgICogQHJldHVybnMge0FycmF5QnVmZmVyfVxuICAgKi8gc3RhdGljIGZsb2F0VG8xNkJpdFBDTShmbG9hdDMyQXJyYXkpIHtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGZsb2F0MzJBcnJheS5sZW5ndGggKiAyKTtcbiAgICAgICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGZsb2F0MzJBcnJheS5sZW5ndGg7IGkrKywgb2Zmc2V0ICs9IDIpe1xuICAgICAgICAgICAgbGV0IHMgPSBNYXRoLm1heCgtMSwgTWF0aC5taW4oMSwgZmxvYXQzMkFycmF5W2ldKSk7XG4gICAgICAgICAgICB2aWV3LnNldEludDE2KG9mZnNldCwgcyA8IDAgPyBzICogMHg4MDAwIDogcyAqIDB4N2ZmZiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9XG4gICAgLyoqXG4gICAqIENvbmNhdGVuYXRlcyB0d28gQXJyYXlCdWZmZXJzXG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGxlZnRCdWZmZXJcbiAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gcmlnaHRCdWZmZXJcbiAgICogQHJldHVybnMge0FycmF5QnVmZmVyfVxuICAgKi8gc3RhdGljIG1lcmdlQnVmZmVycyhsZWZ0QnVmZmVyLCByaWdodEJ1ZmZlcikge1xuICAgICAgICBjb25zdCB0bXBBcnJheSA9IG5ldyBVaW50OEFycmF5KGxlZnRCdWZmZXIuYnl0ZUxlbmd0aCArIHJpZ2h0QnVmZmVyLmJ5dGVMZW5ndGgpO1xuICAgICAgICB0bXBBcnJheS5zZXQobmV3IFVpbnQ4QXJyYXkobGVmdEJ1ZmZlciksIDApO1xuICAgICAgICB0bXBBcnJheS5zZXQobmV3IFVpbnQ4QXJyYXkocmlnaHRCdWZmZXIpLCBsZWZ0QnVmZmVyLmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXR1cm4gdG1wQXJyYXkuYnVmZmVyO1xuICAgIH1cbiAgICAvKipcbiAgICogUGFja3MgZGF0YSBpbnRvIGFuIEludDE2IGZvcm1hdFxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAwID0gMXggSW50MTYsIDEgPSAyeCBJbnQxNlxuICAgKiBAcGFyYW0ge251bWJlcn0gYXJnIHZhbHVlIHRvIHBhY2tcbiAgICogQHJldHVybnNcbiAgICovIF9wYWNrRGF0YShzaXplLCBhcmcpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgICAgICBhcmcsXG4gICAgICAgICAgICAgICAgYXJnID4+IDhcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgICAgIGFyZyxcbiAgICAgICAgICAgICAgICBhcmcgPj4gOCxcbiAgICAgICAgICAgICAgICBhcmcgPj4gMTYsXG4gICAgICAgICAgICAgICAgYXJnID4+IDI0XG4gICAgICAgICAgICBdKVxuICAgICAgICBdW3NpemVdO1xuICAgIH1cbiAgICAvKipcbiAgICogUGFja3MgYXVkaW8gaW50byBcImF1ZGlvL3dhdlwiIEJsb2JcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNhbXBsZVJhdGVcbiAgICogQHBhcmFtIHt7Yml0c1BlclNhbXBsZTogbnVtYmVyLCBjaGFubmVsczogQXJyYXk8RmxvYXQzMkFycmF5PiwgZGF0YTogSW50MTZBcnJheX19IGF1ZGlvXG4gICAqIEByZXR1cm5zIHtXYXZQYWNrZXJBdWRpb1R5cGV9XG4gICAqLyBwYWNrKHNhbXBsZVJhdGUsIGF1ZGlvKSB7XG4gICAgICAgIGlmICghYXVkaW8/LmJpdHNQZXJTYW1wbGUpIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBcImJpdHNQZXJTYW1wbGVcImApO1xuICAgICAgICBlbHNlIGlmICghYXVkaW8/LmNoYW5uZWxzKSB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgXCJjaGFubmVsc1wiYCk7XG4gICAgICAgIGVsc2UgaWYgKCFhdWRpbz8uZGF0YSkgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIFwiZGF0YVwiYCk7XG4gICAgICAgIGNvbnN0IHsgYml0c1BlclNhbXBsZTogYml0c1BlclNhbXBsZSwgY2hhbm5lbHM6IGNoYW5uZWxzLCBkYXRhOiBkYXRhIH0gPSBhdWRpbztcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gW1xuICAgICAgICAgICAgLy8gSGVhZGVyXG4gICAgICAgICAgICAnUklGRicsXG4gICAgICAgICAgICB0aGlzLl9wYWNrRGF0YSgxLCA1MiksXG4gICAgICAgICAgICAnV0FWRScsXG4gICAgICAgICAgICAvLyBjaHVuayAxXG4gICAgICAgICAgICAnZm10ICcsXG4gICAgICAgICAgICB0aGlzLl9wYWNrRGF0YSgxLCAxNiksXG4gICAgICAgICAgICB0aGlzLl9wYWNrRGF0YSgwLCAxKSxcbiAgICAgICAgICAgIHRoaXMuX3BhY2tEYXRhKDAsIGNoYW5uZWxzLmxlbmd0aCksXG4gICAgICAgICAgICB0aGlzLl9wYWNrRGF0YSgxLCBzYW1wbGVSYXRlKSxcbiAgICAgICAgICAgIHRoaXMuX3BhY2tEYXRhKDEsIHNhbXBsZVJhdGUgKiBjaGFubmVscy5sZW5ndGggKiBiaXRzUGVyU2FtcGxlIC8gOCksXG4gICAgICAgICAgICB0aGlzLl9wYWNrRGF0YSgwLCBjaGFubmVscy5sZW5ndGggKiBiaXRzUGVyU2FtcGxlIC8gOCksXG4gICAgICAgICAgICB0aGlzLl9wYWNrRGF0YSgwLCBiaXRzUGVyU2FtcGxlKSxcbiAgICAgICAgICAgIC8vIGNodW5rIDJcbiAgICAgICAgICAgICdkYXRhJyxcbiAgICAgICAgICAgIHRoaXMuX3BhY2tEYXRhKDEsIGNoYW5uZWxzWzBdLmxlbmd0aCAqIGNoYW5uZWxzLmxlbmd0aCAqIGJpdHNQZXJTYW1wbGUgLyA4KSxcbiAgICAgICAgICAgIGRhdGFcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKG91dHB1dCwge1xuICAgICAgICAgICAgdHlwZTogJ2F1ZGlvL21wZWcnXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYmxvYjogYmxvYixcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgY2hhbm5lbENvdW50OiBjaGFubmVscy5sZW5ndGgsXG4gICAgICAgICAgICBzYW1wbGVSYXRlOiBzYW1wbGVSYXRlLFxuICAgICAgICAgICAgZHVyYXRpb246IGRhdGEuYnl0ZUxlbmd0aCAvIChjaGFubmVscy5sZW5ndGggKiBzYW1wbGVSYXRlICogMilcbiAgICAgICAgfTtcbiAgICB9XG59XG5nbG9iYWxUaGlzLldhdlBhY2tlciA9ICQ2ZDRiNzQ0OWExZTE1NDRhJGV4cG9ydCQxM2FmZGEyMzdiMWM5ODQ2O1xuXG5cbi8qKlxuICogQ29uc3RhbnRzIGZvciBoZWxwIHdpdGggdmlzdWFsaXphdGlvblxuICogSGVscHMgbWFwIGZyZXF1ZW5jeSByYW5nZXMgZnJvbSBGYXN0IEZvdXJpZXIgVHJhbnNmb3JtXG4gKiB0byBodW1hbi1pbnRlcnByZXRhYmxlIHJhbmdlcywgbm90YWJseSBtdXNpYyByYW5nZXMgYW5kXG4gKiBodW1hbiB2b2NhbCByYW5nZXMuXG4gKi8gLy8gRWlnaHRoIG9jdGF2ZSBmcmVxdWVuY2llc1xuY29uc3QgJDAzZjcxY2U4NWUwMGFkYTYkdmFyJG9jdGF2ZThGcmVxdWVuY2llcyA9IFtcbiAgICA0MTg2LjAxLFxuICAgIDQ0MzQuOTIsXG4gICAgNDY5OC42MyxcbiAgICA0OTc4LjAzLFxuICAgIDUyNzQuMDQsXG4gICAgNTU4Ny42NSxcbiAgICA1OTE5LjkxLFxuICAgIDYyNzEuOTMsXG4gICAgNjY0NC44OCxcbiAgICA3MDQwLjAsXG4gICAgNzQ1OC42MixcbiAgICA3OTAyLjEzXG5dO1xuLy8gTGFiZWxzIGZvciBlYWNoIG9mIHRoZSBhYm92ZSBmcmVxdWVuY2llc1xuY29uc3QgJDAzZjcxY2U4NWUwMGFkYTYkdmFyJG9jdGF2ZThGcmVxdWVuY3lMYWJlbHMgPSBbXG4gICAgJ0MnLFxuICAgICdDIycsXG4gICAgJ0QnLFxuICAgICdEIycsXG4gICAgJ0UnLFxuICAgICdGJyxcbiAgICAnRiMnLFxuICAgICdHJyxcbiAgICAnRyMnLFxuICAgICdBJyxcbiAgICAnQSMnLFxuICAgICdCJ1xuXTtcbmNvbnN0ICQwM2Y3MWNlODVlMDBhZGE2JGV4cG9ydCQ3NzZjNjM4OThhZTViNjM2ID0gW107XG5jb25zdCAkMDNmNzFjZTg1ZTAwYWRhNiRleHBvcnQkZmFjZDE2N2NjMjdlYTliMCA9IFtdO1xuZm9yKGxldCBpID0gMTsgaSA8PSA4OyBpKyspZm9yKGxldCBmID0gMDsgZiA8ICQwM2Y3MWNlODVlMDBhZGE2JHZhciRvY3RhdmU4RnJlcXVlbmNpZXMubGVuZ3RoOyBmKyspe1xuICAgIGNvbnN0IGZyZXEgPSAkMDNmNzFjZTg1ZTAwYWRhNiR2YXIkb2N0YXZlOEZyZXF1ZW5jaWVzW2ZdO1xuICAgICQwM2Y3MWNlODVlMDBhZGE2JGV4cG9ydCQ3NzZjNjM4OThhZTViNjM2LnB1c2goZnJlcSAvIE1hdGgucG93KDIsIDggLSBpKSk7XG4gICAgJDAzZjcxY2U4NWUwMGFkYTYkZXhwb3J0JGZhY2QxNjdjYzI3ZWE5YjAucHVzaCgkMDNmNzFjZTg1ZTAwYWRhNiR2YXIkb2N0YXZlOEZyZXF1ZW5jeUxhYmVsc1tmXSArIGkpO1xufVxuLyoqXG4gKiBTdWJzZXQgb2YgdGhlIG5vdGUgZnJlcXVlbmNpZXMgYmV0d2VlbiAzMiBhbmQgMjAwMCBIelxuICogNiBvY3RhdmUgcmFuZ2U6IEMxIHRvIEI2XG4gKi8gY29uc3QgJDAzZjcxY2U4NWUwMGFkYTYkdmFyJHZvaWNlRnJlcXVlbmN5UmFuZ2UgPSBbXG4gICAgMzIuMCxcbiAgICAyMDAwLjBcbl07XG5jb25zdCAkMDNmNzFjZTg1ZTAwYWRhNiRleHBvcnQkZGJjMTU4MWVkMmNmYTE4MyA9ICQwM2Y3MWNlODVlMDBhZGE2JGV4cG9ydCQ3NzZjNjM4OThhZTViNjM2LmZpbHRlcigoXywgaSk9PntcbiAgICByZXR1cm4gJDAzZjcxY2U4NWUwMGFkYTYkZXhwb3J0JDc3NmM2Mzg5OGFlNWI2MzZbaV0gPiAkMDNmNzFjZTg1ZTAwYWRhNiR2YXIkdm9pY2VGcmVxdWVuY3lSYW5nZVswXSAmJiAkMDNmNzFjZTg1ZTAwYWRhNiRleHBvcnQkNzc2YzYzODk4YWU1YjYzNltpXSA8ICQwM2Y3MWNlODVlMDBhZGE2JHZhciR2b2ljZUZyZXF1ZW5jeVJhbmdlWzFdO1xufSk7XG5jb25zdCAkMDNmNzFjZTg1ZTAwYWRhNiRleHBvcnQkMzBhNmYyODgxMzExMDg4ZiA9ICQwM2Y3MWNlODVlMDBhZGE2JGV4cG9ydCRmYWNkMTY3Y2MyN2VhOWIwLmZpbHRlcigoXywgaSk9PntcbiAgICByZXR1cm4gJDAzZjcxY2U4NWUwMGFkYTYkZXhwb3J0JDc3NmM2Mzg5OGFlNWI2MzZbaV0gPiAkMDNmNzFjZTg1ZTAwYWRhNiR2YXIkdm9pY2VGcmVxdWVuY3lSYW5nZVswXSAmJiAkMDNmNzFjZTg1ZTAwYWRhNiRleHBvcnQkNzc2YzYzODk4YWU1YjYzNltpXSA8ICQwM2Y3MWNlODVlMDBhZGE2JHZhciR2b2ljZUZyZXF1ZW5jeVJhbmdlWzFdO1xufSk7XG5cblxuY2xhc3MgJGYzMmYwNjQ1NjRlZTYyZjYkZXhwb3J0JDJjMzEzNmRhMGJmMTMwZjkge1xuICAgIC8qKlxuICAgKiBSZXRyaWV2ZXMgZnJlcXVlbmN5IGRvbWFpbiBkYXRhIGZyb20gYW4gQW5hbHlzZXJOb2RlIGFkanVzdGVkIHRvIGEgZGVjaWJlbCByYW5nZVxuICAgKiByZXR1cm5zIGh1bWFuLXJlYWRhYmxlIGZvcm1hdHRpbmcgYW5kIGxhYmVsc1xuICAgKiBAcGFyYW0ge0FuYWx5c2VyTm9kZX0gYW5hbHlzZXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNhbXBsZVJhdGVcbiAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtmZnRSZXN1bHRdXG4gICAqIEBwYXJhbSB7XCJmcmVxdWVuY3lcInxcIm11c2ljXCJ8XCJ2b2ljZVwifSBbYW5hbHlzaXNUeXBlXVxuICAgKiBAcGFyYW0ge251bWJlcn0gW21pbkRlY2liZWxzXSBkZWZhdWx0IC0xMDBcbiAgICogQHBhcmFtIHtudW1iZXJ9IFttYXhEZWNpYmVsc10gZGVmYXVsdCAtMzBcbiAgICogQHJldHVybnMge0F1ZGlvQW5hbHlzaXNPdXRwdXRUeXBlfVxuICAgKi8gc3RhdGljIGdldEZyZXF1ZW5jaWVzKGFuYWx5c2VyLCBzYW1wbGVSYXRlLCBmZnRSZXN1bHQsIGFuYWx5c2lzVHlwZSA9ICdmcmVxdWVuY3knLCBtaW5EZWNpYmVscyA9IC0xMDAsIG1heERlY2liZWxzID0gLTMwKSB7XG4gICAgICAgIGlmICghZmZ0UmVzdWx0KSB7XG4gICAgICAgICAgICBmZnRSZXN1bHQgPSBuZXcgRmxvYXQzMkFycmF5KGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50KTtcbiAgICAgICAgICAgIGFuYWx5c2VyLmdldEZsb2F0RnJlcXVlbmN5RGF0YShmZnRSZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG55cXVpc3RGcmVxdWVuY3kgPSBzYW1wbGVSYXRlIC8gMjtcbiAgICAgICAgY29uc3QgZnJlcXVlbmN5U3RlcCA9IDEgLyBmZnRSZXN1bHQubGVuZ3RoICogbnlxdWlzdEZyZXF1ZW5jeTtcbiAgICAgICAgbGV0IG91dHB1dFZhbHVlcztcbiAgICAgICAgbGV0IGZyZXF1ZW5jaWVzO1xuICAgICAgICBsZXQgbGFiZWxzO1xuICAgICAgICBpZiAoYW5hbHlzaXNUeXBlID09PSAnbXVzaWMnIHx8IGFuYWx5c2lzVHlwZSA9PT0gJ3ZvaWNlJykge1xuICAgICAgICAgICAgY29uc3QgdXNlRnJlcXVlbmNpZXMgPSBhbmFseXNpc1R5cGUgPT09ICd2b2ljZScgPyAoMCwgJDAzZjcxY2U4NWUwMGFkYTYkZXhwb3J0JGRiYzE1ODFlZDJjZmExODMpIDogKDAsICQwM2Y3MWNlODVlMDBhZGE2JGV4cG9ydCQ3NzZjNjM4OThhZTViNjM2KTtcbiAgICAgICAgICAgIGNvbnN0IGFnZ3JlZ2F0ZU91dHB1dCA9IEFycmF5KHVzZUZyZXF1ZW5jaWVzLmxlbmd0aCkuZmlsbChtaW5EZWNpYmVscyk7XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgZmZ0UmVzdWx0Lmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICBjb25zdCBmcmVxdWVuY3kgPSBpICogZnJlcXVlbmN5U3RlcDtcbiAgICAgICAgICAgICAgICBjb25zdCBhbXBsaXR1ZGUgPSBmZnRSZXN1bHRbaV07XG4gICAgICAgICAgICAgICAgZm9yKGxldCBuID0gdXNlRnJlcXVlbmNpZXMubGVuZ3RoIC0gMTsgbiA+PSAwOyBuLS0paWYgKGZyZXF1ZW5jeSA+IHVzZUZyZXF1ZW5jaWVzW25dKSB7XG4gICAgICAgICAgICAgICAgICAgIGFnZ3JlZ2F0ZU91dHB1dFtuXSA9IE1hdGgubWF4KGFnZ3JlZ2F0ZU91dHB1dFtuXSwgYW1wbGl0dWRlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0cHV0VmFsdWVzID0gYWdncmVnYXRlT3V0cHV0O1xuICAgICAgICAgICAgZnJlcXVlbmNpZXMgPSBhbmFseXNpc1R5cGUgPT09ICd2b2ljZScgPyAoMCwgJDAzZjcxY2U4NWUwMGFkYTYkZXhwb3J0JGRiYzE1ODFlZDJjZmExODMpIDogKDAsICQwM2Y3MWNlODVlMDBhZGE2JGV4cG9ydCQ3NzZjNjM4OThhZTViNjM2KTtcbiAgICAgICAgICAgIGxhYmVscyA9IGFuYWx5c2lzVHlwZSA9PT0gJ3ZvaWNlJyA/ICgwLCAkMDNmNzFjZTg1ZTAwYWRhNiRleHBvcnQkMzBhNmYyODgxMzExMDg4ZikgOiAoMCwgJDAzZjcxY2U4NWUwMGFkYTYkZXhwb3J0JGZhY2QxNjdjYzI3ZWE5YjApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0cHV0VmFsdWVzID0gQXJyYXkuZnJvbShmZnRSZXN1bHQpO1xuICAgICAgICAgICAgZnJlcXVlbmNpZXMgPSBvdXRwdXRWYWx1ZXMubWFwKChfLCBpKT0+ZnJlcXVlbmN5U3RlcCAqIGkpO1xuICAgICAgICAgICAgbGFiZWxzID0gZnJlcXVlbmNpZXMubWFwKChmKT0+YCR7Zi50b0ZpeGVkKDIpfSBIemApO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIG5vcm1hbGl6ZSB0byB7MCwgMX1cbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZE91dHB1dCA9IG91dHB1dFZhbHVlcy5tYXAoKHYpPT57XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oKHYgLSBtaW5EZWNpYmVscykgLyAobWF4RGVjaWJlbHMgLSBtaW5EZWNpYmVscyksIDEpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkobm9ybWFsaXplZE91dHB1dCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgICAgICAgIGZyZXF1ZW5jaWVzOiBmcmVxdWVuY2llcyxcbiAgICAgICAgICAgIGxhYmVsczogbGFiZWxzXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEF1ZGlvQW5hbHlzaXMgaW5zdGFuY2UgZm9yIGFuIEhUTUxBdWRpb0VsZW1lbnRcbiAgICogQHBhcmFtIHtIVE1MQXVkaW9FbGVtZW50fSBhdWRpb0VsZW1lbnRcbiAgICogQHBhcmFtIHtBdWRpb0J1ZmZlcnxudWxsfSBbYXVkaW9CdWZmZXJdIElmIHByb3ZpZGVkLCB3aWxsIGNhY2hlIGFsbCBmcmVxdWVuY3kgZG9tYWluIGRhdGEgZnJvbSB0aGUgYnVmZmVyXG4gICAqIEByZXR1cm5zIHtBdWRpb0FuYWx5c2lzfVxuICAgKi8gY29uc3RydWN0b3IoYXVkaW9FbGVtZW50LCBhdWRpb0J1ZmZlciA9IG51bGwpe1xuICAgICAgICB0aGlzLmZmdFJlc3VsdHMgPSBbXTtcbiAgICAgICAgaWYgKGF1ZGlvQnVmZmVyKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAqIE1vZGlmaWVkIGZyb21cbiAgICAgICAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc1MDYzNzE1L3VzaW5nLXRoZS13ZWItYXVkaW8tYXBpLXRvLWFuYWx5emUtYS1zb25nLXdpdGhvdXQtcGxheWluZ1xuICAgICAgICpcbiAgICAgICAqIFdlIGRvIHRoaXMgdG8gcG9wdWxhdGUgRkZUIHZhbHVlcyBmb3IgdGhlIGF1ZGlvIGlmIHByb3ZpZGVkIGFuIGBhdWRpb0J1ZmZlcmBcbiAgICAgICAqIFRoZSByZWFzb24gdG8gZG8gdGhpcyBpcyB0aGF0IFNhZmFyaSBmYWlscyB3aGVuIHVzaW5nIGBjcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2VgXG4gICAgICAgKiBUaGlzIGhhcyBhIG5vbi16ZXJvIFJBTSBjb3N0IHNvIHdlIG9ubHkgb3B0LWluIHRvIHJ1biBpdCBvbiBTYWZhcmksIENocm9tZSBpcyBiZXR0ZXJcbiAgICAgICAqLyBjb25zdCB7IGxlbmd0aDogbGVuZ3RoLCBzYW1wbGVSYXRlOiBzYW1wbGVSYXRlIH0gPSBhdWRpb0J1ZmZlcjtcbiAgICAgICAgICAgIGNvbnN0IG9mZmxpbmVBdWRpb0NvbnRleHQgPSBuZXcgT2ZmbGluZUF1ZGlvQ29udGV4dCh7XG4gICAgICAgICAgICAgICAgbGVuZ3RoOiBsZW5ndGgsXG4gICAgICAgICAgICAgICAgc2FtcGxlUmF0ZTogc2FtcGxlUmF0ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBvZmZsaW5lQXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICAgICAgc291cmNlLmJ1ZmZlciA9IGF1ZGlvQnVmZmVyO1xuICAgICAgICAgICAgY29uc3QgYW5hbHlzZXIgPSBvZmZsaW5lQXVkaW9Db250ZXh0LmNyZWF0ZUFuYWx5c2VyKCk7XG4gICAgICAgICAgICBhbmFseXNlci5mZnRTaXplID0gODE5MjtcbiAgICAgICAgICAgIGFuYWx5c2VyLnNtb290aGluZ1RpbWVDb25zdGFudCA9IDAuMTtcbiAgICAgICAgICAgIHNvdXJjZS5jb25uZWN0KGFuYWx5c2VyKTtcbiAgICAgICAgICAgIC8vIGxpbWl0IGlzIDo6IDEyOCAvIHNhbXBsZVJhdGU7XG4gICAgICAgICAgICAvLyBidXQgd2UganVzdCB3YW50IDYwZnBzIC0gY3V0cyB+MXMgZnJvbSA2TUIgdG8gMU1CIG9mIFJBTVxuICAgICAgICAgICAgY29uc3QgcmVuZGVyUXVhbnR1bUluU2Vjb25kcyA9IDEgLyA2MDtcbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uSW5TZWNvbmRzID0gbGVuZ3RoIC8gc2FtcGxlUmF0ZTtcbiAgICAgICAgICAgIGNvbnN0IGFuYWx5emUgPSAoaW5kZXgpPT57XG4gICAgICAgICAgICAgICAgY29uc3Qgc3VzcGVuZFRpbWUgPSByZW5kZXJRdWFudHVtSW5TZWNvbmRzICogaW5kZXg7XG4gICAgICAgICAgICAgICAgaWYgKHN1c3BlbmRUaW1lIDwgZHVyYXRpb25JblNlY29uZHMpIG9mZmxpbmVBdWRpb0NvbnRleHQuc3VzcGVuZChzdXNwZW5kVGltZSkudGhlbigoKT0+e1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmZnRSZXN1bHQgPSBuZXcgRmxvYXQzMkFycmF5KGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgYW5hbHlzZXIuZ2V0RmxvYXRGcmVxdWVuY3lEYXRhKGZmdFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmZ0UmVzdWx0cy5wdXNoKGZmdFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIGFuYWx5emUoaW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDEpIG9mZmxpbmVBdWRpb0NvbnRleHQuc3RhcnRSZW5kZXJpbmcoKTtcbiAgICAgICAgICAgICAgICBlbHNlIG9mZmxpbmVBdWRpb0NvbnRleHQucmVzdW1lKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc291cmNlLnN0YXJ0KDApO1xuICAgICAgICAgICAgYW5hbHl6ZSgxKTtcbiAgICAgICAgICAgIHRoaXMuYXVkaW8gPSBhdWRpb0VsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQgPSBvZmZsaW5lQXVkaW9Db250ZXh0O1xuICAgICAgICAgICAgdGhpcy5hbmFseXNlciA9IGFuYWx5c2VyO1xuICAgICAgICAgICAgdGhpcy5zYW1wbGVSYXRlID0gc2FtcGxlUmF0ZTtcbiAgICAgICAgICAgIHRoaXMuYXVkaW9CdWZmZXIgPSBhdWRpb0J1ZmZlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvQ29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcbiAgICAgICAgICAgIGNvbnN0IHRyYWNrID0gYXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZShhdWRpb0VsZW1lbnQpO1xuICAgICAgICAgICAgY29uc3QgYW5hbHlzZXIgPSBhdWRpb0NvbnRleHQuY3JlYXRlQW5hbHlzZXIoKTtcbiAgICAgICAgICAgIGFuYWx5c2VyLmZmdFNpemUgPSA4MTkyO1xuICAgICAgICAgICAgYW5hbHlzZXIuc21vb3RoaW5nVGltZUNvbnN0YW50ID0gMC4xO1xuICAgICAgICAgICAgdHJhY2suY29ubmVjdChhbmFseXNlcik7XG4gICAgICAgICAgICBhbmFseXNlci5jb25uZWN0KGF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgICAgICAgICB0aGlzLmF1ZGlvID0gYXVkaW9FbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gYXVkaW9Db250ZXh0O1xuICAgICAgICAgICAgdGhpcy5hbmFseXNlciA9IGFuYWx5c2VyO1xuICAgICAgICAgICAgdGhpcy5zYW1wbGVSYXRlID0gdGhpcy5jb250ZXh0LnNhbXBsZVJhdGU7XG4gICAgICAgICAgICB0aGlzLmF1ZGlvQnVmZmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICogR2V0cyB0aGUgY3VycmVudCBmcmVxdWVuY3kgZG9tYWluIGRhdGEgZnJvbSB0aGUgcGxheWluZyBhdWRpbyB0cmFja1xuICAgKiBAcGFyYW0ge1wiZnJlcXVlbmN5XCJ8XCJtdXNpY1wifFwidm9pY2VcIn0gW2FuYWx5c2lzVHlwZV1cbiAgICogQHBhcmFtIHtudW1iZXJ9IFttaW5EZWNpYmVsc10gZGVmYXVsdCAtMTAwXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4RGVjaWJlbHNdIGRlZmF1bHQgLTMwXG4gICAqIEByZXR1cm5zIHtBdWRpb0FuYWx5c2lzT3V0cHV0VHlwZX1cbiAgICovIGdldEZyZXF1ZW5jaWVzKGFuYWx5c2lzVHlwZSA9ICdmcmVxdWVuY3knLCBtaW5EZWNpYmVscyA9IC0xMDAsIG1heERlY2liZWxzID0gLTMwKSB7XG4gICAgICAgIGxldCBmZnRSZXN1bHQgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5hdWRpb0J1ZmZlciAmJiB0aGlzLmZmdFJlc3VsdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBwY3QgPSB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lIC8gdGhpcy5hdWRpby5kdXJhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gTWF0aC5taW4ocGN0ICogdGhpcy5mZnRSZXN1bHRzLmxlbmd0aCB8IDAsIHRoaXMuZmZ0UmVzdWx0cy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGZmdFJlc3VsdCA9IHRoaXMuZmZ0UmVzdWx0c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICRmMzJmMDY0NTY0ZWU2MmY2JGV4cG9ydCQyYzMxMzZkYTBiZjEzMGY5LmdldEZyZXF1ZW5jaWVzKHRoaXMuYW5hbHlzZXIsIHRoaXMuc2FtcGxlUmF0ZSwgZmZ0UmVzdWx0LCBhbmFseXNpc1R5cGUsIG1pbkRlY2liZWxzLCBtYXhEZWNpYmVscyk7XG4gICAgfVxuICAgIC8qKlxuICAgKiBSZXN1bWUgdGhlIGludGVybmFsIEF1ZGlvQ29udGV4dCBpZiBpdCB3YXMgc3VzcGVuZGVkIGR1ZSB0byB0aGUgbGFjayBvZlxuICAgKiB1c2VyIGludGVyYWN0aW9uIHdoZW4gdGhlIEF1ZGlvQW5hbHlzaXMgd2FzIGluc3RhbnRpYXRlZC5cbiAgICogQHJldHVybnMge1Byb21pc2U8dHJ1ZT59XG4gICAqLyBhc3luYyByZXN1bWVJZlN1c3BlbmRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5zdGF0ZSA9PT0gJ3N1c3BlbmRlZCcpIGF3YWl0IHRoaXMuY29udGV4dC5yZXN1bWUoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuZ2xvYmFsVGhpcy5BdWRpb0FuYWx5c2lzID0gJGYzMmYwNjQ1NjRlZTYyZjYkZXhwb3J0JDJjMzEzNmRhMGJmMTMwZjk7XG5cblxuY29uc3QgJDI5YThhNzBhOTQ2NmIxNGYkZXhwb3J0JDUwYjc2NzAwZTJiMTVlOSA9IGBcbmNsYXNzIFN0cmVhbVByb2Nlc3NvciBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5oYXNTdGFydGVkID0gZmFsc2U7XG4gICAgdGhpcy5oYXNJbnRlcnJ1cHRlZCA9IGZhbHNlO1xuICAgIHRoaXMub3V0cHV0QnVmZmVycyA9IFtdO1xuICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gMTI4O1xuICAgIHRoaXMud3JpdGUgPSB7IGJ1ZmZlcjogbmV3IEZsb2F0MzJBcnJheSh0aGlzLmJ1ZmZlckxlbmd0aCksIHRyYWNrSWQ6IG51bGwgfTtcbiAgICB0aGlzLndyaXRlT2Zmc2V0ID0gMDtcbiAgICB0aGlzLnRyYWNrU2FtcGxlT2Zmc2V0cyA9IHt9O1xuICAgIHRoaXMucG9ydC5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5kYXRhKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBldmVudC5kYXRhO1xuICAgICAgICBpZiAocGF5bG9hZC5ldmVudCA9PT0gJ3dyaXRlJykge1xuICAgICAgICAgIGNvbnN0IGludDE2QXJyYXkgPSBwYXlsb2FkLmJ1ZmZlcjtcbiAgICAgICAgICBjb25zdCBmbG9hdDMyQXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KGludDE2QXJyYXkubGVuZ3RoKTtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGludDE2QXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZsb2F0MzJBcnJheVtpXSA9IGludDE2QXJyYXlbaV0gLyAweDgwMDA7IC8vIENvbnZlcnQgSW50MTYgdG8gRmxvYXQzMlxuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLndyaXRlRGF0YShmbG9hdDMyQXJyYXksIHBheWxvYWQudHJhY2tJZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgcGF5bG9hZC5ldmVudCA9PT0gJ29mZnNldCcgfHxcbiAgICAgICAgICBwYXlsb2FkLmV2ZW50ID09PSAnaW50ZXJydXB0J1xuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCByZXF1ZXN0SWQgPSBwYXlsb2FkLnJlcXVlc3RJZDtcbiAgICAgICAgICBjb25zdCB0cmFja0lkID0gdGhpcy53cml0ZS50cmFja0lkO1xuICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMudHJhY2tTYW1wbGVPZmZzZXRzW3RyYWNrSWRdIHx8IDA7XG4gICAgICAgICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGV2ZW50OiAnb2Zmc2V0JyxcbiAgICAgICAgICAgIHJlcXVlc3RJZCxcbiAgICAgICAgICAgIHRyYWNrSWQsXG4gICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHBheWxvYWQuZXZlbnQgPT09ICdpbnRlcnJ1cHQnKSB7XG4gICAgICAgICAgICB0aGlzLmhhc0ludGVycnVwdGVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxcYFVuaGFuZGxlZCBldmVudCBcIlxcJHtwYXlsb2FkLmV2ZW50fVwiXFxgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICB3cml0ZURhdGEoZmxvYXQzMkFycmF5LCB0cmFja0lkID0gbnVsbCkge1xuICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcy53cml0ZTtcbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy53cml0ZU9mZnNldDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZsb2F0MzJBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGZsb2F0MzJBcnJheVtpXTtcbiAgICAgIGlmIChvZmZzZXQgPj0gYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICB0aGlzLm91dHB1dEJ1ZmZlcnMucHVzaCh0aGlzLndyaXRlKTtcbiAgICAgICAgdGhpcy53cml0ZSA9IHsgYnVmZmVyOiBuZXcgRmxvYXQzMkFycmF5KHRoaXMuYnVmZmVyTGVuZ3RoKSwgdHJhY2tJZCB9O1xuICAgICAgICBidWZmZXIgPSB0aGlzLndyaXRlLmJ1ZmZlcjtcbiAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy53cml0ZU9mZnNldCA9IG9mZnNldDtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7XG4gICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTtcbiAgICBjb25zdCBvdXRwdXRDaGFubmVsRGF0YSA9IG91dHB1dFswXTtcbiAgICBjb25zdCBvdXRwdXRCdWZmZXJzID0gdGhpcy5vdXRwdXRCdWZmZXJzO1xuICAgIGlmICh0aGlzLmhhc0ludGVycnVwdGVkKSB7XG4gICAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2UoeyBldmVudDogJ3N0b3AnIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAob3V0cHV0QnVmZmVycy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuaGFzU3RhcnRlZCA9IHRydWU7XG4gICAgICBjb25zdCB7IGJ1ZmZlciwgdHJhY2tJZCB9ID0gb3V0cHV0QnVmZmVycy5zaGlmdCgpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRwdXRDaGFubmVsRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBvdXRwdXRDaGFubmVsRGF0YVtpXSA9IGJ1ZmZlcltpXSB8fCAwO1xuICAgICAgfVxuICAgICAgaWYgKHRyYWNrSWQpIHtcbiAgICAgICAgdGhpcy50cmFja1NhbXBsZU9mZnNldHNbdHJhY2tJZF0gPVxuICAgICAgICAgIHRoaXMudHJhY2tTYW1wbGVPZmZzZXRzW3RyYWNrSWRdIHx8IDA7XG4gICAgICAgIHRoaXMudHJhY2tTYW1wbGVPZmZzZXRzW3RyYWNrSWRdICs9IGJ1ZmZlci5sZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuaGFzU3RhcnRlZCkge1xuICAgICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKHsgZXZlbnQ6ICdzdG9wJyB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG59XG5cbnJlZ2lzdGVyUHJvY2Vzc29yKCdzdHJlYW1fcHJvY2Vzc29yJywgU3RyZWFtUHJvY2Vzc29yKTtcbmA7XG5jb25zdCAkMjlhOGE3MGE5NDY2YjE0ZiR2YXIkc2NyaXB0ID0gbmV3IEJsb2IoW1xuICAgICQyOWE4YTcwYTk0NjZiMTRmJGV4cG9ydCQ1MGI3NjcwMGUyYjE1ZTlcbl0sIHtcbiAgICB0eXBlOiAnYXBwbGljYXRpb24vamF2YXNjcmlwdCdcbn0pO1xuY29uc3QgJDI5YThhNzBhOTQ2NmIxNGYkdmFyJHNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoJDI5YThhNzBhOTQ2NmIxNGYkdmFyJHNjcmlwdCk7XG5jb25zdCAkMjlhOGE3MGE5NDY2YjE0ZiRleHBvcnQkYmZhOGM1OTYxMTRkNzRkZiA9ICQyOWE4YTcwYTk0NjZiMTRmJHZhciRzcmM7XG5cblxuXG5jbGFzcyAkZDBhOTY5ODMzOTU4ZDllNyRleHBvcnQkOTY5OGQ2MmM3OGI4ZjM2NiB7XG4gICAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgV2F2U3RyZWFtUGxheWVyIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7e3NhbXBsZVJhdGU/OiBudW1iZXJ9fSBvcHRpb25zXG4gICAqIEByZXR1cm5zIHtXYXZTdHJlYW1QbGF5ZXJ9XG4gICAqLyBjb25zdHJ1Y3Rvcih7IHNhbXBsZVJhdGU6IHNhbXBsZVJhdGUgPSA0NDEwMCB9ID0ge30pe1xuICAgICAgICB0aGlzLnNjcmlwdFNyYyA9ICgwLCAkMjlhOGE3MGE5NDY2YjE0ZiRleHBvcnQkYmZhOGM1OTYxMTRkNzRkZik7XG4gICAgICAgIHRoaXMuc2FtcGxlUmF0ZSA9IHNhbXBsZVJhdGU7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RyZWFtID0gbnVsbDtcbiAgICAgICAgdGhpcy5hbmFseXNlciA9IG51bGw7XG4gICAgICAgIHRoaXMudHJhY2tTYW1wbGVPZmZzZXRzID0ge307XG4gICAgICAgIHRoaXMuaW50ZXJydXB0ZWRUcmFja0lkcyA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICogQ29ubmVjdHMgdGhlIGF1ZGlvIGNvbnRleHQgYW5kIGVuYWJsZXMgb3V0cHV0IHRvIHNwZWFrZXJzXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHRydWU+fVxuICAgKi8gYXN5bmMgY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbmV3IEF1ZGlvQ29udGV4dCh7XG4gICAgICAgICAgICBzYW1wbGVSYXRlOiB0aGlzLnNhbXBsZVJhdGVcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLl9zcGVha2VySUQpIHRoaXMuY29udGV4dC5zZXRTaW5rSWQodGhpcy5fc3BlYWtlcklEKTtcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5zdGF0ZSA9PT0gXCJzdXNwZW5kZWRcIikgYXdhaXQgdGhpcy5jb250ZXh0LnJlc3VtZSgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jb250ZXh0LmF1ZGlvV29ya2xldC5hZGRNb2R1bGUodGhpcy5zY3JpcHRTcmMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgYWRkIGF1ZGlvV29ya2xldCBtb2R1bGU6ICR7dGhpcy5zY3JpcHRTcmN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYW5hbHlzZXIgPSB0aGlzLmNvbnRleHQuY3JlYXRlQW5hbHlzZXIoKTtcbiAgICAgICAgYW5hbHlzZXIuZmZ0U2l6ZSA9IDgxOTI7XG4gICAgICAgIGFuYWx5c2VyLnNtb290aGluZ1RpbWVDb25zdGFudCA9IDAuMTtcbiAgICAgICAgdGhpcy5hbmFseXNlciA9IGFuYWx5c2VyO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgZnJlcXVlbmN5IGRvbWFpbiBkYXRhIGZyb20gdGhlIHBsYXlpbmcgdHJhY2tcbiAgICogQHBhcmFtIHtcImZyZXF1ZW5jeVwifFwibXVzaWNcInxcInZvaWNlXCJ9IFthbmFseXNpc1R5cGVdXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWluRGVjaWJlbHNdIGRlZmF1bHQgLTEwMFxuICAgKiBAcGFyYW0ge251bWJlcn0gW21heERlY2liZWxzXSBkZWZhdWx0IC0zMFxuICAgKiBAcmV0dXJucyB7aW1wb3J0KCcuL2FuYWx5c2lzL2F1ZGlvX2FuYWx5c2lzLmpzJykuQXVkaW9BbmFseXNpc091dHB1dFR5cGV9XG4gICAqLyBnZXRGcmVxdWVuY2llcyhhbmFseXNpc1R5cGUgPSBcImZyZXF1ZW5jeVwiLCBtaW5EZWNpYmVscyA9IC0xMDAsIG1heERlY2liZWxzID0gLTMwKSB7XG4gICAgICAgIGlmICghdGhpcy5hbmFseXNlcikgdGhyb3cgbmV3IEVycm9yKFwiTm90IGNvbm5lY3RlZCwgcGxlYXNlIGNhbGwgLmNvbm5lY3QoKSBmaXJzdFwiKTtcbiAgICAgICAgcmV0dXJuICgwLCAkZjMyZjA2NDU2NGVlNjJmNiRleHBvcnQkMmMzMTM2ZGEwYmYxMzBmOSkuZ2V0RnJlcXVlbmNpZXModGhpcy5hbmFseXNlciwgdGhpcy5zYW1wbGVSYXRlLCBudWxsLCBhbmFseXNpc1R5cGUsIG1pbkRlY2liZWxzLCBtYXhEZWNpYmVscyk7XG4gICAgfVxuICAgIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3BlYWtlciBkZXZpY2VJZFxuICAgKi8gYXN5bmMgdXBkYXRlU3BlYWtlcihzcGVha2VyKSB7XG4gICAgICAgIGNvbnN0IF9wcmV2U3BlYWtlciA9IHRoaXMuX3NwZWFrZXJJRDtcbiAgICAgICAgdGhpcy5fc3BlYWtlcklEID0gc3BlYWtlcjtcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dCkgdHJ5IHtcbiAgICAgICAgICAgIGlmIChzcGVha2VyID09PSBcImRlZmF1bHRcIikgYXdhaXQgdGhpcy5jb250ZXh0LnNldFNpbmtJZCgpO1xuICAgICAgICAgICAgZWxzZSBhd2FpdCB0aGlzLmNvbnRleHQuc2V0U2lua0lkKHNwZWFrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBDb3VsZCBub3Qgc2V0IHNpbmtJZCB0byAke3NwZWFrZXJ9OiAke2V9YCk7XG4gICAgICAgICAgICB0aGlzLl9zcGVha2VySUQgPSBfcHJldlNwZWFrZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAqIFN0YXJ0cyBhdWRpbyBzdHJlYW1pbmdcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybnMge1Byb21pc2U8dHJ1ZT59XG4gICAqLyBfc3RhcnQoKSB7XG4gICAgICAgIGNvbnN0IHN0cmVhbU5vZGUgPSBuZXcgQXVkaW9Xb3JrbGV0Tm9kZSh0aGlzLmNvbnRleHQsIFwic3RyZWFtX3Byb2Nlc3NvclwiKTtcbiAgICAgICAgc3RyZWFtTm9kZS5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgICAgIHN0cmVhbU5vZGUucG9ydC5vbm1lc3NhZ2UgPSAoZSk9PntcbiAgICAgICAgICAgIGNvbnN0IHsgZXZlbnQ6IGV2ZW50IH0gPSBlLmRhdGE7XG4gICAgICAgICAgICBpZiAoZXZlbnQgPT09IFwic3RvcFwiKSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtTm9kZS5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW0gPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudCA9PT0gXCJvZmZzZXRcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcmVxdWVzdElkOiByZXF1ZXN0SWQsIHRyYWNrSWQ6IHRyYWNrSWQsIG9mZnNldDogb2Zmc2V0IH0gPSBlLmRhdGE7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBvZmZzZXQgLyB0aGlzLnNhbXBsZVJhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFja1NhbXBsZU9mZnNldHNbcmVxdWVzdElkXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tJZDogdHJhY2tJZCxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lOiBjdXJyZW50VGltZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYW5hbHlzZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICBzdHJlYW1Ob2RlLmNvbm5lY3QodGhpcy5hbmFseXNlcik7XG4gICAgICAgIHRoaXMuc3RyZWFtID0gc3RyZWFtTm9kZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBBZGRzIDE2Qml0UENNIGRhdGEgdG8gdGhlIGN1cnJlbnRseSBwbGF5aW5nIGF1ZGlvIHN0cmVhbVxuICAgKiBZb3UgY2FuIGFkZCBjaHVua3MgYmV5b25kIHRoZSBjdXJyZW50IHBsYXkgcG9pbnQgYW5kIHRoZXkgd2lsbCBiZSBxdWV1ZWQgZm9yIHBsYXlcbiAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcnxJbnQxNkFycmF5fSBhcnJheUJ1ZmZlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3RyYWNrSWRdXG4gICAqIEByZXR1cm5zIHtJbnQxNkFycmF5fVxuICAgKi8gYWRkMTZCaXRQQ00oYXJyYXlCdWZmZXIsIHRyYWNrSWQgPSBcImRlZmF1bHRcIikge1xuICAgICAgICBpZiAodHlwZW9mIHRyYWNrSWQgIT09IFwic3RyaW5nXCIpIHRocm93IG5ldyBFcnJvcihgdHJhY2tJZCBtdXN0IGJlIGEgc3RyaW5nYCk7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaW50ZXJydXB0ZWRUcmFja0lkc1t0cmFja0lkXSkgcmV0dXJuO1xuICAgICAgICBpZiAoIXRoaXMuc3RyZWFtKSB0aGlzLl9zdGFydCgpO1xuICAgICAgICBsZXQgYnVmZmVyO1xuICAgICAgICBpZiAoYXJyYXlCdWZmZXIgaW5zdGFuY2VvZiBJbnQxNkFycmF5KSBidWZmZXIgPSBhcnJheUJ1ZmZlcjtcbiAgICAgICAgZWxzZSBpZiAoYXJyYXlCdWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgYnVmZmVyID0gbmV3IEludDE2QXJyYXkoYXJyYXlCdWZmZXIpO1xuICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcihgYXJndW1lbnQgbXVzdCBiZSBJbnQxNkFycmF5IG9yIEFycmF5QnVmZmVyYCk7XG4gICAgICAgIHRoaXMuc3RyZWFtLnBvcnQucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgZXZlbnQ6IFwid3JpdGVcIixcbiAgICAgICAgICAgIGJ1ZmZlcjogYnVmZmVyLFxuICAgICAgICAgICAgdHJhY2tJZDogdHJhY2tJZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9XG4gICAgLyoqXG4gICAqIEdldHMgdGhlIG9mZnNldCAoc2FtcGxlIGNvdW50KSBvZiB0aGUgY3VycmVudGx5IHBsYXlpbmcgc3RyZWFtXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ludGVycnVwdF1cbiAgICogQHJldHVybnMge3t0cmFja0lkOiBzdHJpbmd8bnVsbCwgb2Zmc2V0OiBudW1iZXIsIGN1cnJlbnRUaW1lOiBudW1iZXJ9fVxuICAgKi8gYXN5bmMgZ2V0VHJhY2tTYW1wbGVPZmZzZXQoaW50ZXJydXB0ID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0cmVhbSkgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RJZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gICAgICAgIHRoaXMuc3RyZWFtLnBvcnQucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgZXZlbnQ6IGludGVycnVwdCA/IFwiaW50ZXJydXB0XCIgOiBcIm9mZnNldFwiLFxuICAgICAgICAgICAgcmVxdWVzdElkOiByZXF1ZXN0SWRcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCB0cmFja1NhbXBsZU9mZnNldDtcbiAgICAgICAgd2hpbGUoIXRyYWNrU2FtcGxlT2Zmc2V0KXtcbiAgICAgICAgICAgIHRyYWNrU2FtcGxlT2Zmc2V0ID0gdGhpcy50cmFja1NhbXBsZU9mZnNldHNbcmVxdWVzdElkXTtcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyKT0+c2V0VGltZW91dCgoKT0+cigpLCAxKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyB0cmFja0lkOiB0cmFja0lkIH0gPSB0cmFja1NhbXBsZU9mZnNldDtcbiAgICAgICAgaWYgKGludGVycnVwdCAmJiB0cmFja0lkKSB0aGlzLmludGVycnVwdGVkVHJhY2tJZHNbdHJhY2tJZF0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJhY2tTYW1wbGVPZmZzZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgKiBTdHJpcHMgdGhlIGN1cnJlbnQgc3RyZWFtIGFuZCByZXR1cm5zIHRoZSBzYW1wbGUgb2Zmc2V0IG9mIHRoZSBhdWRpb1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbnRlcnJ1cHRdXG4gICAqIEByZXR1cm5zIHt7dHJhY2tJZDogc3RyaW5nfG51bGwsIG9mZnNldDogbnVtYmVyLCBjdXJyZW50VGltZTogbnVtYmVyfX1cbiAgICovIGFzeW5jIGludGVycnVwdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VHJhY2tTYW1wbGVPZmZzZXQodHJ1ZSk7XG4gICAgfVxufVxuZ2xvYmFsVGhpcy5XYXZTdHJlYW1QbGF5ZXIgPSAkZDBhOTY5ODMzOTU4ZDllNyRleHBvcnQkOTY5OGQ2MmM3OGI4ZjM2NjtcblxuXG5jb25zdCAkOGUxZDFlNmZmMDhmNmZiNSR2YXIkQXVkaW9Qcm9jZXNzb3JXb3JrbGV0ID0gYFxuY2xhc3MgQXVkaW9Qcm9jZXNzb3IgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3Ige1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5wb3J0Lm9ubWVzc2FnZSA9IHRoaXMucmVjZWl2ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLmZvdW5kQXVkaW8gPSBmYWxzZTtcbiAgICB0aGlzLnJlY29yZGluZyA9IGZhbHNlO1xuICAgIHRoaXMuY2h1bmtzID0gW107XG4gIH1cblxuICAvKipcbiAgICogQ29uY2F0ZW5hdGVzIHNhbXBsZWQgY2h1bmtzIGludG8gY2hhbm5lbHNcbiAgICogRm9ybWF0IGlzIGNodW5rW0xlZnRbXSwgUmlnaHRbXV1cbiAgICovXG4gIHJlYWRDaGFubmVsRGF0YShjaHVua3MsIGNoYW5uZWwgPSAtMSwgbWF4Q2hhbm5lbHMgPSA5KSB7XG4gICAgbGV0IGNoYW5uZWxMaW1pdDtcbiAgICBpZiAoY2hhbm5lbCAhPT0gLTEpIHtcbiAgICAgIGlmIChjaHVua3NbMF0gJiYgY2h1bmtzWzBdLmxlbmd0aCAtIDEgPCBjaGFubmVsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcXGBDaGFubmVsIFxcJHtjaGFubmVsfSBvdXQgb2YgcmFuZ2U6IG1heCBcXCR7Y2h1bmtzWzBdLmxlbmd0aH1cXGBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNoYW5uZWxMaW1pdCA9IGNoYW5uZWwgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGFubmVsID0gMDtcbiAgICAgIGNoYW5uZWxMaW1pdCA9IE1hdGgubWluKGNodW5rc1swXSA/IGNodW5rc1swXS5sZW5ndGggOiAxLCBtYXhDaGFubmVscyk7XG4gICAgfVxuICAgIGNvbnN0IGNoYW5uZWxzID0gW107XG4gICAgZm9yIChsZXQgbiA9IGNoYW5uZWw7IG4gPCBjaGFubmVsTGltaXQ7IG4rKykge1xuICAgICAgY29uc3QgbGVuZ3RoID0gY2h1bmtzLnJlZHVjZSgoc3VtLCBjaHVuaykgPT4ge1xuICAgICAgICByZXR1cm4gc3VtICsgY2h1bmtbbl0ubGVuZ3RoO1xuICAgICAgfSwgMCk7XG4gICAgICBjb25zdCBidWZmZXJzID0gY2h1bmtzLm1hcCgoY2h1bmspID0+IGNodW5rW25dKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBGbG9hdDMyQXJyYXkobGVuZ3RoKTtcbiAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdC5zZXQoYnVmZmVyc1tpXSwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IGJ1ZmZlcnNbaV0ubGVuZ3RoO1xuICAgICAgfVxuICAgICAgY2hhbm5lbHNbbl0gPSByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiBjaGFubmVscztcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21iaW5lcyBwYXJhbGxlbCBhdWRpbyBkYXRhIGludG8gY29ycmVjdCBmb3JtYXQsXG4gICAqIGNoYW5uZWxzW0xlZnRbXSwgUmlnaHRbXV0gdG8gZmxvYXQzMkFycmF5W0xSTFJMUkxSLi4uXVxuICAgKi9cbiAgZm9ybWF0QXVkaW9EYXRhKGNoYW5uZWxzKSB7XG4gICAgaWYgKGNoYW5uZWxzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gU2ltcGxlIGNhc2UgaXMgb25seSBvbmUgY2hhbm5lbFxuICAgICAgY29uc3QgZmxvYXQzMkFycmF5ID0gY2hhbm5lbHNbMF0uc2xpY2UoKTtcbiAgICAgIGNvbnN0IG1lYW5WYWx1ZXMgPSBjaGFubmVsc1swXS5zbGljZSgpO1xuICAgICAgcmV0dXJuIHsgZmxvYXQzMkFycmF5LCBtZWFuVmFsdWVzIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoXG4gICAgICAgIGNoYW5uZWxzWzBdLmxlbmd0aCAqIGNoYW5uZWxzLmxlbmd0aFxuICAgICAgKTtcbiAgICAgIGNvbnN0IG1lYW5WYWx1ZXMgPSBuZXcgRmxvYXQzMkFycmF5KGNoYW5uZWxzWzBdLmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYW5uZWxzWzBdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGkgKiBjaGFubmVscy5sZW5ndGg7XG4gICAgICAgIGxldCBtZWFuVmFsdWUgPSAwO1xuICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGNoYW5uZWxzLmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgZmxvYXQzMkFycmF5W29mZnNldCArIG5dID0gY2hhbm5lbHNbbl1baV07XG4gICAgICAgICAgbWVhblZhbHVlICs9IGNoYW5uZWxzW25dW2ldO1xuICAgICAgICB9XG4gICAgICAgIG1lYW5WYWx1ZXNbaV0gPSBtZWFuVmFsdWUgLyBjaGFubmVscy5sZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4geyBmbG9hdDMyQXJyYXksIG1lYW5WYWx1ZXMgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgMzItYml0IGZsb2F0IGRhdGEgdG8gMTYtYml0IGludGVnZXJzXG4gICAqL1xuICBmbG9hdFRvMTZCaXRQQ00oZmxvYXQzMkFycmF5KSB7XG4gICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGZsb2F0MzJBcnJheS5sZW5ndGggKiAyKTtcbiAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlcik7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbG9hdDMyQXJyYXkubGVuZ3RoOyBpKyssIG9mZnNldCArPSAyKSB7XG4gICAgICBsZXQgcyA9IE1hdGgubWF4KC0xLCBNYXRoLm1pbigxLCBmbG9hdDMyQXJyYXlbaV0pKTtcbiAgICAgIHZpZXcuc2V0SW50MTYob2Zmc2V0LCBzIDwgMCA/IHMgKiAweDgwMDAgOiBzICogMHg3ZmZmLCB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1ZmZlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIG1vc3QgcmVjZW50IGFtcGxpdHVkZSB2YWx1ZXMgZnJvbSB0aGUgYXVkaW8gc3RyZWFtXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjaGFubmVsXG4gICAqL1xuICBnZXRWYWx1ZXMoY2hhbm5lbCA9IC0xKSB7XG4gICAgY29uc3QgY2hhbm5lbHMgPSB0aGlzLnJlYWRDaGFubmVsRGF0YSh0aGlzLmNodW5rcywgY2hhbm5lbCk7XG4gICAgY29uc3QgeyBtZWFuVmFsdWVzIH0gPSB0aGlzLmZvcm1hdEF1ZGlvRGF0YShjaGFubmVscyk7XG4gICAgcmV0dXJuIHsgbWVhblZhbHVlcywgY2hhbm5lbHMgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHBvcnRzIGNodW5rcyBhcyBhbiBhdWRpby93YXYgZmlsZVxuICAgKi9cbiAgZXhwb3J0KCkge1xuICAgIGNvbnN0IGNoYW5uZWxzID0gdGhpcy5yZWFkQ2hhbm5lbERhdGEodGhpcy5jaHVua3MpO1xuICAgIGNvbnN0IHsgZmxvYXQzMkFycmF5LCBtZWFuVmFsdWVzIH0gPSB0aGlzLmZvcm1hdEF1ZGlvRGF0YShjaGFubmVscyk7XG4gICAgY29uc3QgYXVkaW9EYXRhID0gdGhpcy5mbG9hdFRvMTZCaXRQQ00oZmxvYXQzMkFycmF5KTtcbiAgICByZXR1cm4ge1xuICAgICAgbWVhblZhbHVlczogbWVhblZhbHVlcyxcbiAgICAgIGF1ZGlvOiB7XG4gICAgICAgIGJpdHNQZXJTYW1wbGU6IDE2LFxuICAgICAgICBjaGFubmVsczogY2hhbm5lbHMsXG4gICAgICAgIGRhdGE6IGF1ZGlvRGF0YSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIHJlY2VpdmUoZSkge1xuICAgIGNvbnN0IHsgZXZlbnQsIGlkIH0gPSBlLmRhdGE7XG4gICAgbGV0IHJlY2VpcHREYXRhID0ge307XG4gICAgc3dpdGNoIChldmVudCkge1xuICAgICAgY2FzZSAnc3RhcnQnOlxuICAgICAgICB0aGlzLnJlY29yZGluZyA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3RvcCc6XG4gICAgICAgIHRoaXMucmVjb3JkaW5nID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY2xlYXInOlxuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdleHBvcnQnOlxuICAgICAgICByZWNlaXB0RGF0YSA9IHRoaXMuZXhwb3J0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVhZCc6XG4gICAgICAgIHJlY2VpcHREYXRhID0gdGhpcy5nZXRWYWx1ZXMoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gQWx3YXlzIHNlbmQgYmFjayByZWNlaXB0XG4gICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKHsgZXZlbnQ6ICdyZWNlaXB0JywgaWQsIGRhdGE6IHJlY2VpcHREYXRhIH0pO1xuICB9XG5cbiAgc2VuZENodW5rKGNodW5rKSB7XG4gICAgY29uc3QgY2hhbm5lbHMgPSB0aGlzLnJlYWRDaGFubmVsRGF0YShbY2h1bmtdKTtcbiAgICBjb25zdCB7IGZsb2F0MzJBcnJheSwgbWVhblZhbHVlcyB9ID0gdGhpcy5mb3JtYXRBdWRpb0RhdGEoY2hhbm5lbHMpO1xuICAgIGNvbnN0IHJhd0F1ZGlvRGF0YSA9IHRoaXMuZmxvYXRUbzE2Qml0UENNKGZsb2F0MzJBcnJheSk7XG4gICAgY29uc3QgbW9ub0F1ZGlvRGF0YSA9IHRoaXMuZmxvYXRUbzE2Qml0UENNKG1lYW5WYWx1ZXMpO1xuICAgIHRoaXMucG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBldmVudDogJ2NodW5rJyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbW9ubzogbW9ub0F1ZGlvRGF0YSxcbiAgICAgICAgcmF3OiByYXdBdWRpb0RhdGEsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgcHJvY2VzcyhpbnB1dExpc3QsIG91dHB1dExpc3QsIHBhcmFtZXRlcnMpIHtcbiAgICAvLyBDb3B5IGlucHV0IHRvIG91dHB1dCAoZS5nLiBzcGVha2VycylcbiAgICAvLyBOb3RlIHRoYXQgdGhpcyBjcmVhdGVzIGNob3BweSBzb3VuZHMgd2l0aCBNYWMgcHJvZHVjdHNcbiAgICBjb25zdCBzb3VyY2VMaW1pdCA9IE1hdGgubWluKGlucHV0TGlzdC5sZW5ndGgsIG91dHB1dExpc3QubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpbnB1dE51bSA9IDA7IGlucHV0TnVtIDwgc291cmNlTGltaXQ7IGlucHV0TnVtKyspIHtcbiAgICAgIGNvbnN0IGlucHV0ID0gaW5wdXRMaXN0W2lucHV0TnVtXTtcbiAgICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dExpc3RbaW5wdXROdW1dO1xuICAgICAgY29uc3QgY2hhbm5lbENvdW50ID0gTWF0aC5taW4oaW5wdXQubGVuZ3RoLCBvdXRwdXQubGVuZ3RoKTtcbiAgICAgIGZvciAobGV0IGNoYW5uZWxOdW0gPSAwOyBjaGFubmVsTnVtIDwgY2hhbm5lbENvdW50OyBjaGFubmVsTnVtKyspIHtcbiAgICAgICAgaW5wdXRbY2hhbm5lbE51bV0uZm9yRWFjaCgoc2FtcGxlLCBpKSA9PiB7XG4gICAgICAgICAgb3V0cHV0W2NoYW5uZWxOdW1dW2ldID0gc2FtcGxlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaW5wdXRzID0gaW5wdXRMaXN0WzBdO1xuICAgIC8vIFRoZXJlJ3MgbGF0ZW5jeSBhdCB0aGUgYmVnaW5uaW5nIG9mIGEgc3RyZWFtIGJlZm9yZSByZWNvcmRpbmcgc3RhcnRzXG4gICAgLy8gTWFrZSBzdXJlIHdlIGFjdHVhbGx5IHJlY2VpdmUgYXVkaW8gZGF0YSBiZWZvcmUgd2Ugc3RhcnQgc3RvcmluZyBjaHVua3NcbiAgICBsZXQgc2xpY2VJbmRleCA9IDA7XG4gICAgaWYgKCF0aGlzLmZvdW5kQXVkaW8pIHtcbiAgICAgIGZvciAoY29uc3QgY2hhbm5lbCBvZiBpbnB1dHMpIHtcbiAgICAgICAgc2xpY2VJbmRleCA9IDA7IC8vIHJlc2V0IGZvciBlYWNoIGNoYW5uZWxcbiAgICAgICAgaWYgKHRoaXMuZm91bmRBdWRpbykge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFubmVsKSB7XG4gICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBjaGFubmVsKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IDApIHtcbiAgICAgICAgICAgICAgLy8gZmluZCBvbmx5IG9uZSBub24temVybyBlbnRyeSBpbiBhbnkgY2hhbm5lbFxuICAgICAgICAgICAgICB0aGlzLmZvdW5kQXVkaW8gPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNsaWNlSW5kZXgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlucHV0cyAmJiBpbnB1dHNbMF0gJiYgdGhpcy5mb3VuZEF1ZGlvICYmIHRoaXMucmVjb3JkaW5nKSB7XG4gICAgICAvLyBXZSBuZWVkIHRvIGNvcHkgdGhlIFR5cGVkQXJyYXksIGJlY2F1c2UgdGhlIFxcYHByb2Nlc3NcXGBcbiAgICAgIC8vIGludGVybmFscyB3aWxsIHJldXNlIHRoZSBzYW1lIGJ1ZmZlciB0byBob2xkIGVhY2ggaW5wdXRcbiAgICAgIGNvbnN0IGNodW5rID0gaW5wdXRzLm1hcCgoaW5wdXQpID0+IGlucHV0LnNsaWNlKHNsaWNlSW5kZXgpKTtcbiAgICAgIHRoaXMuY2h1bmtzLnB1c2goY2h1bmspO1xuICAgICAgdGhpcy5zZW5kQ2h1bmsoY2h1bmspO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5yZWdpc3RlclByb2Nlc3NvcignYXVkaW9fcHJvY2Vzc29yJywgQXVkaW9Qcm9jZXNzb3IpO1xuYDtcbmNvbnN0ICQ4ZTFkMWU2ZmYwOGY2ZmI1JHZhciRzY3JpcHQgPSBuZXcgQmxvYihbXG4gICAgJDhlMWQxZTZmZjA4ZjZmYjUkdmFyJEF1ZGlvUHJvY2Vzc29yV29ya2xldFxuXSwge1xuICAgIHR5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0J1xufSk7XG5jb25zdCAkOGUxZDFlNmZmMDhmNmZiNSR2YXIkc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTCgkOGUxZDFlNmZmMDhmNmZiNSR2YXIkc2NyaXB0KTtcbmNvbnN0ICQ4ZTFkMWU2ZmYwOGY2ZmI1JGV4cG9ydCQxZjY1ZjUwYThjYmZmNDNjID0gJDhlMWQxZTZmZjA4ZjZmYjUkdmFyJHNyYztcblxuXG5cblxuY2xhc3MgJDYyYmMzNzYwNDRhMDU1MTMkZXhwb3J0JDQzOWIyMTdjYTY1OWE4Nzcge1xuICAgIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgV2F2UmVjb3JkZXIgaW5zdGFuY2VcbiAgICogQHBhcmFtIHt7c2FtcGxlUmF0ZT86IG51bWJlciwgb3V0cHV0VG9TcGVha2Vycz86IGJvb2xlYW4sIGRlYnVnPzogYm9vbGVhbn19IFtvcHRpb25zXVxuICAgKiBAcmV0dXJucyB7V2F2UmVjb3JkZXJ9XG4gICAqLyBjb25zdHJ1Y3Rvcih7IHNhbXBsZVJhdGU6IHNhbXBsZVJhdGUgPSA0NDEwMCwgb3V0cHV0VG9TcGVha2Vyczogb3V0cHV0VG9TcGVha2VycyA9IGZhbHNlLCBkZWJ1ZzogZGVidWcgPSBmYWxzZSB9ID0ge30pe1xuICAgICAgICAvLyBTY3JpcHQgc291cmNlXG4gICAgICAgIHRoaXMuc2NyaXB0U3JjID0gKDAsICQ4ZTFkMWU2ZmYwOGY2ZmI1JGV4cG9ydCQxZjY1ZjUwYThjYmZmNDNjKTtcbiAgICAgICAgLy8gQ29uZmlnXG4gICAgICAgIHRoaXMuc2FtcGxlUmF0ZSA9IHNhbXBsZVJhdGU7XG4gICAgICAgIHRoaXMub3V0cHV0VG9TcGVha2VycyA9IG91dHB1dFRvU3BlYWtlcnM7XG4gICAgICAgIHRoaXMuZGVidWcgPSAhIWRlYnVnO1xuICAgICAgICB0aGlzLl9kZXZpY2VDaGFuZ2VDYWxsYmFjayA9IG51bGw7XG4gICAgICAgIHRoaXMuX2RldmljZXMgPSBbXTtcbiAgICAgICAgdGhpcy5kZXZpY2VTZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICAvLyBTdGF0ZSB2YXJpYWJsZXNcbiAgICAgICAgdGhpcy5zdHJlYW0gPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG51bGw7XG4gICAgICAgIHRoaXMuc291cmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5ub2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZWNvcmRpbmcgPSBmYWxzZTtcbiAgICAgICAgLy8gRXZlbnQgaGFuZGxpbmcgd2l0aCBBdWRpb1dvcmtsZXRcbiAgICAgICAgdGhpcy5fbGFzdEV2ZW50SWQgPSAwO1xuICAgICAgICB0aGlzLmV2ZW50UmVjZWlwdHMgPSB7fTtcbiAgICAgICAgdGhpcy5ldmVudFRpbWVvdXQgPSA1MDAwO1xuICAgICAgICAvLyBQcm9jZXNzIGNodW5rcyBvZiBhdWRpb1xuICAgICAgICB0aGlzLl9jaHVua1Byb2Nlc3NvciA9ICgpPT57fTtcbiAgICAgICAgdGhpcy5fY2h1bmtQcm9jZXNzb3JTaXplID0gdm9pZCAwO1xuICAgICAgICB0aGlzLl9jaHVua1Byb2Nlc3NvckJ1ZmZlciA9IHtcbiAgICAgICAgICAgIHJhdzogbmV3IEFycmF5QnVmZmVyKDApLFxuICAgICAgICAgICAgbW9ubzogbmV3IEFycmF5QnVmZmVyKDApXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgKiBEZWNvZGVzIGF1ZGlvIGRhdGEgZnJvbSBtdWx0aXBsZSBmb3JtYXRzIHRvIGEgQmxvYiwgdXJsLCBGbG9hdDMyQXJyYXkgYW5kIEF1ZGlvQnVmZmVyXG4gICAqIEBwYXJhbSB7QmxvYnxGbG9hdDMyQXJyYXl8SW50MTZBcnJheXxBcnJheUJ1ZmZlcnxudW1iZXJbXX0gYXVkaW9EYXRhXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzYW1wbGVSYXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tU2FtcGxlUmF0ZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxEZWNvZGVkQXVkaW9UeXBlPn1cbiAgICovIHN0YXRpYyBhc3luYyBkZWNvZGUoYXVkaW9EYXRhLCBzYW1wbGVSYXRlID0gNDQxMDAsIGZyb21TYW1wbGVSYXRlID0gLTEpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoe1xuICAgICAgICAgICAgc2FtcGxlUmF0ZTogc2FtcGxlUmF0ZVxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGFycmF5QnVmZmVyO1xuICAgICAgICBsZXQgYmxvYjtcbiAgICAgICAgaWYgKGF1ZGlvRGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgICAgIGlmIChmcm9tU2FtcGxlUmF0ZSAhPT0gLTEpIHRocm93IG5ldyBFcnJvcihgQ2FuIG5vdCBzcGVjaWZ5IFwiZnJvbVNhbXBsZVJhdGVcIiB3aGVuIHJlYWRpbmcgZnJvbSBCbG9iYCk7XG4gICAgICAgICAgICBibG9iID0gYXVkaW9EYXRhO1xuICAgICAgICAgICAgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYXVkaW9EYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgIGlmIChmcm9tU2FtcGxlUmF0ZSAhPT0gLTEpIHRocm93IG5ldyBFcnJvcihgQ2FuIG5vdCBzcGVjaWZ5IFwiZnJvbVNhbXBsZVJhdGVcIiB3aGVuIHJlYWRpbmcgZnJvbSBBcnJheUJ1ZmZlcmApO1xuICAgICAgICAgICAgYXJyYXlCdWZmZXIgPSBhdWRpb0RhdGE7XG4gICAgICAgICAgICBibG9iID0gbmV3IEJsb2IoW1xuICAgICAgICAgICAgICAgIGFycmF5QnVmZmVyXG4gICAgICAgICAgICBdLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2F1ZGlvL3dhdidcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGZsb2F0MzJBcnJheTtcbiAgICAgICAgICAgIGxldCBkYXRhO1xuICAgICAgICAgICAgaWYgKGF1ZGlvRGF0YSBpbnN0YW5jZW9mIEludDE2QXJyYXkpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gYXVkaW9EYXRhO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoYXVkaW9EYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGF1ZGlvRGF0YS5sZW5ndGg7IGkrKylmbG9hdDMyQXJyYXlbaV0gPSBhdWRpb0RhdGFbaV0gLyAweDgwMDA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGF1ZGlvRGF0YSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkgZmxvYXQzMkFycmF5ID0gYXVkaW9EYXRhO1xuICAgICAgICAgICAgZWxzZSBpZiAoYXVkaW9EYXRhIGluc3RhbmNlb2YgQXJyYXkpIGZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoYXVkaW9EYXRhKTtcbiAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKGBcImF1ZGlvRGF0YVwiIG11c3QgYmUgb25lIG9mOiBCbG9iLCBGbG9hdDMyQXJycmF5LCBJbnQxNkFycmF5LCBBcnJheUJ1ZmZlciwgQXJyYXk8bnVtYmVyPmApO1xuICAgICAgICAgICAgaWYgKGZyb21TYW1wbGVSYXRlID09PSAtMSkgdGhyb3cgbmV3IEVycm9yKGBNdXN0IHNwZWNpZnkgXCJmcm9tU2FtcGxlUmF0ZVwiIHdoZW4gcmVhZGluZyBmcm9tIEZsb2F0MzJBcnJheSwgSW4xNkFycmF5IG9yIEFycmF5YCk7XG4gICAgICAgICAgICBlbHNlIGlmIChmcm9tU2FtcGxlUmF0ZSA8IDMwMDApIHRocm93IG5ldyBFcnJvcihgTWluaW11bSBcImZyb21TYW1wbGVSYXRlXCIgaXMgMzAwMCAoM2tIeilgKTtcbiAgICAgICAgICAgIGlmICghZGF0YSkgZGF0YSA9ICgwLCAkNmQ0Yjc0NDlhMWUxNTQ0YSRleHBvcnQkMTNhZmRhMjM3YjFjOTg0NikuZmxvYXRUbzE2Qml0UENNKGZsb2F0MzJBcnJheSk7XG4gICAgICAgICAgICBjb25zdCBhdWRpbyA9IHtcbiAgICAgICAgICAgICAgICBiaXRzUGVyU2FtcGxlOiAxNixcbiAgICAgICAgICAgICAgICBjaGFubmVsczogW1xuICAgICAgICAgICAgICAgICAgICBmbG9hdDMyQXJyYXlcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYWNrZXIgPSBuZXcgKDAsICQ2ZDRiNzQ0OWExZTE1NDRhJGV4cG9ydCQxM2FmZGEyMzdiMWM5ODQ2KSgpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gcGFja2VyLnBhY2soZnJvbVNhbXBsZVJhdGUsIGF1ZGlvKTtcbiAgICAgICAgICAgIGJsb2IgPSByZXN1bHQuYmxvYjtcbiAgICAgICAgICAgIGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF1ZGlvQnVmZmVyID0gYXdhaXQgY29udGV4dC5kZWNvZGVBdWRpb0RhdGEoYXJyYXlCdWZmZXIpO1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBhdWRpb0J1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcbiAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJsb2I6IGJsb2IsXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgICAgICAgYXVkaW9CdWZmZXI6IGF1ZGlvQnVmZmVyXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgKiBMb2dzIGRhdGEgaW4gZGVidWcgbW9kZVxuICAgKiBAcGFyYW0gey4uLmFueX0gYXJndW1lbnRzXG4gICAqIEByZXR1cm5zIHt0cnVlfVxuICAgKi8gbG9nKCkge1xuICAgICAgICBpZiAodGhpcy5kZWJ1ZykgdGhpcy5sb2coLi4uYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIGN1cnJlbnQgc2FtcGxlUmF0ZSBmb3IgdGhlIHJlY29yZGVyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqLyBnZXRTYW1wbGVSYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYW1wbGVSYXRlO1xuICAgIH1cbiAgICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBjdXJyZW50IHN0YXR1cyBvZiB0aGUgcmVjb3JkaW5nXG4gICAqIEByZXR1cm5zIHtcImVuZGVkXCJ8XCJwYXVzZWRcInxcInJlY29yZGluZ1wifVxuICAgKi8gZ2V0U3RhdHVzKCkge1xuICAgICAgICBpZiAoIXRoaXMucHJvY2Vzc29yKSByZXR1cm4gJ2VuZGVkJztcbiAgICAgICAgZWxzZSBpZiAoIXRoaXMucmVjb3JkaW5nKSByZXR1cm4gJ3BhdXNlZCc7XG4gICAgICAgIGVsc2UgcmV0dXJuICdyZWNvcmRpbmcnO1xuICAgIH1cbiAgICAvKipcbiAgICogU2VuZHMgYW4gZXZlbnQgdG8gdGhlIEF1ZGlvV29ya2xldFxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0ge3tba2V5OiBzdHJpbmddOiBhbnl9fSBkYXRhXG4gICAqIEBwYXJhbSB7QXVkaW9Xb3JrbGV0Tm9kZX0gW19wcm9jZXNzb3JdXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtba2V5OiBzdHJpbmddOiBhbnl9Pn1cbiAgICovIGFzeW5jIF9ldmVudChuYW1lLCBkYXRhID0ge30sIF9wcm9jZXNzb3IgPSBudWxsKSB7XG4gICAgICAgIF9wcm9jZXNzb3IgPSBfcHJvY2Vzc29yIHx8IHRoaXMucHJvY2Vzc29yO1xuICAgICAgICBpZiAoIV9wcm9jZXNzb3IpIHRocm93IG5ldyBFcnJvcignQ2FuIG5vdCBzZW5kIGV2ZW50cyB3aXRob3V0IHJlY29yZGluZyBmaXJzdCcpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICAgICAgZXZlbnQ6IG5hbWUsXG4gICAgICAgICAgICBpZDogdGhpcy5fbGFzdEV2ZW50SWQrKyxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgfTtcbiAgICAgICAgX3Byb2Nlc3Nvci5wb3J0LnBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICBjb25zdCB0MCA9IG5ldyBEYXRlKCkudmFsdWVPZigpO1xuICAgICAgICB3aGlsZSghdGhpcy5ldmVudFJlY2VpcHRzW21lc3NhZ2UuaWRdKXtcbiAgICAgICAgICAgIGlmIChuZXcgRGF0ZSgpLnZhbHVlT2YoKSAtIHQwID4gdGhpcy5ldmVudFRpbWVvdXQpIHRocm93IG5ldyBFcnJvcihgVGltZW91dCB3YWl0aW5nIGZvciBcIiR7bmFtZX1cIiBldmVudGApO1xuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlcyk9PnNldFRpbWVvdXQoKCk9PnJlcyh0cnVlKSwgMSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB0aGlzLmV2ZW50UmVjZWlwdHNbbWVzc2FnZS5pZF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLmV2ZW50UmVjZWlwdHNbbWVzc2FnZS5pZF07XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH1cbiAgICAvKipcbiAgICogU2V0cyBkZXZpY2UgY2hhbmdlIGNhbGxiYWNrLCByZW1vdmUgaWYgY2FsbGJhY2sgcHJvdmlkZWQgaXMgYG51bGxgXG4gICAqIEBwYXJhbSB7KEFycmF5PE1lZGlhRGV2aWNlSW5mbyAmIHtkZWZhdWx0OiBib29sZWFufT4pOiB2b2lkfG51bGx9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHt0cnVlfVxuICAgKi8gbGlzdGVuRm9yRGV2aWNlQ2hhbmdlKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayA9PT0gbnVsbCAmJiB0aGlzLl9kZXZpY2VDaGFuZ2VDYWxsYmFjaykge1xuICAgICAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5yZW1vdmVFdmVudExpc3RlbmVyKCdkZXZpY2VjaGFuZ2UnLCB0aGlzLl9kZXZpY2VDaGFuZ2VDYWxsYmFjayk7XG4gICAgICAgICAgICB0aGlzLl9kZXZpY2VDaGFuZ2VDYWxsYmFjayA9IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoY2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIEJhc2ljYWxseSBhIGRlYm91bmNlOyB3ZSBvbmx5IHdhbnQgdGhpcyBjYWxsZWQgb25jZSB3aGVuIGRldmljZXMgY2hhbmdlXG4gICAgICAgICAgICAvLyBBbmQgd2Ugb25seSB3YW50IHRoZSBtb3N0IHJlY2VudCBjYWxsYmFjaygpIHRvIGJlIGV4ZWN1dGVkXG4gICAgICAgICAgICAvLyBpZiBhIGZldyBhcmUgb3BlcmF0aW5nIGF0IHRoZSBzYW1lIHRpbWVcbiAgICAgICAgICAgIGxldCBsYXN0SWQgPSAwO1xuICAgICAgICAgICAgbGV0IGxhc3REZXZpY2VzID0gW107XG4gICAgICAgICAgICBjb25zdCBzZXJpYWxpemVEZXZpY2VzID0gKGRldmljZXMpPT5kZXZpY2VzLm1hcCgoZCk9PmQuZGV2aWNlSWQpLnNvcnQoKS5qb2luKCcsJyk7XG4gICAgICAgICAgICBjb25zdCBjYiA9IGFzeW5jICgpPT57XG4gICAgICAgICAgICAgICAgbGV0IGlkID0gKytsYXN0SWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZGV2aWNlcyA9IGF3YWl0IHRoaXMubGlzdERldmljZXMoKTtcbiAgICAgICAgICAgICAgICBpZiAoaWQgPT09IGxhc3RJZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VyaWFsaXplRGV2aWNlcyhsYXN0RGV2aWNlcykgIT09IHNlcmlhbGl6ZURldmljZXMoZGV2aWNlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3REZXZpY2VzID0gZGV2aWNlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRldmljZXMuc2xpY2UoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5hZGRFdmVudExpc3RlbmVyKCdkZXZpY2VjaGFuZ2UnLCBjYik7XG4gICAgICAgICAgICBjYigpO1xuICAgICAgICAgICAgdGhpcy5fZGV2aWNlQ2hhbmdlQ2FsbGJhY2sgPSBjYjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIE1hbnVhbGx5IHJlcXVlc3QgcGVybWlzc2lvbiB0byB1c2UgdGhlIG1pY3JvcGhvbmVcbiAgICogQHJldHVybnMge1Byb21pc2U8dHJ1ZT59XG4gICAqLyBhc3luYyByZXF1ZXN0UGVybWlzc2lvbigpIHtcbiAgICAgICAgY29uc3QgcGVybWlzc2lvblN0YXR1cyA9IGF3YWl0IG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7XG4gICAgICAgICAgICBuYW1lOiAnbWljcm9waG9uZSdcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwZXJtaXNzaW9uU3RhdHVzLnN0YXRlID09PSAnZGVuaWVkJykgd2luZG93LmFsZXJ0KCdZb3UgbXVzdCBncmFudCBtaWNyb3Bob25lIGFjY2VzcyB0byB1c2UgdGhpcyBmZWF0dXJlLicpO1xuICAgICAgICBlbHNlIGlmIChwZXJtaXNzaW9uU3RhdHVzLnN0YXRlID09PSAncHJvbXB0JykgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcbiAgICAgICAgICAgICAgICBhdWRpbzogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB0cmFja3MgPSBzdHJlYW0uZ2V0VHJhY2tzKCk7XG4gICAgICAgICAgICB0cmFja3MuZm9yRWFjaCgodHJhY2spPT50cmFjay5zdG9wKCkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB3aW5kb3cuYWxlcnQoJ1lvdSBtdXN0IGdyYW50IG1pY3JvcGhvbmUgYWNjZXNzIHRvIHVzZSB0aGlzIGZlYXR1cmUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBMaXN0IGFsbCBlbGlnaWJsZSBkZXZpY2VzIGZvciByZWNvcmRpbmcsIHdpbGwgcmVxdWVzdCBwZXJtaXNzaW9uIHRvIHVzZSBtaWNyb3Bob25lXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5PE1lZGlhRGV2aWNlSW5mbyAmIHtkZWZhdWx0OiBib29sZWFufT4+fVxuICAgKi8gYXN5bmMgbGlzdERldmljZXMoKSB7XG4gICAgICAgIGlmICghbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyB8fCAhKCdlbnVtZXJhdGVEZXZpY2VzJyBpbiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSkgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgcmVxdWVzdCB1c2VyIGRldmljZXMnKTtcbiAgICAgICAgYXdhaXQgdGhpcy5yZXF1ZXN0UGVybWlzc2lvbigpO1xuICAgICAgICBjb25zdCBkZXZpY2VzID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCk7XG4gICAgICAgIGNvbnN0IGF1ZGlvRGV2aWNlcyA9IGRldmljZXMuZmlsdGVyKChkZXZpY2UpPT5kZXZpY2Uua2luZCA9PT0gJ2F1ZGlvaW5wdXQnKTtcbiAgICAgICAgcmV0dXJuIGF1ZGlvRGV2aWNlcztcbiAgICAvLyBjb25zdCBkZWZhdWx0RGV2aWNlSW5kZXggPSBhdWRpb0RldmljZXMuZmluZEluZGV4KFxuICAgIC8vICAgKGRldmljZSkgPT4gZGV2aWNlLmRldmljZUlkID09PSAnZGVmYXVsdCdcbiAgICAvLyApO1xuICAgIC8vIGNvbnN0IGRldmljZUxpc3QgPSBbXTtcbiAgICAvLyBpZiAoZGVmYXVsdERldmljZUluZGV4ICE9PSAtMSkge1xuICAgIC8vICAgbGV0IGRlZmF1bHREZXZpY2UgPSBhdWRpb0RldmljZXMuc3BsaWNlKGRlZmF1bHREZXZpY2VJbmRleCwgMSlbMF07XG4gICAgLy8gICBsZXQgZXhpc3RpbmdJbmRleCA9IGF1ZGlvRGV2aWNlcy5maW5kSW5kZXgoXG4gICAgLy8gICAgIChkZXZpY2UpID0+IGRldmljZS5ncm91cElkID09PSBkZWZhdWx0RGV2aWNlLmdyb3VwSWRcbiAgICAvLyAgICk7XG4gICAgLy8gICBpZiAoZXhpc3RpbmdJbmRleCAhPT0gLTEpIHtcbiAgICAvLyAgICAgZGVmYXVsdERldmljZSA9IGF1ZGlvRGV2aWNlcy5zcGxpY2UoZXhpc3RpbmdJbmRleCwgMSlbMF07XG4gICAgLy8gICB9XG4gICAgLy8gICBkZWZhdWx0RGV2aWNlLmRlZmF1bHQgPSB0cnVlO1xuICAgIC8vICAgZGV2aWNlTGlzdC5wdXNoKGRlZmF1bHREZXZpY2UpO1xuICAgIC8vIH1cbiAgICAvLyByZXR1cm4gZGV2aWNlTGlzdC5jb25jYXQoYXVkaW9EZXZpY2VzKTtcbiAgICB9XG4gICAgLyoqXG4gICAqIEJlZ2lucyBhIHJlY29yZGluZyBzZXNzaW9uIGFuZCByZXF1ZXN0cyBtaWNyb3Bob25lIHBlcm1pc3Npb25zIGlmIG5vdCBhbHJlYWR5IGdyYW50ZWRcbiAgICogTWljcm9waG9uZSByZWNvcmRpbmcgaW5kaWNhdG9yIHdpbGwgYXBwZWFyIG9uIGJyb3dzZXIgdGFiIGJ1dCBzdGF0dXMgd2lsbCBiZSBcInBhdXNlZFwiXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGV2aWNlSWRdIGlmIG5vIGRldmljZSBwcm92aWRlZCwgZGVmYXVsdCBkZXZpY2Ugd2lsbCBiZSB1c2VkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHRydWU+fVxuICAgKi8gYXN5bmMgYmVnaW4oZGV2aWNlSWQpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvY2Vzc29yKSB0aHJvdyBuZXcgRXJyb3IoYEFscmVhZHkgY29ubmVjdGVkOiBwbGVhc2UgY2FsbCAuZW5kKCkgdG8gc3RhcnQgYSBuZXcgc2Vzc2lvbmApO1xuICAgICAgICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMgfHwgISgnZ2V0VXNlck1lZGlhJyBpbiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSkgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgcmVxdWVzdCB1c2VyIG1lZGlhJyk7XG4gICAgICAgIGRldmljZUlkID0gZGV2aWNlSWQgPz8gdGhpcy5kZXZpY2VTZWxlY3Rpb24/LmRldmljZUlkO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGF1ZGlvOiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGRldmljZUlkKSBjb25maWcuYXVkaW8gPSB7XG4gICAgICAgICAgICAgICAgZGV2aWNlSWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGRldmljZUlkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uZmlnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBzdGFydCBtZWRpYSBzdHJlYW0nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3REZXZpY2VzKCkudGhlbigoZGV2aWNlcyk9PntcbiAgICAgICAgICAgIGRldmljZUlkID0gdGhpcy5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXS5nZXRTZXR0aW5ncygpLmRldmljZUlkO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZpbmQgY3VycmVudCBkZXZpY2UnLCBkZXZpY2VzLCBkZXZpY2VJZCwgdGhpcy5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXS5nZXRTZXR0aW5ncygpKTtcbiAgICAgICAgICAgIHRoaXMuZGV2aWNlU2VsZWN0aW9uID0gZGV2aWNlcy5maW5kKChkKT0+ZC5kZXZpY2VJZCA9PT0gZGV2aWNlSWQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2N1cnJlbnQgZGV2aWNlJywgdGhpcy5kZXZpY2VTZWxlY3Rpb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoe1xuICAgICAgICAgICAgc2FtcGxlUmF0ZTogdGhpcy5zYW1wbGVSYXRlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzb3VyY2UgPSBjb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKHRoaXMuc3RyZWFtKTtcbiAgICAgICAgLy8gTG9hZCBhbmQgZXhlY3V0ZSB0aGUgbW9kdWxlIHNjcmlwdC5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGNvbnRleHQuYXVkaW9Xb3JrbGV0LmFkZE1vZHVsZSh0aGlzLnNjcmlwdFNyYyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBhZGQgYXVkaW9Xb3JrbGV0IG1vZHVsZTogJHt0aGlzLnNjcmlwdFNyY31gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9jZXNzb3IgPSBuZXcgQXVkaW9Xb3JrbGV0Tm9kZShjb250ZXh0LCAnYXVkaW9fcHJvY2Vzc29yJyk7XG4gICAgICAgIHByb2Nlc3Nvci5wb3J0Lm9ubWVzc2FnZSA9IChlKT0+e1xuICAgICAgICAgICAgY29uc3QgeyBldmVudDogZXZlbnQsIGlkOiBpZCwgZGF0YTogZGF0YSB9ID0gZS5kYXRhO1xuICAgICAgICAgICAgaWYgKGV2ZW50ID09PSAncmVjZWlwdCcpIHRoaXMuZXZlbnRSZWNlaXB0c1tpZF0gPSBkYXRhO1xuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQgPT09ICdjaHVuaycpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2h1bmtQcm9jZXNzb3JTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuX2NodW5rUHJvY2Vzc29yQnVmZmVyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaHVua1Byb2Nlc3NvckJ1ZmZlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdzogKDAsICQ2ZDRiNzQ0OWExZTE1NDRhJGV4cG9ydCQxM2FmZGEyMzdiMWM5ODQ2KS5tZXJnZUJ1ZmZlcnMoYnVmZmVyLnJhdywgZGF0YS5yYXcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9ubzogKDAsICQ2ZDRiNzQ0OWExZTE1NDRhJGV4cG9ydCQxM2FmZGEyMzdiMWM5ODQ2KS5tZXJnZUJ1ZmZlcnMoYnVmZmVyLm1vbm8sIGRhdGEubW9ubylcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NodW5rUHJvY2Vzc29yQnVmZmVyLm1vbm8uYnl0ZUxlbmd0aCA+PSB0aGlzLl9jaHVua1Byb2Nlc3NvclNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NodW5rUHJvY2Vzc29yKHRoaXMuX2NodW5rUHJvY2Vzc29yQnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NodW5rUHJvY2Vzc29yQnVmZmVyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdzogbmV3IEFycmF5QnVmZmVyKDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbm86IG5ldyBBcnJheUJ1ZmZlcigwKVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLl9jaHVua1Byb2Nlc3NvcihkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHNvdXJjZS5jb25uZWN0KHByb2Nlc3Nvcik7XG4gICAgICAgIGNvbnN0IGFuYWx5c2VyID0gY29udGV4dC5jcmVhdGVBbmFseXNlcigpO1xuICAgICAgICBhbmFseXNlci5mZnRTaXplID0gODE5MjtcbiAgICAgICAgYW5hbHlzZXIuc21vb3RoaW5nVGltZUNvbnN0YW50ID0gMC4xO1xuICAgICAgICBub2RlLmNvbm5lY3QoYW5hbHlzZXIpO1xuICAgICAgICBpZiAodGhpcy5vdXRwdXRUb1NwZWFrZXJzKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiV2FybmluZzogT3V0cHV0IHRvIHNwZWFrZXJzIG1heSBhZmZlY3Qgc291bmQgcXVhbGl0eSxcXG5lc3BlY2lhbGx5IGR1ZSB0byBzeXN0ZW0gYXVkaW8gZmVlZGJhY2sgcHJldmVudGF0aXZlIG1lYXN1cmVzLlxcbnVzZSBvbmx5IGZvciBkZWJ1Z2dpbmdcIik7XG4gICAgICAgICAgICBhbmFseXNlci5jb25uZWN0KGNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLmFuYWx5c2VyID0gYW5hbHlzZXI7XG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gcHJvY2Vzc29yO1xuICAgICAgICBjb25zb2xlLmxvZygnYmVnaW4gY29tcGxldGVkJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICogR2V0cyB0aGUgY3VycmVudCBmcmVxdWVuY3kgZG9tYWluIGRhdGEgZnJvbSB0aGUgcmVjb3JkaW5nIHRyYWNrXG4gICAqIEBwYXJhbSB7XCJmcmVxdWVuY3lcInxcIm11c2ljXCJ8XCJ2b2ljZVwifSBbYW5hbHlzaXNUeXBlXVxuICAgKiBAcGFyYW0ge251bWJlcn0gW21pbkRlY2liZWxzXSBkZWZhdWx0IC0xMDBcbiAgICogQHBhcmFtIHtudW1iZXJ9IFttYXhEZWNpYmVsc10gZGVmYXVsdCAtMzBcbiAgICogQHJldHVybnMge2ltcG9ydCgnLi9hbmFseXNpcy9hdWRpb19hbmFseXNpcy5qcycpLkF1ZGlvQW5hbHlzaXNPdXRwdXRUeXBlfVxuICAgKi8gZ2V0RnJlcXVlbmNpZXMoYW5hbHlzaXNUeXBlID0gJ2ZyZXF1ZW5jeScsIG1pbkRlY2liZWxzID0gLTEwMCwgbWF4RGVjaWJlbHMgPSAtMzApIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2Nlc3NvcikgdGhyb3cgbmV3IEVycm9yKCdTZXNzaW9uIGVuZGVkOiBwbGVhc2UgY2FsbCAuYmVnaW4oKSBmaXJzdCcpO1xuICAgICAgICByZXR1cm4gKDAsICRmMzJmMDY0NTY0ZWU2MmY2JGV4cG9ydCQyYzMxMzZkYTBiZjEzMGY5KS5nZXRGcmVxdWVuY2llcyh0aGlzLmFuYWx5c2VyLCB0aGlzLnNhbXBsZVJhdGUsIG51bGwsIGFuYWx5c2lzVHlwZSwgbWluRGVjaWJlbHMsIG1heERlY2liZWxzKTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFBhdXNlcyB0aGUgcmVjb3JkaW5nXG4gICAqIEtlZXBzIG1pY3JvcGhvbmUgc3RyZWFtIG9wZW4gYnV0IGhhbHRzIHN0b3JhZ2Ugb2YgYXVkaW9cbiAgICogQHJldHVybnMge1Byb21pc2U8dHJ1ZT59XG4gICAqLyBhc3luYyBwYXVzZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2Nlc3NvcikgdGhyb3cgbmV3IEVycm9yKCdTZXNzaW9uIGVuZGVkOiBwbGVhc2UgY2FsbCAuYmVnaW4oKSBmaXJzdCcpO1xuICAgICAgICBlbHNlIGlmICghdGhpcy5yZWNvcmRpbmcpIHRocm93IG5ldyBFcnJvcignQWxyZWFkeSBwYXVzZWQ6IHBsZWFzZSBjYWxsIC5yZWNvcmQoKSBmaXJzdCcpO1xuICAgICAgICBpZiAodGhpcy5fY2h1bmtQcm9jZXNzb3JCdWZmZXIucmF3LmJ5dGVMZW5ndGgpIHRoaXMuX2NodW5rUHJvY2Vzc29yKHRoaXMuX2NodW5rUHJvY2Vzc29yQnVmZmVyKTtcbiAgICAgICAgdGhpcy5sb2coJ1BhdXNpbmcgLi4uJyk7XG4gICAgICAgIGF3YWl0IHRoaXMuX2V2ZW50KCdzdG9wJyk7XG4gICAgICAgIHRoaXMucmVjb3JkaW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICogU3RhcnQgcmVjb3JkaW5nIHN0cmVhbSBhbmQgc3RvcmluZyB0byBtZW1vcnkgZnJvbSB0aGUgY29ubmVjdGVkIGF1ZGlvIHNvdXJjZVxuICAgKiBAcGFyYW0geyhkYXRhOiB7IG1vbm86IEludDE2QXJyYXk7IHJhdzogSW50MTZBcnJheSB9KSA9PiBhbnl9IFtjaHVua1Byb2Nlc3Nvcl1cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtjaHVua1NpemVdIGNodW5rUHJvY2Vzc29yIHdpbGwgbm90IGJlIHRyaWdnZXJlZCB1bnRpbCB0aGlzIHNpemUgdGhyZXNob2xkIG1ldCBpbiBtb25vIGF1ZGlvXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHRydWU+fVxuICAgKi8gYXN5bmMgcmVjb3JkKGNodW5rUHJvY2Vzc29yID0gKCk9Pnt9LCBjaHVua1NpemUgPSA4MTkyKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9jZXNzb3IpIHRocm93IG5ldyBFcnJvcignU2Vzc2lvbiBlbmRlZDogcGxlYXNlIGNhbGwgLmJlZ2luKCkgZmlyc3QnKTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5yZWNvcmRpbmcpIHRocm93IG5ldyBFcnJvcignQWxyZWFkeSByZWNvcmRpbmc6IHBsZWFzZSBjYWxsIC5wYXVzZSgpIGZpcnN0Jyk7XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjaHVua1Byb2Nlc3NvciAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IEVycm9yKGBjaHVua1Byb2Nlc3NvciBtdXN0IGJlIGEgZnVuY3Rpb25gKTtcbiAgICAgICAgdGhpcy5fY2h1bmtQcm9jZXNzb3IgPSBjaHVua1Byb2Nlc3NvcjtcbiAgICAgICAgdGhpcy5fY2h1bmtQcm9jZXNzb3JTaXplID0gY2h1bmtTaXplO1xuICAgICAgICB0aGlzLl9jaHVua1Byb2Nlc3NvckJ1ZmZlciA9IHtcbiAgICAgICAgICAgIHJhdzogbmV3IEFycmF5QnVmZmVyKDApLFxuICAgICAgICAgICAgbW9ubzogbmV3IEFycmF5QnVmZmVyKDApXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubG9nKCdSZWNvcmRpbmcgLi4uJyk7XG4gICAgICAgIGF3YWl0IHRoaXMuX2V2ZW50KCdzdGFydCcpO1xuICAgICAgICB0aGlzLnJlY29yZGluZyA9IHRydWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICogQ2xlYXJzIHRoZSBhdWRpbyBidWZmZXIsIGVtcHRpZXMgc3RvcmVkIHJlY29yZGluZ1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx0cnVlPn1cbiAgICovIGFzeW5jIGNsZWFyKCkge1xuICAgICAgICBpZiAoIXRoaXMucHJvY2Vzc29yKSB0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb24gZW5kZWQ6IHBsZWFzZSBjYWxsIC5iZWdpbigpIGZpcnN0Jyk7XG4gICAgICAgIGF3YWl0IHRoaXMuX2V2ZW50KCdjbGVhcicpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFJlYWRzIHRoZSBjdXJyZW50IGF1ZGlvIHN0cmVhbSBkYXRhXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHttZWFuVmFsdWVzOiBGbG9hdDMyQXJyYXksIGNoYW5uZWxzOiBBcnJheTxGbG9hdDMyQXJyYXk+fT59XG4gICAqLyBhc3luYyByZWFkKCkge1xuICAgICAgICBpZiAoIXRoaXMucHJvY2Vzc29yKSB0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb24gZW5kZWQ6IHBsZWFzZSBjYWxsIC5iZWdpbigpIGZpcnN0Jyk7XG4gICAgICAgIHRoaXMubG9nKCdSZWFkaW5nIC4uLicpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9ldmVudCgncmVhZCcpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICogU2F2ZXMgdGhlIGN1cnJlbnQgYXVkaW8gc3RyZWFtIHRvIGEgZmlsZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZV0gRm9yY2Ugc2F2aW5nIHdoaWxlIHN0aWxsIHJlY29yZGluZ1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxpbXBvcnQoJy4vd2F2X3BhY2tlci5qcycpLldhdlBhY2tlckF1ZGlvVHlwZT59XG4gICAqLyBhc3luYyBzYXZlKGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2Nlc3NvcikgdGhyb3cgbmV3IEVycm9yKCdTZXNzaW9uIGVuZGVkOiBwbGVhc2UgY2FsbCAuYmVnaW4oKSBmaXJzdCcpO1xuICAgICAgICBpZiAoIWZvcmNlICYmIHRoaXMucmVjb3JkaW5nKSB0aHJvdyBuZXcgRXJyb3IoJ0N1cnJlbnRseSByZWNvcmRpbmc6IHBsZWFzZSBjYWxsIC5wYXVzZSgpIGZpcnN0LCBvciBjYWxsIC5zYXZlKHRydWUpIHRvIGZvcmNlJyk7XG4gICAgICAgIHRoaXMubG9nKCdFeHBvcnRpbmcgLi4uJyk7XG4gICAgICAgIGNvbnN0IGV4cG9ydERhdGEgPSBhd2FpdCB0aGlzLl9ldmVudCgnZXhwb3J0Jyk7XG4gICAgICAgIGNvbnN0IHBhY2tlciA9IG5ldyAoMCwgJDZkNGI3NDQ5YTFlMTU0NGEkZXhwb3J0JDEzYWZkYTIzN2IxYzk4NDYpKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHBhY2tlci5wYWNrKHRoaXMuc2FtcGxlUmF0ZSwgZXhwb3J0RGF0YS5hdWRpbyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgKiBFbmRzIHRoZSBjdXJyZW50IHJlY29yZGluZyBzZXNzaW9uIGFuZCBzYXZlcyB0aGUgcmVzdWx0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGltcG9ydCgnLi93YXZfcGFja2VyLmpzJykuV2F2UGFja2VyQXVkaW9UeXBlPn1cbiAgICovIGFzeW5jIGVuZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2Nlc3NvcikgdGhyb3cgbmV3IEVycm9yKCdTZXNzaW9uIGVuZGVkOiBwbGVhc2UgY2FsbCAuYmVnaW4oKSBmaXJzdCcpO1xuICAgICAgICBjb25zdCBfcHJvY2Vzc29yID0gdGhpcy5wcm9jZXNzb3I7XG4gICAgICAgIHRoaXMubG9nKCdTdG9wcGluZyAuLi4nKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fZXZlbnQoJ3N0b3AnKTtcbiAgICAgICAgdGhpcy5yZWNvcmRpbmcgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgdHJhY2tzID0gdGhpcy5zdHJlYW0uZ2V0VHJhY2tzKCk7XG4gICAgICAgIHRyYWNrcy5mb3JFYWNoKCh0cmFjayk9PnRyYWNrLnN0b3AoKSk7XG4gICAgICAgIHRoaXMubG9nKCdFeHBvcnRpbmcgLi4uJyk7XG4gICAgICAgIGNvbnN0IGV4cG9ydERhdGEgPSBhd2FpdCB0aGlzLl9ldmVudCgnZXhwb3J0Jywge30sIF9wcm9jZXNzb3IpO1xuICAgICAgICB0aGlzLnByb2Nlc3Nvci5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMuc291cmNlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5ub2RlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5hbmFseXNlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMuc3RyZWFtID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBudWxsO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMubm9kZSA9IG51bGw7XG4gICAgICAgIGNvbnN0IHBhY2tlciA9IG5ldyAoMCwgJDZkNGI3NDQ5YTFlMTU0NGEkZXhwb3J0JDEzYWZkYTIzN2IxYzk4NDYpKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHBhY2tlci5wYWNrKHRoaXMuc2FtcGxlUmF0ZSwgZXhwb3J0RGF0YS5hdWRpbyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgKiBQZXJmb3JtcyBhIGZ1bGwgY2xlYW51cCBvZiBXYXZSZWNvcmRlciBpbnN0YW5jZVxuICAgKiBTdG9wcyBhY3RpdmVseSBsaXN0ZW5pbmcgdmlhIG1pY3JvcGhvbmUgYW5kIHJlbW92ZXMgZXhpc3RpbmcgbGlzdGVuZXJzXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHRydWU+fVxuICAgKi8gYXN5bmMgcXVpdCgpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5Gb3JEZXZpY2VDaGFuZ2UobnVsbCk7XG4gICAgICAgIC8vIHdlIGRvIG5vdCByZXNldCB0aGlzIG9uIGVuZCBzbyB0aGF0IHNlbGVjdGlvbnMgcGVyc2lzdCBhY3Jvc3Mgc3RhcnRzXG4gICAgICAgIHRoaXMuZGV2aWNlU2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMucHJvY2Vzc29yKSBhd2FpdCB0aGlzLmVuZCgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5nbG9iYWxUaGlzLldhdlJlY29yZGVyID0gJDYyYmMzNzYwNDRhMDU1MTMkZXhwb3J0JDQzOWIyMTdjYTY1OWE4Nzc7XG5cblxuXG5cblxuY2xhc3MgJDVmYzExZDdiYzBkMjA3MjQkZXhwb3J0JDI5MzRjZjJkMjVjNjdhNDgge1xuICAgIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgTWVkaWFTdHJlYW1SZWNvcmRlciBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge3tzYW1wbGVSYXRlPzogbnVtYmVyLCBvdXRwdXRUb1NwZWFrZXJzPzogYm9vbGVhbiwgZGVidWc/OiBib29sZWFufX0gW29wdGlvbnNdXG4gICAqIEByZXR1cm5zIHtNZWRpYVN0cmVhbVJlY29yZGVyfVxuICAgKi8gY29uc3RydWN0b3IoeyBzYW1wbGVSYXRlOiBzYW1wbGVSYXRlID0gNDQxMDAsIG91dHB1dFRvU3BlYWtlcnM6IG91dHB1dFRvU3BlYWtlcnMgPSBmYWxzZSwgZGVidWc6IGRlYnVnID0gZmFsc2UgfSA9IHt9KXtcbiAgICAgICAgLy8gU2NyaXB0IHNvdXJjZVxuICAgICAgICB0aGlzLnNjcmlwdFNyYyA9ICgwLCAkOGUxZDFlNmZmMDhmNmZiNSRleHBvcnQkMWY2NWY1MGE4Y2JmZjQzYyk7XG4gICAgICAgIC8vIENvbmZpZ1xuICAgICAgICB0aGlzLnNhbXBsZVJhdGUgPSBzYW1wbGVSYXRlO1xuICAgICAgICB0aGlzLm91dHB1dFRvU3BlYWtlcnMgPSBvdXRwdXRUb1NwZWFrZXJzO1xuICAgICAgICB0aGlzLmRlYnVnID0gISFkZWJ1ZztcbiAgICAgICAgLy8gU3RhdGUgdmFyaWFibGVzXG4gICAgICAgIHRoaXMuc3RyZWFtID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBudWxsO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMubm9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVjb3JkaW5nID0gZmFsc2U7XG4gICAgICAgIC8vIEV2ZW50IGhhbmRsaW5nIHdpdGggQXVkaW9Xb3JrbGV0XG4gICAgICAgIHRoaXMuX2xhc3RFdmVudElkID0gMDtcbiAgICAgICAgdGhpcy5ldmVudFJlY2VpcHRzID0ge307XG4gICAgICAgIHRoaXMuZXZlbnRUaW1lb3V0ID0gNTAwMDtcbiAgICAgICAgLy8gUHJvY2VzcyBjaHVua3Mgb2YgYXVkaW9cbiAgICAgICAgdGhpcy5fY2h1bmtQcm9jZXNzb3IgPSAoKT0+e307XG4gICAgICAgIHRoaXMuX2NodW5rUHJvY2Vzc29yU2l6ZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5fY2h1bmtQcm9jZXNzb3JCdWZmZXIgPSB7XG4gICAgICAgICAgICByYXc6IG5ldyBBcnJheUJ1ZmZlcigwKSxcbiAgICAgICAgICAgIG1vbm86IG5ldyBBcnJheUJ1ZmZlcigwKVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICogTG9ncyBkYXRhIGluIGRlYnVnIG1vZGVcbiAgICogQHBhcmFtIHsuLi5hbnl9IGFyZ3VtZW50c1xuICAgKiBAcmV0dXJucyB7dHJ1ZX1cbiAgICovIGxvZygpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVidWcpIHRoaXMubG9nKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBjdXJyZW50IHNhbXBsZVJhdGUgZm9yIHRoZSByZWNvcmRlclxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi8gZ2V0U2FtcGxlUmF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2FtcGxlUmF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgY3VycmVudCBzdGF0dXMgb2YgdGhlIHJlY29yZGluZ1xuICAgKiBAcmV0dXJucyB7XCJlbmRlZFwifFwicGF1c2VkXCJ8XCJyZWNvcmRpbmdcIn1cbiAgICovIGdldFN0YXR1cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2Nlc3NvcikgcmV0dXJuIFwiZW5kZWRcIjtcbiAgICAgICAgZWxzZSBpZiAoIXRoaXMucmVjb3JkaW5nKSByZXR1cm4gXCJwYXVzZWRcIjtcbiAgICAgICAgZWxzZSByZXR1cm4gXCJyZWNvcmRpbmdcIjtcbiAgICB9XG4gICAgLyoqXG4gICAqIFNlbmRzIGFuIGV2ZW50IHRvIHRoZSBBdWRpb1dvcmtsZXRcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHt7W2tleTogc3RyaW5nXTogYW55fX0gZGF0YVxuICAgKiBAcGFyYW0ge0F1ZGlvV29ya2xldE5vZGV9IFtfcHJvY2Vzc29yXVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7W2tleTogc3RyaW5nXTogYW55fT59XG4gICAqLyBhc3luYyBfZXZlbnQobmFtZSwgZGF0YSA9IHt9LCBfcHJvY2Vzc29yID0gbnVsbCkge1xuICAgICAgICBfcHJvY2Vzc29yID0gX3Byb2Nlc3NvciB8fCB0aGlzLnByb2Nlc3NvcjtcbiAgICAgICAgaWYgKCFfcHJvY2Vzc29yKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW4gbm90IHNlbmQgZXZlbnRzIHdpdGhvdXQgcmVjb3JkaW5nIGZpcnN0XCIpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICAgICAgZXZlbnQ6IG5hbWUsXG4gICAgICAgICAgICBpZDogdGhpcy5fbGFzdEV2ZW50SWQrKyxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgfTtcbiAgICAgICAgX3Byb2Nlc3Nvci5wb3J0LnBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICBjb25zdCB0MCA9IG5ldyBEYXRlKCkudmFsdWVPZigpO1xuICAgICAgICB3aGlsZSghdGhpcy5ldmVudFJlY2VpcHRzW21lc3NhZ2UuaWRdKXtcbiAgICAgICAgICAgIGlmIChuZXcgRGF0ZSgpLnZhbHVlT2YoKSAtIHQwID4gdGhpcy5ldmVudFRpbWVvdXQpIHRocm93IG5ldyBFcnJvcihgVGltZW91dCB3YWl0aW5nIGZvciBcIiR7bmFtZX1cIiBldmVudGApO1xuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlcyk9PnNldFRpbWVvdXQoKCk9PnJlcyh0cnVlKSwgMSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB0aGlzLmV2ZW50UmVjZWlwdHNbbWVzc2FnZS5pZF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLmV2ZW50UmVjZWlwdHNbbWVzc2FnZS5pZF07XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH1cbiAgICAvKipcbiAgICogQmVnaW5zIGEgcmVjb3JkaW5nIHNlc3Npb24gZm9yIHRoZSBnaXZlbiBhdWRpb1RyYWNrXG4gICAqIE1pY3JvcGhvbmUgcmVjb3JkaW5nIGluZGljYXRvciB3aWxsIGFwcGVhciBvbiBicm93c2VyIHRhYiBidXQgc3RhdHVzIHdpbGwgYmUgXCJwYXVzZWRcIlxuICAgKiBAcGFyYW0ge01lZGlhU3RyZWFtVHJhY2t9IFthdWRpb1RyYWNrXSBpZiBubyBkZXZpY2UgcHJvdmlkZWQsIGRlZmF1bHQgZGV2aWNlIHdpbGwgYmUgdXNlZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx0cnVlPn1cbiAgICovIGFzeW5jIGJlZ2luKGF1ZGlvVHJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMucHJvY2Vzc29yKSB0aHJvdyBuZXcgRXJyb3IoYEFscmVhZHkgY29ubmVjdGVkOiBwbGVhc2UgY2FsbCAuZW5kKCkgdG8gc3RhcnQgYSBuZXcgc2Vzc2lvbmApO1xuICAgICAgICBpZiAoIWF1ZGlvVHJhY2sgfHwgYXVkaW9UcmFjay5raW5kICE9PSBcImF1ZGlvXCIpIHRocm93IG5ldyBFcnJvcihcIk5vIGF1ZGlvIHRyYWNrIHByb3ZpZGVkXCIpO1xuICAgICAgICB0aGlzLnN0cmVhbSA9IG5ldyBNZWRpYVN0cmVhbShbXG4gICAgICAgICAgICBhdWRpb1RyYWNrXG4gICAgICAgIF0pO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gbmV3IEF1ZGlvQ29udGV4dCh7XG4gICAgICAgICAgICBzYW1wbGVSYXRlOiB0aGlzLnNhbXBsZVJhdGVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IGNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UodGhpcy5zdHJlYW0pO1xuICAgICAgICAvLyBMb2FkIGFuZCBleGVjdXRlIHRoZSBtb2R1bGUgc2NyaXB0LlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgY29udGV4dC5hdWRpb1dvcmtsZXQuYWRkTW9kdWxlKHRoaXMuc2NyaXB0U3JjKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGFkZCBhdWRpb1dvcmtsZXQgbW9kdWxlOiAke3RoaXMuc2NyaXB0U3JjfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb2Nlc3NvciA9IG5ldyBBdWRpb1dvcmtsZXROb2RlKGNvbnRleHQsIFwiYXVkaW9fcHJvY2Vzc29yXCIpO1xuICAgICAgICBwcm9jZXNzb3IucG9ydC5vbm1lc3NhZ2UgPSAoZSk9PntcbiAgICAgICAgICAgIGNvbnN0IHsgZXZlbnQ6IGV2ZW50LCBpZDogaWQsIGRhdGE6IGRhdGEgfSA9IGUuZGF0YTtcbiAgICAgICAgICAgIGlmIChldmVudCA9PT0gXCJyZWNlaXB0XCIpIHRoaXMuZXZlbnRSZWNlaXB0c1tpZF0gPSBkYXRhO1xuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQgPT09IFwiY2h1bmtcIikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jaHVua1Byb2Nlc3NvclNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gdGhpcy5fY2h1bmtQcm9jZXNzb3JCdWZmZXI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NodW5rUHJvY2Vzc29yQnVmZmVyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmF3OiAoMCwgJDZkNGI3NDQ5YTFlMTU0NGEkZXhwb3J0JDEzYWZkYTIzN2IxYzk4NDYpLm1lcmdlQnVmZmVycyhidWZmZXIucmF3LCBkYXRhLnJhdyksXG4gICAgICAgICAgICAgICAgICAgICAgICBtb25vOiAoMCwgJDZkNGI3NDQ5YTFlMTU0NGEkZXhwb3J0JDEzYWZkYTIzN2IxYzk4NDYpLm1lcmdlQnVmZmVycyhidWZmZXIubW9ubywgZGF0YS5tb25vKVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2h1bmtQcm9jZXNzb3JCdWZmZXIubW9uby5ieXRlTGVuZ3RoID49IHRoaXMuX2NodW5rUHJvY2Vzc29yU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2h1bmtQcm9jZXNzb3IodGhpcy5fY2h1bmtQcm9jZXNzb3JCdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2h1bmtQcm9jZXNzb3JCdWZmZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3OiBuZXcgQXJyYXlCdWZmZXIoMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ubzogbmV3IEFycmF5QnVmZmVyKDApXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHRoaXMuX2NodW5rUHJvY2Vzc29yKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBub2RlID0gc291cmNlLmNvbm5lY3QocHJvY2Vzc29yKTtcbiAgICAgICAgY29uc3QgYW5hbHlzZXIgPSBjb250ZXh0LmNyZWF0ZUFuYWx5c2VyKCk7XG4gICAgICAgIGFuYWx5c2VyLmZmdFNpemUgPSA4MTkyO1xuICAgICAgICBhbmFseXNlci5zbW9vdGhpbmdUaW1lQ29uc3RhbnQgPSAwLjE7XG4gICAgICAgIG5vZGUuY29ubmVjdChhbmFseXNlcik7XG4gICAgICAgIGlmICh0aGlzLm91dHB1dFRvU3BlYWtlcnMpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJXYXJuaW5nOiBPdXRwdXQgdG8gc3BlYWtlcnMgbWF5IGFmZmVjdCBzb3VuZCBxdWFsaXR5LFxcbmVzcGVjaWFsbHkgZHVlIHRvIHN5c3RlbSBhdWRpbyBmZWVkYmFjayBwcmV2ZW50YXRpdmUgbWVhc3VyZXMuXFxudXNlIG9ubHkgZm9yIGRlYnVnZ2luZ1wiKTtcbiAgICAgICAgICAgIGFuYWx5c2VyLmNvbm5lY3QoY29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMuYW5hbHlzZXIgPSBhbmFseXNlcjtcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBwcm9jZXNzb3I7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICogR2V0cyB0aGUgY3VycmVudCBmcmVxdWVuY3kgZG9tYWluIGRhdGEgZnJvbSB0aGUgcmVjb3JkaW5nIHRyYWNrXG4gICAqIEBwYXJhbSB7XCJmcmVxdWVuY3lcInxcIm11c2ljXCJ8XCJ2b2ljZVwifSBbYW5hbHlzaXNUeXBlXVxuICAgKiBAcGFyYW0ge251bWJlcn0gW21pbkRlY2liZWxzXSBkZWZhdWx0IC0xMDBcbiAgICogQHBhcmFtIHtudW1iZXJ9IFttYXhEZWNpYmVsc10gZGVmYXVsdCAtMzBcbiAgICogQHJldHVybnMge2ltcG9ydCgnLi9hbmFseXNpcy9hdWRpb19hbmFseXNpcy5qcycpLkF1ZGlvQW5hbHlzaXNPdXRwdXRUeXBlfVxuICAgKi8gZ2V0RnJlcXVlbmNpZXMoYW5hbHlzaXNUeXBlID0gXCJmcmVxdWVuY3lcIiwgbWluRGVjaWJlbHMgPSAtMTAwLCBtYXhEZWNpYmVscyA9IC0zMCkge1xuICAgICAgICBpZiAoIXRoaXMucHJvY2Vzc29yKSB0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIGVuZGVkOiBwbGVhc2UgY2FsbCAuYmVnaW4oKSBmaXJzdFwiKTtcbiAgICAgICAgcmV0dXJuICgwLCAkZjMyZjA2NDU2NGVlNjJmNiRleHBvcnQkMmMzMTM2ZGEwYmYxMzBmOSkuZ2V0RnJlcXVlbmNpZXModGhpcy5hbmFseXNlciwgdGhpcy5zYW1wbGVSYXRlLCBudWxsLCBhbmFseXNpc1R5cGUsIG1pbkRlY2liZWxzLCBtYXhEZWNpYmVscyk7XG4gICAgfVxuICAgIC8qKlxuICAgKiBQYXVzZXMgdGhlIHJlY29yZGluZ1xuICAgKiBLZWVwcyBtaWNyb3Bob25lIHN0cmVhbSBvcGVuIGJ1dCBoYWx0cyBzdG9yYWdlIG9mIGF1ZGlvXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHRydWU+fVxuICAgKi8gYXN5bmMgcGF1c2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9jZXNzb3IpIHRocm93IG5ldyBFcnJvcihcIlNlc3Npb24gZW5kZWQ6IHBsZWFzZSBjYWxsIC5iZWdpbigpIGZpcnN0XCIpO1xuICAgICAgICBlbHNlIGlmICghdGhpcy5yZWNvcmRpbmcpIHRocm93IG5ldyBFcnJvcihcIkFscmVhZHkgcGF1c2VkOiBwbGVhc2UgY2FsbCAucmVjb3JkKCkgZmlyc3RcIik7XG4gICAgICAgIGlmICh0aGlzLl9jaHVua1Byb2Nlc3NvckJ1ZmZlci5yYXcuYnl0ZUxlbmd0aCkgdGhpcy5fY2h1bmtQcm9jZXNzb3IodGhpcy5fY2h1bmtQcm9jZXNzb3JCdWZmZXIpO1xuICAgICAgICB0aGlzLmxvZyhcIlBhdXNpbmcgLi4uXCIpO1xuICAgICAgICBhd2FpdCB0aGlzLl9ldmVudChcInN0b3BcIik7XG4gICAgICAgIHRoaXMucmVjb3JkaW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICogU3RhcnQgcmVjb3JkaW5nIHN0cmVhbSBhbmQgc3RvcmluZyB0byBtZW1vcnkgZnJvbSB0aGUgY29ubmVjdGVkIGF1ZGlvIHNvdXJjZVxuICAgKiBAcGFyYW0geyhkYXRhOiB7IG1vbm86IEludDE2QXJyYXk7IHJhdzogSW50MTZBcnJheSB9KSA9PiBhbnl9IFtjaHVua1Byb2Nlc3Nvcl1cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtjaHVua1NpemVdIGNodW5rUHJvY2Vzc29yIHdpbGwgbm90IGJlIHRyaWdnZXJlZCB1bnRpbCB0aGlzIHNpemUgdGhyZXNob2xkIG1ldCBpbiBtb25vIGF1ZGlvXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHRydWU+fVxuICAgKi8gYXN5bmMgcmVjb3JkKGNodW5rUHJvY2Vzc29yID0gKCk9Pnt9LCBjaHVua1NpemUgPSA4MTkyKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9jZXNzb3IpIHRocm93IG5ldyBFcnJvcihcIlNlc3Npb24gZW5kZWQ6IHBsZWFzZSBjYWxsIC5iZWdpbigpIGZpcnN0XCIpO1xuICAgICAgICBlbHNlIGlmICh0aGlzLnJlY29yZGluZykgdGhyb3cgbmV3IEVycm9yKFwiQWxyZWFkeSByZWNvcmRpbmc6IEhFTExPIHBsZWFzZSBjYWxsIC5wYXVzZSgpIGZpcnN0XCIpO1xuICAgICAgICBlbHNlIGlmICh0eXBlb2YgY2h1bmtQcm9jZXNzb3IgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yKGBjaHVua1Byb2Nlc3NvciBtdXN0IGJlIGEgZnVuY3Rpb25gKTtcbiAgICAgICAgdGhpcy5fY2h1bmtQcm9jZXNzb3IgPSBjaHVua1Byb2Nlc3NvcjtcbiAgICAgICAgdGhpcy5fY2h1bmtQcm9jZXNzb3JTaXplID0gY2h1bmtTaXplO1xuICAgICAgICB0aGlzLl9jaHVua1Byb2Nlc3NvckJ1ZmZlciA9IHtcbiAgICAgICAgICAgIHJhdzogbmV3IEFycmF5QnVmZmVyKDApLFxuICAgICAgICAgICAgbW9ubzogbmV3IEFycmF5QnVmZmVyKDApXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubG9nKFwiUmVjb3JkaW5nIC4uLlwiKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fZXZlbnQoXCJzdGFydFwiKTtcbiAgICAgICAgdGhpcy5yZWNvcmRpbmcgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIENsZWFycyB0aGUgYXVkaW8gYnVmZmVyLCBlbXB0aWVzIHN0b3JlZCByZWNvcmRpbmdcbiAgICogQHJldHVybnMge1Byb21pc2U8dHJ1ZT59XG4gICAqLyBhc3luYyBjbGVhcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2Nlc3NvcikgdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiBlbmRlZDogcGxlYXNlIGNhbGwgLmJlZ2luKCkgZmlyc3RcIik7XG4gICAgICAgIGF3YWl0IHRoaXMuX2V2ZW50KFwiY2xlYXJcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICogUmVhZHMgdGhlIGN1cnJlbnQgYXVkaW8gc3RyZWFtIGRhdGFcbiAgICogQHJldHVybnMge1Byb21pc2U8e21lYW5WYWx1ZXM6IEZsb2F0MzJBcnJheSwgY2hhbm5lbHM6IEFycmF5PEZsb2F0MzJBcnJheT59Pn1cbiAgICovIGFzeW5jIHJlYWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9jZXNzb3IpIHRocm93IG5ldyBFcnJvcihcIlNlc3Npb24gZW5kZWQ6IHBsZWFzZSBjYWxsIC5iZWdpbigpIGZpcnN0XCIpO1xuICAgICAgICB0aGlzLmxvZyhcIlJlYWRpbmcgLi4uXCIpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9ldmVudChcInJlYWRcIik7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgKiBTYXZlcyB0aGUgY3VycmVudCBhdWRpbyBzdHJlYW0gdG8gYSBmaWxlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ZvcmNlXSBGb3JjZSBzYXZpbmcgd2hpbGUgc3RpbGwgcmVjb3JkaW5nXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGltcG9ydCgnLi93YXZfcGFja2VyLmpzJykuV2F2UGFja2VyQXVkaW9UeXBlPn1cbiAgICovIGFzeW5jIHNhdmUoZm9yY2UgPSBmYWxzZSkge1xuICAgICAgICBpZiAoIXRoaXMucHJvY2Vzc29yKSB0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIGVuZGVkOiBwbGVhc2UgY2FsbCAuYmVnaW4oKSBmaXJzdFwiKTtcbiAgICAgICAgaWYgKCFmb3JjZSAmJiB0aGlzLnJlY29yZGluZykgdGhyb3cgbmV3IEVycm9yKFwiQ3VycmVudGx5IHJlY29yZGluZzogcGxlYXNlIGNhbGwgLnBhdXNlKCkgZmlyc3QsIG9yIGNhbGwgLnNhdmUodHJ1ZSkgdG8gZm9yY2VcIik7XG4gICAgICAgIHRoaXMubG9nKFwiRXhwb3J0aW5nIC4uLlwiKTtcbiAgICAgICAgY29uc3QgZXhwb3J0RGF0YSA9IGF3YWl0IHRoaXMuX2V2ZW50KFwiZXhwb3J0XCIpO1xuICAgICAgICBjb25zdCBwYWNrZXIgPSBuZXcgKDAsICQ2ZDRiNzQ0OWExZTE1NDRhJGV4cG9ydCQxM2FmZGEyMzdiMWM5ODQ2KSgpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBwYWNrZXIucGFjayh0aGlzLnNhbXBsZVJhdGUsIGV4cG9ydERhdGEuYXVkaW8pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICogRW5kcyB0aGUgY3VycmVudCByZWNvcmRpbmcgc2Vzc2lvbiBhbmQgc2F2ZXMgdGhlIHJlc3VsdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxpbXBvcnQoJy4vd2F2X3BhY2tlci5qcycpLldhdlBhY2tlckF1ZGlvVHlwZT59XG4gICAqLyBhc3luYyBlbmQoKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9jZXNzb3IpIHRocm93IG5ldyBFcnJvcihcIlNlc3Npb24gZW5kZWQ6IHBsZWFzZSBjYWxsIC5iZWdpbigpIGZpcnN0XCIpO1xuICAgICAgICBjb25zdCBfcHJvY2Vzc29yID0gdGhpcy5wcm9jZXNzb3I7XG4gICAgICAgIHRoaXMubG9nKFwiU3RvcHBpbmcgLi4uXCIpO1xuICAgICAgICBhd2FpdCB0aGlzLl9ldmVudChcInN0b3BcIik7XG4gICAgICAgIHRoaXMucmVjb3JkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9nKFwiRXhwb3J0aW5nIC4uLlwiKTtcbiAgICAgICAgY29uc3QgZXhwb3J0RGF0YSA9IGF3YWl0IHRoaXMuX2V2ZW50KFwiZXhwb3J0XCIsIHt9LCBfcHJvY2Vzc29yKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLnNvdXJjZS5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMubm9kZS5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMuYW5hbHlzZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLnN0cmVhbSA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gbnVsbDtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLm5vZGUgPSBudWxsO1xuICAgICAgICBjb25zdCBwYWNrZXIgPSBuZXcgKDAsICQ2ZDRiNzQ0OWExZTE1NDRhJGV4cG9ydCQxM2FmZGEyMzdiMWM5ODQ2KSgpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBwYWNrZXIucGFjayh0aGlzLnNhbXBsZVJhdGUsIGV4cG9ydERhdGEuYXVkaW8pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICogUGVyZm9ybXMgYSBmdWxsIGNsZWFudXAgb2YgV2F2UmVjb3JkZXIgaW5zdGFuY2VcbiAgICogU3RvcHMgYWN0aXZlbHkgbGlzdGVuaW5nIHZpYSBtaWNyb3Bob25lIGFuZCByZW1vdmVzIGV4aXN0aW5nIGxpc3RlbmVyc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx0cnVlPn1cbiAgICovIGFzeW5jIHF1aXQoKSB7XG4gICAgICAgIHRoaXMubGlzdGVuRm9yRGV2aWNlQ2hhbmdlKG51bGwpO1xuICAgICAgICBpZiAodGhpcy5wcm9jZXNzb3IpIGF3YWl0IHRoaXMuZW5kKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbmdsb2JhbFRoaXMuV2F2UmVjb3JkZXIgPSBXYXZSZWNvcmRlcjtcblxuXG5cblxudmFyICQ1OGQxOWZmMDgyYWY1ZTVjJGV4cG9ydHMgPSB7fTtcbiQ1OGQxOWZmMDgyYWY1ZTVjJGV4cG9ydHMgPSBKU09OLnBhcnNlKFwie1xcXCJuYW1lXFxcIjpcXFwiQHBpcGVjYXQtYWkvZGFpbHktdHJhbnNwb3J0XFxcIixcXFwidmVyc2lvblxcXCI6XFxcIjEuMC4wXFxcIixcXFwibGljZW5zZVxcXCI6XFxcIkJTRC0yLUNsYXVzZVxcXCIsXFxcIm1haW5cXFwiOlxcXCJkaXN0L2luZGV4LmpzXFxcIixcXFwibW9kdWxlXFxcIjpcXFwiZGlzdC9pbmRleC5tb2R1bGUuanNcXFwiLFxcXCJ0eXBlc1xcXCI6XFxcImRpc3QvaW5kZXguZC50c1xcXCIsXFxcInNvdXJjZVxcXCI6XFxcInNyYy9pbmRleC50c1xcXCIsXFxcInJlcG9zaXRvcnlcXFwiOntcXFwidHlwZVxcXCI6XFxcImdpdFxcXCIsXFxcInVybFxcXCI6XFxcImdpdCtodHRwczovL2dpdGh1Yi5jb20vcGlwZWNhdC1haS9waXBlY2F0LWNsaWVudC13ZWItdHJhbnNwb3J0cy5naXRcXFwifSxcXFwiZmlsZXNcXFwiOltcXFwiZGlzdFxcXCIsXFxcInBhY2thZ2UuanNvblxcXCIsXFxcIlJFQURNRS5tZFxcXCJdLFxcXCJzY3JpcHRzXFxcIjp7XFxcImJ1aWxkXFxcIjpcXFwicGFyY2VsIGJ1aWxkIC0tbm8tY2FjaGVcXFwiLFxcXCJkZXZcXFwiOlxcXCJwYXJjZWwgd2F0Y2hcXFwiLFxcXCJsaW50XFxcIjpcXFwiZXNsaW50IC4gLS1leHQgdHMgLS1yZXBvcnQtdW51c2VkLWRpc2FibGUtZGlyZWN0aXZlcyAtLW1heC13YXJuaW5ncyAwXFxcIn0sXFxcImRldkRlcGVuZGVuY2llc1xcXCI6e1xcXCJAcGlwZWNhdC1haS9jbGllbnQtanNcXFwiOlxcXCJeMS4wLjBcXFwiLFxcXCJlc2xpbnRcXFwiOlxcXCI5LjExLjFcXFwiLFxcXCJlc2xpbnQtY29uZmlnLXByZXR0aWVyXFxcIjpcXFwiXjkuMS4wXFxcIixcXFwiZXNsaW50LXBsdWdpbi1zaW1wbGUtaW1wb3J0LXNvcnRcXFwiOlxcXCJeMTIuMS4xXFxcIn0sXFxcInBlZXJEZXBlbmRlbmNpZXNcXFwiOntcXFwiQHBpcGVjYXQtYWkvY2xpZW50LWpzXFxcIjpcXFwifjEuMC4wXFxcIn0sXFxcImRlcGVuZGVuY2llc1xcXCI6e1xcXCJAZGFpbHktY28vZGFpbHktanNcXFwiOlxcXCJeMC43Ny4wXFxcIn0sXFxcImRlc2NyaXB0aW9uXFxcIjpcXFwiUGlwZWNhdCBEYWlseSBUcmFuc3BvcnQgUGFja2FnZVxcXCIsXFxcImF1dGhvclxcXCI6XFxcIkRhaWx5LmNvXFxcIixcXFwiYnVnc1xcXCI6e1xcXCJ1cmxcXFwiOlxcXCJodHRwczovL2dpdGh1Yi5jb20vcGlwZWNhdC1haS9waXBlY2F0LWNsaWVudC13ZWItdHJhbnNwb3J0cy9pc3N1ZXNcXFwifSxcXFwiaG9tZXBhZ2VcXFwiOlxcXCJodHRwczovL2dpdGh1Yi5jb20vcGlwZWNhdC1haS9waXBlY2F0LWNsaWVudC13ZWItdHJhbnNwb3J0cy9ibG9iL21haW4vdHJhbnNwb3J0cy9kYWlseS13ZWJydGMvUkVBRE1FLm1kXFxcIn1cIik7XG5cblxudmFyICQ2ODNmMTExZjYxZTA3MzU4JGV4cG9ydCRlZjE4MGRlODhmZDMxN2NjO1xuKGZ1bmN0aW9uKERhaWx5UlRWSU1lc3NhZ2VUeXBlKSB7XG4gICAgRGFpbHlSVFZJTWVzc2FnZVR5cGVbXCJBVURJT19CVUZGRVJJTkdfU1RBUlRFRFwiXSA9IFwiYXVkaW8tYnVmZmVyaW5nLXN0YXJ0ZWRcIjtcbiAgICBEYWlseVJUVklNZXNzYWdlVHlwZVtcIkFVRElPX0JVRkZFUklOR19TVE9QUEVEXCJdID0gXCJhdWRpby1idWZmZXJpbmctc3RvcHBlZFwiO1xufSkoJDY4M2YxMTFmNjFlMDczNTgkZXhwb3J0JGVmMTgwZGU4OGZkMzE3Y2MgfHwgKCQ2ODNmMTExZjYxZTA3MzU4JGV4cG9ydCRlZjE4MGRlODhmZDMxN2NjID0ge30pKTtcbmNsYXNzICQ2ODNmMTExZjYxZTA3MzU4JHZhciREYWlseUNhbGxXcmFwcGVyIHtcbiAgICBjb25zdHJ1Y3RvcihkYWlseSl7XG4gICAgICAgIHRoaXMuX2RhaWx5ID0gZGFpbHk7XG4gICAgICAgIHRoaXMuX3Byb3h5ID0gbmV3IFByb3h5KHRoaXMuX2RhaWx5LCB7XG4gICAgICAgICAgICBnZXQ6ICh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKT0+e1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0W3Byb3BdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVyck1zZztcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoKFN0cmluZyhwcm9wKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIG1ldGhvZHMgdGhhdCBtb2RpZnkgdGhlIGxpZmVjeWNsZSBvZiB0aGUgY2FsbC4gVGhlc2Ugb3BlcmF0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdWxkIGJlIHBlcmZvcm1lZCB2aWEgdGhlIFBpcGVjYXRDbGllbnQgaW4gb3JkZXIgdG8ga2VlcCBzdGF0ZSBpbiBzeW5jLlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInByZUF1dGhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJNc2cgPSBgQ2FsbHMgdG8gcHJlQXV0aCgpIGFyZSBkaXNhYmxlZC4gUGxlYXNlIHVzZSBUcmFuc3BvcnQucHJlQXV0aCgpYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdGFydENhbWVyYVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyck1zZyA9IGBDYWxscyB0byBzdGFydENhbWVyYSgpIGFyZSBkaXNhYmxlZC4gUGxlYXNlIHVzZSBQaXBlY2F0Q2xpZW50LmluaXREZXZpY2VzKClgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImpvaW5cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJNc2cgPSBgQ2FsbHMgdG8gam9pbigpIGFyZSBkaXNhYmxlZC4gUGxlYXNlIHVzZSBQaXBlY2F0Q2xpZW50LmNvbm5lY3QoKWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibGVhdmVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJNc2cgPSBgQ2FsbHMgdG8gbGVhdmUoKSBhcmUgZGlzYWJsZWQuIFBsZWFzZSB1c2UgUGlwZWNhdENsaWVudC5kaXNjb25uZWN0KClgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRlc3Ryb3lcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJNc2cgPSBgQ2FsbHMgdG8gZGVzdHJveSgpIGFyZSBkaXNhYmxlZC5gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJNc2cpIHJldHVybiAoKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvcndhcmQgb3RoZXIgbWV0aG9kIGNhbGxzXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoLi4uYXJncyk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRbcHJvcF0oLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEZvcndhcmQgcHJvcGVydHkgYWNjZXNzXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IHByb3h5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJveHk7XG4gICAgfVxufVxuY2xhc3MgJDY4M2YxMTFmNjFlMDczNTgkZXhwb3J0JGIxY2E5ODJhYTFlNDg4YzEgZXh0ZW5kcyAoMCwgJDd6YkQ4JFRyYW5zcG9ydCkge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMgPSB7fSl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2JvdElkID0gXCJcIjtcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRDYW0gPSB7fTtcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRNaWMgPSB7fTtcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRTcGVha2VyID0ge307XG4gICAgICAgIHRoaXMuX2N1cnJlbnRBdWRpb1RyYWNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYXVkaW9RdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcbiAgICAgICAgY29uc3QgeyBidWZmZXJMb2NhbEF1ZGlvVW50aWxCb3RSZWFkeTogYnVmZmVyTG9jYWxBdWRpb1VudGlsQm90UmVhZHksIC4uLmRhaWx5T3B0cyB9ID0gb3B0cztcbiAgICAgICAgdGhpcy5fZGFpbHlGYWN0b3J5T3B0aW9ucyA9IGRhaWx5T3B0cztcbiAgICAgICAgdGhpcy5fYnVmZmVyTG9jYWxBdWRpb1VudGlsQm90UmVhZHkgPSBidWZmZXJMb2NhbEF1ZGlvVW50aWxCb3RSZWFkeSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fZGFpbHkgPSAoMCwgJDd6YkQ4JGRhaWx5Y29kYWlseWpzKS5jcmVhdGVDYWxsT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RhaWx5RmFjdG9yeU9wdGlvbnMsXG4gICAgICAgICAgICBhbGxvd011bHRpcGxlQ2FsbEluc3RhbmNlczogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZGFpbHlXcmFwcGVyID0gbmV3ICQ2ODNmMTExZjYxZTA3MzU4JHZhciREYWlseUNhbGxXcmFwcGVyKHRoaXMuX2RhaWx5KTtcbiAgICB9XG4gICAgc2V0dXBSZWNvcmRlcigpIHtcbiAgICAgICAgdGhpcy5fbWVkaWFTdHJlYW1SZWNvcmRlciA9IG5ldyAoMCwgJDVmYzExZDdiYzBkMjA3MjQkZXhwb3J0JDI5MzRjZjJkMjVjNjdhNDgpKHtcbiAgICAgICAgICAgIHNhbXBsZVJhdGU6ICQ2ODNmMTExZjYxZTA3MzU4JGV4cG9ydCRiMWNhOTgyYWExZTQ4OGMxLlJFQ09SREVSX1NBTVBMRV9SQVRFXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBoYW5kbGVVc2VyQXVkaW9TdHJlYW0oZGF0YSkge1xuICAgICAgICB0aGlzLl9hdWRpb1F1ZXVlLnB1c2goZGF0YSk7XG4gICAgfVxuICAgIGZsdXNoQXVkaW9RdWV1ZSgpIHtcbiAgICAgICAgY29uc3QgYmF0Y2hTaXplID0gMTA7IC8vIE51bWJlciBvZiBidWZmZXJzIHRvIHNlbmQgaW4gb25lIG1lc3NhZ2VcbiAgICAgICAgaWYgKHRoaXMuX2F1ZGlvUXVldWUubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgICgwLCAkN3piRDgkbG9nZ2VyKS5kZWJ1ZyhgV2lsbCBmbHVzaCBhdWRpbyBxdWV1ZTogJHt0aGlzLl9hdWRpb1F1ZXVlLmxlbmd0aH1gKTtcbiAgICAgICAgd2hpbGUodGhpcy5fYXVkaW9RdWV1ZS5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gW107XG4gICAgICAgICAgICAvLyBDb2xsZWN0IHVwIHRvIGBiYXRjaFNpemVgIGl0ZW1zXG4gICAgICAgICAgICB3aGlsZShiYXRjaC5sZW5ndGggPCBiYXRjaFNpemUgJiYgdGhpcy5fYXVkaW9RdWV1ZS5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgICAgICBjb25zdCBxdWV1ZWREYXRhID0gdGhpcy5fYXVkaW9RdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIGlmIChxdWV1ZWREYXRhKSBiYXRjaC5wdXNoKHF1ZXVlZERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJhdGNoLmxlbmd0aCA+IDApIHRoaXMuX3NlbmRBdWRpb0JhdGNoKGJhdGNoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfc2VuZEF1ZGlvQmF0Y2goZGF0YUJhdGNoKSB7XG4gICAgICAgIGNvbnN0IGVuY29kZWRCYXRjaCA9IGRhdGFCYXRjaC5tYXAoKGRhdGEpPT57XG4gICAgICAgICAgICBjb25zdCBwY21CeXRlQXJyYXkgPSBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgICAgICAgICAgIHJldHVybiBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUoLi4ucGNtQnl0ZUFycmF5KSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBhdWRpb01lc3NhZ2UgPSB7XG4gICAgICAgICAgICBpZDogXCJyYXctYXVkaW8tYmF0Y2hcIixcbiAgICAgICAgICAgIGxhYmVsOiBcInJ0dmktYWlcIixcbiAgICAgICAgICAgIHR5cGU6IFwicmF3LWF1ZGlvLWJhdGNoXCIsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgYmFzZTY0QXVkaW9CYXRjaDogZW5jb2RlZEJhdGNoLFxuICAgICAgICAgICAgICAgIHNhbXBsZVJhdGU6ICQ2ODNmMTExZjYxZTA3MzU4JGV4cG9ydCRiMWNhOTgyYWExZTQ4OGMxLlJFQ09SREVSX1NBTVBMRV9SQVRFLFxuICAgICAgICAgICAgICAgIG51bUNoYW5uZWxzOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoYXVkaW9NZXNzYWdlKTtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZShvcHRpb25zLCBtZXNzYWdlSGFuZGxlcikge1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVyTG9jYWxBdWRpb1VudGlsQm90UmVhZHkpIHRoaXMuc2V0dXBSZWNvcmRlcigpO1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MgPSBvcHRpb25zLmNhbGxiYWNrcyA/PyB7fTtcbiAgICAgICAgdGhpcy5fb25NZXNzYWdlID0gbWVzc2FnZUhhbmRsZXI7XG4gICAgICAgIGlmICh0aGlzLl9kYWlseUZhY3RvcnlPcHRpb25zLnN0YXJ0VmlkZW9PZmYgPT0gbnVsbCB8fCBvcHRpb25zLmVuYWJsZUNhbSAhPSBudWxsKSAvLyBEZWZhdWx0IGlzIGNhbSBvZmZcbiAgICAgICAgdGhpcy5fZGFpbHlGYWN0b3J5T3B0aW9ucy5zdGFydFZpZGVvT2ZmID0gIShvcHRpb25zLmVuYWJsZUNhbSA/PyBmYWxzZSk7XG4gICAgICAgIGlmICh0aGlzLl9kYWlseUZhY3RvcnlPcHRpb25zLnN0YXJ0QXVkaW9PZmYgPT0gbnVsbCB8fCBvcHRpb25zLmVuYWJsZU1pYyAhPSBudWxsKSAvLyBEZWZhdWx0IGlzIG1pYyBvblxuICAgICAgICB0aGlzLl9kYWlseUZhY3RvcnlPcHRpb25zLnN0YXJ0QXVkaW9PZmYgPSAhKG9wdGlvbnMuZW5hYmxlTWljID8/IHRydWUpO1xuICAgICAgICB0aGlzLmF0dGFjaEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBcImRpc2Nvbm5lY3RlZFwiO1xuICAgICAgICAoMCwgJDd6YkQ4JGxvZ2dlcikuZGVidWcoXCJbRGFpbHkgVHJhbnNwb3J0XSBJbml0aWFsaXplZFwiLCAoMCwgKC8qQF9fUFVSRV9fKi8kcGFyY2VsJGludGVyb3BEZWZhdWx0KCQ1OGQxOWZmMDgyYWY1ZTVjJGV4cG9ydHMpKSkudmVyc2lvbik7XG4gICAgfVxuICAgIGdldCBkYWlseUNhbGxDbGllbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYWlseVdyYXBwZXIucHJveHk7XG4gICAgfVxuICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgIH1cbiAgICBzZXQgc3RhdGUoc3RhdGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSBzdGF0ZSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLl9jYWxsYmFja3Mub25UcmFuc3BvcnRTdGF0ZUNoYW5nZWQ/LihzdGF0ZSk7XG4gICAgfVxuICAgIGdldFNlc3Npb25JbmZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGFpbHkubWVldGluZ1Nlc3Npb25TdW1tYXJ5KCk7XG4gICAgfVxuICAgIGFzeW5jIGdldEFsbENhbXMoKSB7XG4gICAgICAgIGNvbnN0IHsgZGV2aWNlczogZGV2aWNlcyB9ID0gYXdhaXQgdGhpcy5fZGFpbHkuZW51bWVyYXRlRGV2aWNlcygpO1xuICAgICAgICByZXR1cm4gZGV2aWNlcy5maWx0ZXIoKGQpPT5kLmtpbmQgPT09IFwidmlkZW9pbnB1dFwiKTtcbiAgICB9XG4gICAgdXBkYXRlQ2FtKGNhbUlkKSB7XG4gICAgICAgIHRoaXMuX2RhaWx5LnNldElucHV0RGV2aWNlc0FzeW5jKHtcbiAgICAgICAgICAgIHZpZGVvRGV2aWNlSWQ6IGNhbUlkXG4gICAgICAgIH0pLnRoZW4oKGluZm9zKT0+e1xuICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRDYW0gPSBpbmZvcy5jYW1lcmE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgc2VsZWN0ZWRDYW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZENhbTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0QWxsTWljcygpIHtcbiAgICAgICAgY29uc3QgeyBkZXZpY2VzOiBkZXZpY2VzIH0gPSBhd2FpdCB0aGlzLl9kYWlseS5lbnVtZXJhdGVEZXZpY2VzKCk7XG4gICAgICAgIHJldHVybiBkZXZpY2VzLmZpbHRlcigoZCk9PmQua2luZCA9PT0gXCJhdWRpb2lucHV0XCIpO1xuICAgIH1cbiAgICB1cGRhdGVNaWMobWljSWQpIHtcbiAgICAgICAgdGhpcy5fZGFpbHkuc2V0SW5wdXREZXZpY2VzQXN5bmMoe1xuICAgICAgICAgICAgYXVkaW9EZXZpY2VJZDogbWljSWRcbiAgICAgICAgfSkudGhlbigoaW5mb3MpPT57XG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RlZE1pYyA9IGluZm9zLm1pYztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBzZWxlY3RlZE1pYygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkTWljO1xuICAgIH1cbiAgICBhc3luYyBnZXRBbGxTcGVha2VycygpIHtcbiAgICAgICAgY29uc3QgeyBkZXZpY2VzOiBkZXZpY2VzIH0gPSBhd2FpdCB0aGlzLl9kYWlseS5lbnVtZXJhdGVEZXZpY2VzKCk7XG4gICAgICAgIHJldHVybiBkZXZpY2VzLmZpbHRlcigoZCk9PmQua2luZCA9PT0gXCJhdWRpb291dHB1dFwiKTtcbiAgICB9XG4gICAgdXBkYXRlU3BlYWtlcihzcGVha2VySWQpIHtcbiAgICAgICAgdGhpcy5fZGFpbHkuc2V0T3V0cHV0RGV2aWNlQXN5bmMoe1xuICAgICAgICAgICAgb3V0cHV0RGV2aWNlSWQ6IHNwZWFrZXJJZFxuICAgICAgICB9KS50aGVuKChpbmZvcyk9PntcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkU3BlYWtlciA9IGluZm9zLnNwZWFrZXI7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgc2VsZWN0ZWRTcGVha2VyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRTcGVha2VyO1xuICAgIH1cbiAgICBlbmFibGVNaWMoZW5hYmxlKSB7XG4gICAgICAgIHRoaXMuX2RhaWx5LnNldExvY2FsQXVkaW8oZW5hYmxlKTtcbiAgICB9XG4gICAgZ2V0IGlzTWljRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhaWx5LmxvY2FsQXVkaW8oKTtcbiAgICB9XG4gICAgZW5hYmxlQ2FtKGVuYWJsZSkge1xuICAgICAgICB0aGlzLl9kYWlseS5zZXRMb2NhbFZpZGVvKGVuYWJsZSk7XG4gICAgfVxuICAgIGdldCBpc0NhbUVuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYWlseS5sb2NhbFZpZGVvKCk7XG4gICAgfVxuICAgIGVuYWJsZVNjcmVlblNoYXJlKGVuYWJsZSkge1xuICAgICAgICBpZiAoZW5hYmxlKSB0aGlzLl9kYWlseS5zdGFydFNjcmVlblNoYXJlKCk7XG4gICAgICAgIGVsc2UgdGhpcy5fZGFpbHkuc3RvcFNjcmVlblNoYXJlKCk7XG4gICAgfVxuICAgIGdldCBpc1NoYXJpbmdTY3JlZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYWlseS5sb2NhbFNjcmVlbkF1ZGlvKCkgfHwgdGhpcy5fZGFpbHkubG9jYWxTY3JlZW5WaWRlbygpO1xuICAgIH1cbiAgICB0cmFja3MoKSB7XG4gICAgICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMuX2RhaWx5LnBhcnRpY2lwYW50cygpID8/IHt9O1xuICAgICAgICBjb25zdCBib3QgPSBwYXJ0aWNpcGFudHM/Llt0aGlzLl9ib3RJZF07XG4gICAgICAgIGNvbnN0IHRyYWNrcyA9IHtcbiAgICAgICAgICAgIGxvY2FsOiB7XG4gICAgICAgICAgICAgICAgYXVkaW86IHBhcnRpY2lwYW50cz8ubG9jYWw/LnRyYWNrcz8uYXVkaW8/LnBlcnNpc3RlbnRUcmFjayxcbiAgICAgICAgICAgICAgICBzY3JlZW5BdWRpbzogcGFydGljaXBhbnRzPy5sb2NhbD8udHJhY2tzPy5zY3JlZW5BdWRpbz8ucGVyc2lzdGVudFRyYWNrLFxuICAgICAgICAgICAgICAgIHNjcmVlblZpZGVvOiBwYXJ0aWNpcGFudHM/LmxvY2FsPy50cmFja3M/LnNjcmVlblZpZGVvPy5wZXJzaXN0ZW50VHJhY2ssXG4gICAgICAgICAgICAgICAgdmlkZW86IHBhcnRpY2lwYW50cz8ubG9jYWw/LnRyYWNrcz8udmlkZW8/LnBlcnNpc3RlbnRUcmFja1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoYm90KSB0cmFja3MuYm90ID0ge1xuICAgICAgICAgICAgYXVkaW86IGJvdD8udHJhY2tzPy5hdWRpbz8ucGVyc2lzdGVudFRyYWNrLFxuICAgICAgICAgICAgdmlkZW86IGJvdD8udHJhY2tzPy52aWRlbz8ucGVyc2lzdGVudFRyYWNrXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0cmFja3M7XG4gICAgfVxuICAgIGFzeW5jIHN0YXJ0UmVjb3JkaW5nKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgKDAsICQ3emJEOCRsb2dnZXIpLmluZm8oXCJbRGFpbHkgVHJhbnNwb3J0XSBJbml0aWFsaXppbmcgcmVjb3JkaW5nXCIpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fbWVkaWFTdHJlYW1SZWNvcmRlci5yZWNvcmQoKGRhdGEpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVVc2VyQXVkaW9TdHJlYW0oZGF0YS5tb25vKTtcbiAgICAgICAgICAgIH0sICQ2ODNmMTExZjYxZTA3MzU4JGV4cG9ydCRiMWNhOTgyYWExZTQ4OGMxLlJFQ09SREVSX0NIVU5LX1NJWkUpO1xuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzLm9uQXVkaW9CdWZmZXJpbmdTdGFydGVkPy4oKTtcbiAgICAgICAgICAgICgwLCAkN3piRDgkbG9nZ2VyKS5pbmZvKFwiW0RhaWx5IFRyYW5zcG9ydF0gUmVjb3JkaW5nIEluaXRpYWxpemVkXCIpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zdCBlcnIgPSBlO1xuICAgICAgICAgICAgaWYgKCFlcnIubWVzc2FnZS5pbmNsdWRlcyhcIkFscmVhZHkgcmVjb3JkaW5nXCIpKSAoMCwgJDd6YkQ4JGxvZ2dlcikuZXJyb3IoXCJFcnJvciBzdGFydGluZyByZWNvcmRpbmdcIiwgZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcHJlQXV0aChkYWlseUNhbGxPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2RhaWx5RmFjdG9yeU9wdGlvbnMgPSBkYWlseUNhbGxPcHRpb25zO1xuICAgICAgICBhd2FpdCB0aGlzLl9kYWlseS5wcmVBdXRoKGRhaWx5Q2FsbE9wdGlvbnMpO1xuICAgIH1cbiAgICBhc3luYyBpbml0RGV2aWNlcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9kYWlseSkgdGhyb3cgbmV3ICgwLCAkN3piRDgkUlRWSUVycm9yKShcIlRyYW5zcG9ydCBpbnN0YW5jZSBub3QgaW5pdGlhbGl6ZWRcIik7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBcImluaXRpYWxpemluZ1wiO1xuICAgICAgICBjb25zdCBpbmZvcyA9IGF3YWl0IHRoaXMuX2RhaWx5LnN0YXJ0Q2FtZXJhKHRoaXMuX2RhaWx5RmFjdG9yeU9wdGlvbnMpO1xuICAgICAgICBjb25zdCB7IGRldmljZXM6IGRldmljZXMgfSA9IGF3YWl0IHRoaXMuX2RhaWx5LmVudW1lcmF0ZURldmljZXMoKTtcbiAgICAgICAgY29uc3QgY2FtcyA9IGRldmljZXMuZmlsdGVyKChkKT0+ZC5raW5kID09PSBcInZpZGVvaW5wdXRcIik7XG4gICAgICAgIGNvbnN0IG1pY3MgPSBkZXZpY2VzLmZpbHRlcigoZCk9PmQua2luZCA9PT0gXCJhdWRpb2lucHV0XCIpO1xuICAgICAgICBjb25zdCBzcGVha2VycyA9IGRldmljZXMuZmlsdGVyKChkKT0+ZC5raW5kID09PSBcImF1ZGlvb3V0cHV0XCIpO1xuICAgICAgICB0aGlzLl9zZWxlY3RlZENhbSA9IGluZm9zLmNhbWVyYTtcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRNaWMgPSBpbmZvcy5taWM7XG4gICAgICAgIHRoaXMuX3NlbGVjdGVkU3BlYWtlciA9IGluZm9zLnNwZWFrZXI7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vbkF2YWlsYWJsZUNhbXNVcGRhdGVkPy4oY2Ftcyk7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vbkF2YWlsYWJsZU1pY3NVcGRhdGVkPy4obWljcyk7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vbkF2YWlsYWJsZVNwZWFrZXJzVXBkYXRlZD8uKHNwZWFrZXJzKTtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzLm9uQ2FtVXBkYXRlZD8uKGluZm9zLmNhbWVyYSk7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vbk1pY1VwZGF0ZWQ/LihpbmZvcy5taWMpO1xuICAgICAgICB0aGlzLl9jYWxsYmFja3Mub25TcGVha2VyVXBkYXRlZD8uKGluZm9zLnNwZWFrZXIpO1xuICAgICAgICAvLyBJbnN0YW50aWF0ZSBhdWRpbyBvYnNlcnZlcnNcbiAgICAgICAgaWYgKCF0aGlzLl9kYWlseS5pc0xvY2FsQXVkaW9MZXZlbE9ic2VydmVyUnVubmluZygpKSBhd2FpdCB0aGlzLl9kYWlseS5zdGFydExvY2FsQXVkaW9MZXZlbE9ic2VydmVyKDEwMCk7XG4gICAgICAgIGlmICghdGhpcy5fZGFpbHkuaXNSZW1vdGVQYXJ0aWNpcGFudHNBdWRpb0xldmVsT2JzZXJ2ZXJSdW5uaW5nKCkpIGF3YWl0IHRoaXMuX2RhaWx5LnN0YXJ0UmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbE9ic2VydmVyKDEwMCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBcImluaXRpYWxpemVkXCI7XG4gICAgfVxuICAgIF92YWxpZGF0ZUNvbm5lY3Rpb25QYXJhbXMoY29ubmVjdFBhcmFtcykge1xuICAgICAgICBpZiAoY29ubmVjdFBhcmFtcyA9PT0gdW5kZWZpbmVkIHx8IGNvbm5lY3RQYXJhbXMgPT09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0eXBlb2YgY29ubmVjdFBhcmFtcyAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3ICgwLCAkN3piRDgkUlRWSUVycm9yKShcIkludmFsaWQgY29ubmVjdGlvbiBwYXJhbWV0ZXJzXCIpO1xuICAgICAgICBjb25zdCB0bXBQYXJhbXMgPSBjb25uZWN0UGFyYW1zO1xuICAgICAgICBpZiAodG1wUGFyYW1zLnJvb21fdXJsKSB7XG4gICAgICAgICAgICB0bXBQYXJhbXMudXJsID0gdG1wUGFyYW1zLnJvb21fdXJsO1xuICAgICAgICAgICAgZGVsZXRlIHRtcFBhcmFtcy5yb29tX3VybDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRtcFBhcmFtcy50b2tlbikgLy8gRGFpbHkgZG9lc24ndCBsaWtlIHRva2VuIGJlaW5nIGluIHRoZSBtYXAgYW5kIHVuZGVmaW5lZCBvciBudWxsXG4gICAgICAgIGRlbGV0ZSB0bXBQYXJhbXMudG9rZW47XG4gICAgICAgIHJldHVybiB0bXBQYXJhbXM7XG4gICAgfVxuICAgIGFzeW5jIF9jb25uZWN0KGNvbm5lY3RQYXJhbXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9kYWlseSkgdGhyb3cgbmV3ICgwLCAkN3piRDgkUlRWSUVycm9yKShcIlRyYW5zcG9ydCBpbnN0YW5jZSBub3QgaW5pdGlhbGl6ZWRcIik7XG4gICAgICAgIGlmIChjb25uZWN0UGFyYW1zKSB0aGlzLl9kYWlseUZhY3RvcnlPcHRpb25zID0ge1xuICAgICAgICAgICAgLi4udGhpcy5fZGFpbHlGYWN0b3J5T3B0aW9ucyxcbiAgICAgICAgICAgIC4uLmNvbm5lY3RQYXJhbXNcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFwiY29ubmVjdGluZ1wiO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fZGFpbHkuam9pbih0aGlzLl9kYWlseUZhY3RvcnlPcHRpb25zKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgKDAsICQ3emJEOCRsb2dnZXIpLmVycm9yKFwiRmFpbGVkIHRvIGpvaW4gcm9vbVwiLCBlKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBcImVycm9yXCI7XG4gICAgICAgICAgICB0aHJvdyBuZXcgKDAsICQ3emJEOCRUcmFuc3BvcnRTdGFydEVycm9yKSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9hYm9ydENvbnRyb2xsZXI/LnNpZ25hbC5hYm9ydGVkKSByZXR1cm47XG4gICAgICAgIHRoaXMuc3RhdGUgPSBcImNvbm5lY3RlZFwiO1xuICAgICAgICB0aGlzLl9jYWxsYmFja3Mub25Db25uZWN0ZWQ/LigpO1xuICAgIH1cbiAgICBhc3luYyBzZW5kUmVhZHlNZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpPT57XG4gICAgICAgICAgICAvLyBEZXRlY3QgaU9TIGRldmljZXNcbiAgICAgICAgICAgIGNvbnN0IGlzSU9TID0gKCk9PntcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdCh1c2VyQWdlbnQpIHx8IC9NYWNpbnRvc2gvLnRlc3QodXNlckFnZW50KSAmJiBcIm9udG91Y2hlbmRcIiBpbiBkb2N1bWVudDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBzZW5kUmVhZHlNZXNzYWdlID0gKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gXCJyZWFkeVwiO1xuICAgICAgICAgICAgICAgIHRoaXMuZmx1c2hBdWRpb1F1ZXVlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSgoMCwgJDd6YkQ4JFJUVklNZXNzYWdlKS5jbGllbnRSZWFkeSgpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BSZWNvcmRpbmcoKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yKGNvbnN0IGlkIGluIHRoaXMuX2RhaWx5LnBhcnRpY2lwYW50cygpKXtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gdGhpcy5fZGFpbHkucGFydGljaXBhbnRzKClbaWRdO1xuICAgICAgICAgICAgICAgIGlmICghcC5sb2NhbCAmJiBwLnRyYWNrcz8uYXVkaW8/LnBlcnNpc3RlbnRUcmFjaykge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBhbHJlYWR5IGhhdmUgYSByZW1vdGUgYXVkaW8gdHJhY2ssIHdlIGNhbiBzZW5kIHRoZSByZWFkeSBtZXNzYWdlIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgICAgIHNlbmRSZWFkeU1lc3NhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVhZHlIYW5kbGVyID0gKGV2KT0+e1xuICAgICAgICAgICAgICAgIGlmICghZXYucGFydGljaXBhbnQ/LmxvY2FsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhaWx5Lm9mZihcInRyYWNrLXN0YXJ0ZWRcIiwgcmVhZHlIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyBhbiBpT1MgZGV2aWNlXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0lPUygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgJDd6YkQ4JGxvZ2dlcikuZGVidWcoXCJbRGFpbHkgVHJhbnNwb3J0XSBpT1MgZGV2aWNlIGRldGVjdGVkLCBhZGRpbmcgMC41IHNlY29uZCBkZWxheSBiZWZvcmUgc2VuZGluZyByZWFkeSBtZXNzYWdlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIDUwMG1zIGRlbGF5IGZvciBpT1MgZGV2aWNlczpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSB3b3JrYXJvdW5kIGZvciBpT1MgZGV2aWNlcyBjbGlwcGluZyBhIHBvcnRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIHRoZSBhdWRpbyBhZnRlciB0aGUgdHJhY2sgYmVjb21lcyBwbGF5YWJsZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoc2VuZFJlYWR5TWVzc2FnZSwgNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIC8vIE5vbi1pT1MgZGV2aWNlLCBzZW5kIHJlYWR5IG1lc3NhZ2UgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgICAgICAgc2VuZFJlYWR5TWVzc2FnZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9kYWlseS5vbihcInRyYWNrLXN0YXJ0ZWRcIiwgcmVhZHlIYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0b3BSZWNvcmRpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYVN0cmVhbVJlY29yZGVyICYmIHRoaXMuX21lZGlhU3RyZWFtUmVjb3JkZXIuZ2V0U3RhdHVzKCkgIT09IFwiZW5kZWRcIikge1xuICAgICAgICAgICAgLy8gZGlzY29ubmVjdGluZywgd2UgZG9uJ3QgbmVlZCB0byByZWNvcmQgYW55bW9yZVxuICAgICAgICAgICAgdGhpcy5fbWVkaWFTdHJlYW1SZWNvcmRlci5lbmQoKTtcbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vbkF1ZGlvQnVmZmVyaW5nU3RvcHBlZD8uKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXR0YWNoRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX2RhaWx5Lm9uKFwiYXZhaWxhYmxlLWRldmljZXMtdXBkYXRlZFwiLCB0aGlzLmhhbmRsZUF2YWlsYWJsZURldmljZXNVcGRhdGVkLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLl9kYWlseS5vbihcInNlbGVjdGVkLWRldmljZXMtdXBkYXRlZFwiLCB0aGlzLmhhbmRsZVNlbGVjdGVkRGV2aWNlc1VwZGF0ZWQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2RhaWx5Lm9uKFwidHJhY2stc3RhcnRlZFwiLCB0aGlzLmhhbmRsZVRyYWNrU3RhcnRlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fZGFpbHkub24oXCJ0cmFjay1zdG9wcGVkXCIsIHRoaXMuaGFuZGxlVHJhY2tTdG9wcGVkLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLl9kYWlseS5vbihcInBhcnRpY2lwYW50LWpvaW5lZFwiLCB0aGlzLmhhbmRsZVBhcnRpY2lwYW50Sm9pbmVkLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLl9kYWlseS5vbihcInBhcnRpY2lwYW50LWxlZnRcIiwgdGhpcy5oYW5kbGVQYXJ0aWNpcGFudExlZnQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2RhaWx5Lm9uKFwibG9jYWwtYXVkaW8tbGV2ZWxcIiwgdGhpcy5oYW5kbGVMb2NhbEF1ZGlvTGV2ZWwuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2RhaWx5Lm9uKFwicmVtb3RlLXBhcnRpY2lwYW50cy1hdWRpby1sZXZlbFwiLCB0aGlzLmhhbmRsZVJlbW90ZUF1ZGlvTGV2ZWwuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2RhaWx5Lm9uKFwiYXBwLW1lc3NhZ2VcIiwgdGhpcy5oYW5kbGVBcHBNZXNzYWdlLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLl9kYWlseS5vbihcImxlZnQtbWVldGluZ1wiLCB0aGlzLmhhbmRsZUxlZnRNZWV0aW5nLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLl9kYWlseS5vbihcImVycm9yXCIsIHRoaXMuaGFuZGxlRmF0YWxFcnJvci5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fZGFpbHkub24oXCJub25mYXRhbC1lcnJvclwiLCB0aGlzLmhhbmRsZU5vbkZhdGFsRXJyb3IuYmluZCh0aGlzKSk7XG4gICAgfVxuICAgIGFzeW5jIF9kaXNjb25uZWN0KCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gXCJkaXNjb25uZWN0aW5nXCI7XG4gICAgICAgIHRoaXMuX2RhaWx5LnN0b3BMb2NhbEF1ZGlvTGV2ZWxPYnNlcnZlcigpO1xuICAgICAgICB0aGlzLl9kYWlseS5zdG9wUmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbE9ic2VydmVyKCk7XG4gICAgICAgIHRoaXMuX2F1ZGlvUXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5fY3VycmVudEF1ZGlvVHJhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLnN0b3BSZWNvcmRpbmcoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fZGFpbHkubGVhdmUoKTtcbiAgICB9XG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICB0aGlzLl9kYWlseS5zZW5kQXBwTWVzc2FnZShtZXNzYWdlLCBcIipcIik7XG4gICAgfVxuICAgIGhhbmRsZUFwcE1lc3NhZ2UoZXYpIHtcbiAgICAgICAgLy8gQnViYmxlIGFueSBtZXNzYWdlcyB3aXRoIHJ0dmktYWkgbGFiZWxcbiAgICAgICAgaWYgKGV2LmRhdGEubGFiZWwgPT09IFwicnR2aS1haVwiKSB0aGlzLl9vbk1lc3NhZ2Uoe1xuICAgICAgICAgICAgaWQ6IGV2LmRhdGEuaWQsXG4gICAgICAgICAgICB0eXBlOiBldi5kYXRhLnR5cGUsXG4gICAgICAgICAgICBkYXRhOiBldi5kYXRhLmRhdGFcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGhhbmRsZUF2YWlsYWJsZURldmljZXNVcGRhdGVkKGV2KSB7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vbkF2YWlsYWJsZUNhbXNVcGRhdGVkPy4oZXYuYXZhaWxhYmxlRGV2aWNlcy5maWx0ZXIoKGQpPT5kLmtpbmQgPT09IFwidmlkZW9pbnB1dFwiKSk7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vbkF2YWlsYWJsZU1pY3NVcGRhdGVkPy4oZXYuYXZhaWxhYmxlRGV2aWNlcy5maWx0ZXIoKGQpPT5kLmtpbmQgPT09IFwiYXVkaW9pbnB1dFwiKSk7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vbkF2YWlsYWJsZVNwZWFrZXJzVXBkYXRlZD8uKGV2LmF2YWlsYWJsZURldmljZXMuZmlsdGVyKChkKT0+ZC5raW5kID09PSBcImF1ZGlvb3V0cHV0XCIpKTtcbiAgICB9XG4gICAgaGFuZGxlU2VsZWN0ZWREZXZpY2VzVXBkYXRlZChldikge1xuICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWRDYW0/LmRldmljZUlkICE9PSBldi5kZXZpY2VzLmNhbWVyYSkge1xuICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRDYW0gPSBldi5kZXZpY2VzLmNhbWVyYTtcbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vbkNhbVVwZGF0ZWQ/Lihldi5kZXZpY2VzLmNhbWVyYSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkTWljPy5kZXZpY2VJZCAhPT0gZXYuZGV2aWNlcy5taWMpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkTWljID0gZXYuZGV2aWNlcy5taWM7XG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFja3Mub25NaWNVcGRhdGVkPy4oZXYuZGV2aWNlcy5taWMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9zZWxlY3RlZFNwZWFrZXI/LmRldmljZUlkICE9PSBldi5kZXZpY2VzLnNwZWFrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkU3BlYWtlciA9IGV2LmRldmljZXMuc3BlYWtlcjtcbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vblNwZWFrZXJVcGRhdGVkPy4oZXYuZGV2aWNlcy5zcGVha2VyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBoYW5kbGVMb2NhbEF1ZGlvVHJhY2sodHJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gXCJyZWFkeVwiIHx8ICF0aGlzLl9idWZmZXJMb2NhbEF1ZGlvVW50aWxCb3RSZWFkeSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSB0aGlzLl9tZWRpYVN0cmVhbVJlY29yZGVyLmdldFN0YXR1cygpO1xuICAgICAgICBzd2l0Y2goc3RhdHVzKXtcbiAgICAgICAgICAgIGNhc2UgXCJlbmRlZFwiOlxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX21lZGlhU3RyZWFtUmVjb3JkZXIuYmVnaW4odHJhY2spO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RhcnRSZWNvcmRpbmcoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwYXVzZWRcIjpcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN0YXJ0UmVjb3JkaW5nKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmVjb3JkaW5nXCI6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50QXVkaW9UcmFjayAhPT0gdHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fbWVkaWFTdHJlYW1SZWNvcmRlci5lbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fbWVkaWFTdHJlYW1SZWNvcmRlci5iZWdpbih0cmFjayk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RhcnRSZWNvcmRpbmcoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgKDAsICQ3emJEOCRsb2dnZXIpLndhcm4oXCJ0cmFjay1zdGFydGVkIGV2ZW50IHJlY2VpdmVkIGZvciBjdXJyZW50IHRyYWNrIGFuZCBhbHJlYWR5IHJlY29yZGluZ1wiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jdXJyZW50QXVkaW9UcmFjayA9IHRyYWNrO1xuICAgIH1cbiAgICBoYW5kbGVUcmFja1N0YXJ0ZWQoZXYpIHtcbiAgICAgICAgaWYgKGV2LnR5cGUgPT09IFwic2NyZWVuQXVkaW9cIiB8fCBldi50eXBlID09PSBcInNjcmVlblZpZGVvXCIpIHRoaXMuX2NhbGxiYWNrcy5vblNjcmVlblRyYWNrU3RhcnRlZD8uKGV2LnRyYWNrLCBldi5wYXJ0aWNpcGFudCA/ICQ2ODNmMTExZjYxZTA3MzU4JHZhciRkYWlseVBhcnRpY2lwYW50VG9QYXJ0aWNpcGFudChldi5wYXJ0aWNpcGFudCkgOiB1bmRlZmluZWQpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChldi5wYXJ0aWNpcGFudD8ubG9jYWwgJiYgZXYudHJhY2sua2luZCA9PT0gXCJhdWRpb1wiKSB0aGlzLmhhbmRsZUxvY2FsQXVkaW9UcmFjayhldi50cmFjayk7XG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFja3Mub25UcmFja1N0YXJ0ZWQ/Lihldi50cmFjaywgZXYucGFydGljaXBhbnQgPyAkNjgzZjExMWY2MWUwNzM1OCR2YXIkZGFpbHlQYXJ0aWNpcGFudFRvUGFydGljaXBhbnQoZXYucGFydGljaXBhbnQpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVUcmFja1N0b3BwZWQoZXYpIHtcbiAgICAgICAgaWYgKGV2LnR5cGUgPT09IFwic2NyZWVuQXVkaW9cIiB8fCBldi50eXBlID09PSBcInNjcmVlblZpZGVvXCIpIHRoaXMuX2NhbGxiYWNrcy5vblNjcmVlblRyYWNrU3RvcHBlZD8uKGV2LnRyYWNrLCBldi5wYXJ0aWNpcGFudCA/ICQ2ODNmMTExZjYxZTA3MzU4JHZhciRkYWlseVBhcnRpY2lwYW50VG9QYXJ0aWNpcGFudChldi5wYXJ0aWNpcGFudCkgOiB1bmRlZmluZWQpO1xuICAgICAgICBlbHNlIHRoaXMuX2NhbGxiYWNrcy5vblRyYWNrU3RvcHBlZD8uKGV2LnRyYWNrLCBldi5wYXJ0aWNpcGFudCA/ICQ2ODNmMTExZjYxZTA3MzU4JHZhciRkYWlseVBhcnRpY2lwYW50VG9QYXJ0aWNpcGFudChldi5wYXJ0aWNpcGFudCkgOiB1bmRlZmluZWQpO1xuICAgIH1cbiAgICBoYW5kbGVQYXJ0aWNpcGFudEpvaW5lZChldikge1xuICAgICAgICBjb25zdCBwID0gJDY4M2YxMTFmNjFlMDczNTgkdmFyJGRhaWx5UGFydGljaXBhbnRUb1BhcnRpY2lwYW50KGV2LnBhcnRpY2lwYW50KTtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzLm9uUGFydGljaXBhbnRKb2luZWQ/LihwKTtcbiAgICAgICAgaWYgKHAubG9jYWwpIHJldHVybjtcbiAgICAgICAgdGhpcy5fYm90SWQgPSBldi5wYXJ0aWNpcGFudC5zZXNzaW9uX2lkO1xuICAgICAgICB0aGlzLl9jYWxsYmFja3Mub25Cb3RDb25uZWN0ZWQ/LihwKTtcbiAgICB9XG4gICAgaGFuZGxlUGFydGljaXBhbnRMZWZ0KGV2KSB7XG4gICAgICAgIGNvbnN0IHAgPSAkNjgzZjExMWY2MWUwNzM1OCR2YXIkZGFpbHlQYXJ0aWNpcGFudFRvUGFydGljaXBhbnQoZXYucGFydGljaXBhbnQpO1xuICAgICAgICB0aGlzLl9jYWxsYmFja3Mub25QYXJ0aWNpcGFudExlZnQ/LihwKTtcbiAgICAgICAgaWYgKHAubG9jYWwpIHJldHVybjtcbiAgICAgICAgdGhpcy5fYm90SWQgPSBcIlwiO1xuICAgICAgICB0aGlzLl9jYWxsYmFja3Mub25Cb3REaXNjb25uZWN0ZWQ/LihwKTtcbiAgICB9XG4gICAgaGFuZGxlTG9jYWxBdWRpb0xldmVsKGV2KSB7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vbkxvY2FsQXVkaW9MZXZlbD8uKGV2LmF1ZGlvTGV2ZWwpO1xuICAgIH1cbiAgICBoYW5kbGVSZW1vdGVBdWRpb0xldmVsKGV2KSB7XG4gICAgICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMuX2RhaWx5LnBhcnRpY2lwYW50cygpO1xuICAgICAgICBjb25zdCBpZHMgPSBPYmplY3Qua2V5cyhldi5wYXJ0aWNpcGFudHNBdWRpb0xldmVsKTtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBjb25zdCBpZCA9IGlkc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGxldmVsID0gZXYucGFydGljaXBhbnRzQXVkaW9MZXZlbFtpZF07XG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFja3Mub25SZW1vdGVBdWRpb0xldmVsPy4obGV2ZWwsICQ2ODNmMTExZjYxZTA3MzU4JHZhciRkYWlseVBhcnRpY2lwYW50VG9QYXJ0aWNpcGFudChwYXJ0aWNpcGFudHNbaWRdKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlTGVmdE1lZXRpbmcoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBcImRpc2Nvbm5lY3RlZFwiO1xuICAgICAgICB0aGlzLl9ib3RJZCA9IFwiXCI7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vbkRpc2Nvbm5lY3RlZD8uKCk7XG4gICAgfVxuICAgIGhhbmRsZUZhdGFsRXJyb3IoZXYpIHtcbiAgICAgICAgKDAsICQ3emJEOCRsb2dnZXIpLmVycm9yKFwiRGFpbHkgZmF0YWwgZXJyb3JcIiwgZXYuZXJyb3JNc2cpO1xuICAgICAgICB0aGlzLnN0YXRlID0gXCJlcnJvclwiO1xuICAgICAgICB0aGlzLl9ib3RJZCA9IFwiXCI7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vbkVycm9yPy4oKDAsICQ3emJEOCRSVFZJTWVzc2FnZSkuZXJyb3IoZXYuZXJyb3JNc2csIHRydWUpKTtcbiAgICB9XG4gICAgaGFuZGxlTm9uRmF0YWxFcnJvcihldikge1xuICAgICAgICBzd2l0Y2goZXYudHlwZSl7XG4gICAgICAgICAgICBjYXNlIFwic2NyZWVuLXNoYXJlLWVycm9yXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzLm9uU2NyZWVuU2hhcmVFcnJvcj8uKGV2LmVycm9yTXNnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiQ2ODNmMTExZjYxZTA3MzU4JGV4cG9ydCRiMWNhOTgyYWExZTQ4OGMxLlJFQ09SREVSX1NBTVBMRV9SQVRFID0gMTYwMDA7XG4kNjgzZjExMWY2MWUwNzM1OCRleHBvcnQkYjFjYTk4MmFhMWU0ODhjMS5SRUNPUkRFUl9DSFVOS19TSVpFID0gNTEyO1xuY29uc3QgJDY4M2YxMTFmNjFlMDczNTgkdmFyJGRhaWx5UGFydGljaXBhbnRUb1BhcnRpY2lwYW50ID0gKHApPT4oe1xuICAgICAgICBpZDogcC51c2VyX2lkLFxuICAgICAgICBsb2NhbDogcC5sb2NhbCxcbiAgICAgICAgbmFtZTogcC51c2VyX25hbWVcbiAgICB9KTtcblxuXG5cblxuZXhwb3J0IHskNjgzZjExMWY2MWUwNzM1OCRleHBvcnQkZWYxODBkZTg4ZmQzMTdjYyBhcyBEYWlseVJUVklNZXNzYWdlVHlwZSwgJDY4M2YxMTFmNjFlMDczNTgkZXhwb3J0JGIxY2E5ODJhYTFlNDg4YzEgYXMgRGFpbHlUcmFuc3BvcnR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubW9kdWxlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@pipecat-ai/daily-transport/dist/index.module.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@pipecat-ai/daily-transport/node_modules/@daily-co/daily-js/dist/daily-esm.js":
/*!********************************************************************************************************!*\
  !*** ../../node_modules/@pipecat-ai/daily-transport/node_modules/@daily-co/daily-js/dist/daily-esm.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DAILY_ACCESS_LEVEL_FULL: () => (/* binding */ Pi),\n/* harmony export */   DAILY_ACCESS_LEVEL_LOBBY: () => (/* binding */ Ai),\n/* harmony export */   DAILY_ACCESS_LEVEL_NONE: () => (/* binding */ ji),\n/* harmony export */   DAILY_ACCESS_UNKNOWN: () => (/* binding */ Oi),\n/* harmony export */   DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE: () => (/* binding */ Wi),\n/* harmony export */   DAILY_CAMERA_ERROR_CAM_IN_USE: () => (/* binding */ qi),\n/* harmony export */   DAILY_CAMERA_ERROR_CONSTRAINTS: () => (/* binding */ Ki),\n/* harmony export */   DAILY_CAMERA_ERROR_MIC_IN_USE: () => (/* binding */ zi),\n/* harmony export */   DAILY_CAMERA_ERROR_NOT_FOUND: () => (/* binding */ Qi),\n/* harmony export */   DAILY_CAMERA_ERROR_PERMISSIONS: () => (/* binding */ Hi),\n/* harmony export */   DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES: () => (/* binding */ Gi),\n/* harmony export */   DAILY_CAMERA_ERROR_UNKNOWN: () => (/* binding */ Yi),\n/* harmony export */   DAILY_EVENT_ACCESS_STATE_UPDATED: () => (/* binding */ fo),\n/* harmony export */   DAILY_EVENT_ACTIVE_SPEAKER_CHANGE: () => (/* binding */ Uo),\n/* harmony export */   DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE: () => (/* binding */ Vo),\n/* harmony export */   DAILY_EVENT_APP_MSG: () => (/* binding */ Io),\n/* harmony export */   DAILY_EVENT_CAMERA_ERROR: () => (/* binding */ oo),\n/* harmony export */   DAILY_EVENT_CPU_LOAD_CHANGE: () => (/* binding */ qo),\n/* harmony export */   DAILY_EVENT_ERROR: () => (/* binding */ ns),\n/* harmony export */   DAILY_EVENT_EXIT_FULLSCREEN: () => (/* binding */ Ho),\n/* harmony export */   DAILY_EVENT_FACE_COUNTS_UPDATED: () => (/* binding */ zo),\n/* harmony export */   DAILY_EVENT_FULLSCREEN: () => (/* binding */ Wo),\n/* harmony export */   DAILY_EVENT_IFRAME_LAUNCH_CONFIG: () => (/* binding */ Zi),\n/* harmony export */   DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG: () => (/* binding */ Xi),\n/* harmony export */   DAILY_EVENT_INPUT_SETTINGS_UPDATED: () => (/* binding */ es),\n/* harmony export */   DAILY_EVENT_JOINED_MEETING: () => (/* binding */ ao),\n/* harmony export */   DAILY_EVENT_JOINING_MEETING: () => (/* binding */ so),\n/* harmony export */   DAILY_EVENT_LANG_UPDATED: () => (/* binding */ Xo),\n/* harmony export */   DAILY_EVENT_LEFT_MEETING: () => (/* binding */ co),\n/* harmony export */   DAILY_EVENT_LIVE_STREAMING_ERROR: () => (/* binding */ Yo),\n/* harmony export */   DAILY_EVENT_LIVE_STREAMING_STARTED: () => (/* binding */ Go),\n/* harmony export */   DAILY_EVENT_LIVE_STREAMING_STOPPED: () => (/* binding */ Ko),\n/* harmony export */   DAILY_EVENT_LIVE_STREAMING_UPDATED: () => (/* binding */ Qo),\n/* harmony export */   DAILY_EVENT_LOADED: () => (/* binding */ ro),\n/* harmony export */   DAILY_EVENT_LOADING: () => (/* binding */ to),\n/* harmony export */   DAILY_EVENT_LOAD_ATTEMPT_FAILED: () => (/* binding */ no),\n/* harmony export */   DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED: () => (/* binding */ Bo),\n/* harmony export */   DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED: () => (/* binding */ Ro),\n/* harmony export */   DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED: () => (/* binding */ Fo),\n/* harmony export */   DAILY_EVENT_MEETING_SESSION_DATA_ERROR: () => (/* binding */ mo),\n/* harmony export */   DAILY_EVENT_MEETING_SESSION_STATE_UPDATED: () => (/* binding */ go),\n/* harmony export */   DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED: () => (/* binding */ vo),\n/* harmony export */   DAILY_EVENT_NETWORK_CONNECTION: () => (/* binding */ $o),\n/* harmony export */   DAILY_EVENT_NETWORK_QUALITY_CHANGE: () => (/* binding */ Jo),\n/* harmony export */   DAILY_EVENT_NONFATAL_ERROR: () => (/* binding */ ts),\n/* harmony export */   DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED: () => (/* binding */ ho),\n/* harmony export */   DAILY_EVENT_PARTICIPANT_JOINED: () => (/* binding */ lo),\n/* harmony export */   DAILY_EVENT_PARTICIPANT_LEFT: () => (/* binding */ po),\n/* harmony export */   DAILY_EVENT_PARTICIPANT_UPDATED: () => (/* binding */ uo),\n/* harmony export */   DAILY_EVENT_RECEIVE_SETTINGS_UPDATED: () => (/* binding */ Zo),\n/* harmony export */   DAILY_EVENT_RECORDING_DATA: () => (/* binding */ jo),\n/* harmony export */   DAILY_EVENT_RECORDING_ERROR: () => (/* binding */ Po),\n/* harmony export */   DAILY_EVENT_RECORDING_STARTED: () => (/* binding */ Eo),\n/* harmony export */   DAILY_EVENT_RECORDING_STATS: () => (/* binding */ Oo),\n/* harmony export */   DAILY_EVENT_RECORDING_STOPPED: () => (/* binding */ To),\n/* harmony export */   DAILY_EVENT_RECORDING_UPLOAD_COMPLETED: () => (/* binding */ Ao),\n/* harmony export */   DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED: () => (/* binding */ Lo),\n/* harmony export */   DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED: () => (/* binding */ No),\n/* harmony export */   DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED: () => (/* binding */ Do),\n/* harmony export */   DAILY_EVENT_STARTED_CAMERA: () => (/* binding */ io),\n/* harmony export */   DAILY_EVENT_THEME_UPDATED: () => (/* binding */ eo),\n/* harmony export */   DAILY_EVENT_TRACK_STARTED: () => (/* binding */ wo),\n/* harmony export */   DAILY_EVENT_TRACK_STOPPED: () => (/* binding */ So),\n/* harmony export */   DAILY_EVENT_TRANSCRIPTION_ERROR: () => (/* binding */ Co),\n/* harmony export */   DAILY_EVENT_TRANSCRIPTION_MSG: () => (/* binding */ xo),\n/* harmony export */   DAILY_EVENT_TRANSCRIPTION_STARTED: () => (/* binding */ ko),\n/* harmony export */   DAILY_EVENT_TRANSCRIPTION_STOPPED: () => (/* binding */ Mo),\n/* harmony export */   DAILY_EVENT_WAITING_PARTICIPANT_ADDED: () => (/* binding */ yo),\n/* harmony export */   DAILY_EVENT_WAITING_PARTICIPANT_REMOVED: () => (/* binding */ _o),\n/* harmony export */   DAILY_EVENT_WAITING_PARTICIPANT_UPDATED: () => (/* binding */ bo),\n/* harmony export */   DAILY_FATAL_ERROR_CONNECTION: () => (/* binding */ $i),\n/* harmony export */   DAILY_FATAL_ERROR_EJECTED: () => (/* binding */ Li),\n/* harmony export */   DAILY_FATAL_ERROR_EOL: () => (/* binding */ Vi),\n/* harmony export */   DAILY_FATAL_ERROR_EXP_ROOM: () => (/* binding */ Ri),\n/* harmony export */   DAILY_FATAL_ERROR_EXP_TOKEN: () => (/* binding */ Fi),\n/* harmony export */   DAILY_FATAL_ERROR_MEETING_FULL: () => (/* binding */ Ui),\n/* harmony export */   DAILY_FATAL_ERROR_NBF_ROOM: () => (/* binding */ Di),\n/* harmony export */   DAILY_FATAL_ERROR_NBF_TOKEN: () => (/* binding */ Ni),\n/* harmony export */   DAILY_FATAL_ERROR_NOT_ALLOWED: () => (/* binding */ Ji),\n/* harmony export */   DAILY_FATAL_ERROR_NO_ROOM: () => (/* binding */ Bi),\n/* harmony export */   DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY: () => (/* binding */ xi),\n/* harmony export */   DAILY_RECEIVE_SETTINGS_BASE_KEY: () => (/* binding */ Ii),\n/* harmony export */   DAILY_STATE_ERROR: () => (/* binding */ wi),\n/* harmony export */   DAILY_STATE_JOINED: () => (/* binding */ bi),\n/* harmony export */   DAILY_STATE_JOINING: () => (/* binding */ yi),\n/* harmony export */   DAILY_STATE_LEFT: () => (/* binding */ _i),\n/* harmony export */   DAILY_STATE_NEW: () => (/* binding */ vi),\n/* harmony export */   DAILY_TRACK_STATE_BLOCKED: () => (/* binding */ Si),\n/* harmony export */   DAILY_TRACK_STATE_INTERRUPTED: () => (/* binding */ Ei),\n/* harmony export */   DAILY_TRACK_STATE_LOADING: () => (/* binding */ Ci),\n/* harmony export */   DAILY_TRACK_STATE_OFF: () => (/* binding */ ki),\n/* harmony export */   DAILY_TRACK_STATE_PLAYABLE: () => (/* binding */ Ti),\n/* harmony export */   DAILY_TRACK_STATE_SENDABLE: () => (/* binding */ Mi),\n/* harmony export */   \"default\": () => (/* binding */ ic)\n/* harmony export */ });\nfunction e(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function t(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function n(e){return n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},n(e)}function r(e){var t=function(e,t){if(\"object\"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||\"default\");if(\"object\"!=n(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"==n(t)?t:t+\"\"}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function s(e,t){if(t&&(\"object\"==n(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&c(e,t)}function u(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){d(o,r,i,s,a,\"next\",e)}function a(e){d(o,r,i,s,a,\"throw\",e)}s(void 0)}))}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var r,i,o,s,a=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}var g,m={exports:{}},y=\"object\"==typeof Reflect?Reflect:null,b=y&&\"function\"==typeof y.apply?y.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};g=y&&\"function\"==typeof y.ownKeys?y.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var _=Number.isNaN||function(e){return e!=e};function w(){w.init.call(this)}m.exports=w,m.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){\"function\"==typeof e.removeListener&&e.removeListener(\"error\",i),n([].slice.call(arguments))}j(e,t,o,{once:!0}),\"error\"!==t&&function(e,t,n){\"function\"==typeof e.on&&j(e,\"error\",t,n)}(e,i,{once:!0})}))},w.EventEmitter=w,w.prototype._events=void 0,w.prototype._eventsCount=0,w.prototype._maxListeners=void 0;var S=10;function k(e){if(\"function\"!=typeof e)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof e)}function M(e){return void 0===e._maxListeners?w.defaultMaxListeners:e._maxListeners}function C(e,t,n,r){var i,o,s,a;if(k(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit(\"newListener\",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if(\"function\"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=M(e))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error(\"Possible EventEmitter memory leak detected. \"+s.length+\" \"+String(t)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");c.name=\"MaxListenersExceededWarning\",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function E(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function T(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=E.bind(r);return i.listener=n,r.wrapFn=i,i}function O(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:\"function\"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):A(i,i.length)}function P(e){var t=this._events;if(void 0!==t){var n=t[e];if(\"function\"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function A(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function j(e,t,n,r){if(\"function\"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if(\"function\"!=typeof e.addEventListener)throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(w,\"defaultMaxListeners\",{enumerable:!0,get:function(){return S},set:function(e){if(\"number\"!=typeof e||e<0||_(e))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+e+\".\");S=e}}),w.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},w.prototype.setMaxListeners=function(e){if(\"number\"!=typeof e||e<0||_(e))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+e+\".\");return this._maxListeners=e,this},w.prototype.getMaxListeners=function(){return M(this)},w.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r=\"error\"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error(\"Unhandled error.\"+(o?\" (\"+o.message+\")\":\"\"));throw s.context=o,s}var a=i[e];if(void 0===a)return!1;if(\"function\"==typeof a)b(a,this,t);else{var c=a.length,l=A(a,c);for(n=0;n<c;++n)b(l[n],this,t)}return!0},w.prototype.addListener=function(e,t){return C(this,e,t,!1)},w.prototype.on=w.prototype.addListener,w.prototype.prependListener=function(e,t){return C(this,e,t,!0)},w.prototype.once=function(e,t){return k(t),this.on(e,T(this,e,t)),this},w.prototype.prependOnceListener=function(e,t){return k(t),this.prependListener(e,T(this,e,t)),this},w.prototype.removeListener=function(e,t){var n,r,i,o,s;if(k(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit(\"removeListener\",e,n.listener||t));else if(\"function\"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit(\"removeListener\",e,s||t)}return this},w.prototype.off=w.prototype.removeListener,w.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)\"removeListener\"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},w.prototype.listeners=function(e){return O(this,e,!0)},w.prototype.rawListeners=function(e){return O(this,e,!1)},w.listenerCount=function(e,t){return\"function\"==typeof e.listenerCount?e.listenerCount(t):P.call(e,t)},w.prototype.listenerCount=P,w.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]};var I=m.exports,x=v(I),L=Object.prototype.hasOwnProperty;function D(e,t,n){for(n of e.keys())if(N(n,t))return n}function N(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&N(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((i=r)&&\"object\"==typeof i&&!(i=D(t,i)))return!1;if(!t.has(i))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((i=r[0])&&\"object\"==typeof i&&!(i=D(t,i)))return!1;if(!N(r[1],t.get(i)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||\"object\"==typeof e){for(n in r=0,e){if(L.call(e,n)&&++r&&!L.call(t,n))return!1;if(!(n in t)||!N(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!=e&&t!=t}const R={\"Amazon Silk\":\"amazon_silk\",\"Android Browser\":\"android\",Bada:\"bada\",BlackBerry:\"blackberry\",Chrome:\"chrome\",Chromium:\"chromium\",Electron:\"electron\",Epiphany:\"epiphany\",Firefox:\"firefox\",Focus:\"focus\",Generic:\"generic\",\"Google Search\":\"google_search\",Googlebot:\"googlebot\",\"Internet Explorer\":\"ie\",\"K-Meleon\":\"k_meleon\",Maxthon:\"maxthon\",\"Microsoft Edge\":\"edge\",\"MZ Browser\":\"mz\",\"NAVER Whale Browser\":\"naver\",Opera:\"opera\",\"Opera Coast\":\"opera_coast\",PhantomJS:\"phantomjs\",Puffin:\"puffin\",QupZilla:\"qupzilla\",QQ:\"qq\",QQLite:\"qqlite\",Safari:\"safari\",Sailfish:\"sailfish\",\"Samsung Internet for Android\":\"samsung_internet\",SeaMonkey:\"seamonkey\",Sleipnir:\"sleipnir\",Swing:\"swing\",Tizen:\"tizen\",\"UC Browser\":\"uc\",Vivaldi:\"vivaldi\",\"WebOS Browser\":\"webos\",WeChat:\"wechat\",\"Yandex Browser\":\"yandex\",Roku:\"roku\"},F={amazon_silk:\"Amazon Silk\",android:\"Android Browser\",bada:\"Bada\",blackberry:\"BlackBerry\",chrome:\"Chrome\",chromium:\"Chromium\",electron:\"Electron\",epiphany:\"Epiphany\",firefox:\"Firefox\",focus:\"Focus\",generic:\"Generic\",googlebot:\"Googlebot\",google_search:\"Google Search\",ie:\"Internet Explorer\",k_meleon:\"K-Meleon\",maxthon:\"Maxthon\",edge:\"Microsoft Edge\",mz:\"MZ Browser\",naver:\"NAVER Whale Browser\",opera:\"Opera\",opera_coast:\"Opera Coast\",phantomjs:\"PhantomJS\",puffin:\"Puffin\",qupzilla:\"QupZilla\",qq:\"QQ Browser\",qqlite:\"QQ Browser Lite\",safari:\"Safari\",sailfish:\"Sailfish\",samsung_internet:\"Samsung Internet for Android\",seamonkey:\"SeaMonkey\",sleipnir:\"Sleipnir\",swing:\"Swing\",tizen:\"Tizen\",uc:\"UC Browser\",vivaldi:\"Vivaldi\",webos:\"WebOS Browser\",wechat:\"WeChat\",yandex:\"Yandex Browser\"},B={tablet:\"tablet\",mobile:\"mobile\",desktop:\"desktop\",tv:\"tv\"},U={WindowsPhone:\"Windows Phone\",Windows:\"Windows\",MacOS:\"macOS\",iOS:\"iOS\",Android:\"Android\",WebOS:\"WebOS\",BlackBerry:\"BlackBerry\",Bada:\"Bada\",Tizen:\"Tizen\",Linux:\"Linux\",ChromeOS:\"Chrome OS\",PlayStation4:\"PlayStation 4\",Roku:\"Roku\"},V={EdgeHTML:\"EdgeHTML\",Blink:\"Blink\",Trident:\"Trident\",Presto:\"Presto\",Gecko:\"Gecko\",WebKit:\"WebKit\"};class J{static getFirstMatch(e,t){const n=t.match(e);return n&&n.length>0&&n[1]||\"\"}static getSecondMatch(e,t){const n=t.match(e);return n&&n.length>1&&n[2]||\"\"}static matchAndReturnConst(e,t,n){if(e.test(t))return n}static getWindowsVersionName(e){switch(e){case\"NT\":return\"NT\";case\"XP\":case\"NT 5.1\":return\"XP\";case\"NT 5.0\":return\"2000\";case\"NT 5.2\":return\"2003\";case\"NT 6.0\":return\"Vista\";case\"NT 6.1\":return\"7\";case\"NT 6.2\":return\"8\";case\"NT 6.3\":return\"8.1\";case\"NT 10.0\":return\"10\";default:return}}static getMacOSVersionName(e){const t=e.split(\".\").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),10===t[0])switch(t[1]){case 5:return\"Leopard\";case 6:return\"Snow Leopard\";case 7:return\"Lion\";case 8:return\"Mountain Lion\";case 9:return\"Mavericks\";case 10:return\"Yosemite\";case 11:return\"El Capitan\";case 12:return\"Sierra\";case 13:return\"High Sierra\";case 14:return\"Mojave\";case 15:return\"Catalina\";default:return}}static getAndroidVersionName(e){const t=e.split(\".\").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?\"Cupcake\":1===t[0]&&t[1]>=6?\"Donut\":2===t[0]&&t[1]<2?\"Eclair\":2===t[0]&&2===t[1]?\"Froyo\":2===t[0]&&t[1]>2?\"Gingerbread\":3===t[0]?\"Honeycomb\":4===t[0]&&t[1]<1?\"Ice Cream Sandwich\":4===t[0]&&t[1]<4?\"Jelly Bean\":4===t[0]&&t[1]>=4?\"KitKat\":5===t[0]?\"Lollipop\":6===t[0]?\"Marshmallow\":7===t[0]?\"Nougat\":8===t[0]?\"Oreo\":9===t[0]?\"Pie\":void 0}static getVersionPrecision(e){return e.split(\".\").length}static compareVersions(e,t,n=!1){const r=J.getVersionPrecision(e),i=J.getVersionPrecision(t);let o=Math.max(r,i),s=0;const a=J.map([e,t],(e=>{const t=o-J.getVersionPrecision(e),n=e+new Array(t+1).join(\".0\");return J.map(n.split(\".\"),(e=>new Array(20-e.length).join(\"0\")+e)).reverse()}));for(n&&(s=o-Math.min(r,i)),o-=1;o>=s;){if(a[0][o]>a[1][o])return 1;if(a[0][o]===a[1][o]){if(o===s)return 0;o-=1}else if(a[0][o]<a[1][o])return-1}}static map(e,t){const n=[];let r;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n}static find(e,t){let n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){const r=e[n];if(t(r,n))return r}}static assign(e,...t){const n=e;let r,i;if(Object.assign)return Object.assign(e,...t);for(r=0,i=t.length;r<i;r+=1){const e=t[r];if(\"object\"==typeof e&&null!==e){Object.keys(e).forEach((t=>{n[t]=e[t]}))}}return e}static getBrowserAlias(e){return R[e]}static getBrowserTypeByAlias(e){return F[e]||\"\"}}const $=/version\\/(\\d+(\\.?_?\\d+)+)/i,q=[{test:[/googlebot/i],describe(e){const t={name:\"Googlebot\"},n=J.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:\"Opera\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\\/|opios/i],describe(e){const t={name:\"Opera\"},n=J.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:\"Samsung Internet for Android\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:\"NAVER Whale Browser\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:\"MZ Browser\"},n=J.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:\"Focus\"},n=J.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:\"Swing\"},n=J.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:\"Opera Coast\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\\/\\d+(?:.?_?\\d+)+/i],describe(e){const t={name:\"Opera Touch\"},n=J.getFirstMatch(/(?:opt)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:\"Yandex Browser\"},n=J.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:\"UC Browser\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:\"Maxthon\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:\"Epiphany\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:\"Puffin\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:\"Sleipnir\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:\"K-Meleon\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:\"WeChat\"},n=J.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?\"QQ Browser Lite\":\"QQ Browser\"},n=J.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:\"Internet Explorer\"},n=J.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\\sedg\\//i],describe(e){const t={name:\"Microsoft Edge\"},n=J.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:\"Microsoft Edge\"},n=J.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:\"Vivaldi\"},n=J.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:\"SeaMonkey\"},n=J.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:\"Sailfish\"},n=J.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:\"Amazon Silk\"},n=J.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:\"PhantomJS\"},n=J.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:\"SlimerJS\"},n=J.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe(e){const t={name:\"BlackBerry\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:\"WebOS Browser\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:\"Bada\"},n=J.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:\"Tizen\"},n=J.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:\"QupZilla\"},n=J.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:\"Firefox\"},n=J.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:\"Electron\"},n=J.getFirstMatch(/(?:electron)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:\"Miui\"},n=J.getFirstMatch(/(?:MiuiBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:\"Chromium\"},n=J.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:\"Chrome\"},n=J.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:\"Google Search\"},n=J.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:\"Android Browser\"},n=J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:\"PlayStation 4\"},n=J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:\"Safari\"},n=J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=-1!==e.search(\"\\\\(\")?/^(.*)\\/(.*)[ \\t]\\((.*)/:/^(.*)\\/(.*) /;return{name:J.getFirstMatch(t,e),version:J.getSecondMatch(t,e)}}}];var z=[{test:[/Roku\\/DVP/],describe(e){const t=J.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i,e);return{name:U.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=J.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i,e);return{name:U.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=J.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i,e),n=J.getWindowsVersionName(t);return{name:U.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe(e){const t={name:U.iOS},n=J.getSecondMatch(/(Version\\/)(\\d[\\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=J.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i,e).replace(/[_\\s]/g,\".\"),n=J.getMacOSVersionName(t),r={name:U.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=J.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i,e).replace(/[_\\s]/g,\".\");return{name:U.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=J.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i,e),n=J.getAndroidVersionName(t),r={name:U.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=J.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i,e),n={name:U.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe(e){const t=J.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i,e)||J.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i,e)||J.getFirstMatch(/\\bbb(\\d+)/i,e);return{name:U.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=J.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i,e);return{name:U.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=J.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:U.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:U.Linux})},{test:[/CrOS/],describe:()=>({name:U.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=J.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:U.PlayStation4,version:t}}}],W=[{test:[/googlebot/i],describe:()=>({type:\"bot\",vendor:\"Google\"})},{test:[/huawei/i],describe(e){const t=J.getFirstMatch(/(can-l01)/i,e)&&\"Nova\",n={type:B.mobile,vendor:\"Huawei\"};return t&&(n.model=t),n}},{test:[/nexus\\s*(?:7|8|9|10).*/i],describe:()=>({type:B.tablet,vendor:\"Nexus\"})},{test:[/ipad/i],describe:()=>({type:B.tablet,vendor:\"Apple\",model:\"iPad\"})},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:()=>({type:B.tablet,vendor:\"Apple\",model:\"iPad\"})},{test:[/kftt build/i],describe:()=>({type:B.tablet,vendor:\"Amazon\",model:\"Kindle Fire HD 7\"})},{test:[/silk/i],describe:()=>({type:B.tablet,vendor:\"Amazon\"})},{test:[/tablet(?! pc)/i],describe:()=>({type:B.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=J.getFirstMatch(/(ipod|iphone)/i,e);return{type:B.mobile,vendor:\"Apple\",model:t}}},{test:[/nexus\\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:B.mobile,vendor:\"Nexus\"})},{test:[/[^-]mobi/i],describe:()=>({type:B.mobile})},{test:e=>\"blackberry\"===e.getBrowserName(!0),describe:()=>({type:B.mobile,vendor:\"BlackBerry\"})},{test:e=>\"bada\"===e.getBrowserName(!0),describe:()=>({type:B.mobile})},{test:e=>\"windows phone\"===e.getBrowserName(),describe:()=>({type:B.mobile,vendor:\"Microsoft\"})},{test(e){const t=Number(String(e.getOSVersion()).split(\".\")[0]);return\"android\"===e.getOSName(!0)&&t>=3},describe:()=>({type:B.tablet})},{test:e=>\"android\"===e.getOSName(!0),describe:()=>({type:B.mobile})},{test:e=>\"macos\"===e.getOSName(!0),describe:()=>({type:B.desktop,vendor:\"Apple\"})},{test:e=>\"windows\"===e.getOSName(!0),describe:()=>({type:B.desktop})},{test:e=>\"linux\"===e.getOSName(!0),describe:()=>({type:B.desktop})},{test:e=>\"playstation 4\"===e.getOSName(!0),describe:()=>({type:B.tv})},{test:e=>\"roku\"===e.getOSName(!0),describe:()=>({type:B.tv})}],H=[{test:e=>\"microsoft edge\"===e.getBrowserName(!0),describe(e){if(/\\sedg\\//i.test(e))return{name:V.Blink};const t=J.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i,e);return{name:V.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:V.Trident},n=J.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:V.Presto},n=J.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:V.Gecko},n=J.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\\/537\\.36/i],describe:()=>({name:V.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:V.WebKit},n=J.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}}];class G{constructor(e,t=!1){if(null==e||\"\"===e)throw new Error(\"UserAgent parameter can't be empty\");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=J.find(q,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||\"\":this.getBrowser().name||\"\"}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=J.find(z,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||\"\":t||\"\"}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||\"\":t||\"\"}parsePlatform(){this.parsedResult.platform={};const e=J.find(W,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||\"\":this.getEngine().name||\"\"}parseEngine(){this.parsedResult.engine={};const e=J.find(H,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return J.assign({},this.parsedResult)}satisfies(e){const t={};let n=0;const r={};let i=0;if(Object.keys(e).forEach((o=>{const s=e[o];\"string\"==typeof s?(r[o]=s,i+=1):\"object\"==typeof s&&(t[o]=s,n+=1)})),n>0){const e=Object.keys(t),n=J.find(e,(e=>this.isOS(e)));if(n){const e=this.satisfies(t[n]);if(void 0!==e)return e}const r=J.find(e,(e=>this.isPlatform(e)));if(r){const e=this.satisfies(t[r]);if(void 0!==e)return e}}if(i>0){const e=Object.keys(r),t=J.find(e,(e=>this.isBrowser(e,!0)));if(void 0!==t)return this.compareVersion(r[t])}}isBrowser(e,t=!1){const n=this.getBrowserName().toLowerCase();let r=e.toLowerCase();const i=J.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n}compareVersion(e){let t=[0],n=e,r=!1;const i=this.getBrowserVersion();if(\"string\"==typeof i)return\">\"===e[0]||\"<\"===e[0]?(n=e.substr(1),\"=\"===e[1]?(r=!0,n=e.substr(2)):t=[],\">\"===e[0]?t.push(1):t.push(-1)):\"=\"===e[0]?n=e.substr(1):\"~\"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(J.compareVersions(i,n,r))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some((e=>this.is(e)))}}\n/*!\n * Bowser - a browser detector\n * https://github.com/lancedikson/bowser\n * MIT License | (c) Dustin Diaz 2012-2015\n * MIT License | (c) Denis Demchenko 2015-2019\n */class Q{static getParser(e,t=!1){if(\"string\"!=typeof e)throw new Error(\"UserAgent should be a string\");return new G(e,t)}static parse(e){return new G(e).getResult()}static get BROWSER_MAP(){return F}static get ENGINE_MAP(){return V}static get OS_MAP(){return U}static get PLATFORMS_MAP(){return B}}function K(){return Date.now()+Math.random().toString()}function Y(){throw new Error(\"Method must be implemented in subclass\")}function X(e,t){return null!=t&&t.proxyUrl?t.proxyUrl+(\"/\"===t.proxyUrl.slice(-1)?\"\":\"/\")+e.substring(8):e}function Z(e){return null!=e&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:X(\"https://c.daily.co/call-machine/versioned/\".concat(\"0.77.0\",\"/static/call-machine-object-bundle.js\"),e)}function ee(e){try{new URL(e)}catch(e){return!1}return!0}const te=\"undefined\"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ne=\"8.55.0\",re=globalThis;function ie(e,t,n){const r=n||re,i=r.__SENTRY__=r.__SENTRY__||{},o=i[ne]=i[ne]||{};return o[e]||(o[e]=t())}const oe=\"undefined\"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,se=[\"debug\",\"info\",\"warn\",\"error\",\"log\",\"assert\",\"trace\"],ae={};function ce(e){if(!(\"console\"in re))return e();const t=re.console,n={},r=Object.keys(ae);r.forEach((e=>{const r=ae[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const le=ie(\"logger\",(function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return oe?se.forEach((n=>{t[n]=(...t)=>{e&&ce((()=>{re.console[n](`Sentry Logger [${n}]:`,...t)}))}})):se.forEach((e=>{t[e]=()=>{}})),t})),ue=\"?\",de=/\\(error: (.*)\\)/,pe=/captureMessage|captureException/;function he(e){return e[e.length-1]||{}}const fe=\"<anonymous>\";function ve(e){try{return e&&\"function\"==typeof e&&e.name||fe}catch(e){return fe}}function ge(e){const t=e.exception;if(t){const e=[];try{return t.values.forEach((t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)})),e}catch(e){return}}}const me={},ye={};function be(e,t){me[e]=me[e]||[],me[e].push(t)}function _e(e,t){if(!ye[e]){ye[e]=!0;try{t()}catch(t){oe&&le.error(`Error while instrumenting ${e}`,t)}}}function we(e,t){const n=e&&me[e];if(n)for(const r of n)try{r(t)}catch(t){oe&&le.error(`Error while triggering instrumentation handler.\\nType: ${e}\\nName: ${ve(r)}\\nError:`,t)}}let Se=null;function ke(){Se=re.onerror,re.onerror=function(e,t,n,r,i){return we(\"error\",{column:r,error:i,line:n,msg:e,url:t}),!!Se&&Se.apply(this,arguments)},re.onerror.__SENTRY_INSTRUMENTED__=!0}let Me=null;function Ce(){Me=re.onunhandledrejection,re.onunhandledrejection=function(e){return we(\"unhandledrejection\",e),!Me||Me.apply(this,arguments)},re.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Ee(){return Te(re),re}function Te(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||ne,t[ne]=t[ne]||{}}const Oe=Object.prototype.toString;function Pe(e){switch(Oe.call(e)){case\"[object Error]\":case\"[object Exception]\":case\"[object DOMException]\":case\"[object WebAssembly.Exception]\":return!0;default:return Be(e,Error)}}function Ae(e,t){return Oe.call(e)===`[object ${t}]`}function je(e){return Ae(e,\"ErrorEvent\")}function Ie(e){return Ae(e,\"DOMError\")}function xe(e){return Ae(e,\"String\")}function Le(e){return\"object\"==typeof e&&null!==e&&\"__sentry_template_string__\"in e&&\"__sentry_template_values__\"in e}function De(e){return null===e||Le(e)||\"object\"!=typeof e&&\"function\"!=typeof e}function Ne(e){return Ae(e,\"Object\")}function Re(e){return\"undefined\"!=typeof Event&&Be(e,Event)}function Fe(e){return Boolean(e&&e.then&&\"function\"==typeof e.then)}function Be(e,t){try{return e instanceof t}catch(e){return!1}}function Ue(e){return!(\"object\"!=typeof e||null===e||!e.__isVue&&!e._isVue)}const Ve=re;function Je(e,t={}){if(!e)return\"<unknown>\";try{let n=e;const r=5,i=[];let o=0,s=0;const a=\" > \",c=a.length;let l;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&o++<r&&(l=$e(n,u),!(\"html\"===l||o>1&&s+i.length*c+l.length>=d));)i.push(l),s+=l.length,n=n.parentNode;return i.reverse().join(a)}catch(e){return\"<unknown>\"}}function $e(e,t){const n=e,r=[];if(!n||!n.tagName)return\"\";if(Ve.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(i&&i.length)i.forEach((e=>{r.push(`[${e[0]}=\"${e[1]}\"]`)}));else{n.id&&r.push(`#${n.id}`);const e=n.className;if(e&&xe(e)){const t=e.split(/\\s+/);for(const e of t)r.push(`.${e}`)}}const o=[\"aria-label\",\"type\",\"name\",\"title\",\"alt\"];for(const e of o){const t=n.getAttribute(e);t&&r.push(`[${e}=\"${t}\"]`)}return r.join(\"\")}function qe(e,t=0){return\"string\"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function ze(e,t){if(!Array.isArray(e))return\"\";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{Ue(r)?n.push(\"[VueViewModel]\"):n.push(String(r))}catch(e){n.push(\"[value cannot be serialized]\")}}return n.join(t)}function We(e,t,n=!1){return!!xe(e)&&(Ae(t,\"RegExp\")?t.test(e):!!xe(t)&&(n?e===t:e.includes(t)))}function He(e,t=[],n=!1){return t.some((t=>We(e,t,n)))}function Ge(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);\"function\"==typeof i&&Ke(i,r);try{e[t]=i}catch(n){oe&&le.log(`Failed to replace method \"${t}\" in object`,e)}}function Qe(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){oe&&le.log(`Failed to add non-enumerable property \"${t}\" to object`,e)}}function Ke(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Qe(e,\"__sentry_original__\",t)}catch(e){}}function Ye(e){return e.__sentry_original__}function Xe(e){if(Pe(e))return{message:e.message,name:e.name,stack:e.stack,...et(e)};if(Re(e)){const t={type:e.type,target:Ze(e.target),currentTarget:Ze(e.currentTarget),...et(e)};return\"undefined\"!=typeof CustomEvent&&Be(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Ze(e){try{return t=e,\"undefined\"!=typeof Element&&Be(t,Element)?Je(e):Object.prototype.toString.call(e)}catch(e){return\"<unknown>\"}var t}function et(e){if(\"object\"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function tt(e){return nt(e,new Map)}function nt(e,t){if(function(e){if(!Ne(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||\"Object\"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.getOwnPropertyNames(e))void 0!==e[n]&&(r[n]=nt(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(nt(e,t))})),r}return e}function rt(){return Date.now()/1e3}const it=function(){const{performance:e}=re;if(!e||!e.now)return rt;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function ot(){const e=re,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,\"\");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function st(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function at(e){const{message:t,event_id:n}=e;if(t)return t;const r=st(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||\"<unknown>\":n||\"<unknown>\"}function ct(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||\"\"),o.type||(o.type=n||\"Error\")}function lt(e,t){const n=st(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:\"generic\",handled:!0,...r,...t},t&&\"data\"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function ut(e){if(function(e){try{return e.__sentry_captured__}catch(e){}}(e))return!0;try{Qe(e,\"__sentry_captured__\",!0)}catch(e){}return!1}var dt;function pt(e){return new ft((t=>{t(e)}))}function ht(e){return new ft(((t,n)=>{n(e)}))}(()=>{const{performance:e}=re;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,s=e.timing&&e.timing.navigationStart,a=\"number\"==typeof s?Math.abs(s+n-r):t;(o||a<t)&&(i<=a&&e.timeOrigin)})(),function(e){e[e.PENDING=0]=\"PENDING\";e[e.RESOLVED=1]=\"RESOLVED\";e[e.REJECTED=2]=\"REJECTED\"}(dt||(dt={}));class ft{constructor(e){ft.prototype.__init.call(this),ft.prototype.__init2.call(this),ft.prototype.__init3.call(this),ft.prototype.__init4.call(this),this._state=dt.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new ft(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new ft(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(dt.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(dt.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===dt.PENDING&&(Fe(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===dt.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===dt.RESOLVED&&e[1](this._value),this._state===dt.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function vt(e){const t=it(),n={sid:ot(),init:!0,timestamp:t,started:t,duration:0,status:\"ok\",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return tt({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:\"number\"==typeof e.did||\"string\"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&gt(n,e),n}function gt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||it(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:ot()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),\"number\"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(\"number\"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),\"number\"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function mt(){return ot()}function yt(){return ot().substring(16)}function bt(e,t,n=2){if(!t||\"object\"!=typeof t||n<=0)return t;if(e&&t&&0===Object.keys(t).length)return e;const r={...e};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=bt(r[e],t[e],n-1));return r}const _t=\"_sentrySpan\";function wt(e,t){t?Qe(e,_t,t):delete e[_t]}function St(e){return e[_t]}class kt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:mt(),spanId:yt()}}clone(){const e=new kt;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,wt(e,St(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&gt(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t=\"function\"==typeof e?e(this):e,[n,r]=t instanceof Mt?[t.getScopeData(),t.getRequestSession()]:Ne(t)?[e,e.requestSession]:[],{tags:i,extra:o,user:s,contexts:a,level:c,fingerprint:l=[],propagationContext:u}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...a},s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),l.length&&(this._fingerprint=l),u&&(this._propagationContext=u),r&&(this._requestSession=r),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,wt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:mt()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n=\"number\"==typeof t?t:100;if(n<=0)return this;const r={timestamp:rt(),...e};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent(\"buffer_overflow\",\"log_item\")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:St(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=bt(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:yt(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:ot();if(!this._client)return le.warn(\"No client configured on scope - will not capture exception!\"),n;const r=new Error(\"Sentry syntheticException\");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:ot();if(!this._client)return le.warn(\"No client configured on scope - will not capture message!\"),r;const i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:ot();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(le.warn(\"No client configured on scope - will not capture event!\"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}const Mt=kt;class Ct{constructor(e,t){let n,r;n=e||new Mt,r=t||new Mt,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(e){throw this._popScope(),e}return Fe(n)?n.then((e=>(this._popScope(),e)),(e=>{throw this._popScope(),e})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Et(){const e=Te(Ee());return e.stack=e.stack||new Ct(ie(\"defaultCurrentScope\",(()=>new Mt)),ie(\"defaultIsolationScope\",(()=>new Mt)))}function Tt(e){return Et().withScope(e)}function Ot(e,t){const n=Et();return n.withScope((()=>(n.getStackTop().scope=e,t(e))))}function Pt(e){return Et().withScope((()=>e(Et().getIsolationScope())))}function At(e){const t=Te(e);return t.acs?t.acs:{withIsolationScope:Pt,withScope:Tt,withSetScope:Ot,withSetIsolationScope:(e,t)=>Pt(t),getCurrentScope:()=>Et().getScope(),getIsolationScope:()=>Et().getIsolationScope()}}function jt(){return At(Ee()).getCurrentScope()}function It(){return At(Ee()).getIsolationScope()}function xt(){return jt().getClient()}function Lt(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=t;return tt({trace_id:n,span_id:r,parent_span_id:i})}function Dt(e){const t=e._sentryMetrics;if(!t)return;const n={};for(const[,[e,r]]of t){(n[e]||(n[e]=[])).push(tt(r))}return n}const Nt=/^sentry-/;function Rt(e){const t=function(e){if(!e||!xe(e)&&!Array.isArray(e))return;if(Array.isArray(e))return e.reduce(((e,t)=>{const n=Ft(t);return Object.entries(n).forEach((([t,n])=>{e[t]=n})),e}),{});return Ft(e)}(e);if(!t)return;const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(Nt)){e[t.slice(7)]=n}return e}),{});return Object.keys(n).length>0?n:void 0}function Ft(e){return e.split(\",\").map((e=>e.split(\"=\").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(t&&n&&(e[t]=n),e)),{})}let Bt=!1;function Ut(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext();return tt({parent_span_id:r?t:$t(e).parent_span_id,span_id:r?yt():t,trace_id:n})}function Vt(e){return\"number\"==typeof e?Jt(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Jt(e.getTime()):it()}function Jt(e){return e>9999999999?e/1e3:e}function $t(e){if(function(e){return\"function\"==typeof e.getSpanJSON}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(e){const t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status)}(e)){const{attributes:r,startTime:i,name:o,endTime:s,parentSpanId:a,status:c}=e;return tt({span_id:t,trace_id:n,data:r,description:o,parent_span_id:a,start_timestamp:Vt(i),timestamp:Vt(s)||void 0,status:qt(c),op:r[\"sentry.op\"],origin:r[\"sentry.origin\"],_metrics_summary:Dt(e)})}return{span_id:t,trace_id:n}}catch(e){return{}}}function qt(e){if(e&&0!==e.code)return 1===e.code?\"ok\":e.message||\"unknown_error\"}function zt(e){return e._sentryRootSpan||e}function Wt(){Bt||(ce((()=>{console.warn(\"[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.\")})),Bt=!0)}const Ht=\"production\";function Gt(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=tt({environment:n.environment||Ht,release:n.release,public_key:r,trace_id:e});return t.emit(\"createDsc\",i),i}function Qt(e){const t=xt();if(!t)return{};const n=zt(e),r=n._frozenDsc;if(r)return r;const i=n.spanContext().traceState,o=i&&i.get(\"sentry.dsc\"),s=o&&Rt(o);if(s)return s;const a=Gt(e.spanContext().traceId,t),c=$t(n),l=c.data||{},u=l[\"sentry.sample_rate\"];null!=u&&(a.sample_rate=`${u}`);const d=l[\"sentry.source\"],p=c.description;return\"url\"!==d&&p&&(a.transaction=p),function(e){if(\"boolean\"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=xt(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||\"tracesSampleRate\"in n||\"tracesSampler\"in n)}()&&(a.sampled=String(function(e){const{traceFlags:t}=e.spanContext();return 1===t}(n))),t.emit(\"createDsc\",a,n),a}const Kt=/^(?:(\\w+):)\\/\\/(?:(\\w+)(?::(\\w+)?)?@)([\\w.-]+)(?::(\\d+))?\\/(.+)/;function Yt(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&i?`:${i}`:\"\"}@${n}${o?`:${o}`:\"\"}/${r?`${r}/`:r}${s}`}function Xt(e){return{protocol:e.protocol,publicKey:e.publicKey||\"\",pass:e.pass||\"\",host:e.host,port:e.port||\"\",path:e.path||\"\",projectId:e.projectId}}function Zt(e){const t=\"string\"==typeof e?function(e){const t=Kt.exec(e);if(!t)return void ce((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,i=\"\",o=\"\",s=\"\",a=\"\"]=t.slice(1);let c=\"\",l=a;const u=l.split(\"/\");if(u.length>1&&(c=u.slice(0,-1).join(\"/\"),l=u.pop()),l){const e=l.match(/^\\d+/);e&&(l=e[0])}return Xt({host:o,pass:i,path:c,projectId:l,port:s,protocol:n,publicKey:r})}(e):Xt(e);if(t&&function(e){if(!oe)return!0;const{port:t,projectId:n,protocol:r}=e;return!([\"protocol\",\"publicKey\",\"host\",\"projectId\"].find((t=>!e[t]&&(le.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\\d+$/)?function(e){return\"http\"===e||\"https\"===e}(r)?t&&isNaN(parseInt(t,10))&&(le.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(le.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(le.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}function en(e,t=100,n=1/0){try{return nn(\"\",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function tn(e,t=3,n=102400){const r=en(e,t);return i=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>n?tn(e,t-1,n):r;var i}function nn(e,t,n=1/0,r=1/0,i=function(){const e=\"function\"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[o,s]=i;if(null==t||[\"boolean\",\"string\"].includes(typeof t)||\"number\"==typeof t&&Number.isFinite(t))return t;const a=function(e,t){try{if(\"domain\"===e&&t&&\"object\"==typeof t&&t._events)return\"[Domain]\";if(\"domainEmitter\"===e)return\"[DomainEmitter]\";if(\"undefined\"!=typeof global&&t===global)return\"[Global]\";if(\"undefined\"!=typeof window&&t===window)return\"[Window]\";if(\"undefined\"!=typeof document&&t===document)return\"[Document]\";if(Ue(t))return\"[VueViewModel]\";if(Ne(n=t)&&\"nativeEvent\"in n&&\"preventDefault\"in n&&\"stopPropagation\"in n)return\"[SyntheticEvent]\";if(\"number\"==typeof t&&!Number.isFinite(t))return`[${t}]`;if(\"function\"==typeof t)return`[Function: ${ve(t)}]`;if(\"symbol\"==typeof t)return`[${String(t)}]`;if(\"bigint\"==typeof t)return`[BigInt: ${String(t)}]`;const r=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:\"null prototype\"}(t);return/^HTML(\\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(e){return`**non-serializable** (${e})`}var n}(e,t);if(!a.startsWith(\"[object \"))return a;if(t.__sentry_skip_normalization__)return t;const c=\"number\"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return a.replace(\"object \",\"\");if(o(t))return\"[Circular ~]\";const l=t;if(l&&\"function\"==typeof l.toJSON)try{return nn(\"\",l.toJSON(),c-1,r,i)}catch(e){}const u=Array.isArray(t)?[]:{};let d=0;const p=Xe(t);for(const e in p){if(!Object.prototype.hasOwnProperty.call(p,e))continue;if(d>=r){u[e]=\"[MaxProperties ~]\";break}const t=p[e];u[e]=nn(e,t,c-1,r,i),d++}return s(t),u}function rn(e,t=[]){return[e,t]}function on(e,t){const[n,r]=e;return[n,[...r,t]]}function sn(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function an(e){return re.__SENTRY__&&re.__SENTRY__.encodePolyfill?re.__SENTRY__.encodePolyfill(e):(new TextEncoder).encode(e)}function cn(e){const[t,n]=e;let r=JSON.stringify(t);function i(e){\"string\"==typeof r?r=\"string\"==typeof e?r+e:[an(r),e]:r.push(\"string\"==typeof e?an(e):e)}for(const e of n){const[t,n]=e;if(i(`\\n${JSON.stringify(t)}\\n`),\"string\"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(en(n))}i(e)}}return\"string\"==typeof r?r:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(r)}function ln(e){const t=\"string\"==typeof e.data?an(e.data):e.data;return[tt({type:\"attachment\",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const un={session:\"session\",sessions:\"session\",attachment:\"attachment\",transaction:\"transaction\",event:\"error\",client_report:\"internal\",user_report:\"default\",profile:\"profile\",profile_chunk:\"profile\",replay_event:\"replay\",replay_recording:\"replay\",check_in:\"monitor\",feedback:\"feedback\",span:\"span\",statsd:\"metric_bucket\",raw_security:\"security\"};function dn(e){return un[e]}function pn(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function hn(e,t,n,r){const i=pn(n),o=e.type&&\"replay_event\"!==e.type?e.type:\"event\";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const s=function(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Yt(r)},...i&&{trace:tt({...i})}}}(e,i,r,t);delete e.sdkProcessingMetadata;return rn(s,[[{type:o},e]])}function fn(e,t,n,r=0){return new ft(((i,o)=>{const s=e[r];if(null===t||\"function\"!=typeof s)i(t);else{const a=s({...t},n);te&&s.id&&null===a&&le.log(`Event processor \"${s.id}\" dropped event`),Fe(a)?a.then((t=>fn(e,t,n,r+1).then(i))).then(null,o):fn(e,a,n,r+1).then(i).then(null,o)}}))}let vn,gn,mn;function yn(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=t;!function(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,transactionName:a}=t,c=tt(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const l=tt(r);l&&Object.keys(l).length&&(e.tags={...l,...e.tags});const u=tt(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=tt(o);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts});s&&(e.level=s);a&&\"transaction\"!==e.type&&(e.transaction=a)}(e,t),r&&function(e,t){e.contexts={trace:Ut(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Qt(t),...e.sdkProcessingMetadata};const n=zt(t),r=$t(n).description;r&&!e.transaction&&\"transaction\"===e.type&&(e.transaction=r)}(e,r),function(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,i),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,o)}function bn(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:l,eventProcessors:u,attachments:d,propagationContext:p,transactionName:h,span:f}=t;_n(e,\"extra\",n),_n(e,\"tags\",r),_n(e,\"user\",i),_n(e,\"contexts\",o),e.sdkProcessingMetadata=bt(e.sdkProcessingMetadata,a,2),s&&(e.level=s),h&&(e.transactionName=h),f&&(e.span=f),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function _n(e,t,n){e[t]=bt(e[t],n,1)}function wn(e,t,n,r,i,o){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||ot(),timestamp:t.timestamp||rt()},l=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:i,maxValueLength:o=250}=t;e.environment=e.environment||n||Ht,!e.release&&r&&(e.release=r);!e.dist&&i&&(e.dist=i);e.message&&(e.message=qe(e.message,o));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=qe(s.value,o));const a=e.request;a&&a.url&&(a.url=qe(a.url,o))}(c,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(c,l),i&&i.emit(\"applyFrameMetadata\",t),void 0===t.type&&function(e,t){const n=function(e){const t=re._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return mn&&n.length===gn||(gn=n.length,mn=n.reduce(((n,r)=>{vn||(vn={});const i=vn[r];if(i)n[i[0]]=i[1];else{const i=e(r);for(let e=i.length-1;e>=0;e--){const o=i[e],s=o&&o.filename,a=t[r];if(s&&a){n[s]=a,vn[r]=[s,a];break}}}return n}),{})),mn}(t);try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{n&&e.filename&&(e.debug_id=n[e.filename])}))}))}catch(e){}}(c,e.stackParser);const u=function(e,t){if(!t)return e;const n=e?e.clone():new Mt;return n.update(t),n}(r,n.captureContext);n.mechanism&&lt(c,n.mechanism);const d=i?i.getEventProcessors():[],p=ie(\"globalScope\",(()=>new Mt)).getScopeData();if(o){bn(p,o.getScopeData())}if(u){bn(p,u.getScopeData())}const h=[...n.attachments||[],...p.attachments];h.length&&(n.attachments=h),yn(c,p);return fn([...d,...p.eventProcessors],c,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach((([e,t])=>{n.push({type:\"sourcemap\",code_file:e,debug_id:t})}))}(e),\"number\"==typeof s&&s>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:en(e.data,t,n)}})))},...e.user&&{user:en(e.user,t,n)},...e.contexts&&{contexts:en(e.contexts,t,n)},...e.extra&&{extra:en(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=en(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>({...e,...e.data&&{data:en(e.data,t,n)}}))));e.contexts&&e.contexts.flags&&r.contexts&&(r.contexts.flags=en(e.contexts.flags,3,n));return r}(e,s,a):e)))}function Sn(e){if(e)return function(e){return e instanceof Mt||\"function\"==typeof e}(e)||function(e){return Object.keys(e).some((e=>kn.includes(e)))}(e)?{captureContext:e}:e}const kn=[\"user\",\"level\",\"extra\",\"contexts\",\"tags\",\"fingerprint\",\"requestSession\",\"propagationContext\"];function Mn(e,t){return jt().captureEvent(e,t)}function Cn(e){const t=xt(),n=It(),r=jt(),{release:i,environment:o=Ht}=t&&t.getOptions()||{},{userAgent:s}=re.navigator||{},a=vt({release:i,environment:o,user:r.getUser()||n.getUser(),...s&&{userAgent:s},...e}),c=n.getSession();return c&&\"ok\"===c.status&&gt(c,{status:\"exited\"}),En(),n.setSession(a),r.setSession(a),a}function En(){const e=It(),t=jt(),n=t.getSession()||e.getSession();n&&function(e,t){let n={};t?n={status:t}:\"ok\"===e.status&&(n={status:\"exited\"}),gt(e,n)}(n),Tn(),e.setSession(),t.setSession()}function Tn(){const e=It(),t=jt(),n=xt(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function On(e=!1){e?En():Tn()}function Pn(e,t,n){return t||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:\"\",n=e.port?`:${e.port}`:\"\";return`${t}//${e.host}${n}${e.path?`/${e.path}`:\"\"}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){const n={sentry_version:\"7\"};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}(e,n)}`}const An=[];function jn(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function In(e,t,n){if(n[t.name])te&&le.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===An.indexOf(t.name)&&\"function\"==typeof t.setupOnce&&(t.setupOnce(),An.push(t.name)),t.setup&&\"function\"==typeof t.setup&&t.setup(e),\"function\"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on(\"preprocessEvent\",((t,r)=>n(t,r,e)))}if(\"function\"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}te&&le.log(`Integration installed: ${t.name}`)}}class xn extends Error{constructor(e,t=\"warn\"){super(e),this.message=e,this.logLevel=t}}const Ln=\"Not capturing exception because it's already been captured.\";class Dn{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Zt(e.dsn):te&&le.warn(\"No DSN provided, client will not send events.\"),this._dsn){const t=Pn(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}const t=[\"enableTracing\",\"tracesSampleRate\",\"tracesSampler\"].find((t=>t in e&&null==e[t]));t&&ce((()=>{console.warn(`[Sentry] Deprecation warning: \\`${t}\\` is set to undefined, which leads to tracing being enabled. In v9, a value of \\`undefined\\` will result in tracing being disabled.`)}))}captureException(e,t,n){const r=ot();if(ut(e))return te&&le.log(Ln),r;const i={event_id:r,...t};return this._process(this.eventFromException(e,i).then((e=>this._captureEvent(e,i,n)))),i.event_id}captureMessage(e,t,n,r){const i={event_id:ot(),...n},o=Le(e)?e:String(e),s=De(e)?this.eventFromMessage(o,t,i):this.eventFromException(e,i);return this._process(s.then((e=>this._captureEvent(e,i,r)))),i.event_id}captureEvent(e,t,n){const r=ot();if(t&&t.originalException&&ut(t.originalException))return te&&le.log(Ln),r;const i={event_id:r,...t},o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,i,o||n)),i.event_id}captureSession(e){\"string\"!=typeof e.release?te&&le.warn(\"Discarded session because of missing or non-string release\"):(this.sendSession(e),gt(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit(\"flush\"),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):pt(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.emit(\"close\"),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((({name:e})=>e.startsWith(\"Spotlight\"))))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];In(this,e,this._integrations),t||jn(this,[e])}sendEvent(e,t={}){this.emit(\"beforeSendEvent\",e,t);let n=hn(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=on(n,ln(e));const r=this.sendEnvelope(n);r&&r.then((t=>this.emit(\"afterSendEvent\",e,t)),null)}sendSession(e){const t=function(e,t,n,r){const i=pn(n);return rn({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Yt(t)}},[\"aggregates\"in e?[{type:\"sessions\"},e]:[{type:\"session\"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const r=\"number\"==typeof n?n:1,i=`${e}:${t}`;te&&le.log(`Recording outcome: \"${i}\"${r>1?` (${r} times)`:\"\"}`),this._outcomes[i]=(this._outcomes[i]||0)+r}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,...t){const n=this._hooks[e];n&&n.forEach((e=>e(...t)))}sendEnvelope(e){return this.emit(\"beforeEnvelope\",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(e=>(te&&le.error(\"Error while sending envelope:\",e),e))):(te&&le.error(\"Transport disabled\"),pt({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&In(e,t,n)})),n}(this,e),jn(this,e)}_updateSessionFromEvent(e,t){let n=\"fatal\"===t.level,r=!1;const i=t.exception&&t.exception.values;if(i){r=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const o=\"ok\"===e.status;(o&&0===e.errors||o&&n)&&(gt(e,{...n&&{status:\"crashed\"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ft((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n=jt(),r=It()){const i=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),this.emit(\"preprocessEvent\",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),wn(i,e,t,n,this,r).then((e=>{if(null===e)return e;e.contexts={trace:Lt(n),...e.contexts};const t=function(e,t){const n=t.getPropagationContext();return n.dsc||Gt(n.traceId,e)}(this,n);return e.sdkProcessingMetadata={dynamicSamplingContext:t,...e.sdkProcessingMetadata},e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{te&&(e instanceof xn&&\"log\"===e.logLevel?le.log(e.message):le.warn(e))}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:i}=r,o=Rn(e),s=Nn(e),a=e.type||\"error\",c=`before send for type \\`${a}\\``,l=void 0===i?void 0:function(e){if(\"boolean\"==typeof e)return Number(e);const t=\"string\"==typeof e?parseFloat(e):e;if(!(\"number\"!=typeof t||isNaN(t)||t<0||t>1))return t;te&&le.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`)}(i);if(s&&\"number\"==typeof l&&Math.random()>l)return this.recordDroppedEvent(\"sample_rate\",\"error\",e),ht(new xn(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,\"log\"));const u=\"replay_event\"===a?\"replay\":a,d=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,d).then((n=>{if(null===n)throw this.recordDroppedEvent(\"event_processor\",u,e),new xn(\"An event processor returned `null`, will not send event.\",\"log\");if(t.data&&!0===t.data.__sentry__)return n;const i=function(e,t,n,r){const{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s}=t;if(Nn(n)&&i)return i(n,r);if(Rn(n)){if(n.spans&&s){const t=[];for(const r of n.spans){const n=s(r);n?t.push(n):(Wt(),e.recordDroppedEvent(\"before_send\",\"span\"))}n.spans=t}if(o){if(n.spans){const e=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return o(n,r)}}return n}(this,r,n,t);return function(e,t){const n=`${t} must return \\`null\\` or a valid event.`;if(Fe(e))return e.then((e=>{if(!Ne(e)&&null!==e)throw new xn(n);return e}),(e=>{throw new xn(`${t} rejected with ${e}`)}));if(!Ne(e)&&null!==e)throw new xn(n);return e}(i,c)})).then((r=>{if(null===r){if(this.recordDroppedEvent(\"before_send\",u,e),o){const t=1+(e.spans||[]).length;this.recordDroppedEvent(\"before_send\",\"span\",t)}throw new xn(`${c} returned \\`null\\`, will not send event.`,\"log\")}const i=n&&n.getSession();if(!o&&i&&this._updateSessionFromEvent(i,r),o){const e=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);e>0&&this.recordDroppedEvent(\"before_send\",\"span\",e)}const s=r.transaction_info;if(o&&s&&r.transaction!==e.transaction){const e=\"custom\";r.transaction_info={...s,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof xn)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new xn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((([e,t])=>{const[n,r]=e.split(\":\");return{reason:n,category:r,quantity:t}}))}_flushOutcomes(){te&&le.log(\"Flushing outcomes...\");const e=this._clearOutcomes();if(0===e.length)return void(te&&le.log(\"No outcomes to send\"));if(!this._dsn)return void(te&&le.log(\"No dsn provided, will not send outcomes\"));te&&le.log(\"Sending outcomes:\",e);const t=(n=e,rn((r=this._options.tunnel&&Yt(this._dsn))?{dsn:r}:{},[[{type:\"client_report\"},{timestamp:i||rt(),discarded_events:n}]]));var n,r,i;this.sendEnvelope(t)}}function Nn(e){return void 0===e.type}function Rn(e){return\"transaction\"===e.type}function Fn(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return ht(new xn(\"Not adding Promise because buffer limit was reached.\"));const i=r();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new ft(((n,r)=>{let i=t.length;if(!i)return n(!0);const o=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{pt(e).then((()=>{--i||(clearTimeout(o),n(!0))}),r)}))}))}}}function Bn(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n&&n[\"x-sentry-rate-limits\"],s=n&&n[\"retry-after\"];if(o)for(const e of o.trim().split(\",\")){const[t,n,,,o]=e.split(\":\",5),s=parseInt(t,10),a=1e3*(isNaN(s)?60:s);if(n)for(const e of n.split(\";\"))\"metric_bucket\"===e&&o&&!o.split(\";\").includes(\"custom\")||(i[e]=r+a);else i.all=r+a}else s?i.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(s,r):429===t&&(i.all=r+6e4);return i}function Un(e,t,n=Fn(e.bufferSize||64)){let r={};return{send:function(i){const o=[];if(sn(i,((t,n)=>{const i=dn(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(r,i)){const r=Vn(t,n);e.recordDroppedEvent(\"ratelimit_backoff\",i,r)}else o.push(t)})),0===o.length)return pt({});const s=rn(i[0],o),a=t=>{sn(s,((n,r)=>{const i=Vn(n,r);e.recordDroppedEvent(t,dn(r),i)}))};return n.add((()=>t({body:cn(s)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&te&&le.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=Bn(r,e),e)),(e=>{throw a(\"network_error\"),e})))).then((e=>e),(e=>{if(e instanceof xn)return te&&le.error(\"Skipped sending event because buffer is full.\"),a(\"queue_overflow\"),pt({});throw e}))},flush:e=>n.drain(e)}}function Vn(e,t){if(\"event\"===t||\"transaction\"===t)return Array.isArray(e)?e[1]:void 0}const Jn=100;function $n(e,t){const n=xt(),r=It();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Jn}=n.getOptions();if(o<=0)return;const s={timestamp:rt(),...e},a=i?ce((()=>i(s,t))):s;null!==a&&(n.emit&&n.emit(\"beforeAddBreadcrumb\",a,t),r.addBreadcrumb(a,o))}let qn;const zn=new WeakMap,Wn=()=>({name:\"FunctionToString\",setupOnce(){qn=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Ye(this),n=zn.has(xt())&&void 0!==t?t:this;return qn.apply(n,e)}}catch(e){}},setup(e){zn.set(e,!0)}}),Hn=[/^Script error\\.?$/,/^Javascript error: Script error\\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,\"undefined is not an object (evaluating 'a.L')\",'can\\'t redefine non-configurable property \"solana\"',\"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)\",\"Can't find variable: _AutofillCallbackHandler\",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\\d+, MethodName:simulateEvent, ParamCount:\\d+$/],Gn=(e={})=>({name:\"InboundFilters\",processEvent(t,n,r){const i=r.getOptions(),o=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Hn],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,i);return function(e,t){if(t.ignoreInternal&&function(e){try{return\"SentryError\"===e.exception.values[0].type}catch(e){}return!1}(e))return te&&le.warn(`Event dropped due to being internal Sentry Error.\\nEvent: ${at(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));return t}(e).some((e=>He(e,t)))}(e,t.ignoreErrors))return te&&le.warn(`Event dropped due to being matched by \\`ignoreErrors\\` option.\\nEvent: ${at(e)}`),!0;if(function(e){if(e.type)return!1;if(!e.exception||!e.exception.values||0===e.exception.values.length)return!1;return!e.message&&!e.exception.values.some((e=>e.stacktrace||e.type&&\"Error\"!==e.type||e.value))}(e))return te&&le.warn(`Event dropped due to not having an error message, error type or stacktrace.\\nEvent: ${at(e)}`),!0;if(function(e,t){if(\"transaction\"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&He(n,t)}(e,t.ignoreTransactions))return te&&le.warn(`Event dropped due to being matched by \\`ignoreTransactions\\` option.\\nEvent: ${at(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=Qn(e);return!!n&&He(n,t)}(e,t.denyUrls))return te&&le.warn(`Event dropped due to being matched by \\`denyUrls\\` option.\\nEvent: ${at(e)}.\\nUrl: ${Qn(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=Qn(e);return!n||He(n,t)}(e,t.allowUrls))return te&&le.warn(`Event dropped due to not being matched by \\`allowUrls\\` option.\\nEvent: ${at(e)}.\\nUrl: ${Qn(e)}`),!0;return!1}(t,o)?null:t}});function Qn(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&\"<anonymous>\"!==n.filename&&\"[native code]\"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return te&&le.error(`Cannot extract url for event ${at(e)}`),null}}function Kn(e,t,n=250,r,i,o,s){if(!(o.exception&&o.exception.values&&s&&Be(s.originalException,Error)))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;var c,l;a&&(o.exception.values=(c=Yn(e,t,i,s.originalException,r,o.exception.values,a,0),l=n,c.map((e=>(e.value&&(e.value=qe(e.value,l)),e)))))}function Yn(e,t,n,r,i,o,s,a){if(o.length>=n+1)return o;let c=[...o];if(Be(r[i],Error)){Xn(s,a);const o=e(t,r[i]),l=c.length;Zn(o,i,l,a),c=Yn(e,t,n,r[i],i,[o,...c],o,l)}return Array.isArray(r.errors)&&r.errors.forEach(((r,o)=>{if(Be(r,Error)){Xn(s,a);const l=e(t,r),u=c.length;Zn(l,`errors[${o}]`,u,a),c=Yn(e,t,n,r,i,[l,...c],l,u)}})),c}function Xn(e,t){e.mechanism=e.mechanism||{type:\"generic\",handled:!0},e.mechanism={...e.mechanism,...\"AggregateError\"===e.type&&{is_exception_group:!0},exception_id:t}}function Zn(e,t,n,r){e.mechanism=e.mechanism||{type:\"generic\",handled:!0},e.mechanism={...e.mechanism,type:\"chained\",source:t,exception_id:n,parent_id:r}}function er(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||\"\",r=t[8]||\"\";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function tr(){\"console\"in re&&se.forEach((function(e){e in re.console&&Ge(re.console,e,(function(t){return ae[e]=t,function(...t){we(\"console\",{args:t,level:e});const n=ae[e];n&&n.apply(re.console,t)}}))}))}function nr(e){return\"warn\"===e?\"warning\":[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"].includes(e)?e:\"log\"}const rr=()=>{let e;return{name:\"Dedupe\",processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!or(e,t))return!1;if(!ir(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=sr(t),r=sr(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!or(e,t))return!1;if(!ir(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return te&&le.warn(\"Event dropped due to being a duplicate of previously captured event.\"),null}catch(e){}return e=t}}};function ir(e,t){let n=ge(e),r=ge(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function or(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join(\"\")!==r.join(\"\"))}catch(e){return!1}}function sr(e){return e.exception&&e.exception.values&&e.exception.values[0]}function ar(e){return void 0===e?void 0:e>=400&&e<500?\"warning\":e>=500?\"error\":void 0}const cr=re;function lr(e){return e&&/^function\\s+\\w+\\(\\)\\s+\\{\\s+\\[native code\\]\\s+\\}$/.test(e.toString())}function ur(){if(\"string\"==typeof EdgeRuntime)return!0;if(!function(){if(!(\"fetch\"in cr))return!1;try{return new Headers,new Request(\"http://www.example.com\"),new Response,!0}catch(e){return!1}}())return!1;if(lr(cr.fetch))return!0;let e=!1;const t=cr.document;if(t&&\"function\"==typeof t.createElement)try{const n=t.createElement(\"iframe\");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=lr(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){oe&&le.warn(\"Could not create sandbox iframe for pure fetch check, bailing to window.fetch: \",e)}return e}function dr(e,t){const n=\"fetch\";be(n,e),_e(n,(()=>function(e,t=!1){if(t&&!ur())return;Ge(re,\"fetch\",(function(t){return function(...n){const r=new Error,{method:i,url:o}=function(e){if(0===e.length)return{method:\"GET\",url:\"\"};if(2===e.length){const[t,n]=e;return{url:hr(t),method:pr(n,\"method\")?String(n.method).toUpperCase():\"GET\"}}const t=e[0];return{url:hr(t),method:pr(t,\"method\")?String(t.method).toUpperCase():\"GET\"}}(n),s={args:n,fetchData:{method:i,url:o},startTimestamp:1e3*it(),virtualError:r};return e||we(\"fetch\",{...s}),t.apply(re,n).then((async t=>(e?e(t):we(\"fetch\",{...s,endTimestamp:1e3*it(),response:t}),t)),(e=>{throw we(\"fetch\",{...s,endTimestamp:1e3*it(),error:e}),Pe(e)&&void 0===e.stack&&(e.stack=r.stack,Qe(e,\"framesToPop\",1)),e}))}}))}(void 0,t)))}function pr(e,t){return!!e&&\"object\"==typeof e&&!!e[t]}function hr(e){return\"string\"==typeof e?e:e?pr(e,\"url\")?e.url:e.toString?e.toString():\"\":\"\"}const fr=re;const vr=re;let gr=0;function mr(){return gr>0}function yr(e,t={}){if(!function(e){return\"function\"==typeof e}(e))return e;try{const t=e.__sentry_wrapped__;if(t)return\"function\"==typeof t?t:e;if(Ye(e))return e}catch(t){return e}const n=function(...n){try{const r=n.map((e=>yr(e,t)));return e.apply(this,r)}catch(e){throw gr++,setTimeout((()=>{gr--})),function(...e){const t=At(Ee());if(2===e.length){const[n,r]=e;return n?t.withSetScope(n,r):t.withScope(r)}t.withScope(e[0])}((r=>{var i,o;r.addEventProcessor((e=>(t.mechanism&&(ct(e,void 0,void 0),lt(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),i=e,jt().captureException(i,Sn(o))})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch(e){}Ke(n,e),Qe(e,\"__sentry_wrapped__\",n);try{Object.getOwnPropertyDescriptor(n,\"name\").configurable&&Object.defineProperty(n,\"name\",{get:()=>e.name})}catch(e){}return n}const br=\"undefined\"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function _r(e,t){const n=kr(e,t),r={type:Er(t),value:Tr(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&\"\"===r.value&&(r.value=\"Unrecoverable error caught\"),r}function wr(e,t,n,r){const i=xt(),o=i&&i.getOptions().normalizeDepth,s=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}return}(t),a={__serialized__:tn(t,o)};if(s)return{exception:{values:[_r(e,s)]},extra:a};const c={exception:{values:[{type:Re(t)?t.constructor.name:r?\"UnhandledRejection\":\"Error\",value:Ar(t,{isUnhandledRejection:r})}]},extra:a};if(n){const t=kr(e,n);t.length&&(c.exception.values[0].stacktrace={frames:t})}return c}function Sr(e,t){return{exception:{values:[_r(e,t)]}}}function kr(e,t){const n=t.stacktrace||t.stack||\"\",r=function(e){if(e&&Mr.test(e.message))return 1;return 0}(t),i=function(e){if(\"number\"==typeof e.framesToPop)return e.framesToPop;return 0}(t);try{return e(n,r,i)}catch(e){}return[]}const Mr=/Minified React error #\\d+;/i;function Cr(e){return\"undefined\"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function Er(e){const t=e&&e.name;if(!t&&Cr(e)){return e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:\"WebAssembly.Exception\"}return t}function Tr(e){const t=e&&e.message;return t?t.error&&\"string\"==typeof t.error.message?t.error.message:Cr(e)&&Array.isArray(e.message)&&2==e.message.length?e.message[1]:t:\"No error message\"}function Or(e,t,n,r,i){let o;if(je(t)&&t.error){return Sr(e,t.error)}if(Ie(t)||Ae(t,\"DOMException\")){const i=t;if(\"stack\"in t)o=Sr(e,t);else{const t=i.name||(Ie(i)?\"DOMError\":\"DOMException\"),s=i.message?`${t}: ${i.message}`:t;o=Pr(e,s,n,r),ct(o,s)}return\"code\"in i&&(o.tags={...o.tags,\"DOMException.code\":`${i.code}`}),o}if(Pe(t))return Sr(e,t);if(Ne(t)||Re(t)){return o=wr(e,t,n,i),lt(o,{synthetic:!0}),o}return o=Pr(e,t,n,r),ct(o,`${t}`,void 0),lt(o,{synthetic:!0}),o}function Pr(e,t,n,r){const i={};if(r&&n){const r=kr(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]}),lt(i,{synthetic:!0})}if(Le(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}function Ar(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(Xe(e));n.sort();const r=n[0];if(!r)return\"[object has no keys]\";if(r.length>=t)return qe(r,t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(\", \");if(!(r.length>t))return e===n.length?r:qe(r,t)}return\"\"}(e),r=t?\"promise rejection\":\"exception\";if(je(e))return`Event \\`ErrorEvent\\` captured as ${r} with message \\`${e.message}\\``;if(Re(e)){return`Event \\`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}class jr extends Dn{constructor(e){const t={parentSpanIsAlwaysRootSpan:!0,...e};!function(e,t,n=[t],r=\"npm\"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${r}:@sentry/${e}`,version:ne}))),version:ne}),e._metadata=i}(t,\"browser\",[\"browser\"],vr.SENTRY_SDK_SOURCE||\"npm\"),super(t),t.sendClientReports&&vr.document&&vr.document.addEventListener(\"visibilitychange\",(()=>{\"hidden\"===vr.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,r){const i=Or(e,t,n&&n.syntheticException||void 0,r);return lt(i),i.level=\"error\",n&&n.event_id&&(i.event_id=n.event_id),pt(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t=\"info\",n){return function(e,t,n=\"info\",r,i){const o=Pr(e,t,r&&r.syntheticException||void 0,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),pt(o)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(br&&le.warn(\"SDK not enabled, will not capture user feedback.\"));const t=function(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Yt(r)}},o=function(e){return[{type:\"user_report\"},e]}(e);return rn(i,[o])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||\"javascript\",super._prepareEvent(e,t,n)}}const Ir=\"undefined\"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,xr=re;let Lr,Dr,Nr,Rr;function Fr(){if(!xr.document)return;const e=we.bind(null,\"dom\"),t=Br(e,!0);xr.document.addEventListener(\"click\",t,!1),xr.document.addEventListener(\"keypress\",t,!1),[\"EventTarget\",\"Node\"].forEach((t=>{const n=xr[t],r=n&&n.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty(\"addEventListener\")&&(Ge(r,\"addEventListener\",(function(t){return function(n,r,i){if(\"click\"===n||\"keypress\"==n)try{const r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=r[n]=r[n]||{refCount:0};if(!o.handler){const r=Br(e);o.handler=r,t.call(this,n,r,i)}o.refCount++}catch(e){}return t.call(this,n,r,i)}})),Ge(r,\"removeEventListener\",(function(e){return function(t,n,r){if(\"click\"===t||\"keypress\"==t)try{const n=this.__sentry_instrumentation_handlers__||{},i=n[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}function Br(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return\"keypress\"===e&&(!t||!t.tagName||\"INPUT\"!==t.tagName&&\"TEXTAREA\"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;Qe(n,\"_sentryCaptured\",!0),r&&!r._sentryId&&Qe(r,\"_sentryId\",ot());const i=\"keypress\"===n.type?\"input\":n.type;if(!function(e){if(e.type!==Dr)return!1;try{if(!e.target||e.target._sentryId!==Nr)return!1}catch(e){}return!0}(n)){e({event:n,name:i,global:t}),Dr=n.type,Nr=r?r._sentryId:void 0}clearTimeout(Lr),Lr=xr.setTimeout((()=>{Nr=void 0,Dr=void 0}),1e3)}}function Ur(e){const t=\"history\";be(t,e),_e(t,Vr)}function Vr(){if(!function(){const e=fr.chrome,t=e&&e.app&&e.app.runtime,n=\"history\"in fr&&!!fr.history.pushState&&!!fr.history.replaceState;return!t&&n}())return;const e=xr.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=Rr,t=String(n);Rr=t;we(\"history\",{from:e,to:t})}return e.apply(this,t)}}xr.onpopstate=function(...t){const n=xr.location.href,r=Rr;Rr=n;if(we(\"history\",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},Ge(xr.history,\"pushState\",t),Ge(xr.history,\"replaceState\",t)}const Jr={};function $r(e){Jr[e]=void 0}const qr=\"__sentry_xhr_v3__\";function zr(){if(!xr.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){const r=new Error,i=1e3*it(),o=xe(n[0])?n[0].toUpperCase():void 0,s=function(e){if(xe(e))return e;try{return e.toString()}catch(e){}return}(n[1]);if(!o||!s)return e.apply(t,n);t[qr]={method:o,url:s,request_headers:{}},\"POST\"===o&&s.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const a=()=>{const e=t[qr];if(e&&4===t.readyState){try{e.status_code=t.status}catch(e){}we(\"xhr\",{endTimestamp:1e3*it(),startTimestamp:i,xhr:t,virtualError:r})}};return\"onreadystatechange\"in t&&\"function\"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(a(),e.apply(t,n))}):t.addEventListener(\"readystatechange\",a),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){const[r,i]=n,o=t[qr];return o&&xe(r)&&xe(i)&&(o.request_headers[r.toLowerCase()]=i),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){const r=t[qr];if(!r)return e.apply(t,n);void 0!==n[0]&&(r.body=n[0]);return we(\"xhr\",{startTimestamp:1e3*it(),xhr:t}),e.apply(t,n)}})}function Wr(e,t=function(e){const t=Jr[e];if(t)return t;let n=xr[e];if(lr(n))return Jr[e]=n.bind(xr);const r=xr.document;if(r&&\"function\"==typeof r.createElement)try{const t=r.createElement(\"iframe\");t.hidden=!0,r.head.appendChild(t);const i=t.contentWindow;i&&i[e]&&(n=i[e]),r.head.removeChild(t)}catch(t){Ir&&le.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return n?Jr[e]=n.bind(xr):n}(\"fetch\")){let n=0,r=0;return Un(e,(function(i){const o=i.body.length;n+=o,r++;const s={body:i.body,method:\"POST\",referrerPolicy:\"origin\",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return $r(\"fetch\"),ht(\"No fetch implementation available\");try{return t(e.url,s).then((e=>(n-=o,r--,{statusCode:e.status,headers:{\"x-sentry-rate-limits\":e.headers.get(\"X-Sentry-Rate-Limits\"),\"retry-after\":e.headers.get(\"Retry-After\")}})))}catch(e){return $r(\"fetch\"),n-=o,r--,ht(e)}}))}function Hr(e,t,n,r){const i={filename:e,function:\"<anonymous>\"===t?ue:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}const Gr=/^\\s*at (\\S+?)(?::(\\d+))(?::(\\d+))\\s*$/i,Qr=/^\\s*at (?:(.+?\\)(?: \\[.+\\])?|.*?) ?\\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\\/)?.*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,Kr=/\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/,Yr=/^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:[-a-z]+)?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i,Xr=/(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i,Zr=function(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0,r=0)=>{const i=[],o=e.split(\"\\n\");for(let e=n;e<o.length;e++){const n=o[e];if(n.length>1024)continue;const s=de.test(n)?n.replace(de,\"$1\"):n;if(!s.match(/\\S*Error: /)){for(const e of t){const t=e(s);if(t){i.push(t);break}}if(i.length>=50+r)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(he(t).function||\"\")&&t.pop();t.reverse(),pe.test(he(t).function||\"\")&&(t.pop(),pe.test(he(t).function||\"\")&&t.pop());return t.slice(0,50).map((e=>({...e,filename:e.filename||he(t).filename,function:e.function||ue})))}(i.slice(r))}}(...[[30,e=>{const t=Gr.exec(e);if(t){const[,e,n,r]=t;return Hr(e,ue,+n,+r)}const n=Qr.exec(e);if(n){if(n[2]&&0===n[2].indexOf(\"eval\")){const e=Kr.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}const[e,t]=ei(n[1]||ue,n[2]);return Hr(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=Yr.exec(e);if(t){if(t[3]&&t[3].indexOf(\" > eval\")>-1){const e=Xr.exec(t[3]);e&&(t[1]=t[1]||\"eval\",t[3]=e[1],t[4]=e[2],t[5]=\"\")}let e=t[3],n=t[1]||ue;return[n,e]=ei(n,e),Hr(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]]),ei=(e,t)=>{const n=-1!==e.indexOf(\"safari-extension\"),r=-1!==e.indexOf(\"safari-web-extension\");return n||r?[-1!==e.indexOf(\"@\")?e.split(\"@\")[0]:ue,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},ti=1024,ni=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:\"Breadcrumbs\",setup(e){var n;t.console&&function(e){const t=\"console\";be(t,e),_e(t,tr)}(function(e){return function(t){if(xt()!==e)return;const n={category:\"console\",data:{arguments:t.args,logger:\"console\"},level:nr(t.level),message:ze(t.args,\" \")};if(\"assert\"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${ze(t.args.slice(1),\" \")||\"console.assert\"}`,n.data.arguments=t.args.slice(1)}$n(n,{input:t.args,level:t.level})}}(e)),t.dom&&(n=function(e,t){return function(n){if(xt()!==e)return;let r,i,o=\"object\"==typeof t?t.serializeAttribute:void 0,s=\"object\"==typeof t&&\"number\"==typeof t.maxStringLength?t.maxStringLength:void 0;s&&s>ti&&(br&&le.warn(`\\`dom.maxStringLength\\` cannot exceed 1024, but a value of ${s} was configured. Sentry will use 1024 instead.`),s=ti),\"string\"==typeof o&&(o=[o]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=Je(t,{keyAttrs:o,maxStringLength:s}),i=function(e){if(!Ve.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}(t)}catch(e){r=\"<unknown>\"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};i&&(a.data={\"ui.component_name\":i}),$n(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom),be(\"dom\",n),_e(\"dom\",Fr)),t.xhr&&function(e){be(\"xhr\",e),_e(\"xhr\",zr)}(function(e){return function(t){if(xt()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,i=t.xhr[qr];if(!n||!r||!i)return;const{method:o,url:s,status_code:a,body:c}=i,l={method:o,url:s,status_code:a},u={xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:r};$n({category:\"xhr\",data:l,type:\"http\",level:ar(a)},u)}}(e)),t.fetch&&dr(function(e){return function(t){if(xt()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||\"POST\"!==t.fetchData.method))if(t.error){$n({category:\"fetch\",data:t.fetchData,level:\"error\",type:\"http\"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r})}else{const e=t.response,i={...t.fetchData,status_code:e&&e.status},o={input:t.args,response:e,startTimestamp:n,endTimestamp:r};$n({category:\"fetch\",data:i,type:\"http\",level:ar(i.status_code)},o)}}}(e)),t.history&&Ur(function(e){return function(t){if(xt()!==e)return;let n=t.from,r=t.to;const i=er(vr.location.href);let o=n?er(n):void 0;const s=er(r);o&&o.path||(o=i),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),$n({category:\"navigation\",data:{from:n,to:r}})}}(e)),t.sentry&&e.on(\"beforeSendEvent\",function(e){return function(t){xt()===e&&$n({category:\"sentry.\"+(\"transaction\"===t.type?\"transaction\":\"event\"),event_id:t.event_id,level:t.level,message:at(t)},{event:t})}}(e))}}};const ri=[\"EventTarget\",\"Window\",\"Node\",\"ApplicationCache\",\"AudioTrackList\",\"BroadcastChannel\",\"ChannelMergerNode\",\"CryptoOperation\",\"EventSource\",\"FileReader\",\"HTMLUnknownElement\",\"IDBDatabase\",\"IDBRequest\",\"IDBTransaction\",\"KeyOperation\",\"MediaController\",\"MessagePort\",\"ModalWindow\",\"Notification\",\"SVGElementInstance\",\"Screen\",\"SharedWorker\",\"TextTrack\",\"TextTrackCue\",\"TextTrackList\",\"WebSocket\",\"WebSocketWorker\",\"Worker\",\"XMLHttpRequest\",\"XMLHttpRequestEventTarget\",\"XMLHttpRequestUpload\"],ii=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:\"BrowserApiErrors\",setupOnce(){t.setTimeout&&Ge(vr,\"setTimeout\",oi),t.setInterval&&Ge(vr,\"setInterval\",oi),t.requestAnimationFrame&&Ge(vr,\"requestAnimationFrame\",si),t.XMLHttpRequest&&\"XMLHttpRequest\"in vr&&Ge(XMLHttpRequest.prototype,\"send\",ai);const e=t.eventTarget;if(e){(Array.isArray(e)?e:ri).forEach(ci)}}}};function oi(e){return function(...t){const n=t[0];return t[0]=yr(n,{mechanism:{data:{function:ve(e)},handled:!1,type:\"instrument\"}}),e.apply(this,t)}}function si(e){return function(t){return e.apply(this,[yr(t,{mechanism:{data:{function:\"requestAnimationFrame\",handler:ve(e)},handled:!1,type:\"instrument\"}})])}}function ai(e){return function(...t){const n=this;return[\"onload\",\"onerror\",\"onprogress\",\"onreadystatechange\"].forEach((e=>{e in n&&\"function\"==typeof n[e]&&Ge(n,e,(function(t){const n={mechanism:{data:{function:e,handler:ve(t)},handled:!1,type:\"instrument\"}},r=Ye(t);return r&&(n.mechanism.data.handler=ve(r)),yr(t,n)}))})),e.apply(this,t)}}function ci(e){const t=vr[e],n=t&&t.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty(\"addEventListener\")&&(Ge(n,\"addEventListener\",(function(t){return function(n,r,i){try{\"function\"==typeof r.handleEvent&&(r.handleEvent=yr(r.handleEvent,{mechanism:{data:{function:\"handleEvent\",handler:ve(r),target:e},handled:!1,type:\"instrument\"}}))}catch(e){}return t.apply(this,[n,yr(r,{mechanism:{data:{function:\"addEventListener\",handler:ve(r),target:e},handled:!1,type:\"instrument\"}}),i])}})),Ge(n,\"removeEventListener\",(function(e){return function(t,n,r){try{const i=n.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch(e){}return e.call(this,t,n,r)}})))}const li=()=>({name:\"BrowserSession\",setupOnce(){void 0!==vr.document?(Cn({ignoreDuration:!0}),On(),Ur((({from:e,to:t})=>{void 0!==e&&e!==t&&(Cn({ignoreDuration:!0}),On())}))):br&&le.warn(\"Using the `browserSessionIntegration` in non-browser environments is not supported.\")}}),ui=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:\"GlobalHandlers\",setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){!function(e){const t=\"error\";be(t,e),_e(t,ke)}((t=>{const{stackParser:n,attachStacktrace:r}=pi();if(xt()!==e||mr())return;const{msg:i,url:o,line:s,column:a,error:c}=t,l=function(e,t,n,r){const i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],l=r,u=n,d=xe(t)&&t.length>0?t:function(){try{return Ve.document.location.href}catch(e){return\"\"}}();0===c.length&&c.push({colno:l,filename:d,function:ue,in_app:!0,lineno:u});return e}(Or(n,c||i,void 0,r,!1),o,s,a);l.level=\"error\",Mn(l,{originalException:c,mechanism:{handled:!1,type:\"onerror\"}})}))}(e),di(\"onerror\")),t.onunhandledrejection&&(!function(e){!function(e){const t=\"unhandledrejection\";be(t,e),_e(t,Ce)}((t=>{const{stackParser:n,attachStacktrace:r}=pi();if(xt()!==e||mr())return;const i=function(e){if(De(e))return e;try{if(\"reason\"in e)return e.reason;if(\"detail\"in e&&\"reason\"in e.detail)return e.detail.reason}catch(e){}return e}(t),o=De(i)?{exception:{values:[{type:\"UnhandledRejection\",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:Or(n,i,void 0,r,!0);o.level=\"error\",Mn(o,{originalException:i,mechanism:{handled:!1,type:\"onunhandledrejection\"}})}))}(e),di(\"onunhandledrejection\"))}}};function di(e){br&&le.log(`Global Handler attached: ${e}`)}function pi(){const e=xt();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const hi=()=>({name:\"HttpContext\",preprocessEvent(e){if(!vr.navigator&&!vr.location&&!vr.document)return;const t=e.request&&e.request.url||vr.location&&vr.location.href,{referrer:n}=vr.document||{},{userAgent:r}=vr.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{\"User-Agent\":r}},o={...e.request,...t&&{url:t},headers:i};e.request=o}}),fi=(e={})=>{const t=e.limit||5,n=e.key||\"cause\";return{name:\"LinkedErrors\",preprocessEvent(e,r,i){const o=i.getOptions();Kn(_r,o.stackParser,o.maxValueLength,n,t,e,r)}}};var vi=\"new\",gi=\"loading\",mi=\"loaded\",yi=\"joining-meeting\",bi=\"joined-meeting\",_i=\"left-meeting\",wi=\"error\",Si=\"blocked\",ki=\"off\",Mi=\"sendable\",Ci=\"loading\",Ei=\"interrupted\",Ti=\"playable\",Oi=\"unknown\",Pi=\"full\",Ai=\"lobby\",ji=\"none\",Ii=\"base\",xi=\"*\",Li=\"ejected\",Di=\"nbf-room\",Ni=\"nbf-token\",Ri=\"exp-room\",Fi=\"exp-token\",Bi=\"no-room\",Ui=\"meeting-full\",Vi=\"end-of-life\",Ji=\"not-allowed\",$i=\"connection-error\",qi=\"cam-in-use\",zi=\"mic-in-use\",Wi=\"cam-mic-in-use\",Hi=\"permissions\",Gi=\"undefined-mediadevices\",Qi=\"not-found\",Ki=\"constraints\",Yi=\"unknown\",Xi=\"iframe-ready-for-launch-config\",Zi=\"iframe-launch-config\",eo=\"theme-updated\",to=\"loading\",no=\"load-attempt-failed\",ro=\"loaded\",io=\"started-camera\",oo=\"camera-error\",so=\"joining-meeting\",ao=\"joined-meeting\",co=\"left-meeting\",lo=\"participant-joined\",uo=\"participant-updated\",po=\"participant-left\",ho=\"participant-counts-updated\",fo=\"access-state-updated\",vo=\"meeting-session-summary-updated\",go=\"meeting-session-state-updated\",mo=\"meeting-session-data-error\",yo=\"waiting-participant-added\",bo=\"waiting-participant-updated\",_o=\"waiting-participant-removed\",wo=\"track-started\",So=\"track-stopped\",ko=\"transcription-started\",Mo=\"transcription-stopped\",Co=\"transcription-error\",Eo=\"recording-started\",To=\"recording-stopped\",Oo=\"recording-stats\",Po=\"recording-error\",Ao=\"recording-upload-completed\",jo=\"recording-data\",Io=\"app-message\",xo=\"transcription-message\",Lo=\"remote-media-player-started\",Do=\"remote-media-player-updated\",No=\"remote-media-player-stopped\",Ro=\"local-screen-share-started\",Fo=\"local-screen-share-stopped\",Bo=\"local-screen-share-canceled\",Uo=\"active-speaker-change\",Vo=\"active-speaker-mode-change\",Jo=\"network-quality-change\",$o=\"network-connection\",qo=\"cpu-load-change\",zo=\"face-counts-updated\",Wo=\"fullscreen\",Ho=\"exited-fullscreen\",Go=\"live-streaming-started\",Qo=\"live-streaming-updated\",Ko=\"live-streaming-stopped\",Yo=\"live-streaming-error\",Xo=\"lang-updated\",Zo=\"receive-settings-updated\",es=\"input-settings-updated\",ts=\"nonfatal-error\",ns=\"error\",rs=4096,is=102400,os=\"iframe-call-message\",ss=\"local-screen-start\",as=\"daily-method-update-live-streaming-endpoints\",cs=\"transmit-log\",ls=\"daily-custom-track\",us={NONE:\"none\",BGBLUR:\"background-blur\",BGIMAGE:\"background-image\",FACE_DETECTION:\"face-detection\"},ds={NONE:\"none\",NOISE_CANCELLATION:\"noise-cancellation\"},ps={PLAY:\"play\",PAUSE:\"pause\"},hs=[\"jpg\",\"png\",\"jpeg\"],fs=\"add-endpoints\",vs=\"remove-endpoints\",gs=\"sip-call-transfer\";function ms(){return!ys()&&\"undefined\"!=typeof window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:\"\"}function ys(){return\"undefined\"!=typeof navigator&&navigator.product&&\"ReactNative\"===navigator.product}function bs(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function _s(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case\"Chrome\":return t.major>=75;case\"Safari\":return RTCRtpTransceiver.prototype.hasOwnProperty(\"currentDirection\")&&!(13===t.major&&0===t.minor&&0===t.point);case\"Firefox\":return t.major>=67}return!0}(Os(),Ps())||ys())}function ws(){if(ys())return!1;if(!document)return!1;var e=document.createElement(\"iframe\");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var Ss=function(){try{var e=document.createElement(\"canvas\"),t=null!=(navigator.webdriver?e.getContext(\"webgl2\"):e.getContext(\"webgl2\",{failIfMajorPerformanceCaveat:!0}));return e.remove(),t}catch(e){return!1}}();function ks(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!ys()&&(!!Ss&&(e?function(){if(Ts())return!1;return[\"Chrome\",\"Firefox\"].includes(Os())}():function(){if(Ts())return!1;var e=Os();if(\"Safari\"===e){var t=xs();if(t.major<15||15===t.major&&t.minor<4)return!1}if(\"Chrome\"===e){return As().major>=77}if(\"Firefox\"===e){return Ls().major>=97}return[\"Chrome\",\"Firefox\",\"Safari\"].includes(e)}()))}function Ms(){if(ys())return!1;if(Es())return!1;if(\"undefined\"==typeof AudioWorkletNode)return!1;switch(Os()){case\"Chrome\":case\"Firefox\":return!0;case\"Safari\":var e=Ps();return e.major>17||17===e.major&&e.minor>=4}return!1}function Cs(){return bs()&&!function(){var e,t=Os();if(!ms())return!0;switch(t){case\"Chrome\":return(e=As()).major&&e.major>0&&e.major<75;case\"Firefox\":return(e=Ls()).major<91;case\"Safari\":return(e=xs()).major<13||13===e.major&&e.minor<1;default:return!0}}()}function Es(){return ms().match(/Linux; Android/)}function Ts(){var e,t=ms(),n=t.match(/Mac/)&&(!ys()&&\"undefined\"!=typeof window&&null!==(e=window)&&void 0!==e&&null!==(e=e.navigator)&&void 0!==e&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||n)||(!!ms().match(/DailyAnd\\//)||void 0)}function Os(){if(\"undefined\"!=typeof window){var e=ms();return js()?\"Safari\":e.indexOf(\"Edge\")>-1?\"Edge\":e.match(/Chrome\\//)?\"Chrome\":e.indexOf(\"Safari\")>-1||Is()?\"Safari\":e.indexOf(\"Firefox\")>-1?\"Firefox\":e.indexOf(\"MSIE\")>-1||e.indexOf(\".NET\")>-1?\"IE\":\"Unknown Browser\"}}function Ps(){switch(Os()){case\"Chrome\":return As();case\"Safari\":return xs();case\"Firefox\":return Ls();case\"Edge\":return function(){var e=0,t=0;if(\"undefined\"!=typeof window){var n=ms().match(/Edge\\/(\\d+).(\\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch(e){}}return{major:e,minor:t}}()}}function As(){var e=0,t=0,n=0,r=0,i=!1;if(\"undefined\"!=typeof window){var o=ms(),s=o.match(/Chrome\\/(\\d+).(\\d+).(\\d+).(\\d+)/);if(s)try{e=parseInt(s[1]),t=parseInt(s[2]),n=parseInt(s[3]),r=parseInt(s[4]),i=o.indexOf(\"OPR/\")>-1}catch(e){}}return{major:e,minor:t,build:n,patch:r,opera:i}}function js(){return!!ms().match(/iPad|iPhone|iPod/i)&&bs()}function Is(){return ms().indexOf(\"AppleWebKit/605.1.15\")>-1}function xs(){var e=0,t=0,n=0;if(\"undefined\"!=typeof window){var r=ms().match(/Version\\/(\\d+).(\\d+)(.(\\d+))?/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2]),n=parseInt(r[4])}catch(e){}else(js()||Is())&&(e=14,t=0,n=3)}return{major:e,minor:t,point:n}}function Ls(){var e=0,t=0;if(\"undefined\"!=typeof window){var n=ms().match(/Firefox\\/(\\d+).(\\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch(e){}}return{major:e,minor:t}}var Ds=function(){return o((function e(){t(this,e)}),[{key:\"addListenerForMessagesFromCallMachine\",value:function(e,t,n){Y()}},{key:\"addListenerForMessagesFromDailyJs\",value:function(e,t,n){Y()}},{key:\"sendMessageToCallMachine\",value:function(e,t,n,r){Y()}},{key:\"sendMessageToDailyJs\",value:function(e,t){Y()}},{key:\"removeListener\",value:function(e){Y()}}])}();function Ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ns(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ns(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Fs=function(){return!!e})()}var Bs=function(){function e(){var n,r,i,o;return t(this,e),r=this,i=a(i=e),(n=s(r,Fs()?Reflect.construct(i,o||[],a(r).constructor):i.apply(r,o)))._wrappedListeners={},n._messageCallbacks={},n}return l(e,Ds),o(e,[{key:\"addListenerForMessagesFromCallMachine\",value:function(e,t,n){var r=this,i=function(i){if(i.data&&\"iframe-call-message\"===i.data.what&&(!i.data.callClientId||i.data.callClientId===t)&&(!i.data.from||\"module\"!==i.data.from)){var o=Rs({},i.data);if(delete o.from,o.callbackStamp&&r._messageCallbacks[o.callbackStamp]){var s=o.callbackStamp;r._messageCallbacks[s].call(n,o),delete r._messageCallbacks[s]}delete o.what,delete o.callbackStamp,e.call(n,o)}};this._wrappedListeners[e]=i,window.addEventListener(\"message\",i)}},{key:\"addListenerForMessagesFromDailyJs\",value:function(e,t,n){var r=function(r){var i;if(!(!r.data||r.data.what!==os||!r.data.action||r.data.from&&\"module\"!==r.data.from||r.data.callClientId&&t&&r.data.callClientId!==t||null!=r&&null!==(i=r.data)&&void 0!==i&&i.callFrameId)){var o=r.data;e.call(n,o)}};this._wrappedListeners[e]=r,window.addEventListener(\"message\",r)}},{key:\"sendMessageToCallMachine\",value:function(e,t,n,r){if(!n)throw new Error(\"undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?\");var i=Rs({},e);if(i.what=os,i.from=\"module\",i.callClientId=n,t){var o=K();this._messageCallbacks[o]=t,i.callbackStamp=o}var s=r?r.contentWindow:window,a=this._callMachineTargetOrigin(r);a&&s.postMessage(i,a)}},{key:\"sendMessageToDailyJs\",value:function(e,t){e.what=os,e.callClientId=t,e.from=\"embedded\",window.postMessage(e,this._targetOriginFromWindowLocation())}},{key:\"removeListener\",value:function(e){var t=this._wrappedListeners[e];t&&(window.removeEventListener(\"message\",t),delete this._wrappedListeners[e])}},{key:\"forwardPackagedMessageToCallMachine\",value:function(e,t,n){var r=Rs({},e);r.callClientId=n;var i=t?t.contentWindow:window,o=this._callMachineTargetOrigin(t);o&&i.postMessage(r,o)}},{key:\"addListenerForPackagedMessagesFromCallMachine\",value:function(e,t){var n=function(n){if(n.data&&\"iframe-call-message\"===n.data.what&&(!n.data.callClientId||n.data.callClientId===t)&&(!n.data.from||\"module\"!==n.data.from)){var r=n.data;e(r)}};return this._wrappedListeners[e]=n,window.addEventListener(\"message\",n),e}},{key:\"removeListenerForPackagedMessagesFromCallMachine\",value:function(e){var t=this._wrappedListeners[e];t&&(window.removeEventListener(\"message\",t),delete this._wrappedListeners[e])}},{key:\"_callMachineTargetOrigin\",value:function(e){return e?e.src?new URL(e.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:\"_targetOriginFromWindowLocation\",value:function(){return\"file:\"===window.location.protocol?\"*\":window.location.origin}}])}();function Us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Vs=function(){return!!e})()}var Js=function(){function e(){var n,r,i,o;return t(this,e),r=this,i=a(i=e),n=s(r,Vs()?Reflect.construct(i,o||[],a(r).constructor):i.apply(r,o)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new I.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new I.EventEmitter,n._wrappedListeners={},n._messageCallbacks={},n}return l(e,Ds),o(e,[{key:\"addListenerForMessagesFromCallMachine\",value:function(e,t,n){this._addListener(e,global.callMachineToDailyJsEmitter,t,n,\"received call machine message\")}},{key:\"addListenerForMessagesFromDailyJs\",value:function(e,t,n){this._addListener(e,global.dailyJsToCallMachineEmitter,t,n,\"received daily-js message\")}},{key:\"sendMessageToCallMachine\",value:function(e,t,n){this._sendMessage(e,global.dailyJsToCallMachineEmitter,n,t,\"sending message to call machine\")}},{key:\"sendMessageToDailyJs\",value:function(e,t){this._sendMessage(e,global.callMachineToDailyJsEmitter,t,null,\"sending message to daily-js\")}},{key:\"removeListener\",value:function(e){var t=this._wrappedListeners[e];t&&(global.callMachineToDailyJsEmitter.removeListener(\"message\",t),global.dailyJsToCallMachineEmitter.removeListener(\"message\",t),delete this._wrappedListeners[e])}},{key:\"_addListener\",value:function(e,t,n,r,i){var o=this,s=function(t){if(t.callClientId===n){if(t.callbackStamp&&o._messageCallbacks[t.callbackStamp]){var i=t.callbackStamp;o._messageCallbacks[i].call(r,t),delete o._messageCallbacks[i]}e.call(r,t)}};this._wrappedListeners[e]=s,t.addListener(\"message\",s)}},{key:\"_sendMessage\",value:function(e,t,n,r,i){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);if(o.callClientId=n,r){var s=K();this._messageCallbacks[s]=r,o.callbackStamp=s}t.emit(\"message\",o)}}])}(),$s=\"replace\",qs=\"shallow-merge\",zs=[$s,qs];var Ws=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.data,i=n.mergeStrategy,o=void 0===i?$s:i;t(this,e),e._validateMergeStrategy(o),e._validateData(r,o),this.mergeStrategy=o,this.data=r}return o(e,[{key:\"isNoOp\",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:\"isNoOpUpdate\",value:function(e,t){return 0===Object.keys(e).length&&t===qs}},{key:\"_validateMergeStrategy\",value:function(e){if(!zs.includes(e))throw Error(\"Unrecognized mergeStrategy provided. Options are: [\".concat(zs,\"]\"))}},{key:\"_validateData\",value:function(e,t){if(!function(e){if(null==e||\"object\"!==n(e))return!1;var t=Object.getPrototypeOf(e);return null==t||t===Object.prototype}(e))throw Error(\"Meeting session data must be a plain (map-like) object\");var r;try{if(r=JSON.stringify(e),t===$s){var i=JSON.parse(r);N(i,e)||console.warn(\"The meeting session data provided will be modified when serialized.\",i,e)}else if(t===qs)for(var o in e)if(Object.hasOwnProperty.call(e,o)&&void 0!==e[o]){var s=JSON.parse(JSON.stringify(e[o]));N(e[o],s)||console.warn(\"At least one key in the meeting session data provided will be modified when serialized.\",s,e[o])}}catch(e){throw Error(\"Meeting session data must be serializable to JSON: \".concat(e))}if(r.length>is)throw Error(\"Meeting session data is too large (\".concat(r.length,\" characters). Maximum size suppported is \").concat(is,\".\"))}}])}();function Hs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Hs=function(){return!!e})()}function Gs(e){var t=\"function\"==typeof Map?new Map:void 0;return Gs=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf(\"[native code]\")}catch(t){return\"function\"==typeof e}}(e))return e;if(\"function\"!=typeof e)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(Hs())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&c(i,n.prototype),i}(e,arguments,a(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)},Gs(e)}function Qs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Qs=function(){return!!e})()}function Ks(e){var t,n=null===(t=window._daily)||void 0===t?void 0:t.pendings;if(n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}var Ys=function(){return o((function e(n){t(this,e),this._currentLoad=null,this._callClientId=n}),[{key:\"load\",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new Xs(n,(function(){r(!1)}),(function(e,n){n||Ks(t._callClientId),i(e,n)})),this._currentLoad.start()}},{key:\"cancel\",value:function(){this._currentLoad&&this._currentLoad.cancel(),Ks(this._callClientId)}},{key:\"loaded\",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),Xs=function(){return o((function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;t(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=n,this._successCallback=r,this._failureCallback=i}),[{key:\"start\",value:function(){var e=this;if(!this._currentAttempt){var t=function(n){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(n,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout((function(){e._currentAttempt.cancelled||(e._currentAttempt=new ta(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())}),3e3))};this._currentAttempt=new ta(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:\"cancel\",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:\"cancelled\",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:\"succeeded\",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),Zs=function(){function e(){return t(this,e),n=this,i=arguments,r=a(r=e),s(n,Qs()?Reflect.construct(r,i||[],a(n).constructor):r.apply(n,i));var n,r,i}return l(e,Gs(Error)),o(e)}(),ea=2e4,ta=function(){return o((function e(n,r,i){t(this,e),this._loadAttemptImpl=ys()||!n.avoidEval?new na(n,r,i):new ra(n,r,i)}),[{key:\"start\",value:(e=p((function*(){return this._loadAttemptImpl.start()})),function(){return e.apply(this,arguments)})},{key:\"cancel\",value:function(){this._loadAttemptImpl.cancel()}},{key:\"cancelled\",get:function(){return this._loadAttemptImpl.cancelled}},{key:\"succeeded\",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),na=function(){return o((function e(n,r,i){t(this,e),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=\"undefined\"!=typeof iOSCallObjectBundleCache&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=n,this._successCallback=r,this._failureCallback=i}),[{key:\"start\",value:(i=p((function*(){var e=Z(this._dailyConfig);!(yield this._tryLoadFromIOSCache(e))&&this._loadFromNetwork(e)})),function(){return i.apply(this,arguments)})},{key:\"cancel\",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:\"_tryLoadFromIOSCache\",value:(r=p((function*(e){if(!this._iosCache)return!1;try{var t=yield this._iosCache.get(e);return!!this.cancelled||!!t&&(t.code?(Function('\"use strict\";'+t.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=t.refetchHeaders,!1))}catch(e){return!1}})),function(e){return r.apply(this,arguments)})},{key:\"_loadFromNetwork\",value:(n=p((function*(e){var t=this;this._networkTimeout=setTimeout((function(){t._networkTimedOut=!0,t._failureCallback({msg:\"Timed out (>\".concat(ea,\" ms) when loading call object bundle \").concat(e),type:\"timeout\"})}),ea);try{var n=this._refetchHeaders?{headers:this._refetchHeaders}:{},r=yield fetch(e,n);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new Zs;var i=yield this._getBundleCodeFromResponse(e,r);if(this.cancelled)throw new Zs;Function('\"use strict\";'+i)(),this._iosCache&&this._iosCache.set(e,i,r.headers),this.succeeded=!0,this._successCallback()}catch(t){if(clearTimeout(this._networkTimeout),t instanceof Zs||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:\"Failed to load call object bundle \".concat(e,\": \").concat(t),type:t.message})}})),function(e){return n.apply(this,arguments)})},{key:\"_getBundleCodeFromResponse\",value:(e=p((function*(e,t){if(t.ok)return yield t.text();if(this._iosCache&&304===t.status)return(yield this._iosCache.renew(e,t.headers)).code;throw new Error(\"Received \".concat(t.status,\" response\"))})),function(t,n){return e.apply(this,arguments)})}]);var e,n,r,i}(),ra=function(){return o((function e(n,r,i){t(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=n,this._successCallback=r,this._failureCallback=i,this._attemptId=K(),this._networkTimeout=null,this._scriptElement=null}),[{key:\"start\",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=Z(this._dailyConfig);\"object\"===(\"undefined\"==typeof document?\"undefined\":n(document))?this._startLoading(e):this._failureCallback({msg:\"Call object bundle must be loaded in a DOM/web context\",type:\"missing context\"})}},{key:\"cancel\",value:function(){this._stopLoading(),this.cancelled=!0}},{key:\"_startLoading\",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout((function(){t._stopLoading(),t._failureCallback({msg:\"Timed out (>\".concat(ea,\" ms) when loading call object bundle \").concat(e),type:\"timeout\"})}),ea);var n=document.getElementsByTagName(\"head\")[0],r=document.createElement(\"script\");this._scriptElement=r,r.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},r.onerror=function(e){t._stopLoading(),t._failureCallback({msg:\"Failed to load call object bundle \".concat(e.target.src),type:e.message})},r.src=e,n.appendChild(r)}},{key:\"_stopLoading\",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:\"_signUpForCallMachineLoadWaitlist\",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:\"_withdrawFromCallMachineLoadWaitlist\",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),ia=function(e,t,n){return!0===aa(e.local,t,n)},oa=function(e,t,n){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream[\"get\".concat(\"video\"===n?\"Video\":\"Audio\",\"Tracks\")]()[0]},sa=function(e,t,n,r){var i=ca(e,t,n,r);return i&&i.pendingTrack},aa=function(e,t,n){if(!e)return!1;var r=function(e){switch(e){case\"avatar\":return!0;case\"staged\":return e;default:return!!e}},i=e.public.subscribedTracks;return i&&i[t]?-1===[\"cam-audio\",\"cam-video\",\"screen-video\",\"screen-audio\",\"rmpAudio\",\"rmpVideo\"].indexOf(n)&&i[t].custom?[!0,\"staged\"].includes(i[t].custom)?r(i[t].custom):r(i[t].custom[n]):r(i[t][n]):!i||r(i.ALL)},ca=function(e,t,n,r){var i=Object.values(e.streams||{}).filter((function(e){return e.participantId===t&&e.type===n&&e.pendingTrack&&e.pendingTrack.kind===r})).sort((function(e,t){return new Date(t.starttime)-new Date(e.starttime)}));return i&&i[0]},la=function(e,t){var n=e.local.public.customTracks;if(n&&n[t])return n[t].track};function ua(e,t){for(var n=t.getState(),r=0,i=[\"cam\",\"screen\"];r<i.length;r++)for(var o=i[r],s=0,a=[\"video\",\"audio\"];s<a.length;s++){var c=a[s],l=\"cam\"===o?c:\"screen\".concat(c.charAt(0).toUpperCase()+c.slice(1)),u=e.tracks[l];if(u){var d=e.local?oa(n,o,c):sa(n,e.session_id,o,c);\"playable\"===u.state&&(u.track=d),u.persistentTrack=d}}}function da(e,t){try{var n=t.getState();for(var r in e.tracks)if(!pa(r)){var i=e.tracks[r].kind;if(i){var o=e.tracks[r];if(o){var s=e.local?la(n,r):sa(n,e.session_id,r,i);\"playable\"===o.state&&(e.tracks[r].track=s),o.persistentTrack=s}}else console.error(\"unknown type for custom track\")}}catch(e){console.error(e)}}function pa(e){return[\"video\",\"audio\",\"screenVideo\",\"screenAudio\"].includes(e)}function ha(e,t,n){var r=n.getState();if(e.local){if(e.audio)try{e.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch(e){}if(e.video)try{e.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch(e){}if(e.screen)try{e.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(e){}}else{var i=!0;try{var o=r.participants[e.session_id];o&&o.public&&o.public.rtcType&&\"peer-to-peer\"===o.public.rtcType.impl&&o.private&&![\"connected\",\"completed\"].includes(o.private.peeringState)&&(i=!1)}catch(e){console.error(e)}if(!i)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{r.streams;if(e.audio&&ia(r,e.session_id,\"cam-audio\")){var s=sa(r,e.session_id,\"cam\",\"audio\");s&&(t&&t.audioTrack&&t.audioTrack.id===s.id?e.audioTrack=s:s.muted||(e.audioTrack=s)),e.audioTrack||(e.audio=!1)}if(e.video&&ia(r,e.session_id,\"cam-video\")){var a=sa(r,e.session_id,\"cam\",\"video\");a&&(t&&t.videoTrack&&t.videoTrack.id===a.id?e.videoTrack=a:a.muted||(e.videoTrack=a)),e.videoTrack||(e.video=!1)}if(e.screen&&ia(r,e.session_id,\"screen-audio\")){var c=sa(r,e.session_id,\"screen\",\"audio\");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&ia(r,e.session_id,\"screen-video\")){var l=sa(r,e.session_id,\"screen\",\"video\");l&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===l.id?e.screenVideoTrack=l:l.muted||(e.screenVideoTrack=l))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(e){console.error(\"unexpected error matching up tracks\",e)}}}function fa(e,t){var n=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if(\"string\"==typeof e)return va(e,t);var n={}.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?va(e,t):void 0}}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function va(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ga=new Map,ma=null;function ya(e,t){var n=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if(\"string\"==typeof e)return ba(e,t);var n={}.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ba(e,t):void 0}}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _a=new Map,wa=null;function Sa(e){Ma()?function(e){ga.has(e)||(ga.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(t){ga.has(e)&&(ga.get(e).lastDevicesString=JSON.stringify(t),ma||(ma=function(){var e=p((function*(){var e,t=yield navigator.mediaDevices.enumerateDevices(),n=fa(ga.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value,i=JSON.stringify(t);i!==ga.get(r).lastDevicesString&&(ga.get(r).lastDevicesString=i,r(t))}}catch(e){n.e(e)}finally{n.f()}}));return function(){return e.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener(\"devicechange\",ma)))})).catch((function(){})))}(e):function(e){_a.has(e)||(_a.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(t){_a.has(e)&&(_a.get(e).lastDevicesString=JSON.stringify(t),wa||(wa=setInterval(p((function*(){var e,t=yield navigator.mediaDevices.enumerateDevices(),n=ya(_a.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value,i=JSON.stringify(t);i!==_a.get(r).lastDevicesString&&(_a.get(r).lastDevicesString=i,r(t))}}catch(e){n.e(e)}finally{n.f()}})),3e3)))})))}(e)}function ka(e){Ma()?function(e){ga.has(e)&&(ga.delete(e),0===ga.size&&ma&&(navigator.mediaDevices.removeEventListener(\"devicechange\",ma),ma=null))}(e):function(e){_a.has(e)&&(_a.delete(e),0===_a.size&&wa&&(clearInterval(wa),wa=null))}(e)}function Ma(){var e;return ys()||void 0!==(null===(e=navigator.mediaDevices)||void 0===e?void 0:e.ondevicechange)}var Ca=new Set;function Ea(e,t){var n=t.isLocalScreenVideo;return e&&\"live\"===e.readyState&&!function(e,t){return(!t.isLocalScreenVideo||\"Chrome\"!==Os())&&e.muted&&!Ca.has(e.id)}(e,{isLocalScreenVideo:n})}function Ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pa=Object.freeze({VIDEO:\"video\",AUDIO:\"audio\",SCREEN_VIDEO:\"screenVideo\",SCREEN_AUDIO:\"screenAudio\",CUSTOM_VIDEO:\"customVideo\",CUSTOM_AUDIO:\"customAudio\"}),Aa=Object.freeze({PARTICIPANTS:\"participants\",STREAMING:\"streaming\",TRANSCRIPTION:\"transcription\"}),ja=Object.values(Pa),Ia=[\"v\",\"a\",\"sv\",\"sa\",\"cv\",\"ca\"];Object.freeze(ja.reduce((function(e,t,n){return e[t]=Ia[n],e}),{})),Object.freeze(Ia.reduce((function(e,t,n){return e[t]=ja[n],e}),{}));var xa=[Pa.VIDEO,Pa.AUDIO,Pa.SCREEN_VIDEO,Pa.SCREEN_AUDIO],La=Object.values(Aa),Da=[\"p\",\"s\",\"t\"];Object.freeze(La.reduce((function(e,t,n){return e[t]=Da[n],e}),{})),Object.freeze(Da.reduce((function(e,t,n){return e[t]=La[n],e}),{}));var Na=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.base,i=n.byUserId,o=n.byParticipantId;t(this,e),this.base=r,this.byUserId=i,this.byParticipantId=o}return o(e,[{key:\"clone\",value:function(){var t=new e;if(this.base instanceof Ra?t.base=this.base.clone():t.base=this.base,void 0!==this.byUserId)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof Ra?r.clone():r}if(void 0!==this.byParticipantId)for(var i in t.byParticipantId={},this.byParticipantId){var o=this.byParticipantId[i];t.byParticipantId[i]=o instanceof Ra?o.clone():o}return t}},{key:\"toJSONObject\",value:function(){var e={};if(\"boolean\"==typeof this.base?e.base=this.base:this.base instanceof Ra&&(e.base=this.base.toJSONObject()),void 0!==this.byUserId)for(var t in e.byUserId={},this.byUserId){var n=this.byUserId[t];e.byUserId[t]=n instanceof Ra?n.toJSONObject():n}if(void 0!==this.byParticipantId)for(var r in e.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[r];e.byParticipantId[r]=i instanceof Ra?i.toJSONObject():i}return e}},{key:\"toMinifiedJSONObject\",value:function(){var e={};if(void 0!==this.base&&(\"boolean\"==typeof this.base?e.b=this.base:e.b=this.base.toMinifiedJSONObject()),void 0!==this.byUserId)for(var t in e.u={},this.byUserId){var n=this.byUserId[t];e.u[t]=\"boolean\"==typeof n?n:n.toMinifiedJSONObject()}if(void 0!==this.byParticipantId)for(var r in e.p={},this.byParticipantId){var i=this.byParticipantId[r];e.p[r]=\"boolean\"==typeof i?i:i.toMinifiedJSONObject()}return e}},{key:\"normalize\",value:function(){return this.base instanceof Ra&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map((function(e){var t=f(e,2),n=t[0],r=t[1];return[n,r instanceof Ra?r.normalize():r]})))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map((function(e){var t=f(e,2),n=t[0],r=t[1];return[n,r instanceof Ra?r.normalize():r]})))),this}}],[{key:\"fromJSONObject\",value:function(t){var n,r,i;if(void 0!==t.base&&(n=\"boolean\"==typeof t.base?t.base:Ra.fromJSONObject(t.base)),void 0!==t.byUserId)for(var o in r={},t.byUserId){var s=t.byUserId[o];r[o]=\"boolean\"==typeof s?s:Ra.fromJSONObject(s)}if(void 0!==t.byParticipantId)for(var a in i={},t.byParticipantId){var c=t.byParticipantId[a];i[a]=\"boolean\"==typeof c?c:Ra.fromJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:i})}},{key:\"fromMinifiedJSONObject\",value:function(t){var n,r,i;if(void 0!==t.b&&(n=\"boolean\"==typeof t.b?t.b:Ra.fromMinifiedJSONObject(t.b)),void 0!==t.u)for(var o in r={},t.u){var s=t.u[o];r[o]=\"boolean\"==typeof s?s:Ra.fromMinifiedJSONObject(s)}if(void 0!==t.p)for(var a in i={},t.p){var c=t.p[a];i[a]=\"boolean\"==typeof c?c:Ra.fromMinifiedJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:i})}},{key:\"validateJSONObject\",value:function(e){if(\"object\"!==n(e))return[!1,\"canReceive must be an object\"];for(var t=[\"base\",\"byUserId\",\"byParticipantId\"],r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];if(!t.includes(o))return[!1,\"canReceive can only contain keys (\".concat(t.join(\", \"),\")\")];if(\"base\"===o){var s=f(Ra.validateJSONObject(e.base,!0),2),a=s[0],c=s[1];if(!a)return[!1,c]}else{if(\"object\"!==n(e[o]))return[!1,\"invalid (non-object) value for field '\".concat(o,\"' in canReceive\")];for(var l=0,u=Object.values(e[o]);l<u.length;l++){var d=u[l],p=f(Ra.validateJSONObject(d),2),h=p[0],v=p[1];if(!h)return[!1,v]}}}return[!0]}}])}(),Ra=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.video,i=n.audio,o=n.screenVideo,s=n.screenAudio,a=n.customVideo,c=n.customAudio;t(this,e),this.video=r,this.audio=i,this.screenVideo=o,this.screenAudio=s,this.customVideo=a,this.customAudio=c}return o(e,[{key:\"clone\",value:function(){var t=new e;return void 0!==this.video&&(t.video=this.video),void 0!==this.audio&&(t.audio=this.audio),void 0!==this.screenVideo&&(t.screenVideo=this.screenVideo),void 0!==this.screenAudio&&(t.screenAudio=this.screenAudio),void 0!==this.customVideo&&(t.customVideo=Oa({},this.customVideo)),void 0!==this.customAudio&&(t.customAudio=Oa({},this.customAudio)),t}},{key:\"toJSONObject\",value:function(){var e={};return void 0!==this.video&&(e.video=this.video),void 0!==this.audio&&(e.audio=this.audio),void 0!==this.screenVideo&&(e.screenVideo=this.screenVideo),void 0!==this.screenAudio&&(e.screenAudio=this.screenAudio),void 0!==this.customVideo&&(e.customVideo=Oa({},this.customVideo)),void 0!==this.customAudio&&(e.customAudio=Oa({},this.customAudio)),e}},{key:\"toMinifiedJSONObject\",value:function(){var e={};return void 0!==this.video&&(e.v=this.video),void 0!==this.audio&&(e.a=this.audio),void 0!==this.screenVideo&&(e.sv=this.screenVideo),void 0!==this.screenAudio&&(e.sa=this.screenAudio),void 0!==this.customVideo&&(e.cv=Oa({},this.customVideo)),void 0!==this.customAudio&&(e.ca=Oa({},this.customAudio)),e}},{key:\"normalize\",value:function(){function e(e,t){return e&&1===Object.keys(e).length&&e[\"*\"]===t}return!(!0!==this.video||!0!==this.audio||!0!==this.screenVideo||!0!==this.screenAudio||!e(this.customVideo,!0)||!e(this.customAudio,!0))||(!1!==this.video||!1!==this.audio||!1!==this.screenVideo||!1!==this.screenAudio||!e(this.customVideo,!1)||!e(this.customAudio,!1))&&this}}],[{key:\"fromBoolean\",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{\"*\":t},customAudio:{\"*\":t}})}},{key:\"fromJSONObject\",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:void 0!==t.customVideo?Oa({},t.customVideo):void 0,customAudio:void 0!==t.customAudio?Oa({},t.customAudio):void 0})}},{key:\"fromMinifiedJSONObject\",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:\"validateJSONObject\",value:function(e,t){if(\"boolean\"==typeof e)return[!0];if(\"object\"!==n(e))return[!1,\"invalid (non-object, non-boolean) value in canReceive\"];for(var r=Object.keys(e),i=0,o=r;i<o.length;i++){var s=o[i];if(!ja.includes(s))return[!1,\"invalid media type '\".concat(s,\"' in canReceive\")];if(xa.includes(s)){if(\"boolean\"!=typeof e[s])return[!1,\"invalid (non-boolean) value for media type '\".concat(s,\"' in canReceive\")]}else{if(\"object\"!==n(e[s]))return[!1,\"invalid (non-object) value for media type '\".concat(s,\"' in canReceive\")];for(var a=0,c=Object.values(e[s]);a<c.length;a++){if(\"boolean\"!=typeof c[a])return[!1,\"invalid (non-boolean) value for entry within '\".concat(s,\"' in canReceive\")]}if(t&&void 0===e[s][\"*\"])return[!1,'canReceive \"base\" permission must specify \"*\" as an entry within \\''.concat(s,\"'\")]}}return t&&r.length!==ja.length?[!1,'canReceive \"base\" permission must specify all media types: '.concat(ja.join(\", \"),\" (or be set to a boolean shorthand)\")]:[!0]}}])}(),Fa=[\"result\"],Ba=[\"preserveIframe\"];function Ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ja(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ja=function(){return!!e})()}function $a(e,t){var n=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if(\"string\"==typeof e)return qa(e,t);var n={}.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qa(e,t):void 0}}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var za={};var Wa=\"video\",Ha=\"voice\",Ga=ys()?{data:{}}:{data:{},topology:\"none\"},Qa={present:0,hidden:0},Ka={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},Ya=Object.keys(Ka),Xa=[\"state\",\"volume\",\"simulcastEncodings\"],Za={androidInCallNotification:{title:\"string\",subtitle:\"string\",iconName:\"string\",disableForCustomOverride:\"boolean\"},disableAutoDeviceManagement:{audio:\"boolean\",video:\"boolean\"}},ec={id:{iconPath:\"string\",iconPathDarkMode:\"string\",label:\"string\",tooltip:\"string\",visualState:\"'default' | 'sidebar-open' | 'active'\"}},tc={id:{allow:\"string\",controlledBy:\"'*' | 'owners' | string[]\",csp:\"string\",iconURL:\"string\",label:\"string\",loading:\"'eager' | 'lazy'\",location:\"'main' | 'sidebar'\",name:\"string\",referrerPolicy:\"string\",sandbox:\"string\",src:\"string\",srcdoc:\"string\",shared:\"string[] | 'owners' | boolean\"}},nc={customIntegrations:{validate:Ec,help:Mc()},customTrayButtons:{validate:Cc,help:\"customTrayButtons should be a dictionary of the type \".concat(JSON.stringify(ec))},url:{validate:function(e){return\"string\"==typeof e},help:\"url should be a string\"},baseUrl:{validate:function(e){return\"string\"==typeof e},help:\"baseUrl should be a string\"},token:{validate:function(e){return\"string\"==typeof e},help:\"token should be a string\",queryString:\"t\"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(e){console.error(\"Failed to validate dailyConfig\",e)}return!1},help:\"Unsupported dailyConfig. Check error logs for detailed info.\"},reactNativeConfig:{validate:function(e){return Tc(e,Za)},help:\"reactNativeConfig should look like \".concat(JSON.stringify(Za),\", all fields optional\")},lang:{validate:function(e){return[\"da\",\"de\",\"en-us\",\"en\",\"es\",\"fi\",\"fr\",\"it\",\"jp\",\"ka\",\"nl\",\"no\",\"pl\",\"pt\",\"pt-BR\",\"ru\",\"sv\",\"tr\",\"user\"].includes(e)},help:\"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user\"},userName:!0,userData:{validate:function(e){try{return vc(e),!0}catch(e){return console.error(e),!1}},help:\"invalid userData type provided\"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(\"boolean\"==typeof e)return t._preloadCache.allowLocalVideo=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,n={customTrack:ls};else{if(delete t._sharedTracks.videoTrack,\"string\"!=typeof e)return console.error(\"videoSource must be a MediaStreamTrack, boolean, or a string\"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(e,t){if(\"boolean\"==typeof e)return t._preloadCache.allowLocalAudio=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,n={customTrack:ls};else{if(delete t._sharedTracks.audioTrack,\"string\"!=typeof e)return console.error(\"audioSource must be a MediaStreamTrack, boolean, or a string\"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=[\"accent\",\"accentText\",\"background\",\"backgroundAccent\",\"baseText\",\"border\",\"mainAreaBg\",\"mainAreaBgAccent\",\"mainAreaText\",\"supportiveText\"],r=function(e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!t.includes(i))return console.error('unsupported color \"'.concat(i,'\". Valid colors: ').concat(t.join(\", \"))),!1;if(!e[i].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error(\"\".concat(i,' theme color should be provided in valid hex color format. Received: \"').concat(e[i],'\"')),!1}return!0};return\"object\"===n(e)&&(\"light\"in e&&\"dark\"in e||\"colors\"in e)?\"light\"in e&&\"dark\"in e?\"colors\"in e.light?\"colors\"in e.dark?r(e.light.colors)&&r(e.dark.colors):(console.error('Dark theme is missing \"colors\" property.',e),!1):(console.error('Light theme is missing \"colors\" property.',e),!1):r(e.colors):(console.error('Theme must contain either both \"light\" and \"dark\" properties, or \"colors\".',e),!1)},help:\"unsupported theme configuration. Check error logs for detailed info.\"},layoutConfig:{validate:function(e){if(\"grid\"in e){var t=e.grid;if(\"maxTilesPerPage\"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error(\"grid.maxTilesPerPage should be an integer. You passed \".concat(t.maxTilesPerPage,\".\")),!1;if(t.maxTilesPerPage>49)return console.error(\"grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case.\"),!1}if(\"minTilesPerPage\"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error(\"grid.minTilesPerPage should be an integer. You passed \".concat(t.minTilesPerPage,\".\")),!1;if(t.minTilesPerPage<1)return console.error(\"grid.minTilesPerPage can't be lower than 1.\"),!1;if(\"maxTilesPerPage\"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error(\"grid.minTilesPerPage can't be higher than grid.maxTilesPerPage.\"),!1}}return!0},help:\"unsupported layoutConfig. Check error logs for detailed info.\"},receiveSettings:{validate:function(e){return gc(e,{allowAllParticipantsKey:!1})},help:kc({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(e,t){try{return t.validateUpdateSendSettings(e),!0}catch(e){return console.error(\"Failed to validate send settings\",e),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:\"Invalid sendSettings provided. Check error logs for detailed info.\"},inputSettings:{validate:function(e,t){var n;return!!mc(e)&&(t._inputSettings||(t._inputSettings={}),yc(e,null===(n=t.properties)||void 0===n?void 0:n.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:Sc()},layout:{validate:function(e){return\"custom-v1\"===e||\"browser\"===e||\"none\"===e},help:'layout may only be set to \"custom-v1\"',queryString:\"layout\"},emb:{queryString:\"emb\"},embHref:{queryString:\"embHref\"},dailyJsVersion:{queryString:\"dailyJsVersion\"},proxy:{queryString:\"proxy\"},strictMode:!0,allowMultipleCallInstances:!0},rc={styles:{validate:function(e){for(var t in e)if(\"cam\"!==t&&\"screen\"!==t)return!1;if(e.cam)for(var n in e.cam)if(\"div\"!==n&&\"video\"!==n)return!1;if(e.screen)for(var r in e.screen)if(\"div\"!==r&&\"video\"!==r)return!1;return!0},help:\"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }\"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,\"staged\"];if(n.includes(e)||!ys()&&\"avatar\"===e)return!0;var r=[\"audio\",\"video\",\"screenAudio\",\"screenVideo\",\"rmpAudio\",\"rmpVideo\"],i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var o in e)if(\"custom\"===o){if(!n.includes(e[o])&&!i(e[o],!0))return!1}else{var s=!t&&!r.includes(o),a=!n.includes(e[o]);if(s||a)return!1}return!0};return i(e)},help:\"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: \"+\"true\".concat(ys()?\"\":\" | 'avatar'\",\" | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }\")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return!1===e},help:\"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares\"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=f(n[t],2),i=r[0],o=r[1];switch(i){case\"hasPresence\":if(\"boolean\"!=typeof o)return!1;break;case\"canSend\":if(o instanceof Set||o instanceof Array||Array.isArray(o)){var s,a=[\"video\",\"audio\",\"screenVideo\",\"screenAudio\",\"customVideo\",\"customAudio\"],c=$a(o);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(!a.includes(l))return!1}}catch(e){c.e(e)}finally{c.f()}}else if(\"boolean\"!=typeof o)return!1;(o instanceof Array||Array.isArray(o))&&(e.canSend=new Set(o));break;case\"canReceive\":var u=f(Na.validateJSONObject(o),2),d=u[0],p=u[1];if(!d)return console.error(p),!1;break;case\"canAdmin\":if(o instanceof Set||o instanceof Array||Array.isArray(o)){var h,v=[\"participants\",\"streaming\",\"transcription\"],g=$a(o);try{for(g.s();!(h=g.n()).done;){var m=h.value;if(!v.includes(m))return!1}}catch(e){g.e(e)}finally{g.f()}}else if(\"boolean\"!=typeof o)return!1;(o instanceof Array||Array.isArray(o))&&(e.canAdmin=new Set(o));break;default:return!1}}return!0},help:\"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription).\"}};Promise.any||(Promise.any=function(){var e=p((function*(e){return new Promise((function(t,n){var r=[];e.forEach((function(i){return Promise.resolve(i).then((function(e){t(e)})).catch((function(t){r.push(t),r.length===e.length&&n(r)}))}))}))}));return function(t){return e.apply(this,arguments)}}());var ic=function(){function r(e){var n,i,o,c,l,d,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,r),o=this,c=a(c=r),u(i=s(o,Ja()?Reflect.construct(c,l||[],a(o).constructor):c.apply(o,l)),\"startListeningForDeviceChanges\",(function(){Sa(i.handleDeviceChange)})),u(i,\"stopListeningForDeviceChanges\",(function(){ka(i.handleDeviceChange)})),u(i,\"handleDeviceChange\",(function(e){e=e.map((function(e){return JSON.parse(JSON.stringify(e))})),i.emitDailyJSEvent({action:\"available-devices-updated\",availableDevices:e})})),u(i,\"handleNativeAppStateChange\",function(){var e=p((function*(e){if(\"destroyed\"===e)return console.warn(\"App has been destroyed before leaving the meeting. Cleaning up all the resources!\"),void(yield i.destroy());var t=\"active\"===e;i.disableReactNativeAutoDeviceManagement(\"video\")||(t?i.camUnmutedBeforeLosingNativeActiveState&&i.setLocalVideo(!0):(i.camUnmutedBeforeLosingNativeActiveState=i.localVideo(),i.camUnmutedBeforeLosingNativeActiveState&&i.setLocalVideo(!1)))}));return function(t){return e.apply(this,arguments)}}()),u(i,\"handleNativeAudioFocusChange\",(function(e){i.disableReactNativeAutoDeviceManagement(\"audio\")||(i._hasNativeAudioFocus=e,i.toggleParticipantAudioBasedOnNativeAudioFocus(),i._hasNativeAudioFocus?i.micUnmutedBeforeLosingNativeAudioFocus&&i.setLocalAudio(!0):(i.micUnmutedBeforeLosingNativeAudioFocus=i.localAudio(),i.setLocalAudio(!1)))})),u(i,\"handleNativeSystemScreenCaptureStop\",(function(){i.stopScreenShare()})),i.strictMode=void 0===h.strictMode||h.strictMode,i.allowMultipleCallInstances=null!==(n=h.allowMultipleCallInstances)&&void 0!==n&&n,Object.keys(za).length&&(i._logDuplicateInstanceAttempt(),!i.allowMultipleCallInstances)){if(i.strictMode)throw new Error(\"Duplicate DailyIframe instances are not allowed\");console.warn(\"Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`\")}if(window._daily||(window._daily={pendings:[],instances:{}}),i.callClientId=K(),za[(d=i).callClientId]=d,window._daily.instances[i.callClientId]={},i._sharedTracks={},window._daily.instances[i.callClientId].tracks=i._sharedTracks,h.dailyJsVersion=r.version(),i._iframe=e,i._callObjectMode=\"none\"===h.layout&&!i._iframe,i._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},void 0!==h.showLocalVideo?i._callObjectMode?console.error(\"showLocalVideo is not available in call object mode\"):i._showLocalVideo=!!h.showLocalVideo:i._showLocalVideo=!0,void 0!==h.showParticipantsBar?i._callObjectMode?console.error(\"showParticipantsBar is not available in call object mode\"):i._showParticipantsBar=!!h.showParticipantsBar:i._showParticipantsBar=!0,void 0!==h.customIntegrations?i._callObjectMode?console.error(\"customIntegrations is not available in call object mode\"):i._customIntegrations=h.customIntegrations:i._customIntegrations={},void 0!==h.customTrayButtons?i._callObjectMode?console.error(\"customTrayButtons is not available in call object mode\"):i._customTrayButtons=h.customTrayButtons:i._customTrayButtons={},void 0!==h.activeSpeakerMode?i._callObjectMode?console.error(\"activeSpeakerMode is not available in call object mode\"):i._activeSpeakerMode=!!h.activeSpeakerMode:i._activeSpeakerMode=!1,h.receiveSettings?i._callObjectMode?i._receiveSettings=h.receiveSettings:console.error(\"receiveSettings is only available in call object mode\"):i._receiveSettings={},i.validateProperties(h),i.properties=Va({},h),i._inputSettings||(i._inputSettings={}),i._callObjectLoader=i._callObjectMode?new Ys(i.callClientId):null,i._callState=vi,i._isPreparingToJoin=!1,i._accessState={access:Oi},i._meetingSessionSummary={},i._finalSummaryOfPrevSession={},i._meetingSessionState=jc(Ga,i._callObjectMode),i._nativeInCallAudioMode=Wa,i._participants={},i._isScreenSharing=!1,i._participantCounts=Qa,i._rmpPlayerState={},i._waitingParticipants={},i._network={threshold:\"good\",quality:100,networkState:\"unknown\",stats:{}},i._activeSpeaker={},i._localAudioLevel=0,i._isLocalAudioLevelObserverRunning=!1,i._remoteParticipantsAudioLevel={},i._isRemoteParticipantsAudioLevelObserverRunning=!1,i._maxAppMessageSize=rs,i._messageChannel=ys()?new Js:new Bs,i._iframe&&(i._iframe.requestFullscreen?i._iframe.addEventListener(\"fullscreenchange\",(function(){document.fullscreenElement===i._iframe?(i.emitDailyJSEvent({action:Wo}),i.sendMessageToCallMachine({action:Wo})):(i.emitDailyJSEvent({action:Ho}),i.sendMessageToCallMachine({action:Ho}))})):i._iframe.webkitRequestFullscreen&&i._iframe.addEventListener(\"webkitfullscreenchange\",(function(){document.webkitFullscreenElement===i._iframe?(i.emitDailyJSEvent({action:Wo}),i.sendMessageToCallMachine({action:Wo})):(i.emitDailyJSEvent({action:Ho}),i.sendMessageToCallMachine({action:Ho}))}))),ys()){var f=i.nativeUtils();f.addAudioFocusChangeListener&&f.removeAudioFocusChangeListener&&f.addAppStateChangeListener&&f.removeAppStateChangeListener&&f.addSystemScreenCaptureStopListener&&f.removeSystemScreenCaptureStopListener||console.warn(\"expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native\"),i._hasNativeAudioFocus=!0,f.addAudioFocusChangeListener(i.handleNativeAudioFocusChange),f.addAppStateChangeListener(i.handleNativeAppStateChange),f.addSystemScreenCaptureStopListener(i.handleNativeSystemScreenCaptureStop)}return i._callObjectMode&&i.startListeningForDeviceChanges(),i._messageChannel.addListenerForMessagesFromCallMachine(i.handleMessageFromCallMachine,i.callClientId,i),i}return l(r,x),o(r,[{key:\"destroy\",value:(ee=p((function*(){var e;try{yield this.leave()}catch(e){}var t=this._iframe;if(t){var n=t.parentElement;n&&n.removeChild(t)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),ys()){var r=this.nativeUtils();r.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),r.removeAppStateChangeListener(this.handleNativeAppStateChange),r.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:\"call-instance-destroyed\"}),delete za[this.callClientId],(null===(e=window)||void 0===e||null===(e=e._daily)||void 0===e?void 0:e.instances)&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)})),function(){return ee.apply(this,arguments)})},{key:\"isDestroyed\",value:function(){return!!this._destroyed}},{key:\"loadCss\",value:function(e){var t=e.bodyClass,n=e.cssFile,r=e.cssText;return hc(),this.sendMessageToCallMachine({action:\"load-css\",cssFile:this.absoluteUrl(n),bodyClass:t,cssText:r}),this}},{key:\"iframe\",value:function(){return hc(),this._iframe}},{key:\"meetingState\",value:function(){return this._callState}},{key:\"accessState\",value:function(){return dc(this._callObjectMode,\"accessState()\"),this._accessState}},{key:\"participants\",value:function(){return this._participants}},{key:\"participantCounts\",value:function(){return this._participantCounts}},{key:\"waitingParticipants\",value:function(){return dc(this._callObjectMode,\"waitingParticipants()\"),this._waitingParticipants}},{key:\"validateParticipantProperties\",value:function(e,t){for(var n in t){if(!rc[n])throw new Error(\"unrecognized updateParticipant property \".concat(n));if(rc[n].validate&&!rc[n].validate(t[n],this,this._participants[e]))throw new Error(rc[n].help)}}},{key:\"updateParticipant\",value:function(e,t){return this._participants.local&&this._participants.local.session_id===e&&(e=\"local\"),e&&t&&(this.validateParticipantProperties(e,t),this.sendMessageToCallMachine({action:\"update-participant\",id:e,properties:t})),this}},{key:\"updateParticipants\",value:function(e){var t=this._participants.local&&this._participants.local.session_id;for(var n in e)n===t&&(n=\"local\"),n&&e[n]&&this.validateParticipantProperties(n,e[n]);return this.sendMessageToCallMachine({action:\"update-participants\",participants:e}),this}},{key:\"updateWaitingParticipant\",value:(Y=p((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(dc(this._callObjectMode,\"updateWaitingParticipant()\"),sc(this._callState,\"updateWaitingParticipant()\"),\"string\"!=typeof t||\"object\"!==n(r))throw new Error(\"updateWaitingParticipant() must take an id string and a updates object\");return new Promise((function(n,i){e.sendMessageToCallMachine({action:\"daily-method-update-waiting-participant\",id:t,updates:r},(function(e){e.error&&i(e.error),e.id||i(new Error(\"unknown error in updateWaitingParticipant()\")),n({id:e.id})}))}))})),function(){return Y.apply(this,arguments)})},{key:\"updateWaitingParticipants\",value:(G=p((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(dc(this._callObjectMode,\"updateWaitingParticipants()\"),sc(this._callState,\"updateWaitingParticipants()\"),\"object\"!==n(t))throw new Error(\"updateWaitingParticipants() must take a mapping between ids and update objects\");return new Promise((function(n,r){e.sendMessageToCallMachine({action:\"daily-method-update-waiting-participants\",updatesById:t},(function(e){e.error&&r(e.error),e.ids||r(new Error(\"unknown error in updateWaitingParticipants()\")),n({ids:e.ids})}))}))})),function(){return G.apply(this,arguments)})},{key:\"requestAccess\",value:(H=p((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.access,r=void 0===n?{level:Pi}:n,i=t.name,o=void 0===i?\"\":i;return dc(this._callObjectMode,\"requestAccess()\"),sc(this._callState,\"requestAccess()\"),new Promise((function(t,n){e.sendMessageToCallMachine({action:\"daily-method-request-access\",access:r,name:o},(function(e){e.error&&n(e.error),e.access||n(new Error(\"unknown error in requestAccess()\")),t({access:e.access,granted:e.granted})}))}))})),function(){return H.apply(this,arguments)})},{key:\"localAudio\",value:function(){return this._participants.local?![\"blocked\",\"off\"].includes(this._participants.local.tracks.audio.state):null}},{key:\"localVideo\",value:function(){return this._participants.local?![\"blocked\",\"off\"].includes(this._participants.local.tracks.video.state):null}},{key:\"setLocalAudio\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return\"forceDiscardTrack\"in t&&(ys()?(console.warn(\"forceDiscardTrack option not supported in React Native; ignoring\"),t={}):e&&(console.warn(\"forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring\"),t={})),this.sendMessageToCallMachine({action:\"local-audio\",state:e,options:t}),this}},{key:\"localScreenAudio\",value:function(){return this._participants.local?![\"blocked\",\"off\"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:\"localScreenVideo\",value:function(){return this._participants.local?![\"blocked\",\"off\"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:\"updateScreenShare\",value:function(e){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:\"local-screen-update\",options:e}),this;console.warn(\"There is no screen share in progress. Try calling startScreenShare first.\")}},{key:\"setLocalVideo\",value:function(e){return this.sendMessageToCallMachine({action:\"local-video\",state:e}),this}},{key:\"_setAllowLocalAudio\",value:function(e){if(this._preloadCache.allowLocalAudio=e,this._callMachineInitialized)return this.sendMessageToCallMachine({action:\"set-allow-local-audio\",state:e}),this}},{key:\"_setAllowLocalVideo\",value:function(e){if(this._preloadCache.allowLocalVideo=e,this._callMachineInitialized)return this.sendMessageToCallMachine({action:\"set-allow-local-video\",state:e}),this}},{key:\"getReceiveSettings\",value:(W=p((function*(e){var t=this,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).showInheritedValues,i=void 0!==r&&r;if(dc(this._callObjectMode,\"getReceiveSettings()\"),!this._callMachineInitialized)return this._receiveSettings;switch(n(e)){case\"string\":return new Promise((function(n){t.sendMessageToCallMachine({action:\"get-single-participant-receive-settings\",id:e,showInheritedValues:i},(function(e){n(e.receiveSettings)}))}));case\"undefined\":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or \"base\"), or there should be no arguments')}})),function(e){return W.apply(this,arguments)})},{key:\"updateReceiveSettings\",value:(z=p((function*(e){var t=this;if(dc(this._callObjectMode,\"updateReceiveSettings()\"),!gc(e,{allowAllParticipantsKey:!0}))throw new Error(kc({allowAllParticipantsKey:!0}));return sc(this._callState,\"updateReceiveSettings()\",\"To specify receive settings earlier, use the receiveSettings config property.\"),new Promise((function(n){t.sendMessageToCallMachine({action:\"update-receive-settings\",receiveSettings:e},(function(e){n({receiveSettings:e.receiveSettings})}))}))})),function(e){return z.apply(this,arguments)})},{key:\"_prepInputSettingsForSharing\",value:function(e,t){if(e){var n={};if(e.audio){var r,i,o;e.audio.settings&&(!Object.keys(e.audio.settings).length&&t||(n.audio={settings:Va({},e.audio.settings)})),t&&null!==(r=n.audio)&&void 0!==r&&null!==(r=r.settings)&&void 0!==r&&r.customTrack&&(n.audio.settings={customTrack:this._sharedTracks.audioTrack});var s=\"none\"===(null===(i=e.audio.processor)||void 0===i?void 0:i.type)&&(null===(o=e.audio.processor)||void 0===o?void 0:o._isDefaultWhenNone);if(e.audio.processor&&!s){var a=Va({},e.audio.processor);delete a._isDefaultWhenNone,n.audio=Va(Va({},n.audio),{},{processor:a})}}if(e.video){var c,l,u;e.video.settings&&(!Object.keys(e.video.settings).length&&t||(n.video={settings:Va({},e.video.settings)})),t&&null!==(c=n.video)&&void 0!==c&&null!==(c=c.settings)&&void 0!==c&&c.customTrack&&(n.video.settings={customTrack:this._sharedTracks.videoTrack});var d=\"none\"===(null===(l=e.video.processor)||void 0===l?void 0:l.type)&&(null===(u=e.video.processor)||void 0===u?void 0:u._isDefaultWhenNone);if(e.video.processor&&!d){var p=Va({},e.video.processor);delete p._isDefaultWhenNone,n.video=Va(Va({},n.video),{},{processor:p})}}return n}}},{key:\"getInputSettings\",value:function(){var e=this;return hc(),new Promise((function(t){t(e._getInputSettings())}))}},{key:\"_getInputSettings\",value:function(){var e,t,n,r,i,o,s={processor:{type:\"none\",_isDefaultWhenNone:!0}};this._inputSettings?(e=(null===(n=this._inputSettings)||void 0===n?void 0:n.video)||s,t=(null===(r=this._inputSettings)||void 0===r?void 0:r.audio)||s):(e=(null===(i=this._preloadCache)||void 0===i||null===(i=i.inputSettings)||void 0===i?void 0:i.video)||s,t=(null===(o=this._preloadCache)||void 0===o||null===(o=o.inputSettings)||void 0===o?void 0:o.audio)||s);var a={audio:t,video:e};return this._prepInputSettingsForSharing(a,!0)}},{key:\"_updatePreloadCacheInputSettings\",value:function(e,t){var n=this._inputSettings||{},r={};if(e.video){var i,o,s;if(r.video={},e.video.settings)r.video.settings={},t||e.video.settings.customTrack||null===(s=n.video)||void 0===s||!s.settings?r.video.settings=e.video.settings:r.video.settings=Va(Va({},n.video.settings),e.video.settings),Object.keys(r.video.settings).length||delete r.video.settings;else null!==(i=n.video)&&void 0!==i&&i.settings&&(r.video.settings=n.video.settings);e.video.processor?r.video.processor=e.video.processor:null!==(o=n.video)&&void 0!==o&&o.processor&&(r.video.processor=n.video.processor)}else n.video&&(r.video=n.video);if(e.audio){var a,c,l;if(r.audio={},e.audio.settings)r.audio.settings={},t||e.audio.settings.customTrack||null===(l=n.audio)||void 0===l||!l.settings?r.audio.settings=e.audio.settings:r.audio.settings=Va(Va({},n.audio.settings),e.audio.settings),Object.keys(r.audio.settings).length||delete r.audio.settings;else null!==(a=n.audio)&&void 0!==a&&a.settings&&(r.audio.settings=n.audio.settings);e.audio.processor?r.audio.processor=e.audio.processor:null!==(c=n.audio)&&void 0!==c&&c.processor&&(r.audio.processor=n.audio.processor)}else n.audio&&(r.audio=n.audio);this._maybeUpdateInputSettings(r)}},{key:\"_devicesFromInputSettings\",value:function(e){var t,n,r=(null==e||null===(t=e.video)||void 0===t||null===(t=t.settings)||void 0===t?void 0:t.deviceId)||null,i=(null==e||null===(n=e.audio)||void 0===n||null===(n=n.settings)||void 0===n?void 0:n.deviceId)||null,o=this._preloadCache.outputDeviceId||null;return{camera:r?{deviceId:r}:{},mic:i?{deviceId:i}:{},speaker:o?{deviceId:o}:{}}}},{key:\"updateInputSettings\",value:(q=p((function*(e){var t=this;return hc(),mc(e)?e.video||e.audio?(yc(e,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(e,!0),this._getInputSettings()):new Promise((function(n,r){t.sendMessageToCallMachine({action:\"update-input-settings\",inputSettings:e},(function(i){if(i.error)r(i.error);else{if(i.returnPreloadCache)return t._updatePreloadCacheInputSettings(e,!0),void n(t._getInputSettings());t._maybeUpdateInputSettings(i.inputSettings),n(t._prepInputSettingsForSharing(i.inputSettings,!0))}}))}))):this._getInputSettings():(console.error(Sc()),Promise.reject(Sc()))})),function(e){return q.apply(this,arguments)})},{key:\"setBandwidth\",value:function(e){var t=e.kbs,n=e.trackConstraints;if(hc(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:\"set-bandwidth\",kbs:t,trackConstraints:n}),this}},{key:\"getDailyLang\",value:function(){var e=this;if(hc(),this._callMachineInitialized)return new Promise((function(t){e.sendMessageToCallMachine({action:\"get-daily-lang\"},(function(e){delete e.action,delete e.callbackStamp,t(e)}))}))}},{key:\"setDailyLang\",value:function(e){return hc(),this.sendMessageToCallMachine({action:\"set-daily-lang\",lang:e}),this}},{key:\"setProxyUrl\",value:function(e){return this.sendMessageToCallMachine({action:\"set-proxy-url\",proxyUrl:e}),this}},{key:\"setIceConfig\",value:function(e){return this.sendMessageToCallMachine({action:\"set-ice-config\",iceConfig:e}),this}},{key:\"meetingSessionSummary\",value:function(){return[_i,wi].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:\"getMeetingSession\",value:($=p((function*(){var e=this;return console.warn(\"getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately\"),sc(this._callState,\"getMeetingSession()\"),new Promise((function(t){e.sendMessageToCallMachine({action:\"get-meeting-session\"},(function(e){delete e.action,delete e.callbackStamp,t(e)}))}))})),function(){return $.apply(this,arguments)})},{key:\"meetingSessionState\",value:function(){return sc(this._callState,\"meetingSessionState\"),this._meetingSessionState}},{key:\"setMeetingSessionData\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"replace\";dc(this._callObjectMode,\"setMeetingSessionData()\"),sc(this._callState,\"setMeetingSessionData\");try{!function(e,t){new Ws({data:e,mergeStrategy:t})}(e,t)}catch(e){throw console.error(e),e}try{this.sendMessageToCallMachine({action:\"set-session-data\",data:e,mergeStrategy:t})}catch(e){throw new Error(\"Error setting meeting session data: \".concat(e))}}},{key:\"setUserName\",value:function(e,t){var n=this;return this.properties.userName=e,new Promise((function(r){n.sendMessageToCallMachine({action:\"set-user-name\",name:null!=e?e:\"\",thisMeetingOnly:ys()||!!t&&!!t.thisMeetingOnly},(function(e){delete e.action,delete e.callbackStamp,r(e)}))}))}},{key:\"setUserData\",value:(J=p((function*(e){var t=this;try{vc(e)}catch(e){throw console.error(e),e}if(this.properties.userData=e,this._callMachineInitialized)return new Promise((function(n){try{t.sendMessageToCallMachine({action:\"set-user-data\",userData:e},(function(e){delete e.action,delete e.callbackStamp,n(e)}))}catch(e){throw new Error(\"Error setting user data: \".concat(e))}}))})),function(e){return J.apply(this,arguments)})},{key:\"validateAudioLevelInterval\",value:function(e){if(e&&(e<100||\"number\"!=typeof e))throw new Error(\"The interval must be a number greater than or equal to 100 milliseconds.\")}},{key:\"startLocalAudioLevelObserver\",value:function(e){var t=this;if(\"undefined\"==typeof AudioWorkletNode&&!ys())throw new Error(\"startLocalAudioLevelObserver() is not supported on this browser\");if(this.validateAudioLevelInterval(e),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise((function(n,r){t.sendMessageToCallMachine({action:\"start-local-audio-level-observer\",interval:e},(function(e){t._isLocalAudioLevelObserverRunning=!e.error,e.error?r({error:e.error}):n()}))}));this._preloadCache.localAudioLevelObserver={enabled:!0,interval:e}}},{key:\"isLocalAudioLevelObserverRunning\",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:\"stopLocalAudioLevelObserver\",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:\"stop-local-audio-level-observer\"})}},{key:\"startRemoteParticipantsAudioLevelObserver\",value:function(e){var t=this;if(this.validateAudioLevelInterval(e),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise((function(n,r){t.sendMessageToCallMachine({action:\"start-remote-participants-audio-level-observer\",interval:e},(function(e){t._isRemoteParticipantsAudioLevelObserverRunning=!e.error,e.error?r({error:e.error}):n()}))}));this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:e}}},{key:\"isRemoteParticipantsAudioLevelObserverRunning\",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:\"stopRemoteParticipantsAudioLevelObserver\",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:\"stop-remote-participants-audio-level-observer\"})}},{key:\"startCamera\",value:(V=p((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(dc(this._callObjectMode,\"startCamera()\"),cc(this._callState,this._isPreparingToJoin,\"startCamera()\",\"Did you mean to use setLocalAudio() and/or setLocalVideo() instead?\"),this.needsLoad())try{yield this.load(t)}catch(e){return Promise.reject(e)}else{if(this._didPreAuth){if(t.url&&t.url!==this.properties.url)return console.error(\"url in startCamera() is different than the one used in preAuth()\"),Promise.reject();if(t.token&&t.token!==this.properties.token)return console.error(\"token in startCamera() is different than the one used in preAuth()\"),Promise.reject()}this.validateProperties(t),this.properties=Va(Va({},this.properties),t)}return new Promise((function(t){e._preloadCache.inputSettings=e._prepInputSettingsForSharing(e._inputSettings,!1),e.sendMessageToCallMachine({action:\"start-camera\",properties:oc(e.properties,e.callClientId),preloadCache:oc(e._preloadCache,e.callClientId)},(function(e){t({camera:e.camera,mic:e.mic,speaker:e.speaker})}))}))})),function(){return V.apply(this,arguments)})},{key:\"validateCustomTrack\",value:function(e,t,n){if(n&&n.length>50)throw new Error(\"Custom track `trackName` must not be more than 50 characters\");if(t&&\"music\"!==t&&\"speech\"!==t&&!(t instanceof Object))throw new Error(\"Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`\");if(!!n&&[\"cam-audio\",\"cam-video\",\"screen-video\",\"screen-audio\",\"rmpAudio\",\"rmpVideo\",\"customVideoDefaults\"].includes(n))throw new Error(\"Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo\");if(!(e instanceof MediaStreamTrack))throw new Error(\"Custom tracks provided must be instances of MediaStreamTrack\")}},{key:\"startCustomTrack\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{track:track,mode:mode,trackName:trackName};return hc(),sc(this._callState,\"startCustomTrack()\"),this.validateCustomTrack(t.track,t.mode,t.trackName),new Promise((function(n,r){e._sharedTracks.customTrack=t.track,t.track=ls,e.sendMessageToCallMachine({action:\"start-custom-track\",properties:t},(function(e){e.error?r({error:e.error}):n(e.mediaTag)}))}))}},{key:\"stopCustomTrack\",value:function(e){var t=this;return hc(),sc(this._callState,\"stopCustomTrack()\"),new Promise((function(n){t.sendMessageToCallMachine({action:\"stop-custom-track\",mediaTag:e},(function(e){n(e.mediaTag)}))}))}},{key:\"setCamera\",value:function(e){var t=this;return fc(),lc(this._callMachineInitialized,\"setCamera()\"),new Promise((function(n){t.sendMessageToCallMachine({action:\"set-camera\",cameraDeviceId:e},(function(e){n({device:e.device})}))}))}},{key:\"setAudioDevice\",value:(U=p((function*(e){return fc(),this.nativeUtils().setAudioDevice(e),{deviceId:yield this.nativeUtils().getAudioDevice()}})),function(e){return U.apply(this,arguments)})},{key:\"cycleCamera\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n){e.sendMessageToCallMachine({action:\"cycle-camera\",properties:t},(function(e){n({device:e.device})}))}))}},{key:\"cycleMic\",value:function(){var e=this;return hc(),new Promise((function(t){e.sendMessageToCallMachine({action:\"cycle-mic\"},(function(e){t({device:e.device})}))}))}},{key:\"getCameraFacingMode\",value:function(){var e=this;return fc(),new Promise((function(t){e.sendMessageToCallMachine({action:\"get-camera-facing-mode\"},(function(e){t(e.facingMode)}))}))}},{key:\"setInputDevicesAsync\",value:(B=p((function*(e){var t=this,n=e.audioDeviceId,r=e.videoDeviceId,i=e.audioSource,o=e.videoSource;if(hc(),void 0!==i&&(n=i),void 0!==o&&(r=o),\"boolean\"==typeof n&&(this._setAllowLocalAudio(n),n=void 0),\"boolean\"==typeof r&&(this._setAllowLocalVideo(r),r=void 0),!n&&!r)return yield this.getInputDevices();var s={};return n&&(n instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=n,n=ls,s.audio={settings:{customTrack:n}}):(delete this._sharedTracks.audioTrack,s.audio={settings:{deviceId:n}})),r&&(r instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=r,r=ls,s.video={settings:{customTrack:r}}):(delete this._sharedTracks.videoTrack,s.video={settings:{deviceId:r}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(s,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise((function(e){t.sendMessageToCallMachine({action:\"set-input-devices\",audioDeviceId:n,videoDeviceId:r},(function(n){if(delete n.action,delete n.callbackStamp,n.returnPreloadCache)return t._updatePreloadCacheInputSettings(s,!1),void e(t._devicesFromInputSettings(t._inputSettings));e(n)}))}))})),function(e){return B.apply(this,arguments)})},{key:\"setOutputDeviceAsync\",value:(F=p((function*(e){var t=this,n=e.outputDeviceId;return hc(),n&&(this._preloadCache.outputDeviceId=n),this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise((function(e){t.sendMessageToCallMachine({action:\"set-output-device\",outputDeviceId:n},(function(n){delete n.action,delete n.callbackStamp,n.returnPreloadCache?e(t._devicesFromInputSettings(t._inputSettings)):e(n)}))}))})),function(e){return F.apply(this,arguments)})},{key:\"getInputDevices\",value:(R=p((function*(){var e=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise((function(t){e.sendMessageToCallMachine({action:\"get-input-devices\"},(function(n){n.returnPreloadCache?t(e._devicesFromInputSettings(e._inputSettings)):t({camera:n.camera,mic:n.mic,speaker:n.speaker})}))}))})),function(){return R.apply(this,arguments)})},{key:\"nativeInCallAudioMode\",value:function(){return fc(),this._nativeInCallAudioMode}},{key:\"setNativeInCallAudioMode\",value:function(e){if(fc(),[Wa,Ha].includes(e)){if(e!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=e,!this.disableReactNativeAutoDeviceManagement(\"audio\")&&ac(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error(\"invalid in-call audio mode specified: \",e)}},{key:\"preAuth\",value:(D=p((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(dc(this._callObjectMode,\"preAuth()\"),cc(this._callState,this._isPreparingToJoin,\"preAuth()\"),this.needsLoad()&&(yield this.load(t)),!t.url)throw new Error(\"preAuth() requires at least a url to be provided\");return this.validateProperties(t),this.properties=Va(Va({},this.properties),t),new Promise((function(t,n){e._preloadCache.inputSettings=e._prepInputSettingsForSharing(e._inputSettings,!1),e.sendMessageToCallMachine({action:\"daily-method-preauth\",properties:oc(e.properties,e.callClientId),preloadCache:oc(e._preloadCache,e.callClientId)},(function(r){return r.error?n(r.error):r.access?(e._didPreAuth=!0,void t({access:r.access})):n(new Error(\"unknown error in preAuth()\"))}))}))})),function(){return D.apply(this,arguments)})},{key:\"load\",value:(L=p((function*(e){var t=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error(\"Use after destroy\");if(e&&(this.validateProperties(e),this.properties=Va(Va({},this.properties),e)),!this._callObjectMode&&!this.properties.url)throw new Error(\"can't load iframe meeting because url property isn't set\");return this._updateCallState(gi),this.emitDailyJSEvent({action:to}),this._callObjectMode?new Promise((function(e,n){t._callObjectLoader.cancel();var r=Date.now();t._callObjectLoader.load(t.properties.dailyConfig,(function(n){t._bundleLoadTime=n?\"no-op\":Date.now()-r,t._updateCallState(mi),n&&t.emitDailyJSEvent({action:ro}),e()}),(function(e,r){if(t.emitDailyJSEvent({action:no}),!r){t._updateCallState(wi),t.resetMeetingDependentVars();var i={action:ns,errorMsg:e.msg,error:{type:\"connection-error\",msg:\"Failed to load call object bundle.\",details:{on:\"load\",sourceError:e,bundleUrl:Z(t.properties.dailyConfig)}}};t._maybeSendToSentry(i),t.emitDailyJSEvent(i),n(e.msg)}}))})):(this._iframe.src=X(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise((function(e,n){t._loadedCallback=function(r){t._callState!==wi?(t._updateCallState(mi),(t.properties.cssFile||t.properties.cssText)&&t.loadCss(t.properties),e()):n(r)}})))}})),function(e){return L.apply(this,arguments)})},{key:\"join\",value:(I=p((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var n=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(t)}catch(e){return this.updateIsPreparingToJoin(!1),Promise.reject(e)}}else{if(n=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(t.url&&t.url!==this.properties.url)return console.error(\"url in join() is different than the one used in preAuth()\"),this.updateIsPreparingToJoin(!1),Promise.reject();if(t.token&&t.token!==this.properties.token)return console.error(\"token in join() is different than the one used in preAuth()\"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(t.url&&!this._callObjectMode&&t.url&&t.url!==this.properties.url)return console.error(\"url in join() is different than the one used in load() (\".concat(this.properties.url,\" -> \").concat(t.url,\")\")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(t),this.properties=Va(Va({},this.properties),t)}return void 0!==t.showLocalVideo&&(this._callObjectMode?console.error(\"showLocalVideo is not available in callObject mode\"):this._showLocalVideo=!!t.showLocalVideo),void 0!==t.showParticipantsBar&&(this._callObjectMode?console.error(\"showParticipantsBar is not available in callObject mode\"):this._showParticipantsBar=!!t.showParticipantsBar),this._callState===bi||this._callState===yi?(console.warn(\"already joined meeting, call leave() before joining again\"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(yi,!1),this.emitDailyJSEvent({action:so}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:\"join-meeting\",properties:oc(this.properties,this.callClientId),preloadCache:oc(this._preloadCache,this.callClientId)}),new Promise((function(t,r){e._joinedCallback=function(i,o){if(e._callState!==wi){if(e._updateCallState(bi),i)for(var s in i){if(e._callObjectMode){var a=e._callMachine().store;ua(i[s],a),da(i[s],a),ha(i[s],e._participants[s],a)}e._participants[s]=Va({},i[s]),e.toggleParticipantAudioBasedOnNativeAudioFocus()}n&&e.loadCss(e.properties),t(i)}else r(o)}})))})),function(){return I.apply(this,arguments)})},{key:\"leave\",value:(j=p((function*(){var e=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise((function(t){e._callState===_i||e._callState===wi?t():e._callObjectLoader&&!e._callObjectLoader.loaded?(e._callObjectLoader.cancel(),e._updateCallState(_i),e.resetMeetingDependentVars(),e.emitDailyJSEvent({action:_i}),t()):(e._resolveLeave=t,e.sendMessageToCallMachine({action:\"leave-meeting\"}))}))})),function(){return j.apply(this,arguments)})},{key:\"startScreenShare\",value:(A=p((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(lc(this._callMachineInitialized,\"startScreenShare()\"),t.screenVideoSendSettings&&this._validateVideoSendSettings(\"screenVideo\",t.screenVideoSendSettings),t.mediaStream&&(this._sharedTracks.screenMediaStream=t.mediaStream,t.mediaStream=ls),\"undefined\"!=typeof DailyNativeUtils&&void 0!==DailyNativeUtils.isIOS&&DailyNativeUtils.isIOS){var n=this.nativeUtils();if(yield n.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:ts,type:\"screen-share-error\",errorMsg:\"Could not start the screen sharing. The screen is already been captured!\"});n.setSystemScreenCaptureStartCallback((function(){n.setSystemScreenCaptureStartCallback(null),e.sendMessageToCallMachine({action:ss,captureOptions:t})})),n.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:ss,captureOptions:t})})),function(){return A.apply(this,arguments)})},{key:\"stopScreenShare\",value:function(){lc(this._callMachineInitialized,\"stopScreenShare()\"),this.sendMessageToCallMachine({action:\"local-screen-stop\"})}},{key:\"startRecording\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type;if(t&&\"cloud\"!==t&&\"raw-tracks\"!==t&&\"local\"!==t)throw new Error(\"invalid type: \".concat(t,\", allowed values 'cloud', 'raw-tracks', or 'local'\"));this.sendMessageToCallMachine(Va({action:\"local-recording-start\"},e))}},{key:\"updateRecording\",value:function(e){var t=e.layout,n=void 0===t?{preset:\"default\"}:t,r=e.instanceId;this.sendMessageToCallMachine({action:\"daily-method-update-recording\",layout:n,instanceId:r})}},{key:\"stopRecording\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(Va({action:\"local-recording-stop\"},e))}},{key:\"startLiveStreaming\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(Va({action:\"daily-method-start-live-streaming\"},e))}},{key:\"updateLiveStreaming\",value:function(e){var t=e.layout,n=void 0===t?{preset:\"default\"}:t,r=e.instanceId;this.sendMessageToCallMachine({action:\"daily-method-update-live-streaming\",layout:n,instanceId:r})}},{key:\"addLiveStreamingEndpoints\",value:function(e){var t=e.endpoints,n=e.instanceId;this.sendMessageToCallMachine({action:as,endpointsOp:fs,endpoints:t,instanceId:n})}},{key:\"removeLiveStreamingEndpoints\",value:function(e){var t=e.endpoints,n=e.instanceId;this.sendMessageToCallMachine({action:as,endpointsOp:vs,endpoints:t,instanceId:n})}},{key:\"stopLiveStreaming\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(Va({action:\"daily-method-stop-live-streaming\"},e))}},{key:\"validateDailyConfig\",value:function(e){e.camSimulcastEncodings&&(console.warn(\"camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings.\"),this.validateSimulcastEncodings(e.camSimulcastEncodings)),e.screenSimulcastEncodings&&console.warn(\"screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings.\"),Es()&&e.noAutoDefaultDeviceChange&&console.warn(\"noAutoDefaultDeviceChange is not supported on Android, and will be ignored.\")}},{key:\"validateSimulcastEncodings\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){if(!(e instanceof Array||Array.isArray(e)))throw new Error(\"encodings must be an Array\");if(!Ac(e.length,1,3))throw new Error(\"encodings must be an Array with between 1 to \".concat(3,\" layers\"));for(var r=0;r<e.length;r++){var i=e[r];for(var o in this._validateEncodingLayerHasValidProperties(i),i)if(Ya.includes(o)){if(\"number\"!=typeof i[o])throw new Error(\"\".concat(o,\" must be a number\"));if(t){var s=t[o],a=s.min,c=s.max;if(!Ac(i[o],a,c))throw new Error(\"\".concat(o,\" value not in range. valid range: \").concat(a,\" to \").concat(c))}}else if(![\"active\",\"scalabilityMode\"].includes(o))throw new Error(\"Invalid key \".concat(o,\", valid keys are:\")+Object.values(Ya));if(n&&!i.hasOwnProperty(\"maxBitrate\"))throw new Error(\"maxBitrate is not specified\")}}}},{key:\"startRemoteMediaPlayer\",value:(P=p((function*(e){var t=this,n=e.url,r=e.settings,i=void 0===r?{state:ps.PLAY}:r;try{!function(e){if(\"string\"!=typeof e)throw new Error('url parameter must be \"string\" type')}(n),Pc(i),function(e){for(var t in e)if(!Xa.includes(t))throw new Error(\"Invalid key \".concat(t,\", valid keys are: \").concat(Xa));e.simulcastEncodings&&this.validateSimulcastEncodings(e.simulcastEncodings,Ka,!0)}(i)}catch(e){throw console.error(\"invalid argument Error: \".concat(e)),console.error('startRemoteMediaPlayer arguments must be of the form:\\n  { url: \"playback url\",\\n  settings?:\\n  {state: \"play\"|\"pause\", simulcastEncodings?: [{}] } }'),e}return new Promise((function(e,r){t.sendMessageToCallMachine({action:\"daily-method-start-remote-media-player\",url:n,settings:i},(function(t){t.error?r({error:t.error,errorMsg:t.errorMsg}):e({session_id:t.session_id,remoteMediaPlayerState:{state:t.state,settings:t.settings}})}))}))})),function(e){return P.apply(this,arguments)})},{key:\"stopRemoteMediaPlayer\",value:(O=p((function*(e){var t=this;if(\"string\"!=typeof e)throw new Error(\" remotePlayerID must be of type string\");return new Promise((function(n,r){t.sendMessageToCallMachine({action:\"daily-method-stop-remote-media-player\",session_id:e},(function(e){e.error?r({error:e.error,errorMsg:e.errorMsg}):n()}))}))})),function(e){return O.apply(this,arguments)})},{key:\"updateRemoteMediaPlayer\",value:(T=p((function*(e){var t=this,n=e.session_id,r=e.settings;try{Pc(r)}catch(e){throw console.error(\"invalid argument Error: \".concat(e)),console.error('updateRemoteMediaPlayer arguments must be of the form:\\n  session_id: \"participant session\",\\n  { settings?: {state: \"play\"|\"pause\"} }'),e}return new Promise((function(e,i){t.sendMessageToCallMachine({action:\"daily-method-update-remote-media-player\",session_id:n,settings:r},(function(t){t.error?i({error:t.error,errorMsg:t.errorMsg}):e({session_id:t.session_id,remoteMediaPlayerState:{state:t.state,settings:t.settings}})}))}))})),function(e){return T.apply(this,arguments)})},{key:\"startTranscription\",value:function(e){sc(this._callState,\"startTranscription()\"),this.sendMessageToCallMachine(Va({action:\"daily-method-start-transcription\"},e))}},{key:\"updateTranscription\",value:function(e){if(sc(this._callState,\"updateTranscription()\"),!e)throw new Error(\"updateTranscription Error: options is mandatory\");if(\"object\"!==n(e))throw new Error(\"updateTranscription Error: options must be object type\");if(e.participants&&!Array.isArray(e.participants))throw new Error(\"updateTranscription Error: participants must be an array\");this.sendMessageToCallMachine(Va({action:\"daily-method-update-transcription\"},e))}},{key:\"stopTranscription\",value:function(e){if(sc(this._callState,\"stopTranscription()\"),e&&\"object\"!==n(e))throw new Error(\"stopTranscription Error: options must be object type\");if(e&&!e.instanceId)throw new Error('\"instanceId\" not provided');this.sendMessageToCallMachine(Va({action:\"daily-method-stop-transcription\"},e))}},{key:\"startDialOut\",value:(E=p((function*(e){var t=this;sc(this._callState,\"startDialOut()\");var n=function(e){if(e){if(!Array.isArray(e))throw new Error(\"Error starting dial out: audio codec must be an array\");if(e.length<=0)throw new Error(\"Error starting dial out: audio codec array specified but empty\");e.forEach((function(e){if(\"string\"!=typeof e)throw new Error(\"Error starting dial out: audio codec must be a string\");if(\"OPUS\"!==e&&\"PCMU\"!==e&&\"PCMA\"!==e&&\"G722\"!==e)throw new Error(\"Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722\")}))}};if(!e.sipUri&&!e.phoneNumber)throw new Error(\"Error starting dial out: either a sip uri or phone number must be provided\");if(e.sipUri&&e.phoneNumber)throw new Error(\"Error starting dial out: only one of sip uri or phone number must be provided\");if(e.sipUri){if(\"string\"!=typeof e.sipUri)throw new Error(\"Error starting dial out: sipUri must be a string\");if(!e.sipUri.startsWith(\"sip:\"))throw new Error(\"Error starting dial out: Invalid SIP URI, must start with 'sip:'\");if(e.video&&\"boolean\"!=typeof e.video)throw new Error(\"Error starting dial out: video must be a boolean value\");!function(e){if(e&&(n(e.audio),e.video)){if(!Array.isArray(e.video))throw new Error(\"Error starting dial out: video codec must be an array\");if(e.video.length<=0)throw new Error(\"Error starting dial out: video codec array specified but empty\");e.video.forEach((function(e){if(\"string\"!=typeof e)throw new Error(\"Error starting dial out: video codec must be a string\");if(\"H264\"!==e&&\"VP8\"!==e)throw new Error(\"Error starting dial out: video codec must be H264 or VP8\")}))}}(e.codecs)}if(e.phoneNumber){if(\"string\"!=typeof e.phoneNumber)throw new Error(\"Error starting dial out: phoneNumber must be a string\");if(!/^\\+\\d{1,}$/.test(e.phoneNumber))throw new Error(\"Error starting dial out: Invalid phone number, must be valid phone number as per E.164\");e.codecs&&n(e.codecs.audio)}if(e.callerId){if(\"string\"!=typeof e.callerId)throw new Error(\"Error starting dial out: callerId must be a string\");if(e.sipUri)throw new Error(\"Error starting dial out: callerId not allowed with sipUri\")}if(e.displayName){if(\"string\"!=typeof e.displayName)throw new Error(\"Error starting dial out: displayName must be a string\");if(e.displayName.length>=200)throw new Error(\"Error starting dial out: displayName length must be less than 200\")}if(e.userId){if(\"string\"!=typeof e.userId)throw new Error(\"Error starting dial out: userId must be a string\");if(e.userId.length>36)throw new Error(\"Error starting dial out: userId length must be less than or equal to 36\")}return new Promise((function(n,r){t.sendMessageToCallMachine(Va({action:\"dialout-start\"},e),(function(e){e.error?r(e.error):n(e)}))}))})),function(e){return E.apply(this,arguments)})},{key:\"stopDialOut\",value:function(e){var t=this;return sc(this._callState,\"stopDialOut()\"),new Promise((function(n,r){t.sendMessageToCallMachine(Va({action:\"dialout-stop\"},e),(function(e){e.error?r(e.error):n(e)}))}))}},{key:\"sipCallTransfer\",value:(C=p((function*(e){var t=this;if(sc(this._callState,\"sipCallTransfer()\"),!e)throw new Error(\"sipCallTransfer() requires a sessionId and toEndPoint\");return e.useSipRefer=!1,Oc(e,\"sipCallTransfer\"),new Promise((function(n,r){t.sendMessageToCallMachine(Va({action:gs},e),(function(e){e.error?r(e.error):n(e)}))}))})),function(e){return C.apply(this,arguments)})},{key:\"sipRefer\",value:(M=p((function*(e){var t=this;if(sc(this._callState,\"sipRefer()\"),!e)throw new Error(\"sessionId and toEndPoint are mandatory parameter\");return e.useSipRefer=!0,Oc(e,\"sipRefer\"),new Promise((function(n,r){t.sendMessageToCallMachine(Va({action:gs},e),(function(e){e.error?r(e.error):n(e)}))}))})),function(e){return M.apply(this,arguments)})},{key:\"sendDTMF\",value:(k=p((function*(e){var t=this;return sc(this._callState,\"sendDTMF()\"),function(e){var t=e.sessionId,n=e.tones;if(!t||!n)throw new Error(\"sessionId and tones are mandatory parameter\");if(\"string\"!=typeof t||\"string\"!=typeof n)throw new Error(\"sessionId and tones should be of string type\");if(n.length>20)throw new Error(\"tones string must be upto 20 characters\");var r=/[^0-9A-D*#]/g,i=n.match(r);if(i&&i[0])throw new Error(\"\".concat(i[0],\" is not valid DTMF tone\"))}(e),new Promise((function(n,r){t.sendMessageToCallMachine(Va({action:\"send-dtmf\"},e),(function(e){e.error?r(e.error):n(e)}))}))})),function(e){return k.apply(this,arguments)})},{key:\"getNetworkStats\",value:function(){var e=this;if(this._callState!==bi){return Promise.resolve(Va({stats:{latest:{}}},this._network))}return new Promise((function(t){e.sendMessageToCallMachine({action:\"get-calc-stats\"},(function(n){t(Va(Va({},e._network),{},{stats:n.stats}))}))}))}},{key:\"testWebsocketConnectivity\",value:(S=p((function*(){var e=this;if(uc(this._testCallInProgress,\"testWebsocketConnectivity()\"),this.needsLoad())try{yield this.load()}catch(e){return Promise.reject(e)}return new Promise((function(t,n){e.sendMessageToCallMachine({action:\"test-websocket-connectivity\"},(function(e){e.error?n(e.error):t(e.results)}))}))})),function(){return S.apply(this,arguments)})},{key:\"abortTestWebsocketConnectivity\",value:function(){this.sendMessageToCallMachine({action:\"abort-test-websocket-connectivity\"})}},{key:\"_validateVideoTrackForNetworkTests\",value:function(e){return e?e instanceof MediaStreamTrack?!!Ea(e,{isLocalScreenVideo:!1})||(console.error(\"Video track is not playable. This test needs a live video track.\"),!1):(console.error(\"Video track needs to be of type `MediaStreamTrack`.\"),!1):(console.error(\"Missing video track. You must provide a video track in order to run this test.\"),!1)}},{key:\"testCallQuality\",value:(w=p((function*(){var t=this;hc(),dc(this._callObjectMode,\"testCallQuality()\"),lc(this._callMachineInitialized,\"testCallQuality()\",null,!0),cc(this._callState,this._isPreparingToJoin,\"testCallQuality()\");var n=this._testCallAlreadyInProgress,r=function(e){n||(t._testCallInProgress=e)};if(r(!0),this.needsLoad())try{var i=this._callState;yield this.load(),this._callState=i}catch(e){return r(!1),Promise.reject(e)}return new Promise((function(n){t.sendMessageToCallMachine({action:\"test-call-quality\",dailyJsVersion:t.properties.dailyJsVersion},(function(i){var o=i.results,s=o.result,a=e(o,Fa);if(\"failed\"===s){var c,l=Va({},a);null!==(c=a.error)&&void 0!==c&&c.details?(a.error.details=JSON.parse(a.error.details),l.error=Va(Va({},l.error),{},{details:Va({},l.error.details)}),l.error.details.duringTest=\"testCallQuality\"):(l.error=l.error?Va({},l.error):{},l.error.details={duringTest:\"testCallQuality\"}),t._maybeSendToSentry(l)}r(!1),n(Va({result:s},a))}))}))})),function(){return w.apply(this,arguments)})},{key:\"stopTestCallQuality\",value:function(){this.sendMessageToCallMachine({action:\"stop-test-call-quality\"})}},{key:\"testConnectionQuality\",value:(_=p((function*(e){var t;ys()?(console.warn(\"testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead\"),t=yield this.testPeerToPeerCallQuality(e)):(console.warn(\"testConnectionQuality() is deprecated: use testCallQuality() instead\"),t=yield this.testCallQuality());var n={result:t.result,secondsElapsed:t.secondsElapsed};return t.data&&(n.data={maxRTT:t.data.maxRoundTripTime,packetLoss:t.data.avgRecvPacketLoss}),n})),function(e){return _.apply(this,arguments)})},{key:\"testPeerToPeerCallQuality\",value:(b=p((function*(e){var t=this;if(uc(this._testCallInProgress,\"testPeerToPeerCallQuality()\"),this.needsLoad())try{yield this.load()}catch(e){return Promise.reject(e)}var n=e.videoTrack,r=e.duration;if(!this._validateVideoTrackForNetworkTests(n))throw new Error(\"Video track error\");return this._sharedTracks.videoTrackForConnectionQualityTest=n,new Promise((function(e,n){t.sendMessageToCallMachine({action:\"test-p2p-call-quality\",duration:r},(function(t){t.error?n(t.error):e(t.results)}))}))})),function(e){return b.apply(this,arguments)})},{key:\"stopTestConnectionQuality\",value:function(){ys()?(console.warn(\"stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead\"),this.stopTestPeerToPeerCallQuality()):(console.warn(\"stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead\"),this.stopTestCallQuality())}},{key:\"stopTestPeerToPeerCallQuality\",value:function(){this.sendMessageToCallMachine({action:\"stop-test-p2p-call-quality\"})}},{key:\"testNetworkConnectivity\",value:(y=p((function*(e){var t=this;if(uc(this._testCallInProgress,\"testNetworkConnectivity()\"),this.needsLoad())try{yield this.load()}catch(e){return Promise.reject(e)}if(!this._validateVideoTrackForNetworkTests(e))throw new Error(\"Video track error\");return this._sharedTracks.videoTrackForNetworkConnectivityTest=e,new Promise((function(e,n){t.sendMessageToCallMachine({action:\"test-network-connectivity\"},(function(t){t.error?n(t.error):e(t.results)}))}))})),function(e){return y.apply(this,arguments)})},{key:\"abortTestNetworkConnectivity\",value:function(){this.sendMessageToCallMachine({action:\"abort-test-network-connectivity\"})}},{key:\"getCpuLoadStats\",value:function(){var e=this;return new Promise((function(t){if(e._callState===bi){e.sendMessageToCallMachine({action:\"get-cpu-load-stats\"},(function(e){t(e.cpuStats)}))}else t({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})}))}},{key:\"_validateEncodingLayerHasValidProperties\",value:function(e){var t;if(!((null===(t=Object.keys(e))||void 0===t?void 0:t.length)>0))throw new Error(\"Empty encoding is not allowed. At least one of these valid keys should be specified:\"+Object.values(Ya))}},{key:\"_validateVideoSendSettings\",value:function(e,t){var r=\"screenVideo\"===e?[\"default-screen-video\",\"detail-optimized\",\"motion-optimized\",\"motion-and-detail-balanced\"]:[\"default-video\",\"bandwidth-optimized\",\"bandwidth-and-quality-balanced\",\"quality-optimized\",\"adaptive-2-layers\",\"adaptive-3-layers\"],i=\"Video send settings should be either an object or one of the supported presets: \".concat(r.join());if(\"string\"==typeof t){if(!r.includes(t))throw new Error(i)}else{if(\"object\"!==n(t))throw new Error(i);if(!t.maxQuality&&!t.encodings&&void 0===t.allowAdaptiveLayers)throw new Error(\"Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute\");if(t.maxQuality&&-1===[\"low\",\"medium\",\"high\"].indexOf(t.maxQuality))throw new Error(\"maxQuality must be either low, medium or high\");if(t.encodings){var o=!1;switch(Object.keys(t.encodings).length){case 1:o=!t.encodings.low;break;case 2:o=!t.encodings.low||!t.encodings.medium;break;case 3:o=!t.encodings.low||!t.encodings.medium||!t.encodings.high;break;default:o=!0}if(o)throw new Error(\"Encodings must be defined as: low, low and medium, or low, medium and high.\");t.encodings.low&&this._validateEncodingLayerHasValidProperties(t.encodings.low),t.encodings.medium&&this._validateEncodingLayerHasValidProperties(t.encodings.medium),t.encodings.high&&this._validateEncodingLayerHasValidProperties(t.encodings.high)}}}},{key:\"validateUpdateSendSettings\",value:function(e){var t=this;if(!e||0===Object.keys(e).length)throw new Error(\"Send settings must contain at least information for one track!\");Object.entries(e).forEach((function(e){var n=f(e,2),r=n[0],i=n[1];t._validateVideoSendSettings(r,i)}))}},{key:\"updateSendSettings\",value:function(e){var t=this;return this.validateUpdateSendSettings(e),this.needsLoad()?(this._preloadCache.sendSettings=e,{sendSettings:this._preloadCache.sendSettings}):new Promise((function(n,r){t.sendMessageToCallMachine({action:\"update-send-settings\",sendSettings:e},(function(e){e.error?r(e.error):n(e.sendSettings)}))}))}},{key:\"getSendSettings\",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:\"getLocalAudioLevel\",value:function(){return this._localAudioLevel}},{key:\"getRemoteParticipantsAudioLevel\",value:function(){return this._remoteParticipantsAudioLevel}},{key:\"getActiveSpeaker\",value:function(){return hc(),this._activeSpeaker}},{key:\"setActiveSpeakerMode\",value:function(e){return hc(),this.sendMessageToCallMachine({action:\"set-active-speaker-mode\",enabled:e}),this}},{key:\"activeSpeakerMode\",value:function(){return hc(),this._activeSpeakerMode}},{key:\"subscribeToTracksAutomatically\",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:\"setSubscribeToTracksAutomatically\",value:function(e){return sc(this._callState,\"setSubscribeToTracksAutomatically()\",\"Use the subscribeToTracksAutomatically configuration property.\"),this._preloadCache.subscribeToTracksAutomatically=e,this.sendMessageToCallMachine({action:\"daily-method-subscribe-to-tracks-automatically\",enabled:e}),this}},{key:\"enumerateDevices\",value:(m=p((function*(){var e=this;if(this._callObjectMode){var t=yield navigator.mediaDevices.enumerateDevices();return\"Firefox\"===Os()&&Ps().major>115&&Ps().major<123&&(t=t.filter((function(e){return\"audiooutput\"!==e.kind}))),{devices:t.map((function(e){var t=JSON.parse(JSON.stringify(e));if(!ys()&&\"videoinput\"===e.kind&&e.getCapabilities){var n,r=e.getCapabilities();t.facing=(null==r||null===(n=r.facingMode)||void 0===n?void 0:n.length)>=1?r.facingMode[0]:void 0}return t}))}}return new Promise((function(t){e.sendMessageToCallMachine({action:\"enumerate-devices\"},(function(e){t({devices:e.devices})}))}))})),function(){return m.apply(this,arguments)})},{key:\"sendAppMessage\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"*\";if(sc(this._callState,\"sendAppMessage()\"),JSON.stringify(e).length>this._maxAppMessageSize)throw new Error(\"Message data too large. Max size is \"+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:\"app-msg\",data:e,to:t}),this}},{key:\"addFakeParticipant\",value:function(e){return hc(),sc(this._callState,\"addFakeParticipant()\"),this.sendMessageToCallMachine(Va({action:\"add-fake-participant\"},e)),this}},{key:\"setShowNamesMode\",value:function(e){return pc(this._callObjectMode,\"setShowNamesMode()\"),hc(),e&&\"always\"!==e&&\"never\"!==e?(console.error('setShowNamesMode argument should be \"always\", \"never\", or false'),this):(this.sendMessageToCallMachine({action:\"set-show-names\",mode:e}),this)}},{key:\"setShowLocalVideo\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return pc(this._callObjectMode,\"setShowLocalVideo()\"),hc(),sc(this._callState,\"setShowLocalVideo()\"),\"boolean\"!=typeof e?(console.error(\"setShowLocalVideo only accepts a boolean value\"),this):(this.sendMessageToCallMachine({action:\"set-show-local-video\",show:e}),this._showLocalVideo=e,this)}},{key:\"showLocalVideo\",value:function(){return pc(this._callObjectMode,\"showLocalVideo()\"),hc(),this._showLocalVideo}},{key:\"setShowParticipantsBar\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return pc(this._callObjectMode,\"setShowParticipantsBar()\"),hc(),sc(this._callState,\"setShowParticipantsBar()\"),\"boolean\"!=typeof e?(console.error(\"setShowParticipantsBar only accepts a boolean value\"),this):(this.sendMessageToCallMachine({action:\"set-show-participants-bar\",show:e}),this._showParticipantsBar=e,this)}},{key:\"showParticipantsBar\",value:function(){return pc(this._callObjectMode,\"showParticipantsBar()\"),hc(),this._showParticipantsBar}},{key:\"customIntegrations\",value:function(){return hc(),pc(this._callObjectMode,\"customIntegrations()\"),this._customIntegrations}},{key:\"setCustomIntegrations\",value:function(e){return hc(),pc(this._callObjectMode,\"setCustomIntegrations()\"),sc(this._callState,\"setCustomIntegrations()\"),Ec(e)?(this.sendMessageToCallMachine({action:\"set-custom-integrations\",integrations:e}),this._customIntegrations=e,this):this}},{key:\"startCustomIntegrations\",value:function(e){var t=this;if(hc(),pc(this._callObjectMode,\"startCustomIntegrations()\"),sc(this._callState,\"startCustomIntegrations()\"),Array.isArray(e)&&e.some((function(e){return\"string\"!=typeof e}))||!Array.isArray(e)&&\"string\"!=typeof e)return console.error(\"startCustomIntegrations() only accepts string | string[]\"),this;var n=\"string\"==typeof e?[e]:e,r=n.filter((function(e){return!(e in t._customIntegrations)}));return r.length?(console.error(\"Can't find custom integration(s): \\\"\".concat(r.join(\", \"),'\"')),this):(this.sendMessageToCallMachine({action:\"start-custom-integrations\",ids:n}),this)}},{key:\"stopCustomIntegrations\",value:function(e){var t=this;if(hc(),pc(this._callObjectMode,\"stopCustomIntegrations()\"),sc(this._callState,\"stopCustomIntegrations()\"),Array.isArray(e)&&e.some((function(e){return\"string\"!=typeof e}))||!Array.isArray(e)&&\"string\"!=typeof e)return console.error(\"stopCustomIntegrations() only accepts string | string[]\"),this;var n=\"string\"==typeof e?[e]:e,r=n.filter((function(e){return!(e in t._customIntegrations)}));return r.length?(console.error(\"Can't find custom integration(s): \\\"\".concat(r.join(\", \"),'\"')),this):(this.sendMessageToCallMachine({action:\"stop-custom-integrations\",ids:n}),this)}},{key:\"customTrayButtons\",value:function(){return pc(this._callObjectMode,\"customTrayButtons()\"),hc(),this._customTrayButtons}},{key:\"updateCustomTrayButtons\",value:function(e){return pc(this._callObjectMode,\"updateCustomTrayButtons()\"),hc(),sc(this._callState,\"updateCustomTrayButtons()\"),Cc(e)?(this.sendMessageToCallMachine({action:\"update-custom-tray-buttons\",btns:e}),this._customTrayButtons=e,this):(console.error(\"updateCustomTrayButtons only accepts a dictionary of the type \".concat(JSON.stringify(ec))),this)}},{key:\"theme\",value:function(){return pc(this._callObjectMode,\"theme()\"),this.properties.theme}},{key:\"setTheme\",value:function(e){var t=this;return pc(this._callObjectMode,\"setTheme()\"),new Promise((function(n,r){try{t.validateProperties({theme:e}),t.properties.theme=Va({},e),t.sendMessageToCallMachine({action:\"set-theme\",theme:t.properties.theme});try{t.emitDailyJSEvent({action:eo,theme:t.properties.theme})}catch(e){console.log(\"could not emit 'theme-updated'\",e)}n(t.properties.theme)}catch(e){r(e)}}))}},{key:\"requestFullscreen\",value:(g=p((function*(){if(hc(),this._iframe&&!document.fullscreenElement&&ws())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(e){console.log(\"could not make video call fullscreen\",e)}})),function(){return g.apply(this,arguments)})},{key:\"exitFullscreen\",value:function(){hc(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:\"getSidebarView\",value:(v=p((function*(){var e=this;return this._callObjectMode?(console.error(\"getSidebarView is not available in callObject mode\"),Promise.resolve(null)):new Promise((function(t){e.sendMessageToCallMachine({action:\"get-sidebar-view\"},(function(e){t(e.view)}))}))})),function(){return v.apply(this,arguments)})},{key:\"setSidebarView\",value:function(e){return this._callObjectMode?(console.error(\"setSidebarView is not available in callObject mode\"),this):(this.sendMessageToCallMachine({action:\"set-sidebar-view\",view:e}),this)}},{key:\"room\",value:(h=p((function*(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeRoomConfigDefaults,n=void 0===t||t;return this._accessState.access===Oi||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise((function(t){e.sendMessageToCallMachine({action:\"lib-room-info\",includeRoomConfigDefaults:n},(function(e){delete e.action,delete e.callbackStamp,t(e)}))}))})),function(){return h.apply(this,arguments)})},{key:\"geo\",value:(d=p((function*(){try{var e=yield fetch(\"https://gs.daily.co/_ks_/x-swsl/:\");return{current:(yield e.json()).geo}}catch(e){return console.error(\"geo lookup failed\",e),{current:\"\"}}})),function(){return d.apply(this,arguments)})},{key:\"setNetworkTopology\",value:(c=p((function*(e){var t=this;return hc(),sc(this._callState,\"setNetworkTopology()\"),new Promise((function(n,r){t.sendMessageToCallMachine({action:\"set-network-topology\",opts:e},(function(e){e.error?r({error:e.error}):n({workerId:e.workerId})}))}))})),function(e){return c.apply(this,arguments)})},{key:\"getNetworkTopology\",value:(i=p((function*(){var e=this;return new Promise((function(t,n){e.needsLoad()&&t({topology:\"none\"}),e.sendMessageToCallMachine({action:\"get-network-topology\"},(function(e){e.error?n({error:e.error}):t({topology:e.topology})}))}))})),function(){return i.apply(this,arguments)})},{key:\"setPlayNewParticipantSound\",value:function(e){if(hc(),\"number\"!=typeof e&&!0!==e&&!1!==e)throw new Error(\"argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is \".concat(e));this.sendMessageToCallMachine({action:\"daily-method-set-play-ding\",arg:e})}},{key:\"on\",value:function(e,t){return x.prototype.on.call(this,e,t)}},{key:\"once\",value:function(e,t){return x.prototype.once.call(this,e,t)}},{key:\"off\",value:function(e,t){return x.prototype.off.call(this,e,t)}},{key:\"validateProperties\",value:function(e){var t,n;if(null!=e&&null!==(t=e.dailyConfig)&&void 0!==t&&t.userMediaAudioConstraints){var r,i;ys()||console.warn(\"userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.\");var o=e.inputSettings||{};o.audio=(null===(r=e.inputSettings)||void 0===r?void 0:r.audio)||{},o.audio.settings=(null===(i=e.inputSettings)||void 0===i||null===(i=i.audio)||void 0===i?void 0:i.settings)||{},o.audio.settings=Va(Va({},o.audio.settings),e.dailyConfig.userMediaAudioConstraints),e.inputSettings=o,delete e.dailyConfig.userMediaAudioConstraints}if(null!=e&&null!==(n=e.dailyConfig)&&void 0!==n&&n.userMediaVideoConstraints){var s,a;ys()||console.warn(\"userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.\");var c=e.inputSettings||{};c.video=(null===(s=e.inputSettings)||void 0===s?void 0:s.video)||{},c.video.settings=(null===(a=e.inputSettings)||void 0===a||null===(a=a.video)||void 0===a?void 0:a.settings)||{},c.video.settings=Va(Va({},c.video.settings),e.dailyConfig.userMediaVideoConstraints),e.inputSettings=c,delete e.dailyConfig.userMediaVideoConstraints}for(var l in e){if(!nc[l])throw new Error(\"unrecognized property '\".concat(l,\"'\"));if(nc[l].validate&&!nc[l].validate(e[l],this))throw new Error(\"property '\".concat(l,\"': \").concat(nc[l].help))}}},{key:\"assembleMeetingUrl\",value:function(){var e,t,n=Va(Va({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:null!==(e=this.properties.dailyConfig)&&void 0!==e&&e.proxyUrl?encodeURIComponent(null===(t=this.properties.dailyConfig)||void 0===t?void 0:t.proxyUrl):void 0}),r=n.url.match(/\\?/)?\"&\":\"?\";return n.url+r+Object.keys(nc).filter((function(e){return nc[e].queryString&&void 0!==n[e]})).map((function(e){return\"\".concat(nc[e].queryString,\"=\").concat(n[e])})).join(\"&\")}},{key:\"needsLoad\",value:function(){return[vi,gi,_i,wi].includes(this._callState)}},{key:\"sendMessageToCallMachine\",value:function(e,t){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error(\"Use after destroy\");this._messageChannel.sendMessageToCallMachine(e,t,this.callClientId,this._iframe)}},{key:\"forwardPackagedMessageToCallMachine\",value:function(e){this._messageChannel.forwardPackagedMessageToCallMachine(e,this._iframe,this.callClientId)}},{key:\"addListenerForPackagedMessagesFromCallMachine\",value:function(e){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(e,this.callClientId)}},{key:\"removeListenerForPackagedMessagesFromCallMachine\",value:function(e){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(e)}},{key:\"handleMessageFromCallMachine\",value:function(t){switch(t.action){case Xi:this.sendMessageToCallMachine(Va({action:Zi},this.properties));break;case\"call-machine-initialized\":this._callMachineInitialized=!0;var n={action:cs,level:\"log\",code:1011,stats:{event:\"bundle load\",time:\"no-op\"===this._bundleLoadTime?0:this._bundleLoadTime,preLoaded:\"no-op\"===this._bundleLoadTime,url:Z(this.properties.dailyConfig)}};this.sendMessageToCallMachine(n),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case ro:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(t);break;case ao:var r,i=Va({},t);delete i.internal,this._maxAppMessageSize=(null===(r=t.internal)||void 0===r?void 0:r._maxAppMessageSize)||rs,this._joinedCallback&&(this._joinedCallback(t.participants),this._joinedCallback=null),this.emitDailyJSEvent(i);break;case lo:case uo:if(this._callState===_i)return;if(t.participant&&t.participant.session_id){var o=t.participant.local?\"local\":t.participant.session_id;if(this._callObjectMode){var s=this._callMachine().store;ua(t.participant,s),da(t.participant,s),ha(t.participant,this._participants[o],s)}try{this.maybeParticipantTracksStopped(this._participants[o],t.participant),this.maybeParticipantTracksStarted(this._participants[o],t.participant),this.maybeEventRecordingStopped(this._participants[o],t.participant),this.maybeEventRecordingStarted(this._participants[o],t.participant)}catch(e){console.error(\"track events error\",e)}this.compareEqualForParticipantUpdateEvent(t.participant,this._participants[o])||(this._participants[o]=Va({},t.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(t))}break;case po:if(t.participant&&t.participant.session_id){var a=this._participants[t.participant.session_id];a&&this.maybeParticipantTracksStopped(a,null),delete this._participants[t.participant.session_id],this.emitDailyJSEvent(t)}break;case ho:N(this._participantCounts,t.participantCounts)||(this._participantCounts=t.participantCounts,this.emitDailyJSEvent(t));break;case fo:var c={access:t.access};t.awaitingAccess&&(c.awaitingAccess=t.awaitingAccess),N(this._accessState,c)||(this._accessState=c,this.emitDailyJSEvent(t));break;case vo:if(t.meetingSession){this._meetingSessionSummary=t.meetingSession,this.emitDailyJSEvent(t);var l=Va(Va({},t),{},{action:\"meeting-session-updated\"});this.emitDailyJSEvent(l)}break;case ns:var u;this._iframe&&!t.preserveIframe&&(this._iframe.src=\"\"),this._updateCallState(wi),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(t.errorMsg),this._loadedCallback=null),t.preserveIframe;var d=e(t,Ba);null!=d&&null!==(u=d.error)&&void 0!==u&&u.details&&(d.error.details=JSON.parse(d.error.details)),this._maybeSendToSentry(t),this._joinedCallback&&(this._joinedCallback(null,d),this._joinedCallback=null),this.emitDailyJSEvent(d);break;case co:this._callState!==wi&&this._updateCallState(_i),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(t);break;case\"selected-devices-updated\":t.devices&&this.emitDailyJSEvent(t);break;case Jo:var p=t.state,h=t.threshold,f=t.quality,v=p.state,g=p.reasons;v===this._network.networkState&&N(g,this._network.networkStateReasons)&&h===this._network.threshold&&f===this._network.quality||(this._network.networkState=v,this._network.networkStateReasons=g,this._network.quality=f,this._network.threshold=h,t.networkState=v,g.length&&(t.networkStateReasons=g),delete t.state,this.emitDailyJSEvent(t));break;case qo:t&&t.cpuLoadState&&this.emitDailyJSEvent(t);break;case zo:t&&void 0!==t.faceCounts&&this.emitDailyJSEvent(t);break;case Uo:var m=t.activeSpeaker;this._activeSpeaker.peerId!==m.peerId&&(this._activeSpeaker.peerId=m.peerId,this.emitDailyJSEvent({action:t.action,activeSpeaker:this._activeSpeaker}));break;case\"show-local-video-changed\":if(this._callObjectMode)return;var y=t.show;this._showLocalVideo=y,this.emitDailyJSEvent({action:t.action,show:y});break;case Vo:var b=t.enabled;this._activeSpeakerMode!==b&&(this._activeSpeakerMode=b,this.emitDailyJSEvent({action:t.action,enabled:this._activeSpeakerMode}));break;case yo:case bo:case _o:this._waitingParticipants=t.allWaitingParticipants,this.emitDailyJSEvent({action:t.action,participant:t.participant});break;case Zo:N(this._receiveSettings,t.receiveSettings)||(this._receiveSettings=t.receiveSettings,this.emitDailyJSEvent({action:t.action,receiveSettings:t.receiveSettings}));break;case es:this._maybeUpdateInputSettings(t.inputSettings);break;case\"send-settings-updated\":N(this._sendSettings,t.sendSettings)||(this._sendSettings=t.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:t.action,sendSettings:t.sendSettings}));break;case\"local-audio-level\":this._localAudioLevel=t.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(t);break;case\"remote-participants-audio-level\":this._remoteParticipantsAudioLevel=t.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(t);break;case Lo:var _=t.session_id;this._rmpPlayerState[_]=t.playerState,this.emitDailyJSEvent(t);break;case No:delete this._rmpPlayerState[t.session_id],this.emitDailyJSEvent(t);break;case Do:var w=t.session_id,S=this._rmpPlayerState[w];S&&this.compareEqualForRMPUpdateEvent(S,t.remoteMediaPlayerState)||(this._rmpPlayerState[w]=t.remoteMediaPlayerState,this.emitDailyJSEvent(t));break;case\"custom-button-click\":case\"sidebar-view-changed\":this.emitDailyJSEvent(t);break;case go:var k=this._meetingSessionState.topology!==(t.meetingSessionState&&t.meetingSessionState.topology);this._meetingSessionState=jc(t.meetingSessionState,this._callObjectMode),(this._callObjectMode||k)&&this.emitDailyJSEvent(t);break;case Ro:this._isScreenSharing=!0,this.emitDailyJSEvent(t);break;case Fo:case Bo:this._isScreenSharing=!1,this.emitDailyJSEvent(t);break;case Eo:case To:case Oo:case Po:case Ao:case ko:case Mo:case Co:case io:case oo:case Io:case xo:case\"test-completed\":case $o:case jo:case Go:case Qo:case Ko:case Yo:case ts:case Xo:case\"dialin-ready\":case\"dialin-connected\":case\"dialin-error\":case\"dialin-stopped\":case\"dialin-warning\":case\"dialout-connected\":case\"dialout-answered\":case\"dialout-error\":case\"dialout-stopped\":case\"dialout-warning\":this.emitDailyJSEvent(t);break;case\"request-fullscreen\":this.requestFullscreen();break;case\"request-exit-fullscreen\":this.exitFullscreen()}}},{key:\"maybeEventRecordingStopped\",value:function(e,t){var n=\"record\";e&&(t.local||!1!==t[n]||e[n]===t[n]||this.emitDailyJSEvent({action:To}))}},{key:\"maybeEventRecordingStarted\",value:function(e,t){var n=\"record\";e&&(t.local||!0!==t[n]||e[n]===t[n]||this.emitDailyJSEvent({action:Eo}))}},{key:\"_trackStatePlayable\",value:function(e){return!(!e||e.state!==Ti)}},{key:\"_trackChanged\",value:function(e,t){return!((null==e?void 0:e.id)===(null==t?void 0:t.id))}},{key:\"maybeEventTrackStopped\",value:function(e,t,n){var r,i,o=null!==(r=null==t?void 0:t.tracks[e])&&void 0!==r?r:null,s=null!==(i=null==n?void 0:n.tracks[e])&&void 0!==i?i:null,a=null==o?void 0:o.track;if(a){var c=this._trackStatePlayable(o),l=this._trackStatePlayable(s),u=this._trackChanged(a,null==s?void 0:s.track);c&&(l&&!u||this.emitDailyJSEvent({action:So,track:a,participant:null!=n?n:t,type:e}))}}},{key:\"maybeEventTrackStarted\",value:function(e,t,n){var r,i,o=null!==(r=null==t?void 0:t.tracks[e])&&void 0!==r?r:null,s=null!==(i=null==n?void 0:n.tracks[e])&&void 0!==i?i:null,a=null==s?void 0:s.track;if(a){var c=this._trackStatePlayable(o),l=this._trackStatePlayable(s),u=this._trackChanged(null==o?void 0:o.track,a);l&&(c&&!u||this.emitDailyJSEvent({action:wo,track:a,participant:n,type:e}))}}},{key:\"maybeParticipantTracksStopped\",value:function(e,t){if(e)for(var n in e.tracks)this.maybeEventTrackStopped(n,e,t)}},{key:\"maybeParticipantTracksStarted\",value:function(e,t){if(t)for(var n in t.tracks)this.maybeEventTrackStarted(n,e,t)}},{key:\"compareEqualForRMPUpdateEvent\",value:function(e,t){var n,r;return e.state===t.state&&(null===(n=e.settings)||void 0===n?void 0:n.volume)===(null===(r=t.settings)||void 0===r?void 0:r.volume)}},{key:\"emitDailyJSEvent\",value:function(e){try{e.callClientId=this.callClientId,this.emit(e.action,e)}catch(t){console.log(\"could not emit\",e,t)}}},{key:\"compareEqualForParticipantUpdateEvent\",value:function(e,t){return!!N(e,t)&&((!e.videoTrack||!t.videoTrack||e.videoTrack.id===t.videoTrack.id&&e.videoTrack.muted===t.videoTrack.muted&&e.videoTrack.enabled===t.videoTrack.enabled)&&(!e.audioTrack||!t.audioTrack||e.audioTrack.id===t.audioTrack.id&&e.audioTrack.muted===t.audioTrack.muted&&e.audioTrack.enabled===t.audioTrack.enabled))}},{key:\"nativeUtils\",value:function(){return ys()?\"undefined\"==typeof DailyNativeUtils?(console.warn(\"in React Native, DailyNativeUtils is expected to be available\"),null):DailyNativeUtils:null}},{key:\"updateIsPreparingToJoin\",value:function(e){this._updateCallState(this._callState,e)}},{key:\"_updateCallState\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._isPreparingToJoin;if(e!==this._callState||t!==this._isPreparingToJoin){var n=this._callState,r=this._isPreparingToJoin;this._callState=e,this._isPreparingToJoin=t;var i=this._callState===bi;this.updateShowAndroidOngoingMeetingNotification(i);var o=ac(n,r),s=ac(this._callState,this._isPreparingToJoin);o!==s&&(this.updateKeepDeviceAwake(s),this.updateDeviceAudioMode(s),this.updateNoOpRecordingEnsuringBackgroundContinuity(s))}}},{key:\"resetMeetingDependentVars\",value:function(){this._participants={},this._participantCounts=Qa,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Oi},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=jc(Ga,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=rs,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:\"updateKeepDeviceAwake\",value:function(e){ys()&&this.nativeUtils().setKeepDeviceAwake(e,this.callClientId)}},{key:\"updateDeviceAudioMode\",value:function(e){if(ys()&&!this.disableReactNativeAutoDeviceManagement(\"audio\")){var t=e?this._nativeInCallAudioMode:\"idle\";this.nativeUtils().setAudioMode(t)}}},{key:\"updateShowAndroidOngoingMeetingNotification\",value:function(e){if(ys()&&this.nativeUtils().setShowOngoingMeetingNotification){var t,n,r,i;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var o=this.properties.reactNativeConfig.androidInCallNotification;t=o.title,n=o.subtitle,r=o.iconName,i=o.disableForCustomOverride}i&&(e=!1),this.nativeUtils().setShowOngoingMeetingNotification(e,t,n,r,this.callClientId)}}},{key:\"updateNoOpRecordingEnsuringBackgroundContinuity\",value:function(e){ys()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(e)}},{key:\"toggleParticipantAudioBasedOnNativeAudioFocus\",value:function(){var e;if(ys()){var t=null===(e=this._callMachine())||void 0===e||null===(e=e.store)||void 0===e?void 0:e.getState();for(var n in null==t?void 0:t.streams){var r=t.streams[n];r&&r.pendingTrack&&\"audio\"===r.pendingTrack.kind&&(r.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:\"disableReactNativeAutoDeviceManagement\",value:function(e){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[e]}},{key:\"absoluteUrl\",value:function(e){if(void 0!==e){var t=document.createElement(\"a\");return t.href=e,t.href}}},{key:\"sayHello\",value:function(){var e=\"hello, world.\";return console.log(e),e}},{key:\"_logUseAfterDestroy\",value:function(){var e=Object.values(za)[0];if(this.needsLoad()){if(e&&!e.needsLoad()){var t={action:cs,level:\"error\",code:this.strictMode?9995:9997};e.sendMessageToCallMachine(t)}else if(!this.strictMode){console.error(\"You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.\")}}else{var n={action:cs,level:\"error\",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(n,null,this.callClientId,this._iframe)}}},{key:\"_logDuplicateInstanceAttempt\",value:function(){for(var e=0,t=Object.values(za);e<t.length;e++){var n=t[e];n._callMachineInitialized?(n.sendMessageToCallMachine({action:cs,level:\"warn\",code:this.allowMultipleCallInstances?9993:9992}),n._delayDuplicateInstanceLog=!1):n._delayDuplicateInstanceLog=!0}}},{key:\"_maybeSendToSentry\",value:function(e){var t,n,i,o;if(null!==(t=e.error)&&void 0!==t&&t.type){if(![$i,Vi,Bi].includes(e.error.type))return;if(e.error.type===Bi&&e.error.msg.includes(\"deleted\"))return}var s=null!==(n=this.properties)&&void 0!==n&&n.url?new URL(this.properties.url):void 0,a=\"production\";s&&s.host.includes(\".staging.daily\")&&(a=\"staging\");var c,l,u,d,p,h=function(e){const t=[Gn(),Wn(),ii(),ni(),ui(),fi(),rr(),hi()];return!1!==e.autoSessionTracking&&t.push(li()),t}({}).filter((function(e){return![\"BrowserApiErrors\",\"Breadcrumbs\",\"GlobalHandlers\"].includes(e.name)})),f=new jr({dsn:\"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844\",transport:Wr,stackParser:Zr,integrations:h,environment:a}),v=new Mt;if(v.setClient(f),f.init(),this.session_id&&v.setExtra(\"sessionId\",this.session_id),this.properties){var g=Va({},this.properties);g.userName=g.userName?\"[Filtered]\":void 0,g.userData=g.userData?\"[Filtered]\":void 0,g.token=g.token?\"[Filtered]\":void 0,v.setExtra(\"properties\",g)}if(s){var m=s.searchParams.get(\"domain\");if(!m){var y=s.host.match(/(.*?)\\./);m=y&&y[1]||\"\"}m&&v.setTag(\"domain\",m)}e.error&&(v.setTag(\"fatalErrorType\",e.error.type),v.setExtra(\"errorDetails\",e.error.details),(null===(c=e.error.details)||void 0===c?void 0:c.uri)&&v.setTag(\"serverAddress\",e.error.details.uri),(null===(l=e.error.details)||void 0===l?void 0:l.workerGroup)&&v.setTag(\"workerGroup\",e.error.details.workerGroup),(null===(u=e.error.details)||void 0===u?void 0:u.geoGroup)&&v.setTag(\"geoGroup\",e.error.details.geoGroup),(null===(d=e.error.details)||void 0===d?void 0:d.on)&&v.setTag(\"connectionAttempt\",e.error.details.on),null!==(p=e.error.details)&&void 0!==p&&p.bundleUrl&&(v.setTag(\"bundleUrl\",e.error.details.bundleUrl),v.setTag(\"bundleError\",e.error.details.sourceError.type)));v.setTags({callMode:this._callObjectMode?ys()?\"reactNative\":null!==(i=this.properties)&&void 0!==i&&null!==(i=i.dailyConfig)&&void 0!==i&&null!==(i=i.callMode)&&void 0!==i&&i.includes(\"prebuilt\")?this.properties.dailyConfig.callMode:\"custom\":\"prebuilt-frame\",version:r.version()});var b=(null===(o=e.error)||void 0===o?void 0:o.msg)||e.errorMsg;v.captureException(new Error(b))}},{key:\"_callMachine\",value:function(){var e;return null===(e=window._daily)||void 0===e||null===(e=e.instances)||void 0===e||null===(e=e[this.callClientId])||void 0===e?void 0:e.callMachine}},{key:\"_maybeUpdateInputSettings\",value:function(e){if(!N(this._inputSettings,e)){var t=this._getInputSettings();this._inputSettings=e;var n=this._getInputSettings();N(t,n)||this.emitDailyJSEvent({action:es,inputSettings:n})}}}],[{key:\"supportedBrowser\",value:function(){if(ys())return{supported:!0,mobile:!0,name:\"React Native\",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var e=Q.getParser(ms());return{supported:!!Cs(),mobile:\"mobile\"===e.getPlatformType(),name:e.getBrowserName(),version:e.getBrowserVersion(),supportsFullscreen:!!ws(),supportsScreenShare:!!_s(),supportsSfu:!!Cs(),supportsVideoProcessing:ks(),supportsAudioProcessing:Ms()}}},{key:\"version\",value:function(){return\"0.77.0\"}},{key:\"createCallObject\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.layout=\"none\",new r(null,e)}},{key:\"wrap\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(hc(),!e||!e.contentWindow||\"string\"!=typeof e.src)throw new Error(\"DailyIframe::Wrap needs an iframe-like first argument\");return t.layout||(t.customLayout?t.layout=\"custom-v1\":t.layout=\"browser\"),new r(e,t)}},{key:\"createFrame\",value:function(e,t){var n,i;hc(),e&&t?(n=e,i=t):e&&e.append?(n=e,i={}):(n=document.body,i=e||{});var o=i.iframeStyle;o||(o=n===document.body?{position:\"fixed\",border:\"1px solid black\",backgroundColor:\"white\",width:\"375px\",height:\"450px\",right:\"1em\",bottom:\"1em\"}:{border:0,width:\"100%\",height:\"100%\"});var s=document.createElement(\"iframe\");window.navigator&&window.navigator.userAgent.match(/Chrome\\/61\\./)?s.allow=\"microphone, camera\":s.allow=\"microphone; camera; autoplay; display-capture; screen-wake-lock\",s.style.visibility=\"hidden\",n.appendChild(s),s.style.visibility=null,Object.keys(o).forEach((function(e){return s.style[e]=o[e]})),i.layout||(i.customLayout?i.layout=\"custom-v1\":i.layout=\"browser\");try{return new r(s,i)}catch(e){throw n.removeChild(s),e}}},{key:\"createTransparentFrame\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};hc();var t=document.createElement(\"iframe\");return t.allow=\"microphone; camera; autoplay\",t.style.cssText=\"\\n      position: fixed;\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: 100%;\\n      border: 0;\\n      pointer-events: none;\\n    \",document.body.appendChild(t),e.layout||(e.layout=\"custom-v1\"),r.wrap(t,e)}},{key:\"getCallInstance\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return e?za[e]:Object.values(za)[0]}}]);var i,c,d,h,v,g,m,y,b,_,w,S,k,M,C,E,T,O,P,A,j,I,L,D,R,F,B,U,V,J,$,q,z,W,H,G,Y,ee}();function oc(e,t){var n={};for(var r in e)if(e[r]instanceof MediaStreamTrack)console.warn(\"MediaStreamTrack found in props or cache.\",r),n[r]=ls;else if(\"dailyConfig\"===r){if(e[r].modifyLocalSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyLocalSdpHook=e[r].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=i,delete e[r].modifyLocalSdpHook}if(e[r].modifyRemoteSdpHook){var o=window._daily.instances[t].customCallbacks||{};o.modifyRemoteSdpHook=e[r].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=o,delete e[r].modifyRemoteSdpHook}n[r]=e[r]}else n[r]=e[r];return n}function sc(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==bi){var n=\"\".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"This daily-js method\",\" only supported after join.\");throw t&&(n+=\" \".concat(t)),console.error(n),new Error(n)}}function ac(e,t){return[yi,bi].includes(e)||t}function cc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"This daily-js method\",r=arguments.length>3?arguments[3]:void 0;if(ac(e,t)){var i=\"\".concat(n,\" not supported after joining a meeting.\");throw r&&(i+=\" \".concat(r)),console.error(i),new Error(i)}}function lc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"This daily-js method\",n=arguments.length>2?arguments[2]:void 0;if(!e){var r=\"\".concat(t,arguments.length>3&&void 0!==arguments[3]&&arguments[3]?\" requires preAuth() or startCamera() to initialize call state.\":\" requires preAuth(), startCamera(), or join() to initialize call state.\");throw n&&(r+=\" \".concat(n)),console.error(r),new Error(r)}}function uc(e){if(e){var t=\"A pre-call quality test is in progress. Please try \".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"This daily-js method\",\" again once testing has completed. Use stopTestCallQuality() to end it early.\");throw console.error(t),new Error(t)}}function dc(e){if(!e){var t=\"\".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"This daily-js method\",\" is only supported on custom callObject instances\");throw console.error(t),new Error(t)}}function pc(e){if(e){var t=\"\".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"This daily-js method\",\" is only supported as part of Daily's Prebuilt\");throw console.error(t),new Error(t)}}function hc(){if(ys())throw new Error(\"This daily-js method is not currently supported in React Native\")}function fc(){if(!ys())throw new Error(\"This daily-js method is only supported in React Native\")}function vc(e){if(void 0===e)return!0;var t;if(\"string\"==typeof e)t=e;else try{t=JSON.stringify(e),N(JSON.parse(t),e)||console.warn(\"The userData provided will be modified when serialized.\")}catch(e){throw Error(\"userData must be serializable to JSON: \".concat(e))}if(t.length>4096)throw Error(\"userData is too large (\".concat(t.length,\" characters). Maximum size suppported is \").concat(4096,\".\"));return!0}function gc(e,t){for(var n=t.allowAllParticipantsKey,r=function(e){var t=[\"local\"];return n||t.push(\"*\"),e&&!t.includes(e)},i=function(e){return!!(void 0===e.layer||Number.isInteger(e.layer)&&e.layer>=0||\"inherit\"===e.layer)},o=function(e){return!!e&&(!(e.video&&!i(e.video))&&!(e.screenVideo&&!i(e.screenVideo)))},s=0,a=Object.entries(e);s<a.length;s++){var c=f(a[s],2),l=c[0],u=c[1];if(!r(l)||!o(u))return!1}return!0}function mc(e){if(\"object\"!==n(e))return!1;for(var t=0,r=Object.entries(e);t<r.length;t++){var i=f(r[t],2),o=i[0],s=i[1];switch(o){case\"video\":if(\"object\"!==n(s))return!1;for(var a=0,c=Object.entries(s);a<c.length;a++){var l=f(c[a],2),u=l[0],d=l[1];switch(u){case\"processor\":if(!_c(d))return!1;break;case\"settings\":if(!wc(d))return!1;break;default:return!1}}break;case\"audio\":if(\"object\"!==n(s))return!1;for(var p=0,h=Object.entries(s);p<h.length;p++){var v=f(h[p],2),g=v[0],m=v[1];switch(g){case\"processor\":if(!bc(m))return!1;break;case\"settings\":if(!wc(m))return!1;break;default:return!1}}break;default:return!1}}return!0}function yc(e,t,n){var r,i=[];e.video&&e.video.processor&&(ks(null!==(r=null==t?void 0:t.useLegacyVideoProcessor)&&void 0!==r&&r)||(e.video.settings?delete e.video.processor:delete e.video,i.push(\"video\")));e.audio&&e.audio.processor&&(Ms()||(e.audio.settings?delete e.audio.processor:delete e.audio,i.push(\"audio\"))),i.length>0&&console.error(\"Ignoring settings for browser- or platform-unsupported input processor(s): \".concat(i.join(\", \"))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(n.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:ls}):delete n.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(n.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:ls}):delete n.videoTrack)}function bc(e){if(ys())return console.warn(\"Video processing is not yet supported in React Native\"),!1;var t=[\"type\"];return!!e&&(\"object\"===n(e)&&(Object.keys(e).filter((function(e){return!t.includes(e)})).forEach((function(t){console.warn(\"invalid key inputSettings -> audio -> processor : \".concat(t)),delete e[t]})),!!function(e){if(\"string\"!=typeof e)return!1;if(!Object.values(ds).includes(e))return console.error(\"inputSettings audio processor type invalid\"),!1;return!0}(e.type)))}function _c(e){if(ys())return console.warn(\"Video processing is not yet supported in React Native\"),!1;var t=[\"type\",\"config\"];if(!e)return!1;if(\"object\"!==n(e))return!1;if(!function(e){if(\"string\"!=typeof e)return!1;if(!Object.values(us).includes(e))return console.error(\"inputSettings video processor type invalid\"),!1;return!0}(e.type))return!1;if(e.config){if(\"object\"!==n(e.config))return!1;if(!function(e,t){var n=Object.keys(t);if(0===n.length)return!0;var r=\"invalid object in inputSettings -> video -> processor -> config\";switch(e){case us.BGBLUR:return n.length>1||\"strength\"!==n[0]?(console.error(r),!1):!(\"number\"!=typeof t.strength||t.strength<=0||t.strength>1||isNaN(t.strength))||(console.error(\"\".concat(r,\"; expected: {0 < strength <= 1}, got: \").concat(t.strength)),!1);case us.BGIMAGE:return!(void 0!==t.source&&!function(e){if(\"default\"===e.source)return e.type=\"default\",!0;if(e.source instanceof ArrayBuffer)return!0;if(ee(e.source))return e.type=\"url\",!!function(e){var t=new URL(e),n=t.pathname;if(\"data:\"===t.protocol)try{var r=n.substring(n.indexOf(\":\")+1,n.indexOf(\";\")).split(\"/\")[1];return hs.includes(r)}catch(e){return console.error(\"failed to deduce blob content type\",e),!1}var i=n.split(\".\").at(-1).toLowerCase().trim();return hs.includes(i)}(e.source)||(console.error(\"invalid image type; supported types: [\".concat(hs.join(\", \"),\"]\")),!1);return t=e.source,n=Number(t),isNaN(n)||!Number.isInteger(n)||n<=0||n>10?(console.error(\"invalid image selection; must be an int, > 0, <= \".concat(10)),!1):(e.type=\"daily-preselect\",!0);var t,n}(t));default:return!0}}(e.type,e.config))return!1}return Object.keys(e).filter((function(e){return!t.includes(e)})).forEach((function(t){console.warn(\"invalid key inputSettings -> video -> processor : \".concat(t)),delete e[t]})),!0}function wc(e){return\"object\"===n(e)&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function Sc(){var e=Object.values(us).join(\" | \"),t=Object.values(ds).join(\" | \");return\"inputSettings must be of the form: { video?: { processor?: { type: [ \".concat(e,\" ], config?: {} } }, audio?: { processor: {type: [ \").concat(t,\" ] } } }\")}function kc(e){var t=e.allowAllParticipantsKey;return\"receiveSettings must be of the form { [<remote participant id> | \".concat(Ii).concat(t?' | \"'.concat(\"*\",'\"'):\"\",\"]: \")+'{ [video: [{ layer: [<non-negative integer> | \"inherit\"] } | \"inherit\"]], [screenVideo: [{ layer: [<non-negative integer> | \"inherit\"] } | \"inherit\"]] }}}'}function Mc(){return\"customIntegrations should be an object of type \".concat(JSON.stringify(tc),\".\")}function Cc(e){if(e&&\"object\"!==n(e)||Array.isArray(e))return console.error(\"customTrayButtons should be an Object of the type \".concat(JSON.stringify(ec),\".\")),!1;if(e)for(var t=0,r=Object.entries(e);t<r.length;t++)for(var i=f(r[t],1)[0],o=0,s=Object.entries(e[i]);o<s.length;o++){var a=f(s[o],2),c=a[0],l=a[1],u=ec.id[c];if(!u)return console.error(\"customTrayButton does not support key \".concat(c)),!1;switch(c){case\"iconPath\":case\"iconPathDarkMode\":if(!ee(l))return console.error(\"customTrayButton \".concat(c,\" should be a url.\")),!1;break;case\"visualState\":if(![\"default\",\"sidebar-open\",\"active\"].includes(l))return console.error(\"customTrayButton \".concat(c,\" should be \").concat(u,\". Got: \").concat(l)),!1;break;default:if(n(l)!==u)return console.error(\"customTrayButton \".concat(c,\" should be a \").concat(u,\".\")),!1}}return!0}function Ec(e){if(!e||e&&\"object\"!==n(e)||Array.isArray(e))return console.error(Mc()),!1;for(var t=function(e){return\"\".concat(e,\" should be \").concat(tc.id[e])},r=function(e,t){return console.error(\"customIntegration \".concat(e,\": \").concat(t))},i=0,o=Object.entries(e);i<o.length;i++){var s=f(o[i],1)[0];if(!(\"label\"in e[s]))return r(s,\"label is required\"),!1;if(!(\"location\"in e[s]))return r(s,\"location is required\"),!1;if(!(\"src\"in e[s])&&!(\"srcdoc\"in e[s]))return r(s,\"src or srcdoc is required\"),!1;for(var a=0,c=Object.entries(e[s]);a<c.length;a++){var l=f(c[a],2),u=l[0],d=l[1];switch(u){case\"allow\":case\"csp\":case\"name\":case\"referrerPolicy\":case\"sandbox\":if(\"string\"!=typeof d)return r(s,t(u)),!1;break;case\"iconURL\":if(!ee(d))return r(s,\"\".concat(u,\" should be a url\")),!1;break;case\"src\":if(\"srcdoc\"in e[s])return r(s,\"cannot have both src and srcdoc\"),!1;if(!ee(d))return r(s,'src \"'.concat(d,'\" is not a valid URL')),!1;break;case\"srcdoc\":if(\"src\"in e[s])return r(s,\"cannot have both src and srcdoc\"),!1;if(\"string\"!=typeof d)return r(s,t(u)),!1;break;case\"location\":if(![\"main\",\"sidebar\"].includes(d))return r(s,t(u)),!1;break;case\"controlledBy\":if(\"*\"!==d&&\"owners\"!==d&&(!Array.isArray(d)||d.some((function(e){return\"string\"!=typeof e}))))return r(s,t(u)),!1;break;case\"shared\":if((!Array.isArray(d)||d.some((function(e){return\"string\"!=typeof e})))&&\"owners\"!==d&&\"boolean\"!=typeof d)return r(s,t(u)),!1;break;default:if(!tc.id[u])return console.error(\"customIntegration does not support key \".concat(u)),!1}}}return!0}function Tc(e,t){if(void 0===t)return!1;switch(n(t)){case\"string\":return n(e)===t;case\"object\":if(\"object\"!==n(e))return!1;for(var r in e)if(!Tc(e[r],t[r]))return!1;return!0;default:return!1}}function Oc(e,t){var n=e.sessionId,r=e.toEndPoint,i=e.callerId,o=e.useSipRefer;if(!n||!r)throw new Error(\"\".concat(t,\"() requires a sessionId and toEndPoint\"));if(\"string\"!=typeof n||\"string\"!=typeof r)throw new Error(\"Invalid paramater: sessionId and toEndPoint must be of type string\");if(o&&!r.startsWith(\"sip:\"))throw new Error('\"toEndPoint\" must be a \"sip\" address');if(!r.startsWith(\"sip:\")&&!r.startsWith(\"+\"))throw new Error(\"toEndPoint: \".concat(r,' must starts with either \"sip:\" or \"+\"'));if(i&&\"string\"!=typeof i)throw new Error(\"callerId must be of type string\");if(i&&!r.startsWith(\"+\"))throw new Error(\"callerId is only valid when transferring to a PSTN number\")}function Pc(e){if(\"object\"!==n(e))throw new Error('RemoteMediaPlayerSettings: must be \"object\" type');if(e.state&&!Object.values(ps).includes(e.state))throw new Error(\"Invalid value for RemoteMediaPlayerSettings.state, valid values are: \"+JSON.stringify(ps));if(e.volume){if(\"number\"!=typeof e.volume)throw new Error('RemoteMediaPlayerSettings.volume: must be \"number\" type');if(e.volume<0||e.volume>2)throw new Error(\"RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0\")}}function Ac(e,t,n){return!(\"number\"!=typeof e||e<t||e>n)}function jc(e,t){return e&&!t&&delete e.data,e}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BwaXBlY2F0LWFpL2RhaWx5LXRyYW5zcG9ydC9ub2RlX21vZHVsZXMvQGRhaWx5LWNvL2RhaWx5LWpzL2Rpc3QvZGFpbHktZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxnQkFBZ0Isb0JBQW9CLHdCQUF3QixvQkFBb0IsU0FBUyxvQkFBb0IsMkJBQTJCLDhCQUE4QixVQUFVLFNBQVMsTUFBTSxpQ0FBaUMsc0NBQXNDLFFBQVEsV0FBVyxnQ0FBZ0MsNkNBQTZDLFNBQVMsZ0JBQWdCLDhFQUE4RSxjQUFjLGlGQUFpRixnQkFBZ0IsYUFBYSxvR0FBb0csTUFBTSxjQUFjLG9CQUFvQiwrQkFBK0IsNEJBQTRCLGVBQWUsNkJBQTZCLDJCQUEyQixvRUFBb0Usc0NBQXNDLGFBQWEsNEJBQTRCLGdCQUFnQixZQUFZLFdBQVcsS0FBSyxXQUFXLGtIQUFrSCxrQkFBa0IsMEVBQTBFLFlBQVksSUFBSSxnQkFBZ0Isc0RBQXNELDhGQUE4RixtQkFBbUIsb0dBQW9HLFNBQVMsSUFBSSxjQUFjLHdFQUF3RSw2Q0FBNkMsTUFBTSxnQkFBZ0IsMEVBQTBFLHVCQUF1QixRQUFRLGdCQUFnQiw0R0FBNEcsMENBQTBDLGFBQWEscUNBQXFDLHVDQUF1QyxZQUFZLFlBQVksa0JBQWtCLDhDQUE4QyxrREFBa0QsV0FBVywwQkFBMEIsSUFBSSx3QkFBd0IsU0FBUyxpQkFBaUIseUNBQXlDLGNBQWMsa0JBQWtCLHVCQUF1QixrQ0FBa0MsbUJBQW1CLGNBQWMsc0JBQXNCLGNBQWMsdUJBQXVCLFVBQVUsSUFBSSxnQkFBZ0Isb0NBQW9DLHVCQUF1QixJQUFJLGNBQWMsU0FBUyxnQkFBZ0IsbUJBQW1CLDZCQUE2QixtQkFBbUIsbUZBQW1GLFlBQVksMkJBQTJCLElBQUksK0JBQStC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Z0ksNEVBQTRFLHNHQUFzRyxlQUFlLHVGQUF1Riw2SkFBNkosYUFBYSx3R0FBd0csMEdBQTBHLG1CQUFtQixzQ0FBc0MsaUJBQWlCLDhCQUE0MUciLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L25vZGVfbW9kdWxlcy9AcGlwZWNhdC1haS9kYWlseS10cmFuc3BvcnQvbm9kZV9tb2R1bGVzL0BkYWlseS1jby9kYWlseS1qcy9kaXN0L2RhaWx5LWVzbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBlKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgbixyLGk9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBuPXt9O2Zvcih2YXIgciBpbiBlKWlmKHt9Lmhhc093blByb3BlcnR5LmNhbGwoZSxyKSl7aWYoLTEhPT10LmluZGV4T2YocikpY29udGludWU7bltyXT1lW3JdfXJldHVybiBufShlLHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7Zm9yKHI9MDtyPG8ubGVuZ3RoO3IrKyluPW9bcl0sLTE9PT10LmluZGV4T2YobikmJnt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxuKSYmKGlbbl09ZVtuXSl9cmV0dXJuIGl9ZnVuY3Rpb24gdChlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbihlKXtyZXR1cm4gbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxuKGUpfWZ1bmN0aW9uIHIoZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiIT1uKGUpfHwhZSlyZXR1cm4gZTt2YXIgcj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09cil7dmFyIGk9ci5jYWxsKGUsdHx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPW4oaSkpcmV0dXJuIGk7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09dD9TdHJpbmc6TnVtYmVyKShlKX0oZSxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT1uKHQpP3Q6dCtcIlwifWZ1bmN0aW9uIGkoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscihpLmtleSksaSl9fWZ1bmN0aW9uIG8oZSx0LG4pe3JldHVybiB0JiZpKGUucHJvdG90eXBlLHQpLG4mJmkoZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9ZnVuY3Rpb24gcyhlLHQpe2lmKHQmJihcIm9iamVjdFwiPT1uKHQpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KSlyZXR1cm4gdDtpZih2b2lkIDAhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIGV9KGUpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9LGEoZSl9ZnVuY3Rpb24gYyhlLHQpe3JldHVybiBjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0sYyhlLHQpfWZ1bmN0aW9uIGwoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdCYmYyhlLHQpfWZ1bmN0aW9uIHUoZSx0LG4pe3JldHVybih0PXIodCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gZChlLHQsbixyLGksbyxzKXt0cnl7dmFyIGE9ZVtvXShzKSxjPWEudmFsdWV9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgbihlKX1hLmRvbmU/dChjKTpQcm9taXNlLnJlc29sdmUoYykudGhlbihyLGkpfWZ1bmN0aW9uIHAoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxuPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsaSl7dmFyIG89ZS5hcHBseSh0LG4pO2Z1bmN0aW9uIHMoZSl7ZChvLHIsaSxzLGEsXCJuZXh0XCIsZSl9ZnVuY3Rpb24gYShlKXtkKG8scixpLHMsYSxcInRocm93XCIsZSl9cyh2b2lkIDApfSkpfX1mdW5jdGlvbiBoKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDpcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbXCJAQGl0ZXJhdG9yXCJdO2lmKG51bGwhPW4pe3ZhciByLGksbyxzLGE9W10sYz0hMCxsPSExO3RyeXtpZihvPShuPW4uY2FsbChlKSkubmV4dCwwPT09dCl7aWYoT2JqZWN0KG4pIT09bilyZXR1cm47Yz0hMX1lbHNlIGZvcig7IShjPShyPW8uY2FsbChuKSkuZG9uZSkmJihhLnB1c2goci52YWx1ZSksYS5sZW5ndGghPT10KTtjPSEwKTt9Y2F0Y2goZSl7bD0hMCxpPWV9ZmluYWxseXt0cnl7aWYoIWMmJm51bGwhPW4ucmV0dXJuJiYocz1uLnJldHVybigpLE9iamVjdChzKSE9PXMpKXJldHVybn1maW5hbGx5e2lmKGwpdGhyb3cgaX19cmV0dXJuIGF9fShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBoKGUsdCk7dmFyIG49e30udG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbShlKTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/aChlLHQpOnZvaWQgMH19KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiB2KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVmYXVsdFwiKT9lLmRlZmF1bHQ6ZX12YXIgZyxtPXtleHBvcnRzOnt9fSx5PVwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0P1JlZmxlY3Q6bnVsbCxiPXkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHkuYXBwbHk/eS5hcHBseTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGUsdCxuKX07Zz15JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB5Lm93bktleXM/eS5vd25LZXlzOk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpKX06ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpfTt2YXIgXz1OdW1iZXIuaXNOYU58fGZ1bmN0aW9uKGUpe3JldHVybiBlIT1lfTtmdW5jdGlvbiB3KCl7dy5pbml0LmNhbGwodGhpcyl9bS5leHBvcnRzPXcsbS5leHBvcnRzLm9uY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7ZnVuY3Rpb24gaShuKXtlLnJlbW92ZUxpc3RlbmVyKHQsbykscihuKX1mdW5jdGlvbiBvKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZS5yZW1vdmVMaXN0ZW5lciYmZS5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsaSksbihbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfWooZSx0LG8se29uY2U6ITB9KSxcImVycm9yXCIhPT10JiZmdW5jdGlvbihlLHQsbil7XCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbiYmaihlLFwiZXJyb3JcIix0LG4pfShlLGkse29uY2U6ITB9KX0pKX0sdy5FdmVudEVtaXR0ZXI9dyx3LnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCx3LnByb3RvdHlwZS5fZXZlbnRzQ291bnQ9MCx3LnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMDt2YXIgUz0xMDtmdW5jdGlvbiBrKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgZSl9ZnVuY3Rpb24gTShlKXtyZXR1cm4gdm9pZCAwPT09ZS5fbWF4TGlzdGVuZXJzP3cuZGVmYXVsdE1heExpc3RlbmVyczplLl9tYXhMaXN0ZW5lcnN9ZnVuY3Rpb24gQyhlLHQsbixyKXt2YXIgaSxvLHMsYTtpZihrKG4pLHZvaWQgMD09PShvPWUuX2V2ZW50cyk/KG89ZS5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksZS5fZXZlbnRzQ291bnQ9MCk6KHZvaWQgMCE9PW8ubmV3TGlzdGVuZXImJihlLmVtaXQoXCJuZXdMaXN0ZW5lclwiLHQsbi5saXN0ZW5lcj9uLmxpc3RlbmVyOm4pLG89ZS5fZXZlbnRzKSxzPW9bdF0pLHZvaWQgMD09PXMpcz1vW3RdPW4sKytlLl9ldmVudHNDb3VudDtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHM/cz1vW3RdPXI/W24sc106W3Msbl06cj9zLnVuc2hpZnQobik6cy5wdXNoKG4pLChpPU0oZSkpPjAmJnMubGVuZ3RoPmkmJiFzLndhcm5lZCl7cy53YXJuZWQ9ITA7dmFyIGM9bmV3IEVycm9yKFwiUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiBcIitzLmxlbmd0aCtcIiBcIitTdHJpbmcodCkrXCIgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdFwiKTtjLm5hbWU9XCJNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmdcIixjLmVtaXR0ZXI9ZSxjLnR5cGU9dCxjLmNvdW50PXMubGVuZ3RoLGE9Yyxjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihhKX1yZXR1cm4gZX1mdW5jdGlvbiBFKCl7aWYoIXRoaXMuZmlyZWQpcmV0dXJuIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSx0aGlzLndyYXBGbiksdGhpcy5maXJlZD0hMCwwPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpOnRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy50YXJnZXQsYXJndW1lbnRzKX1mdW5jdGlvbiBUKGUsdCxuKXt2YXIgcj17ZmlyZWQ6ITEsd3JhcEZuOnZvaWQgMCx0YXJnZXQ6ZSx0eXBlOnQsbGlzdGVuZXI6bn0saT1FLmJpbmQocik7cmV0dXJuIGkubGlzdGVuZXI9bixyLndyYXBGbj1pLGl9ZnVuY3Rpb24gTyhlLHQsbil7dmFyIHI9ZS5fZXZlbnRzO2lmKHZvaWQgMD09PXIpcmV0dXJuW107dmFyIGk9clt0XTtyZXR1cm4gdm9pZCAwPT09aT9bXTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBpP24/W2kubGlzdGVuZXJ8fGldOltpXTpuP2Z1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgQXJyYXkoZS5sZW5ndGgpLG49MDtuPHQubGVuZ3RoOysrbil0W25dPWVbbl0ubGlzdGVuZXJ8fGVbbl07cmV0dXJuIHR9KGkpOkEoaSxpLmxlbmd0aCl9ZnVuY3Rpb24gUChlKXt2YXIgdD10aGlzLl9ldmVudHM7aWYodm9pZCAwIT09dCl7dmFyIG49dFtlXTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXJldHVybiAxO2lmKHZvaWQgMCE9PW4pcmV0dXJuIG4ubGVuZ3RofXJldHVybiAwfWZ1bmN0aW9uIEEoZSx0KXtmb3IodmFyIG49bmV3IEFycmF5KHQpLHI9MDtyPHQ7KytyKW5bcl09ZVtyXTtyZXR1cm4gbn1mdW5jdGlvbiBqKGUsdCxuLHIpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUub24pci5vbmNlP2Uub25jZSh0LG4pOmUub24odCxuKTtlbHNle2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUuYWRkRXZlbnRMaXN0ZW5lcil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJlbWl0dGVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEV2ZW50RW1pdHRlci4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBlKTtlLmFkZEV2ZW50TGlzdGVuZXIodCwoZnVuY3Rpb24gaShvKXtyLm9uY2UmJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGkpLG4obyl9KSl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3LFwiZGVmYXVsdE1heExpc3RlbmVyc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBTfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGU8MHx8XyhlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrZStcIi5cIik7Uz1lfX0pLHcuaW5pdD1mdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMuX2V2ZW50cyYmdGhpcy5fZXZlbnRzIT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9LHcucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihlKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZTwwfHxfKGUpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJytlK1wiLlwiKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPWUsdGhpc30sdy5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIE0odGhpcyl9LHcucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXQucHVzaChhcmd1bWVudHNbbl0pO3ZhciByPVwiZXJyb3JcIj09PWUsaT10aGlzLl9ldmVudHM7aWYodm9pZCAwIT09aSlyPXImJnZvaWQgMD09PWkuZXJyb3I7ZWxzZSBpZighcilyZXR1cm4hMTtpZihyKXt2YXIgbztpZih0Lmxlbmd0aD4wJiYobz10WzBdKSxvIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgbzt2YXIgcz1uZXcgRXJyb3IoXCJVbmhhbmRsZWQgZXJyb3IuXCIrKG8/XCIgKFwiK28ubWVzc2FnZStcIilcIjpcIlwiKSk7dGhyb3cgcy5jb250ZXh0PW8sc312YXIgYT1pW2VdO2lmKHZvaWQgMD09PWEpcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYSliKGEsdGhpcyx0KTtlbHNle3ZhciBjPWEubGVuZ3RoLGw9QShhLGMpO2ZvcihuPTA7bjxjOysrbiliKGxbbl0sdGhpcyx0KX1yZXR1cm4hMH0sdy5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQyh0aGlzLGUsdCwhMSl9LHcucHJvdG90eXBlLm9uPXcucHJvdG90eXBlLmFkZExpc3RlbmVyLHcucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiBDKHRoaXMsZSx0LCEwKX0sdy5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLHQpe3JldHVybiBrKHQpLHRoaXMub24oZSxUKHRoaXMsZSx0KSksdGhpc30sdy5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiBrKHQpLHRoaXMucHJlcGVuZExpc3RlbmVyKGUsVCh0aGlzLGUsdCkpLHRoaXN9LHcucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8scztpZihrKHQpLHZvaWQgMD09PShyPXRoaXMuX2V2ZW50cykpcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09KG49cltlXSkpcmV0dXJuIHRoaXM7aWYobj09PXR8fG4ubGlzdGVuZXI9PT10KTA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6KGRlbGV0ZSByW2VdLHIucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSxuLmxpc3RlbmVyfHx0KSk7ZWxzZSBpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXtmb3IoaT0tMSxvPW4ubGVuZ3RoLTE7bz49MDtvLS0paWYobltvXT09PXR8fG5bb10ubGlzdGVuZXI9PT10KXtzPW5bb10ubGlzdGVuZXIsaT1vO2JyZWFrfWlmKGk8MClyZXR1cm4gdGhpczswPT09aT9uLnNoaWZ0KCk6ZnVuY3Rpb24oZSx0KXtmb3IoO3QrMTxlLmxlbmd0aDt0KyspZVt0XT1lW3QrMV07ZS5wb3AoKX0obixpKSwxPT09bi5sZW5ndGgmJihyW2VdPW5bMF0pLHZvaWQgMCE9PXIucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSxzfHx0KX1yZXR1cm4gdGhpc30sdy5wcm90b3R5cGUub2ZmPXcucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLHcucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdCxuLHI7aWYodm9pZCAwPT09KG49dGhpcy5fZXZlbnRzKSlyZXR1cm4gdGhpcztpZih2b2lkIDA9PT1uLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD8odGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCk6dm9pZCAwIT09bltlXSYmKDA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6ZGVsZXRlIG5bZV0pLHRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBpLG89T2JqZWN0LmtleXMobik7Zm9yKHI9MDtyPG8ubGVuZ3RoOysrcilcInJlbW92ZUxpc3RlbmVyXCIhPT0oaT1vW3JdKSYmdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoaSk7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVtb3ZlTGlzdGVuZXJcIiksdGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCx0aGlzfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mKHQ9bltlXSkpdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHQpO2Vsc2UgaWYodm9pZCAwIT09dClmb3Iocj10Lmxlbmd0aC0xO3I+PTA7ci0tKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSx0W3JdKTtyZXR1cm4gdGhpc30sdy5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybiBPKHRoaXMsZSwhMCl9LHcucHJvdG90eXBlLnJhd0xpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm4gTyh0aGlzLGUsITEpfSx3Lmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmxpc3RlbmVyQ291bnQ/ZS5saXN0ZW5lckNvdW50KHQpOlAuY2FsbChlLHQpfSx3LnByb3RvdHlwZS5saXN0ZW5lckNvdW50PVAsdy5wcm90b3R5cGUuZXZlbnROYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudHNDb3VudD4wP2codGhpcy5fZXZlbnRzKTpbXX07dmFyIEk9bS5leHBvcnRzLHg9dihJKSxMPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7ZnVuY3Rpb24gRChlLHQsbil7Zm9yKG4gb2YgZS5rZXlzKCkpaWYoTihuLHQpKXJldHVybiBufWZ1bmN0aW9uIE4oZSx0KXt2YXIgbixyLGk7aWYoZT09PXQpcmV0dXJuITA7aWYoZSYmdCYmKG49ZS5jb25zdHJ1Y3Rvcik9PT10LmNvbnN0cnVjdG9yKXtpZihuPT09RGF0ZSlyZXR1cm4gZS5nZXRUaW1lKCk9PT10LmdldFRpbWUoKTtpZihuPT09UmVnRXhwKXJldHVybiBlLnRvU3RyaW5nKCk9PT10LnRvU3RyaW5nKCk7aWYobj09PUFycmF5KXtpZigocj1lLmxlbmd0aCk9PT10Lmxlbmd0aClmb3IoO3ItLSYmTihlW3JdLHRbcl0pOyk7cmV0dXJuLTE9PT1yfWlmKG49PT1TZXQpe2lmKGUuc2l6ZSE9PXQuc2l6ZSlyZXR1cm4hMTtmb3IociBvZiBlKXtpZigoaT1yKSYmXCJvYmplY3RcIj09dHlwZW9mIGkmJiEoaT1EKHQsaSkpKXJldHVybiExO2lmKCF0LmhhcyhpKSlyZXR1cm4hMX1yZXR1cm4hMH1pZihuPT09TWFwKXtpZihlLnNpemUhPT10LnNpemUpcmV0dXJuITE7Zm9yKHIgb2YgZSl7aWYoKGk9clswXSkmJlwib2JqZWN0XCI9PXR5cGVvZiBpJiYhKGk9RCh0LGkpKSlyZXR1cm4hMTtpZighTihyWzFdLHQuZ2V0KGkpKSlyZXR1cm4hMX1yZXR1cm4hMH1pZihuPT09QXJyYXlCdWZmZXIpZT1uZXcgVWludDhBcnJheShlKSx0PW5ldyBVaW50OEFycmF5KHQpO2Vsc2UgaWYobj09PURhdGFWaWV3KXtpZigocj1lLmJ5dGVMZW5ndGgpPT09dC5ieXRlTGVuZ3RoKWZvcig7ci0tJiZlLmdldEludDgocik9PT10LmdldEludDgocik7KTtyZXR1cm4tMT09PXJ9aWYoQXJyYXlCdWZmZXIuaXNWaWV3KGUpKXtpZigocj1lLmJ5dGVMZW5ndGgpPT09dC5ieXRlTGVuZ3RoKWZvcig7ci0tJiZlW3JdPT09dFtyXTspO3JldHVybi0xPT09cn1pZighbnx8XCJvYmplY3RcIj09dHlwZW9mIGUpe2ZvcihuIGluIHI9MCxlKXtpZihMLmNhbGwoZSxuKSYmKytyJiYhTC5jYWxsKHQsbikpcmV0dXJuITE7aWYoIShuIGluIHQpfHwhTihlW25dLHRbbl0pKXJldHVybiExfXJldHVybiBPYmplY3Qua2V5cyh0KS5sZW5ndGg9PT1yfX1yZXR1cm4gZSE9ZSYmdCE9dH1jb25zdCBSPXtcIkFtYXpvbiBTaWxrXCI6XCJhbWF6b25fc2lsa1wiLFwiQW5kcm9pZCBCcm93c2VyXCI6XCJhbmRyb2lkXCIsQmFkYTpcImJhZGFcIixCbGFja0JlcnJ5OlwiYmxhY2tiZXJyeVwiLENocm9tZTpcImNocm9tZVwiLENocm9taXVtOlwiY2hyb21pdW1cIixFbGVjdHJvbjpcImVsZWN0cm9uXCIsRXBpcGhhbnk6XCJlcGlwaGFueVwiLEZpcmVmb3g6XCJmaXJlZm94XCIsRm9jdXM6XCJmb2N1c1wiLEdlbmVyaWM6XCJnZW5lcmljXCIsXCJHb29nbGUgU2VhcmNoXCI6XCJnb29nbGVfc2VhcmNoXCIsR29vZ2xlYm90OlwiZ29vZ2xlYm90XCIsXCJJbnRlcm5ldCBFeHBsb3JlclwiOlwiaWVcIixcIkstTWVsZW9uXCI6XCJrX21lbGVvblwiLE1heHRob246XCJtYXh0aG9uXCIsXCJNaWNyb3NvZnQgRWRnZVwiOlwiZWRnZVwiLFwiTVogQnJvd3NlclwiOlwibXpcIixcIk5BVkVSIFdoYWxlIEJyb3dzZXJcIjpcIm5hdmVyXCIsT3BlcmE6XCJvcGVyYVwiLFwiT3BlcmEgQ29hc3RcIjpcIm9wZXJhX2NvYXN0XCIsUGhhbnRvbUpTOlwicGhhbnRvbWpzXCIsUHVmZmluOlwicHVmZmluXCIsUXVwWmlsbGE6XCJxdXB6aWxsYVwiLFFROlwicXFcIixRUUxpdGU6XCJxcWxpdGVcIixTYWZhcmk6XCJzYWZhcmlcIixTYWlsZmlzaDpcInNhaWxmaXNoXCIsXCJTYW1zdW5nIEludGVybmV0IGZvciBBbmRyb2lkXCI6XCJzYW1zdW5nX2ludGVybmV0XCIsU2VhTW9ua2V5Olwic2VhbW9ua2V5XCIsU2xlaXBuaXI6XCJzbGVpcG5pclwiLFN3aW5nOlwic3dpbmdcIixUaXplbjpcInRpemVuXCIsXCJVQyBCcm93c2VyXCI6XCJ1Y1wiLFZpdmFsZGk6XCJ2aXZhbGRpXCIsXCJXZWJPUyBCcm93c2VyXCI6XCJ3ZWJvc1wiLFdlQ2hhdDpcIndlY2hhdFwiLFwiWWFuZGV4IEJyb3dzZXJcIjpcInlhbmRleFwiLFJva3U6XCJyb2t1XCJ9LEY9e2FtYXpvbl9zaWxrOlwiQW1hem9uIFNpbGtcIixhbmRyb2lkOlwiQW5kcm9pZCBCcm93c2VyXCIsYmFkYTpcIkJhZGFcIixibGFja2JlcnJ5OlwiQmxhY2tCZXJyeVwiLGNocm9tZTpcIkNocm9tZVwiLGNocm9taXVtOlwiQ2hyb21pdW1cIixlbGVjdHJvbjpcIkVsZWN0cm9uXCIsZXBpcGhhbnk6XCJFcGlwaGFueVwiLGZpcmVmb3g6XCJGaXJlZm94XCIsZm9jdXM6XCJGb2N1c1wiLGdlbmVyaWM6XCJHZW5lcmljXCIsZ29vZ2xlYm90OlwiR29vZ2xlYm90XCIsZ29vZ2xlX3NlYXJjaDpcIkdvb2dsZSBTZWFyY2hcIixpZTpcIkludGVybmV0IEV4cGxvcmVyXCIsa19tZWxlb246XCJLLU1lbGVvblwiLG1heHRob246XCJNYXh0aG9uXCIsZWRnZTpcIk1pY3Jvc29mdCBFZGdlXCIsbXo6XCJNWiBCcm93c2VyXCIsbmF2ZXI6XCJOQVZFUiBXaGFsZSBCcm93c2VyXCIsb3BlcmE6XCJPcGVyYVwiLG9wZXJhX2NvYXN0OlwiT3BlcmEgQ29hc3RcIixwaGFudG9tanM6XCJQaGFudG9tSlNcIixwdWZmaW46XCJQdWZmaW5cIixxdXB6aWxsYTpcIlF1cFppbGxhXCIscXE6XCJRUSBCcm93c2VyXCIscXFsaXRlOlwiUVEgQnJvd3NlciBMaXRlXCIsc2FmYXJpOlwiU2FmYXJpXCIsc2FpbGZpc2g6XCJTYWlsZmlzaFwiLHNhbXN1bmdfaW50ZXJuZXQ6XCJTYW1zdW5nIEludGVybmV0IGZvciBBbmRyb2lkXCIsc2VhbW9ua2V5OlwiU2VhTW9ua2V5XCIsc2xlaXBuaXI6XCJTbGVpcG5pclwiLHN3aW5nOlwiU3dpbmdcIix0aXplbjpcIlRpemVuXCIsdWM6XCJVQyBCcm93c2VyXCIsdml2YWxkaTpcIlZpdmFsZGlcIix3ZWJvczpcIldlYk9TIEJyb3dzZXJcIix3ZWNoYXQ6XCJXZUNoYXRcIix5YW5kZXg6XCJZYW5kZXggQnJvd3NlclwifSxCPXt0YWJsZXQ6XCJ0YWJsZXRcIixtb2JpbGU6XCJtb2JpbGVcIixkZXNrdG9wOlwiZGVza3RvcFwiLHR2OlwidHZcIn0sVT17V2luZG93c1Bob25lOlwiV2luZG93cyBQaG9uZVwiLFdpbmRvd3M6XCJXaW5kb3dzXCIsTWFjT1M6XCJtYWNPU1wiLGlPUzpcImlPU1wiLEFuZHJvaWQ6XCJBbmRyb2lkXCIsV2ViT1M6XCJXZWJPU1wiLEJsYWNrQmVycnk6XCJCbGFja0JlcnJ5XCIsQmFkYTpcIkJhZGFcIixUaXplbjpcIlRpemVuXCIsTGludXg6XCJMaW51eFwiLENocm9tZU9TOlwiQ2hyb21lIE9TXCIsUGxheVN0YXRpb240OlwiUGxheVN0YXRpb24gNFwiLFJva3U6XCJSb2t1XCJ9LFY9e0VkZ2VIVE1MOlwiRWRnZUhUTUxcIixCbGluazpcIkJsaW5rXCIsVHJpZGVudDpcIlRyaWRlbnRcIixQcmVzdG86XCJQcmVzdG9cIixHZWNrbzpcIkdlY2tvXCIsV2ViS2l0OlwiV2ViS2l0XCJ9O2NsYXNzIEp7c3RhdGljIGdldEZpcnN0TWF0Y2goZSx0KXtjb25zdCBuPXQubWF0Y2goZSk7cmV0dXJuIG4mJm4ubGVuZ3RoPjAmJm5bMV18fFwiXCJ9c3RhdGljIGdldFNlY29uZE1hdGNoKGUsdCl7Y29uc3Qgbj10Lm1hdGNoKGUpO3JldHVybiBuJiZuLmxlbmd0aD4xJiZuWzJdfHxcIlwifXN0YXRpYyBtYXRjaEFuZFJldHVybkNvbnN0KGUsdCxuKXtpZihlLnRlc3QodCkpcmV0dXJuIG59c3RhdGljIGdldFdpbmRvd3NWZXJzaW9uTmFtZShlKXtzd2l0Y2goZSl7Y2FzZVwiTlRcIjpyZXR1cm5cIk5UXCI7Y2FzZVwiWFBcIjpjYXNlXCJOVCA1LjFcIjpyZXR1cm5cIlhQXCI7Y2FzZVwiTlQgNS4wXCI6cmV0dXJuXCIyMDAwXCI7Y2FzZVwiTlQgNS4yXCI6cmV0dXJuXCIyMDAzXCI7Y2FzZVwiTlQgNi4wXCI6cmV0dXJuXCJWaXN0YVwiO2Nhc2VcIk5UIDYuMVwiOnJldHVyblwiN1wiO2Nhc2VcIk5UIDYuMlwiOnJldHVyblwiOFwiO2Nhc2VcIk5UIDYuM1wiOnJldHVyblwiOC4xXCI7Y2FzZVwiTlQgMTAuMFwiOnJldHVyblwiMTBcIjtkZWZhdWx0OnJldHVybn19c3RhdGljIGdldE1hY09TVmVyc2lvbk5hbWUoZSl7Y29uc3QgdD1lLnNwbGl0KFwiLlwiKS5zcGxpY2UoMCwyKS5tYXAoKGU9PnBhcnNlSW50KGUsMTApfHwwKSk7aWYodC5wdXNoKDApLDEwPT09dFswXSlzd2l0Y2godFsxXSl7Y2FzZSA1OnJldHVyblwiTGVvcGFyZFwiO2Nhc2UgNjpyZXR1cm5cIlNub3cgTGVvcGFyZFwiO2Nhc2UgNzpyZXR1cm5cIkxpb25cIjtjYXNlIDg6cmV0dXJuXCJNb3VudGFpbiBMaW9uXCI7Y2FzZSA5OnJldHVyblwiTWF2ZXJpY2tzXCI7Y2FzZSAxMDpyZXR1cm5cIllvc2VtaXRlXCI7Y2FzZSAxMTpyZXR1cm5cIkVsIENhcGl0YW5cIjtjYXNlIDEyOnJldHVyblwiU2llcnJhXCI7Y2FzZSAxMzpyZXR1cm5cIkhpZ2ggU2llcnJhXCI7Y2FzZSAxNDpyZXR1cm5cIk1vamF2ZVwiO2Nhc2UgMTU6cmV0dXJuXCJDYXRhbGluYVwiO2RlZmF1bHQ6cmV0dXJufX1zdGF0aWMgZ2V0QW5kcm9pZFZlcnNpb25OYW1lKGUpe2NvbnN0IHQ9ZS5zcGxpdChcIi5cIikuc3BsaWNlKDAsMikubWFwKChlPT5wYXJzZUludChlLDEwKXx8MCkpO2lmKHQucHVzaCgwKSwhKDE9PT10WzBdJiZ0WzFdPDUpKXJldHVybiAxPT09dFswXSYmdFsxXTw2P1wiQ3VwY2FrZVwiOjE9PT10WzBdJiZ0WzFdPj02P1wiRG9udXRcIjoyPT09dFswXSYmdFsxXTwyP1wiRWNsYWlyXCI6Mj09PXRbMF0mJjI9PT10WzFdP1wiRnJveW9cIjoyPT09dFswXSYmdFsxXT4yP1wiR2luZ2VyYnJlYWRcIjozPT09dFswXT9cIkhvbmV5Y29tYlwiOjQ9PT10WzBdJiZ0WzFdPDE/XCJJY2UgQ3JlYW0gU2FuZHdpY2hcIjo0PT09dFswXSYmdFsxXTw0P1wiSmVsbHkgQmVhblwiOjQ9PT10WzBdJiZ0WzFdPj00P1wiS2l0S2F0XCI6NT09PXRbMF0/XCJMb2xsaXBvcFwiOjY9PT10WzBdP1wiTWFyc2htYWxsb3dcIjo3PT09dFswXT9cIk5vdWdhdFwiOjg9PT10WzBdP1wiT3Jlb1wiOjk9PT10WzBdP1wiUGllXCI6dm9pZCAwfXN0YXRpYyBnZXRWZXJzaW9uUHJlY2lzaW9uKGUpe3JldHVybiBlLnNwbGl0KFwiLlwiKS5sZW5ndGh9c3RhdGljIGNvbXBhcmVWZXJzaW9ucyhlLHQsbj0hMSl7Y29uc3Qgcj1KLmdldFZlcnNpb25QcmVjaXNpb24oZSksaT1KLmdldFZlcnNpb25QcmVjaXNpb24odCk7bGV0IG89TWF0aC5tYXgocixpKSxzPTA7Y29uc3QgYT1KLm1hcChbZSx0XSwoZT0+e2NvbnN0IHQ9by1KLmdldFZlcnNpb25QcmVjaXNpb24oZSksbj1lK25ldyBBcnJheSh0KzEpLmpvaW4oXCIuMFwiKTtyZXR1cm4gSi5tYXAobi5zcGxpdChcIi5cIiksKGU9Pm5ldyBBcnJheSgyMC1lLmxlbmd0aCkuam9pbihcIjBcIikrZSkpLnJldmVyc2UoKX0pKTtmb3IobiYmKHM9by1NYXRoLm1pbihyLGkpKSxvLT0xO28+PXM7KXtpZihhWzBdW29dPmFbMV1bb10pcmV0dXJuIDE7aWYoYVswXVtvXT09PWFbMV1bb10pe2lmKG89PT1zKXJldHVybiAwO28tPTF9ZWxzZSBpZihhWzBdW29dPGFbMV1bb10pcmV0dXJuLTF9fXN0YXRpYyBtYXAoZSx0KXtjb25zdCBuPVtdO2xldCByO2lmKEFycmF5LnByb3RvdHlwZS5tYXApcmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChlLHQpO2ZvcihyPTA7cjxlLmxlbmd0aDtyKz0xKW4ucHVzaCh0KGVbcl0pKTtyZXR1cm4gbn1zdGF0aWMgZmluZChlLHQpe2xldCBuLHI7aWYoQXJyYXkucHJvdG90eXBlLmZpbmQpcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maW5kLmNhbGwoZSx0KTtmb3Iobj0wLHI9ZS5sZW5ndGg7bjxyO24rPTEpe2NvbnN0IHI9ZVtuXTtpZih0KHIsbikpcmV0dXJuIHJ9fXN0YXRpYyBhc3NpZ24oZSwuLi50KXtjb25zdCBuPWU7bGV0IHIsaTtpZihPYmplY3QuYXNzaWduKXJldHVybiBPYmplY3QuYXNzaWduKGUsLi4udCk7Zm9yKHI9MCxpPXQubGVuZ3RoO3I8aTtyKz0xKXtjb25zdCBlPXRbcl07aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKCh0PT57blt0XT1lW3RdfSkpfX1yZXR1cm4gZX1zdGF0aWMgZ2V0QnJvd3NlckFsaWFzKGUpe3JldHVybiBSW2VdfXN0YXRpYyBnZXRCcm93c2VyVHlwZUJ5QWxpYXMoZSl7cmV0dXJuIEZbZV18fFwiXCJ9fWNvbnN0ICQ9L3ZlcnNpb25cXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2kscT1be3Rlc3Q6Wy9nb29nbGVib3QvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkdvb2dsZWJvdFwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvZ29vZ2xlYm90XFwvKFxcZCsoXFwuXFxkKykpL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL29wZXJhL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJPcGVyYVwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpfHxKLmdldEZpcnN0TWF0Y2goLyg/Om9wZXJhKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9vcHJcXC98b3Bpb3MvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIk9wZXJhXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzpvcHJ8b3Bpb3MpW1xccy9dKFxcUyspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL1NhbXN1bmdCcm93c2VyL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJTYW1zdW5nIEludGVybmV0IGZvciBBbmRyb2lkXCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSl8fEouZ2V0Rmlyc3RNYXRjaCgvKD86U2Ftc3VuZ0Jyb3dzZXIpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL1doYWxlL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJOQVZFUiBXaGFsZSBCcm93c2VyXCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSl8fEouZ2V0Rmlyc3RNYXRjaCgvKD86d2hhbGUpW1xccy9dKFxcZCsoPzpcXC5cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvTVpCcm93c2VyL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJNWiBCcm93c2VyXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzpNWkJyb3dzZXIpW1xccy9dKFxcZCsoPzpcXC5cXGQrKSspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2ZvY3VzL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJGb2N1c1wifSxuPUouZ2V0Rmlyc3RNYXRjaCgvKD86Zm9jdXMpW1xccy9dKFxcZCsoPzpcXC5cXGQrKSspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3N3aW5nL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJTd2luZ1wifSxuPUouZ2V0Rmlyc3RNYXRjaCgvKD86c3dpbmcpW1xccy9dKFxcZCsoPzpcXC5cXGQrKSspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2NvYXN0L2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJPcGVyYSBDb2FzdFwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpfHxKLmdldEZpcnN0TWF0Y2goLyg/OmNvYXN0KVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9vcHRcXC9cXGQrKD86Lj9fP1xcZCspKy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiT3BlcmEgVG91Y2hcIn0sbj1KLmdldEZpcnN0TWF0Y2goLyg/Om9wdClbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3lhYnJvd3Nlci9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiWWFuZGV4IEJyb3dzZXJcIn0sbj1KLmdldEZpcnN0TWF0Y2goLyg/OnlhYnJvd3NlcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3VjYnJvd3Nlci9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiVUMgQnJvd3NlclwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpfHxKLmdldEZpcnN0TWF0Y2goLyg/OnVjYnJvd3NlcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvTWF4dGhvbnxteGlvcy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiTWF4dGhvblwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpfHxKLmdldEZpcnN0TWF0Y2goLyg/Ok1heHRob258bXhpb3MpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2VwaXBoYW55L2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJFcGlwaGFueVwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpfHxKLmdldEZpcnN0TWF0Y2goLyg/OmVwaXBoYW55KVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9wdWZmaW4vaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlB1ZmZpblwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpfHxKLmdldEZpcnN0TWF0Y2goLyg/OnB1ZmZpbilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0Olsvc2xlaXBuaXIvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlNsZWlwbmlyXCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSl8fEouZ2V0Rmlyc3RNYXRjaCgvKD86c2xlaXBuaXIpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2stbWVsZW9uL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJLLU1lbGVvblwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpfHxKLmdldEZpcnN0TWF0Y2goLyg/OmstbWVsZW9uKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9taWNyb21lc3Nlbmdlci9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiV2VDaGF0XCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzptaWNyb21lc3NlbmdlcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3FxYnJvd3Nlci9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOi9xcWJyb3dzZXJsaXRlL2kudGVzdChlKT9cIlFRIEJyb3dzZXIgTGl0ZVwiOlwiUVEgQnJvd3NlclwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvKD86cXFicm93c2VybGl0ZXxxcWJyb3dzZXIpWy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpfHxKLmdldEZpcnN0TWF0Y2goJCxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9tc2llfHRyaWRlbnQvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkludGVybmV0IEV4cGxvcmVyXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzptc2llIHxydjopKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL1xcc2VkZ1xcLy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiTWljcm9zb2Z0IEVkZ2VcIn0sbj1KLmdldEZpcnN0TWF0Y2goL1xcc2VkZ1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9lZGcoW2VhXXxpb3MpL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJNaWNyb3NvZnQgRWRnZVwifSxuPUouZ2V0U2Vjb25kTWF0Y2goL2VkZyhbZWFdfGlvcylcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0Olsvdml2YWxkaS9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiVml2YWxkaVwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvdml2YWxkaVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9zZWFtb25rZXkvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlNlYU1vbmtleVwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvc2VhbW9ua2V5XFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3NhaWxmaXNoL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJTYWlsZmlzaFwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvc2FpbGZpc2hcXHM/YnJvd3NlclxcLyhcXGQrKFxcLlxcZCspPykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9zaWxrL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJBbWF6b24gU2lsa1wifSxuPUouZ2V0Rmlyc3RNYXRjaCgvc2lsa1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9waGFudG9tL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJQaGFudG9tSlNcIn0sbj1KLmdldEZpcnN0TWF0Y2goL3BoYW50b21qc1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9zbGltZXJqcy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiU2xpbWVySlNcIn0sbj1KLmdldEZpcnN0TWF0Y2goL3NsaW1lcmpzXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2JsYWNrYmVycnl8XFxiYmJcXGQrL2ksL3JpbVxcc3RhYmxldC9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiQmxhY2tCZXJyeVwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpfHxKLmdldEZpcnN0TWF0Y2goL2JsYWNrYmVycnlbXFxkXStcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvKHdlYnxocHcpW28wXXMvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIldlYk9TIEJyb3dzZXJcIn0sbj1KLmdldEZpcnN0TWF0Y2goJCxlKXx8Si5nZXRGaXJzdE1hdGNoKC93KD86ZWIpP1tvMF1zYnJvd3NlclxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9iYWRhL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJCYWRhXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC9kb2xmaW5cXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvdGl6ZW4vaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlRpemVuXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzp0aXplblxccz8pP2Jyb3dzZXJcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3F1cHppbGxhL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJRdXBaaWxsYVwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvKD86cXVwemlsbGEpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpfHxKLmdldEZpcnN0TWF0Y2goJCxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9maXJlZm94fGljZXdlYXNlbHxmeGlvcy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiRmlyZWZveFwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvKD86ZmlyZWZveHxpY2V3ZWFzZWx8Znhpb3MpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2VsZWN0cm9uL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJFbGVjdHJvblwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvKD86ZWxlY3Ryb24pXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL01pdWlCcm93c2VyL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJNaXVpXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzpNaXVpQnJvd3NlcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvY2hyb21pdW0vaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkNocm9taXVtXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzpjaHJvbWl1bSlbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2Nocm9tZXxjcmlvc3xjcm1vL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJDaHJvbWVcIn0sbj1KLmdldEZpcnN0TWF0Y2goLyg/OmNocm9tZXxjcmlvc3xjcm1vKVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9HU0EvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkdvb2dsZSBTZWFyY2hcIn0sbj1KLmdldEZpcnN0TWF0Y2goLyg/OkdTQSlcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0KGUpe2NvbnN0IHQ9IWUudGVzdCgvbGlrZSBhbmRyb2lkL2kpLG49ZS50ZXN0KC9hbmRyb2lkL2kpO3JldHVybiB0JiZufSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiQW5kcm9pZCBCcm93c2VyXCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvcGxheXN0YXRpb24gNC9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiUGxheVN0YXRpb24gNFwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3NhZmFyaXxhcHBsZXdlYmtpdC9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiU2FmYXJpXCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvLiovaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD0tMSE9PWUuc2VhcmNoKFwiXFxcXChcIik/L14oLiopXFwvKC4qKVsgXFx0XVxcKCguKikvOi9eKC4qKVxcLyguKikgLztyZXR1cm57bmFtZTpKLmdldEZpcnN0TWF0Y2godCxlKSx2ZXJzaW9uOkouZ2V0U2Vjb25kTWF0Y2godCxlKX19fV07dmFyIHo9W3t0ZXN0OlsvUm9rdVxcL0RWUC9dLGRlc2NyaWJlKGUpe2NvbnN0IHQ9Si5nZXRGaXJzdE1hdGNoKC9Sb2t1XFwvRFZQLShcXGQrXFwuXFxkKykvaSxlKTtyZXR1cm57bmFtZTpVLlJva3UsdmVyc2lvbjp0fX19LHt0ZXN0Olsvd2luZG93cyBwaG9uZS9pXSxkZXNjcmliZShlKXtjb25zdCB0PUouZ2V0Rmlyc3RNYXRjaCgvd2luZG93cyBwaG9uZSAoPzpvcyk/XFxzPyhcXGQrKFxcLlxcZCspKikvaSxlKTtyZXR1cm57bmFtZTpVLldpbmRvd3NQaG9uZSx2ZXJzaW9uOnR9fX0se3Rlc3Q6Wy93aW5kb3dzIC9pXSxkZXNjcmliZShlKXtjb25zdCB0PUouZ2V0Rmlyc3RNYXRjaCgvV2luZG93cyAoKE5UfFhQKSggXFxkXFxkPy5cXGQpPykvaSxlKSxuPUouZ2V0V2luZG93c1ZlcnNpb25OYW1lKHQpO3JldHVybntuYW1lOlUuV2luZG93cyx2ZXJzaW9uOnQsdmVyc2lvbk5hbWU6bn19fSx7dGVzdDpbL01hY2ludG9zaCguKj8pIEZ4aU9TKC4qPylcXC8vXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlUuaU9TfSxuPUouZ2V0U2Vjb25kTWF0Y2goLyhWZXJzaW9uXFwvKShcXGRbXFxkLl0rKS8sZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvbWFjaW50b3NoL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9Si5nZXRGaXJzdE1hdGNoKC9tYWMgb3MgeCAoXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSkucmVwbGFjZSgvW19cXHNdL2csXCIuXCIpLG49Si5nZXRNYWNPU1ZlcnNpb25OYW1lKHQpLHI9e25hbWU6VS5NYWNPUyx2ZXJzaW9uOnR9O3JldHVybiBuJiYoci52ZXJzaW9uTmFtZT1uKSxyfX0se3Rlc3Q6Wy8oaXBvZHxpcGhvbmV8aXBhZCkvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD1KLmdldEZpcnN0TWF0Y2goL29zIChcXGQrKFtfXFxzXVxcZCspKikgbGlrZSBtYWMgb3MgeC9pLGUpLnJlcGxhY2UoL1tfXFxzXS9nLFwiLlwiKTtyZXR1cm57bmFtZTpVLmlPUyx2ZXJzaW9uOnR9fX0se3Rlc3QoZSl7Y29uc3QgdD0hZS50ZXN0KC9saWtlIGFuZHJvaWQvaSksbj1lLnRlc3QoL2FuZHJvaWQvaSk7cmV0dXJuIHQmJm59LGRlc2NyaWJlKGUpe2NvbnN0IHQ9Si5nZXRGaXJzdE1hdGNoKC9hbmRyb2lkW1xccy8tXShcXGQrKFxcLlxcZCspKikvaSxlKSxuPUouZ2V0QW5kcm9pZFZlcnNpb25OYW1lKHQpLHI9e25hbWU6VS5BbmRyb2lkLHZlcnNpb246dH07cmV0dXJuIG4mJihyLnZlcnNpb25OYW1lPW4pLHJ9fSx7dGVzdDpbLyh3ZWJ8aHB3KVtvMF1zL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9Si5nZXRGaXJzdE1hdGNoKC8oPzp3ZWJ8aHB3KVtvMF1zXFwvKFxcZCsoXFwuXFxkKykqKS9pLGUpLG49e25hbWU6VS5XZWJPU307cmV0dXJuIHQmJnQubGVuZ3RoJiYobi52ZXJzaW9uPXQpLG59fSx7dGVzdDpbL2JsYWNrYmVycnl8XFxiYmJcXGQrL2ksL3JpbVxcc3RhYmxldC9pXSxkZXNjcmliZShlKXtjb25zdCB0PUouZ2V0Rmlyc3RNYXRjaCgvcmltXFxzdGFibGV0XFxzb3NcXHMoXFxkKyhcXC5cXGQrKSopL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgvYmxhY2tiZXJyeVxcZCtcXC8oXFxkKyhbX1xcc11cXGQrKSopL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgvXFxiYmIoXFxkKykvaSxlKTtyZXR1cm57bmFtZTpVLkJsYWNrQmVycnksdmVyc2lvbjp0fX19LHt0ZXN0OlsvYmFkYS9pXSxkZXNjcmliZShlKXtjb25zdCB0PUouZ2V0Rmlyc3RNYXRjaCgvYmFkYVxcLyhcXGQrKFxcLlxcZCspKikvaSxlKTtyZXR1cm57bmFtZTpVLkJhZGEsdmVyc2lvbjp0fX19LHt0ZXN0OlsvdGl6ZW4vaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD1KLmdldEZpcnN0TWF0Y2goL3RpemVuWy9cXHNdKFxcZCsoXFwuXFxkKykqKS9pLGUpO3JldHVybntuYW1lOlUuVGl6ZW4sdmVyc2lvbjp0fX19LHt0ZXN0OlsvbGludXgvaV0sZGVzY3JpYmU6KCk9Pih7bmFtZTpVLkxpbnV4fSl9LHt0ZXN0OlsvQ3JPUy9dLGRlc2NyaWJlOigpPT4oe25hbWU6VS5DaHJvbWVPU30pfSx7dGVzdDpbL1BsYXlTdGF0aW9uIDQvXSxkZXNjcmliZShlKXtjb25zdCB0PUouZ2V0Rmlyc3RNYXRjaCgvUGxheVN0YXRpb24gNFsvXFxzXShcXGQrKFxcLlxcZCspKikvaSxlKTtyZXR1cm57bmFtZTpVLlBsYXlTdGF0aW9uNCx2ZXJzaW9uOnR9fX1dLFc9W3t0ZXN0OlsvZ29vZ2xlYm90L2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6XCJib3RcIix2ZW5kb3I6XCJHb29nbGVcIn0pfSx7dGVzdDpbL2h1YXdlaS9pXSxkZXNjcmliZShlKXtjb25zdCB0PUouZ2V0Rmlyc3RNYXRjaCgvKGNhbi1sMDEpL2ksZSkmJlwiTm92YVwiLG49e3R5cGU6Qi5tb2JpbGUsdmVuZG9yOlwiSHVhd2VpXCJ9O3JldHVybiB0JiYobi5tb2RlbD10KSxufX0se3Rlc3Q6Wy9uZXh1c1xccyooPzo3fDh8OXwxMCkuKi9pXSxkZXNjcmliZTooKT0+KHt0eXBlOkIudGFibGV0LHZlbmRvcjpcIk5leHVzXCJ9KX0se3Rlc3Q6Wy9pcGFkL2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi50YWJsZXQsdmVuZG9yOlwiQXBwbGVcIixtb2RlbDpcImlQYWRcIn0pfSx7dGVzdDpbL01hY2ludG9zaCguKj8pIEZ4aU9TKC4qPylcXC8vXSxkZXNjcmliZTooKT0+KHt0eXBlOkIudGFibGV0LHZlbmRvcjpcIkFwcGxlXCIsbW9kZWw6XCJpUGFkXCJ9KX0se3Rlc3Q6Wy9rZnR0IGJ1aWxkL2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi50YWJsZXQsdmVuZG9yOlwiQW1hem9uXCIsbW9kZWw6XCJLaW5kbGUgRmlyZSBIRCA3XCJ9KX0se3Rlc3Q6Wy9zaWxrL2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi50YWJsZXQsdmVuZG9yOlwiQW1hem9uXCJ9KX0se3Rlc3Q6Wy90YWJsZXQoPyEgcGMpL2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi50YWJsZXR9KX0se3Rlc3QoZSl7Y29uc3QgdD1lLnRlc3QoL2lwb2R8aXBob25lL2kpLG49ZS50ZXN0KC9saWtlIChpcG9kfGlwaG9uZSkvaSk7cmV0dXJuIHQmJiFufSxkZXNjcmliZShlKXtjb25zdCB0PUouZ2V0Rmlyc3RNYXRjaCgvKGlwb2R8aXBob25lKS9pLGUpO3JldHVybnt0eXBlOkIubW9iaWxlLHZlbmRvcjpcIkFwcGxlXCIsbW9kZWw6dH19fSx7dGVzdDpbL25leHVzXFxzKlswLTZdLiovaSwvZ2FsYXh5IG5leHVzL2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi5tb2JpbGUsdmVuZG9yOlwiTmV4dXNcIn0pfSx7dGVzdDpbL1teLV1tb2JpL2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi5tb2JpbGV9KX0se3Rlc3Q6ZT0+XCJibGFja2JlcnJ5XCI9PT1lLmdldEJyb3dzZXJOYW1lKCEwKSxkZXNjcmliZTooKT0+KHt0eXBlOkIubW9iaWxlLHZlbmRvcjpcIkJsYWNrQmVycnlcIn0pfSx7dGVzdDplPT5cImJhZGFcIj09PWUuZ2V0QnJvd3Nlck5hbWUoITApLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi5tb2JpbGV9KX0se3Rlc3Q6ZT0+XCJ3aW5kb3dzIHBob25lXCI9PT1lLmdldEJyb3dzZXJOYW1lKCksZGVzY3JpYmU6KCk9Pih7dHlwZTpCLm1vYmlsZSx2ZW5kb3I6XCJNaWNyb3NvZnRcIn0pfSx7dGVzdChlKXtjb25zdCB0PU51bWJlcihTdHJpbmcoZS5nZXRPU1ZlcnNpb24oKSkuc3BsaXQoXCIuXCIpWzBdKTtyZXR1cm5cImFuZHJvaWRcIj09PWUuZ2V0T1NOYW1lKCEwKSYmdD49M30sZGVzY3JpYmU6KCk9Pih7dHlwZTpCLnRhYmxldH0pfSx7dGVzdDplPT5cImFuZHJvaWRcIj09PWUuZ2V0T1NOYW1lKCEwKSxkZXNjcmliZTooKT0+KHt0eXBlOkIubW9iaWxlfSl9LHt0ZXN0OmU9PlwibWFjb3NcIj09PWUuZ2V0T1NOYW1lKCEwKSxkZXNjcmliZTooKT0+KHt0eXBlOkIuZGVza3RvcCx2ZW5kb3I6XCJBcHBsZVwifSl9LHt0ZXN0OmU9Plwid2luZG93c1wiPT09ZS5nZXRPU05hbWUoITApLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi5kZXNrdG9wfSl9LHt0ZXN0OmU9PlwibGludXhcIj09PWUuZ2V0T1NOYW1lKCEwKSxkZXNjcmliZTooKT0+KHt0eXBlOkIuZGVza3RvcH0pfSx7dGVzdDplPT5cInBsYXlzdGF0aW9uIDRcIj09PWUuZ2V0T1NOYW1lKCEwKSxkZXNjcmliZTooKT0+KHt0eXBlOkIudHZ9KX0se3Rlc3Q6ZT0+XCJyb2t1XCI9PT1lLmdldE9TTmFtZSghMCksZGVzY3JpYmU6KCk9Pih7dHlwZTpCLnR2fSl9XSxIPVt7dGVzdDplPT5cIm1pY3Jvc29mdCBlZGdlXCI9PT1lLmdldEJyb3dzZXJOYW1lKCEwKSxkZXNjcmliZShlKXtpZigvXFxzZWRnXFwvL2kudGVzdChlKSlyZXR1cm57bmFtZTpWLkJsaW5rfTtjb25zdCB0PUouZ2V0Rmlyc3RNYXRjaCgvZWRnZVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm57bmFtZTpWLkVkZ2VIVE1MLHZlcnNpb246dH19fSx7dGVzdDpbL3RyaWRlbnQvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpWLlRyaWRlbnR9LG49Si5nZXRGaXJzdE1hdGNoKC90cmlkZW50XFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDplPT5lLnRlc3QoL3ByZXN0by9pKSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlYuUHJlc3RvfSxuPUouZ2V0Rmlyc3RNYXRjaCgvcHJlc3RvXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdChlKXtjb25zdCB0PWUudGVzdCgvZ2Vja28vaSksbj1lLnRlc3QoL2xpa2UgZ2Vja28vaSk7cmV0dXJuIHQmJiFufSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlYuR2Vja299LG49Si5nZXRGaXJzdE1hdGNoKC9nZWNrb1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy8oYXBwbGUpP3dlYmtpdFxcLzUzN1xcLjM2L2ldLGRlc2NyaWJlOigpPT4oe25hbWU6Vi5CbGlua30pfSx7dGVzdDpbLyhhcHBsZSk/d2Via2l0L2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6Vi5XZWJLaXR9LG49Si5nZXRGaXJzdE1hdGNoKC93ZWJraXRcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19XTtjbGFzcyBHe2NvbnN0cnVjdG9yKGUsdD0hMSl7aWYobnVsbD09ZXx8XCJcIj09PWUpdGhyb3cgbmV3IEVycm9yKFwiVXNlckFnZW50IHBhcmFtZXRlciBjYW4ndCBiZSBlbXB0eVwiKTt0aGlzLl91YT1lLHRoaXMucGFyc2VkUmVzdWx0PXt9LCEwIT09dCYmdGhpcy5wYXJzZSgpfWdldFVBKCl7cmV0dXJuIHRoaXMuX3VhfXRlc3QoZSl7cmV0dXJuIGUudGVzdCh0aGlzLl91YSl9cGFyc2VCcm93c2VyKCl7dGhpcy5wYXJzZWRSZXN1bHQuYnJvd3Nlcj17fTtjb25zdCBlPUouZmluZChxLChlPT57aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS50ZXN0KXJldHVybiBlLnRlc3QodGhpcyk7aWYoZS50ZXN0IGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuIGUudGVzdC5zb21lKChlPT50aGlzLnRlc3QoZSkpKTt0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyJ3MgdGVzdCBmdW5jdGlvbiBpcyBub3QgdmFsaWRcIil9KSk7cmV0dXJuIGUmJih0aGlzLnBhcnNlZFJlc3VsdC5icm93c2VyPWUuZGVzY3JpYmUodGhpcy5nZXRVQSgpKSksdGhpcy5wYXJzZWRSZXN1bHQuYnJvd3Nlcn1nZXRCcm93c2VyKCl7cmV0dXJuIHRoaXMucGFyc2VkUmVzdWx0LmJyb3dzZXI/dGhpcy5wYXJzZWRSZXN1bHQuYnJvd3Nlcjp0aGlzLnBhcnNlQnJvd3NlcigpfWdldEJyb3dzZXJOYW1lKGUpe3JldHVybiBlP1N0cmluZyh0aGlzLmdldEJyb3dzZXIoKS5uYW1lKS50b0xvd2VyQ2FzZSgpfHxcIlwiOnRoaXMuZ2V0QnJvd3NlcigpLm5hbWV8fFwiXCJ9Z2V0QnJvd3NlclZlcnNpb24oKXtyZXR1cm4gdGhpcy5nZXRCcm93c2VyKCkudmVyc2lvbn1nZXRPUygpe3JldHVybiB0aGlzLnBhcnNlZFJlc3VsdC5vcz90aGlzLnBhcnNlZFJlc3VsdC5vczp0aGlzLnBhcnNlT1MoKX1wYXJzZU9TKCl7dGhpcy5wYXJzZWRSZXN1bHQub3M9e307Y29uc3QgZT1KLmZpbmQoeiwoZT0+e2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUudGVzdClyZXR1cm4gZS50ZXN0KHRoaXMpO2lmKGUudGVzdCBpbnN0YW5jZW9mIEFycmF5KXJldHVybiBlLnRlc3Quc29tZSgoZT0+dGhpcy50ZXN0KGUpKSk7dGhyb3cgbmV3IEVycm9yKFwiQnJvd3NlcidzIHRlc3QgZnVuY3Rpb24gaXMgbm90IHZhbGlkXCIpfSkpO3JldHVybiBlJiYodGhpcy5wYXJzZWRSZXN1bHQub3M9ZS5kZXNjcmliZSh0aGlzLmdldFVBKCkpKSx0aGlzLnBhcnNlZFJlc3VsdC5vc31nZXRPU05hbWUoZSl7Y29uc3R7bmFtZTp0fT10aGlzLmdldE9TKCk7cmV0dXJuIGU/U3RyaW5nKHQpLnRvTG93ZXJDYXNlKCl8fFwiXCI6dHx8XCJcIn1nZXRPU1ZlcnNpb24oKXtyZXR1cm4gdGhpcy5nZXRPUygpLnZlcnNpb259Z2V0UGxhdGZvcm0oKXtyZXR1cm4gdGhpcy5wYXJzZWRSZXN1bHQucGxhdGZvcm0/dGhpcy5wYXJzZWRSZXN1bHQucGxhdGZvcm06dGhpcy5wYXJzZVBsYXRmb3JtKCl9Z2V0UGxhdGZvcm1UeXBlKGU9ITEpe2NvbnN0e3R5cGU6dH09dGhpcy5nZXRQbGF0Zm9ybSgpO3JldHVybiBlP1N0cmluZyh0KS50b0xvd2VyQ2FzZSgpfHxcIlwiOnR8fFwiXCJ9cGFyc2VQbGF0Zm9ybSgpe3RoaXMucGFyc2VkUmVzdWx0LnBsYXRmb3JtPXt9O2NvbnN0IGU9Si5maW5kKFcsKGU9PntpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRlc3QpcmV0dXJuIGUudGVzdCh0aGlzKTtpZihlLnRlc3QgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm4gZS50ZXN0LnNvbWUoKGU9PnRoaXMudGVzdChlKSkpO3Rocm93IG5ldyBFcnJvcihcIkJyb3dzZXIncyB0ZXN0IGZ1bmN0aW9uIGlzIG5vdCB2YWxpZFwiKX0pKTtyZXR1cm4gZSYmKHRoaXMucGFyc2VkUmVzdWx0LnBsYXRmb3JtPWUuZGVzY3JpYmUodGhpcy5nZXRVQSgpKSksdGhpcy5wYXJzZWRSZXN1bHQucGxhdGZvcm19Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMucGFyc2VkUmVzdWx0LmVuZ2luZT90aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmU6dGhpcy5wYXJzZUVuZ2luZSgpfWdldEVuZ2luZU5hbWUoZSl7cmV0dXJuIGU/U3RyaW5nKHRoaXMuZ2V0RW5naW5lKCkubmFtZSkudG9Mb3dlckNhc2UoKXx8XCJcIjp0aGlzLmdldEVuZ2luZSgpLm5hbWV8fFwiXCJ9cGFyc2VFbmdpbmUoKXt0aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmU9e307Y29uc3QgZT1KLmZpbmQoSCwoZT0+e2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUudGVzdClyZXR1cm4gZS50ZXN0KHRoaXMpO2lmKGUudGVzdCBpbnN0YW5jZW9mIEFycmF5KXJldHVybiBlLnRlc3Quc29tZSgoZT0+dGhpcy50ZXN0KGUpKSk7dGhyb3cgbmV3IEVycm9yKFwiQnJvd3NlcidzIHRlc3QgZnVuY3Rpb24gaXMgbm90IHZhbGlkXCIpfSkpO3JldHVybiBlJiYodGhpcy5wYXJzZWRSZXN1bHQuZW5naW5lPWUuZGVzY3JpYmUodGhpcy5nZXRVQSgpKSksdGhpcy5wYXJzZWRSZXN1bHQuZW5naW5lfXBhcnNlKCl7cmV0dXJuIHRoaXMucGFyc2VCcm93c2VyKCksdGhpcy5wYXJzZU9TKCksdGhpcy5wYXJzZVBsYXRmb3JtKCksdGhpcy5wYXJzZUVuZ2luZSgpLHRoaXN9Z2V0UmVzdWx0KCl7cmV0dXJuIEouYXNzaWduKHt9LHRoaXMucGFyc2VkUmVzdWx0KX1zYXRpc2ZpZXMoZSl7Y29uc3QgdD17fTtsZXQgbj0wO2NvbnN0IHI9e307bGV0IGk9MDtpZihPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChvPT57Y29uc3Qgcz1lW29dO1wic3RyaW5nXCI9PXR5cGVvZiBzPyhyW29dPXMsaSs9MSk6XCJvYmplY3RcIj09dHlwZW9mIHMmJih0W29dPXMsbis9MSl9KSksbj4wKXtjb25zdCBlPU9iamVjdC5rZXlzKHQpLG49Si5maW5kKGUsKGU9PnRoaXMuaXNPUyhlKSkpO2lmKG4pe2NvbnN0IGU9dGhpcy5zYXRpc2ZpZXModFtuXSk7aWYodm9pZCAwIT09ZSlyZXR1cm4gZX1jb25zdCByPUouZmluZChlLChlPT50aGlzLmlzUGxhdGZvcm0oZSkpKTtpZihyKXtjb25zdCBlPXRoaXMuc2F0aXNmaWVzKHRbcl0pO2lmKHZvaWQgMCE9PWUpcmV0dXJuIGV9fWlmKGk+MCl7Y29uc3QgZT1PYmplY3Qua2V5cyhyKSx0PUouZmluZChlLChlPT50aGlzLmlzQnJvd3NlcihlLCEwKSkpO2lmKHZvaWQgMCE9PXQpcmV0dXJuIHRoaXMuY29tcGFyZVZlcnNpb24oclt0XSl9fWlzQnJvd3NlcihlLHQ9ITEpe2NvbnN0IG49dGhpcy5nZXRCcm93c2VyTmFtZSgpLnRvTG93ZXJDYXNlKCk7bGV0IHI9ZS50b0xvd2VyQ2FzZSgpO2NvbnN0IGk9Si5nZXRCcm93c2VyVHlwZUJ5QWxpYXMocik7cmV0dXJuIHQmJmkmJihyPWkudG9Mb3dlckNhc2UoKSkscj09PW59Y29tcGFyZVZlcnNpb24oZSl7bGV0IHQ9WzBdLG49ZSxyPSExO2NvbnN0IGk9dGhpcy5nZXRCcm93c2VyVmVyc2lvbigpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBpKXJldHVyblwiPlwiPT09ZVswXXx8XCI8XCI9PT1lWzBdPyhuPWUuc3Vic3RyKDEpLFwiPVwiPT09ZVsxXT8ocj0hMCxuPWUuc3Vic3RyKDIpKTp0PVtdLFwiPlwiPT09ZVswXT90LnB1c2goMSk6dC5wdXNoKC0xKSk6XCI9XCI9PT1lWzBdP249ZS5zdWJzdHIoMSk6XCJ+XCI9PT1lWzBdJiYocj0hMCxuPWUuc3Vic3RyKDEpKSx0LmluZGV4T2YoSi5jb21wYXJlVmVyc2lvbnMoaSxuLHIpKT4tMX1pc09TKGUpe3JldHVybiB0aGlzLmdldE9TTmFtZSghMCk9PT1TdHJpbmcoZSkudG9Mb3dlckNhc2UoKX1pc1BsYXRmb3JtKGUpe3JldHVybiB0aGlzLmdldFBsYXRmb3JtVHlwZSghMCk9PT1TdHJpbmcoZSkudG9Mb3dlckNhc2UoKX1pc0VuZ2luZShlKXtyZXR1cm4gdGhpcy5nZXRFbmdpbmVOYW1lKCEwKT09PVN0cmluZyhlKS50b0xvd2VyQ2FzZSgpfWlzKGUsdD0hMSl7cmV0dXJuIHRoaXMuaXNCcm93c2VyKGUsdCl8fHRoaXMuaXNPUyhlKXx8dGhpcy5pc1BsYXRmb3JtKGUpfXNvbWUoZT1bXSl7cmV0dXJuIGUuc29tZSgoZT0+dGhpcy5pcyhlKSkpfX1cbi8qIVxuICogQm93c2VyIC0gYSBicm93c2VyIGRldGVjdG9yXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGFuY2VkaWtzb24vYm93c2VyXG4gKiBNSVQgTGljZW5zZSB8IChjKSBEdXN0aW4gRGlheiAyMDEyLTIwMTVcbiAqIE1JVCBMaWNlbnNlIHwgKGMpIERlbmlzIERlbWNoZW5rbyAyMDE1LTIwMTlcbiAqL2NsYXNzIFF7c3RhdGljIGdldFBhcnNlcihlLHQ9ITEpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIlVzZXJBZ2VudCBzaG91bGQgYmUgYSBzdHJpbmdcIik7cmV0dXJuIG5ldyBHKGUsdCl9c3RhdGljIHBhcnNlKGUpe3JldHVybiBuZXcgRyhlKS5nZXRSZXN1bHQoKX1zdGF0aWMgZ2V0IEJST1dTRVJfTUFQKCl7cmV0dXJuIEZ9c3RhdGljIGdldCBFTkdJTkVfTUFQKCl7cmV0dXJuIFZ9c3RhdGljIGdldCBPU19NQVAoKXtyZXR1cm4gVX1zdGF0aWMgZ2V0IFBMQVRGT1JNU19NQVAoKXtyZXR1cm4gQn19ZnVuY3Rpb24gSygpe3JldHVybiBEYXRlLm5vdygpK01hdGgucmFuZG9tKCkudG9TdHJpbmcoKX1mdW5jdGlvbiBZKCl7dGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG11c3QgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3NcIil9ZnVuY3Rpb24gWChlLHQpe3JldHVybiBudWxsIT10JiZ0LnByb3h5VXJsP3QucHJveHlVcmwrKFwiL1wiPT09dC5wcm94eVVybC5zbGljZSgtMSk/XCJcIjpcIi9cIikrZS5zdWJzdHJpbmcoOCk6ZX1mdW5jdGlvbiBaKGUpe3JldHVybiBudWxsIT1lJiZlLmNhbGxPYmplY3RCdW5kbGVVcmxPdmVycmlkZT9lLmNhbGxPYmplY3RCdW5kbGVVcmxPdmVycmlkZTpYKFwiaHR0cHM6Ly9jLmRhaWx5LmNvL2NhbGwtbWFjaGluZS92ZXJzaW9uZWQvXCIuY29uY2F0KFwiMC43Ny4wXCIsXCIvc3RhdGljL2NhbGwtbWFjaGluZS1vYmplY3QtYnVuZGxlLmpzXCIpLGUpfWZ1bmN0aW9uIGVlKGUpe3RyeXtuZXcgVVJMKGUpfWNhdGNoKGUpe3JldHVybiExfXJldHVybiEwfWNvbnN0IHRlPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBfX1NFTlRSWV9ERUJVR19ffHxfX1NFTlRSWV9ERUJVR19fLG5lPVwiOC41NS4wXCIscmU9Z2xvYmFsVGhpcztmdW5jdGlvbiBpZShlLHQsbil7Y29uc3Qgcj1ufHxyZSxpPXIuX19TRU5UUllfXz1yLl9fU0VOVFJZX198fHt9LG89aVtuZV09aVtuZV18fHt9O3JldHVybiBvW2VdfHwob1tlXT10KCkpfWNvbnN0IG9lPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBfX1NFTlRSWV9ERUJVR19ffHxfX1NFTlRSWV9ERUJVR19fLHNlPVtcImRlYnVnXCIsXCJpbmZvXCIsXCJ3YXJuXCIsXCJlcnJvclwiLFwibG9nXCIsXCJhc3NlcnRcIixcInRyYWNlXCJdLGFlPXt9O2Z1bmN0aW9uIGNlKGUpe2lmKCEoXCJjb25zb2xlXCJpbiByZSkpcmV0dXJuIGUoKTtjb25zdCB0PXJlLmNvbnNvbGUsbj17fSxyPU9iamVjdC5rZXlzKGFlKTtyLmZvckVhY2goKGU9Pntjb25zdCByPWFlW2VdO25bZV09dFtlXSx0W2VdPXJ9KSk7dHJ5e3JldHVybiBlKCl9ZmluYWxseXtyLmZvckVhY2goKGU9Pnt0W2VdPW5bZV19KSl9fWNvbnN0IGxlPWllKFwibG9nZ2VyXCIsKGZ1bmN0aW9uKCl7bGV0IGU9ITE7Y29uc3QgdD17ZW5hYmxlOigpPT57ZT0hMH0sZGlzYWJsZTooKT0+e2U9ITF9LGlzRW5hYmxlZDooKT0+ZX07cmV0dXJuIG9lP3NlLmZvckVhY2goKG49Pnt0W25dPSguLi50KT0+e2UmJmNlKCgoKT0+e3JlLmNvbnNvbGVbbl0oYFNlbnRyeSBMb2dnZXIgWyR7bn1dOmAsLi4udCl9KSl9fSkpOnNlLmZvckVhY2goKGU9Pnt0W2VdPSgpPT57fX0pKSx0fSkpLHVlPVwiP1wiLGRlPS9cXChlcnJvcjogKC4qKVxcKS8scGU9L2NhcHR1cmVNZXNzYWdlfGNhcHR1cmVFeGNlcHRpb24vO2Z1bmN0aW9uIGhlKGUpe3JldHVybiBlW2UubGVuZ3RoLTFdfHx7fX1jb25zdCBmZT1cIjxhbm9ueW1vdXM+XCI7ZnVuY3Rpb24gdmUoZSl7dHJ5e3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlLm5hbWV8fGZlfWNhdGNoKGUpe3JldHVybiBmZX19ZnVuY3Rpb24gZ2UoZSl7Y29uc3QgdD1lLmV4Y2VwdGlvbjtpZih0KXtjb25zdCBlPVtdO3RyeXtyZXR1cm4gdC52YWx1ZXMuZm9yRWFjaCgodD0+e3Quc3RhY2t0cmFjZS5mcmFtZXMmJmUucHVzaCguLi50LnN0YWNrdHJhY2UuZnJhbWVzKX0pKSxlfWNhdGNoKGUpe3JldHVybn19fWNvbnN0IG1lPXt9LHllPXt9O2Z1bmN0aW9uIGJlKGUsdCl7bWVbZV09bWVbZV18fFtdLG1lW2VdLnB1c2godCl9ZnVuY3Rpb24gX2UoZSx0KXtpZigheWVbZV0pe3llW2VdPSEwO3RyeXt0KCl9Y2F0Y2godCl7b2UmJmxlLmVycm9yKGBFcnJvciB3aGlsZSBpbnN0cnVtZW50aW5nICR7ZX1gLHQpfX19ZnVuY3Rpb24gd2UoZSx0KXtjb25zdCBuPWUmJm1lW2VdO2lmKG4pZm9yKGNvbnN0IHIgb2Ygbil0cnl7cih0KX1jYXRjaCh0KXtvZSYmbGUuZXJyb3IoYEVycm9yIHdoaWxlIHRyaWdnZXJpbmcgaW5zdHJ1bWVudGF0aW9uIGhhbmRsZXIuXFxuVHlwZTogJHtlfVxcbk5hbWU6ICR7dmUocil9XFxuRXJyb3I6YCx0KX19bGV0IFNlPW51bGw7ZnVuY3Rpb24ga2UoKXtTZT1yZS5vbmVycm9yLHJlLm9uZXJyb3I9ZnVuY3Rpb24oZSx0LG4scixpKXtyZXR1cm4gd2UoXCJlcnJvclwiLHtjb2x1bW46cixlcnJvcjppLGxpbmU6bixtc2c6ZSx1cmw6dH0pLCEhU2UmJlNlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0scmUub25lcnJvci5fX1NFTlRSWV9JTlNUUlVNRU5URURfXz0hMH1sZXQgTWU9bnVsbDtmdW5jdGlvbiBDZSgpe01lPXJlLm9udW5oYW5kbGVkcmVqZWN0aW9uLHJlLm9udW5oYW5kbGVkcmVqZWN0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB3ZShcInVuaGFuZGxlZHJlamVjdGlvblwiLGUpLCFNZXx8TWUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyZS5vbnVuaGFuZGxlZHJlamVjdGlvbi5fX1NFTlRSWV9JTlNUUlVNRU5URURfXz0hMH1mdW5jdGlvbiBFZSgpe3JldHVybiBUZShyZSkscmV9ZnVuY3Rpb24gVGUoZSl7Y29uc3QgdD1lLl9fU0VOVFJZX189ZS5fX1NFTlRSWV9ffHx7fTtyZXR1cm4gdC52ZXJzaW9uPXQudmVyc2lvbnx8bmUsdFtuZV09dFtuZV18fHt9fWNvbnN0IE9lPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZnVuY3Rpb24gUGUoZSl7c3dpdGNoKE9lLmNhbGwoZSkpe2Nhc2VcIltvYmplY3QgRXJyb3JdXCI6Y2FzZVwiW29iamVjdCBFeGNlcHRpb25dXCI6Y2FzZVwiW29iamVjdCBET01FeGNlcHRpb25dXCI6Y2FzZVwiW29iamVjdCBXZWJBc3NlbWJseS5FeGNlcHRpb25dXCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4gQmUoZSxFcnJvcil9fWZ1bmN0aW9uIEFlKGUsdCl7cmV0dXJuIE9lLmNhbGwoZSk9PT1gW29iamVjdCAke3R9XWB9ZnVuY3Rpb24gamUoZSl7cmV0dXJuIEFlKGUsXCJFcnJvckV2ZW50XCIpfWZ1bmN0aW9uIEllKGUpe3JldHVybiBBZShlLFwiRE9NRXJyb3JcIil9ZnVuY3Rpb24geGUoZSl7cmV0dXJuIEFlKGUsXCJTdHJpbmdcIil9ZnVuY3Rpb24gTGUoZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZcIl9fc2VudHJ5X3RlbXBsYXRlX3N0cmluZ19fXCJpbiBlJiZcIl9fc2VudHJ5X3RlbXBsYXRlX3ZhbHVlc19fXCJpbiBlfWZ1bmN0aW9uIERlKGUpe3JldHVybiBudWxsPT09ZXx8TGUoZSl8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlfWZ1bmN0aW9uIE5lKGUpe3JldHVybiBBZShlLFwiT2JqZWN0XCIpfWZ1bmN0aW9uIFJlKGUpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBFdmVudCYmQmUoZSxFdmVudCl9ZnVuY3Rpb24gRmUoZSl7cmV0dXJuIEJvb2xlYW4oZSYmZS50aGVuJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRoZW4pfWZ1bmN0aW9uIEJlKGUsdCl7dHJ5e3JldHVybiBlIGluc3RhbmNlb2YgdH1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gVWUoZSl7cmV0dXJuIShcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWV8fCFlLl9faXNWdWUmJiFlLl9pc1Z1ZSl9Y29uc3QgVmU9cmU7ZnVuY3Rpb24gSmUoZSx0PXt9KXtpZighZSlyZXR1cm5cIjx1bmtub3duPlwiO3RyeXtsZXQgbj1lO2NvbnN0IHI9NSxpPVtdO2xldCBvPTAscz0wO2NvbnN0IGE9XCIgPiBcIixjPWEubGVuZ3RoO2xldCBsO2NvbnN0IHU9QXJyYXkuaXNBcnJheSh0KT90OnQua2V5QXR0cnMsZD0hQXJyYXkuaXNBcnJheSh0KSYmdC5tYXhTdHJpbmdMZW5ndGh8fDgwO2Zvcig7biYmbysrPHImJihsPSRlKG4sdSksIShcImh0bWxcIj09PWx8fG8+MSYmcytpLmxlbmd0aCpjK2wubGVuZ3RoPj1kKSk7KWkucHVzaChsKSxzKz1sLmxlbmd0aCxuPW4ucGFyZW50Tm9kZTtyZXR1cm4gaS5yZXZlcnNlKCkuam9pbihhKX1jYXRjaChlKXtyZXR1cm5cIjx1bmtub3duPlwifX1mdW5jdGlvbiAkZShlLHQpe2NvbnN0IG49ZSxyPVtdO2lmKCFufHwhbi50YWdOYW1lKXJldHVyblwiXCI7aWYoVmUuSFRNTEVsZW1lbnQmJm4gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCYmbi5kYXRhc2V0KXtpZihuLmRhdGFzZXQuc2VudHJ5Q29tcG9uZW50KXJldHVybiBuLmRhdGFzZXQuc2VudHJ5Q29tcG9uZW50O2lmKG4uZGF0YXNldC5zZW50cnlFbGVtZW50KXJldHVybiBuLmRhdGFzZXQuc2VudHJ5RWxlbWVudH1yLnB1c2gobi50YWdOYW1lLnRvTG93ZXJDYXNlKCkpO2NvbnN0IGk9dCYmdC5sZW5ndGg/dC5maWx0ZXIoKGU9Pm4uZ2V0QXR0cmlidXRlKGUpKSkubWFwKChlPT5bZSxuLmdldEF0dHJpYnV0ZShlKV0pKTpudWxsO2lmKGkmJmkubGVuZ3RoKWkuZm9yRWFjaCgoZT0+e3IucHVzaChgWyR7ZVswXX09XCIke2VbMV19XCJdYCl9KSk7ZWxzZXtuLmlkJiZyLnB1c2goYCMke24uaWR9YCk7Y29uc3QgZT1uLmNsYXNzTmFtZTtpZihlJiZ4ZShlKSl7Y29uc3QgdD1lLnNwbGl0KC9cXHMrLyk7Zm9yKGNvbnN0IGUgb2YgdClyLnB1c2goYC4ke2V9YCl9fWNvbnN0IG89W1wiYXJpYS1sYWJlbFwiLFwidHlwZVwiLFwibmFtZVwiLFwidGl0bGVcIixcImFsdFwiXTtmb3IoY29uc3QgZSBvZiBvKXtjb25zdCB0PW4uZ2V0QXR0cmlidXRlKGUpO3QmJnIucHVzaChgWyR7ZX09XCIke3R9XCJdYCl9cmV0dXJuIHIuam9pbihcIlwiKX1mdW5jdGlvbiBxZShlLHQ9MCl7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGV8fDA9PT10fHxlLmxlbmd0aDw9dD9lOmAke2Uuc2xpY2UoMCx0KX0uLi5gfWZ1bmN0aW9uIHplKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuXCJcIjtjb25zdCBuPVtdO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCByPWVbdF07dHJ5e1VlKHIpP24ucHVzaChcIltWdWVWaWV3TW9kZWxdXCIpOm4ucHVzaChTdHJpbmcocikpfWNhdGNoKGUpe24ucHVzaChcIlt2YWx1ZSBjYW5ub3QgYmUgc2VyaWFsaXplZF1cIil9fXJldHVybiBuLmpvaW4odCl9ZnVuY3Rpb24gV2UoZSx0LG49ITEpe3JldHVybiEheGUoZSkmJihBZSh0LFwiUmVnRXhwXCIpP3QudGVzdChlKTohIXhlKHQpJiYobj9lPT09dDplLmluY2x1ZGVzKHQpKSl9ZnVuY3Rpb24gSGUoZSx0PVtdLG49ITEpe3JldHVybiB0LnNvbWUoKHQ9PldlKGUsdCxuKSkpfWZ1bmN0aW9uIEdlKGUsdCxuKXtpZighKHQgaW4gZSkpcmV0dXJuO2NvbnN0IHI9ZVt0XSxpPW4ocik7XCJmdW5jdGlvblwiPT10eXBlb2YgaSYmS2UoaSxyKTt0cnl7ZVt0XT1pfWNhdGNoKG4pe29lJiZsZS5sb2coYEZhaWxlZCB0byByZXBsYWNlIG1ldGhvZCBcIiR7dH1cIiBpbiBvYmplY3RgLGUpfX1mdW5jdGlvbiBRZShlLHQsbil7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9Y2F0Y2gobil7b2UmJmxlLmxvZyhgRmFpbGVkIHRvIGFkZCBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBcIiR7dH1cIiB0byBvYmplY3RgLGUpfX1mdW5jdGlvbiBLZShlLHQpe3RyeXtjb25zdCBuPXQucHJvdG90eXBlfHx7fTtlLnByb3RvdHlwZT10LnByb3RvdHlwZT1uLFFlKGUsXCJfX3NlbnRyeV9vcmlnaW5hbF9fXCIsdCl9Y2F0Y2goZSl7fX1mdW5jdGlvbiBZZShlKXtyZXR1cm4gZS5fX3NlbnRyeV9vcmlnaW5hbF9ffWZ1bmN0aW9uIFhlKGUpe2lmKFBlKGUpKXJldHVybnttZXNzYWdlOmUubWVzc2FnZSxuYW1lOmUubmFtZSxzdGFjazplLnN0YWNrLC4uLmV0KGUpfTtpZihSZShlKSl7Y29uc3QgdD17dHlwZTplLnR5cGUsdGFyZ2V0OlplKGUudGFyZ2V0KSxjdXJyZW50VGFyZ2V0OlplKGUuY3VycmVudFRhcmdldCksLi4uZXQoZSl9O3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBDdXN0b21FdmVudCYmQmUoZSxDdXN0b21FdmVudCkmJih0LmRldGFpbD1lLmRldGFpbCksdH1yZXR1cm4gZX1mdW5jdGlvbiBaZShlKXt0cnl7cmV0dXJuIHQ9ZSxcInVuZGVmaW5lZFwiIT10eXBlb2YgRWxlbWVudCYmQmUodCxFbGVtZW50KT9KZShlKTpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9Y2F0Y2goZSl7cmV0dXJuXCI8dW5rbm93bj5cIn12YXIgdH1mdW5jdGlvbiBldChlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7cmV0dXJuIHR9cmV0dXJue319ZnVuY3Rpb24gdHQoZSl7cmV0dXJuIG50KGUsbmV3IE1hcCl9ZnVuY3Rpb24gbnQoZSx0KXtpZihmdW5jdGlvbihlKXtpZighTmUoZSkpcmV0dXJuITE7dHJ5e2NvbnN0IHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNvbnN0cnVjdG9yLm5hbWU7cmV0dXJuIXR8fFwiT2JqZWN0XCI9PT10fWNhdGNoKGUpe3JldHVybiEwfX0oZSkpe2NvbnN0IG49dC5nZXQoZSk7aWYodm9pZCAwIT09bilyZXR1cm4gbjtjb25zdCByPXt9O3Quc2V0KGUscik7Zm9yKGNvbnN0IG4gb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkpdm9pZCAwIT09ZVtuXSYmKHJbbl09bnQoZVtuXSx0KSk7cmV0dXJuIHJ9aWYoQXJyYXkuaXNBcnJheShlKSl7Y29uc3Qgbj10LmdldChlKTtpZih2b2lkIDAhPT1uKXJldHVybiBuO2NvbnN0IHI9W107cmV0dXJuIHQuc2V0KGUsciksZS5mb3JFYWNoKChlPT57ci5wdXNoKG50KGUsdCkpfSkpLHJ9cmV0dXJuIGV9ZnVuY3Rpb24gcnQoKXtyZXR1cm4gRGF0ZS5ub3coKS8xZTN9Y29uc3QgaXQ9ZnVuY3Rpb24oKXtjb25zdHtwZXJmb3JtYW5jZTplfT1yZTtpZighZXx8IWUubm93KXJldHVybiBydDtjb25zdCB0PURhdGUubm93KCktZS5ub3coKSxuPW51bGw9PWUudGltZU9yaWdpbj90OmUudGltZU9yaWdpbjtyZXR1cm4oKT0+KG4rZS5ub3coKSkvMWUzfSgpO2Z1bmN0aW9uIG90KCl7Y29uc3QgZT1yZSx0PWUuY3J5cHRvfHxlLm1zQ3J5cHRvO2xldCBuPSgpPT4xNipNYXRoLnJhbmRvbSgpO3RyeXtpZih0JiZ0LnJhbmRvbVVVSUQpcmV0dXJuIHQucmFuZG9tVVVJRCgpLnJlcGxhY2UoLy0vZyxcIlwiKTt0JiZ0LmdldFJhbmRvbVZhbHVlcyYmKG49KCk9Pntjb25zdCBlPW5ldyBVaW50OEFycmF5KDEpO3JldHVybiB0LmdldFJhbmRvbVZhbHVlcyhlKSxlWzBdfSl9Y2F0Y2goZSl7fXJldHVybihbMWU3XSsxZTMrNGUzKzhlMysxZTExKS5yZXBsYWNlKC9bMDE4XS9nLChlPT4oZV4oMTUmbigpKT4+ZS80KS50b1N0cmluZygxNikpKX1mdW5jdGlvbiBzdChlKXtyZXR1cm4gZS5leGNlcHRpb24mJmUuZXhjZXB0aW9uLnZhbHVlcz9lLmV4Y2VwdGlvbi52YWx1ZXNbMF06dm9pZCAwfWZ1bmN0aW9uIGF0KGUpe2NvbnN0e21lc3NhZ2U6dCxldmVudF9pZDpufT1lO2lmKHQpcmV0dXJuIHQ7Y29uc3Qgcj1zdChlKTtyZXR1cm4gcj9yLnR5cGUmJnIudmFsdWU/YCR7ci50eXBlfTogJHtyLnZhbHVlfWA6ci50eXBlfHxyLnZhbHVlfHxufHxcIjx1bmtub3duPlwiOm58fFwiPHVua25vd24+XCJ9ZnVuY3Rpb24gY3QoZSx0LG4pe2NvbnN0IHI9ZS5leGNlcHRpb249ZS5leGNlcHRpb258fHt9LGk9ci52YWx1ZXM9ci52YWx1ZXN8fFtdLG89aVswXT1pWzBdfHx7fTtvLnZhbHVlfHwoby52YWx1ZT10fHxcIlwiKSxvLnR5cGV8fChvLnR5cGU9bnx8XCJFcnJvclwiKX1mdW5jdGlvbiBsdChlLHQpe2NvbnN0IG49c3QoZSk7aWYoIW4pcmV0dXJuO2NvbnN0IHI9bi5tZWNoYW5pc207aWYobi5tZWNoYW5pc209e3R5cGU6XCJnZW5lcmljXCIsaGFuZGxlZDohMCwuLi5yLC4uLnR9LHQmJlwiZGF0YVwiaW4gdCl7Y29uc3QgZT17Li4uciYmci5kYXRhLC4uLnQuZGF0YX07bi5tZWNoYW5pc20uZGF0YT1lfX1mdW5jdGlvbiB1dChlKXtpZihmdW5jdGlvbihlKXt0cnl7cmV0dXJuIGUuX19zZW50cnlfY2FwdHVyZWRfX31jYXRjaChlKXt9fShlKSlyZXR1cm4hMDt0cnl7UWUoZSxcIl9fc2VudHJ5X2NhcHR1cmVkX19cIiwhMCl9Y2F0Y2goZSl7fXJldHVybiExfXZhciBkdDtmdW5jdGlvbiBwdChlKXtyZXR1cm4gbmV3IGZ0KCh0PT57dChlKX0pKX1mdW5jdGlvbiBodChlKXtyZXR1cm4gbmV3IGZ0KCgodCxuKT0+e24oZSl9KSl9KCgpPT57Y29uc3R7cGVyZm9ybWFuY2U6ZX09cmU7aWYoIWV8fCFlLm5vdylyZXR1cm47Y29uc3QgdD0zNmU1LG49ZS5ub3coKSxyPURhdGUubm93KCksaT1lLnRpbWVPcmlnaW4/TWF0aC5hYnMoZS50aW1lT3JpZ2luK24tcik6dCxvPWk8dCxzPWUudGltaW5nJiZlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQsYT1cIm51bWJlclwiPT10eXBlb2Ygcz9NYXRoLmFicyhzK24tcik6dDsob3x8YTx0KSYmKGk8PWEmJmUudGltZU9yaWdpbil9KSgpLGZ1bmN0aW9uKGUpe2VbZS5QRU5ESU5HPTBdPVwiUEVORElOR1wiO2VbZS5SRVNPTFZFRD0xXT1cIlJFU09MVkVEXCI7ZVtlLlJFSkVDVEVEPTJdPVwiUkVKRUNURURcIn0oZHR8fChkdD17fSkpO2NsYXNzIGZ0e2NvbnN0cnVjdG9yKGUpe2Z0LnByb3RvdHlwZS5fX2luaXQuY2FsbCh0aGlzKSxmdC5wcm90b3R5cGUuX19pbml0Mi5jYWxsKHRoaXMpLGZ0LnByb3RvdHlwZS5fX2luaXQzLmNhbGwodGhpcyksZnQucHJvdG90eXBlLl9faW5pdDQuY2FsbCh0aGlzKSx0aGlzLl9zdGF0ZT1kdC5QRU5ESU5HLHRoaXMuX2hhbmRsZXJzPVtdO3RyeXtlKHRoaXMuX3Jlc29sdmUsdGhpcy5fcmVqZWN0KX1jYXRjaChlKXt0aGlzLl9yZWplY3QoZSl9fXRoZW4oZSx0KXtyZXR1cm4gbmV3IGZ0KCgobixyKT0+e3RoaXMuX2hhbmRsZXJzLnB1c2goWyExLHQ9PntpZihlKXRyeXtuKGUodCkpfWNhdGNoKGUpe3IoZSl9ZWxzZSBuKHQpfSxlPT57aWYodCl0cnl7bih0KGUpKX1jYXRjaChlKXtyKGUpfWVsc2UgcihlKX1dKSx0aGlzLl9leGVjdXRlSGFuZGxlcnMoKX0pKX1jYXRjaChlKXtyZXR1cm4gdGhpcy50aGVuKChlPT5lKSxlKX1maW5hbGx5KGUpe3JldHVybiBuZXcgZnQoKCh0LG4pPT57bGV0IHIsaTtyZXR1cm4gdGhpcy50aGVuKCh0PT57aT0hMSxyPXQsZSYmZSgpfSksKHQ9PntpPSEwLHI9dCxlJiZlKCl9KSkudGhlbigoKCk9PntpP24ocik6dChyKX0pKX0pKX1fX2luaXQoKXt0aGlzLl9yZXNvbHZlPWU9Pnt0aGlzLl9zZXRSZXN1bHQoZHQuUkVTT0xWRUQsZSl9fV9faW5pdDIoKXt0aGlzLl9yZWplY3Q9ZT0+e3RoaXMuX3NldFJlc3VsdChkdC5SRUpFQ1RFRCxlKX19X19pbml0Mygpe3RoaXMuX3NldFJlc3VsdD0oZSx0KT0+e3RoaXMuX3N0YXRlPT09ZHQuUEVORElORyYmKEZlKHQpP3QudGhlbih0aGlzLl9yZXNvbHZlLHRoaXMuX3JlamVjdCk6KHRoaXMuX3N0YXRlPWUsdGhpcy5fdmFsdWU9dCx0aGlzLl9leGVjdXRlSGFuZGxlcnMoKSkpfX1fX2luaXQ0KCl7dGhpcy5fZXhlY3V0ZUhhbmRsZXJzPSgpPT57aWYodGhpcy5fc3RhdGU9PT1kdC5QRU5ESU5HKXJldHVybjtjb25zdCBlPXRoaXMuX2hhbmRsZXJzLnNsaWNlKCk7dGhpcy5faGFuZGxlcnM9W10sZS5mb3JFYWNoKChlPT57ZVswXXx8KHRoaXMuX3N0YXRlPT09ZHQuUkVTT0xWRUQmJmVbMV0odGhpcy5fdmFsdWUpLHRoaXMuX3N0YXRlPT09ZHQuUkVKRUNURUQmJmVbMl0odGhpcy5fdmFsdWUpLGVbMF09ITApfSkpfX19ZnVuY3Rpb24gdnQoZSl7Y29uc3QgdD1pdCgpLG49e3NpZDpvdCgpLGluaXQ6ITAsdGltZXN0YW1wOnQsc3RhcnRlZDp0LGR1cmF0aW9uOjAsc3RhdHVzOlwib2tcIixlcnJvcnM6MCxpZ25vcmVEdXJhdGlvbjohMSx0b0pTT046KCk9PmZ1bmN0aW9uKGUpe3JldHVybiB0dCh7c2lkOmAke2Uuc2lkfWAsaW5pdDplLmluaXQsc3RhcnRlZDpuZXcgRGF0ZSgxZTMqZS5zdGFydGVkKS50b0lTT1N0cmluZygpLHRpbWVzdGFtcDpuZXcgRGF0ZSgxZTMqZS50aW1lc3RhbXApLnRvSVNPU3RyaW5nKCksc3RhdHVzOmUuc3RhdHVzLGVycm9yczplLmVycm9ycyxkaWQ6XCJudW1iZXJcIj09dHlwZW9mIGUuZGlkfHxcInN0cmluZ1wiPT10eXBlb2YgZS5kaWQ/YCR7ZS5kaWR9YDp2b2lkIDAsZHVyYXRpb246ZS5kdXJhdGlvbixhYm5vcm1hbF9tZWNoYW5pc206ZS5hYm5vcm1hbF9tZWNoYW5pc20sYXR0cnM6e3JlbGVhc2U6ZS5yZWxlYXNlLGVudmlyb25tZW50OmUuZW52aXJvbm1lbnQsaXBfYWRkcmVzczplLmlwQWRkcmVzcyx1c2VyX2FnZW50OmUudXNlckFnZW50fX0pfShuKX07cmV0dXJuIGUmJmd0KG4sZSksbn1mdW5jdGlvbiBndChlLHQ9e30pe2lmKHQudXNlciYmKCFlLmlwQWRkcmVzcyYmdC51c2VyLmlwX2FkZHJlc3MmJihlLmlwQWRkcmVzcz10LnVzZXIuaXBfYWRkcmVzcyksZS5kaWR8fHQuZGlkfHwoZS5kaWQ9dC51c2VyLmlkfHx0LnVzZXIuZW1haWx8fHQudXNlci51c2VybmFtZSkpLGUudGltZXN0YW1wPXQudGltZXN0YW1wfHxpdCgpLHQuYWJub3JtYWxfbWVjaGFuaXNtJiYoZS5hYm5vcm1hbF9tZWNoYW5pc209dC5hYm5vcm1hbF9tZWNoYW5pc20pLHQuaWdub3JlRHVyYXRpb24mJihlLmlnbm9yZUR1cmF0aW9uPXQuaWdub3JlRHVyYXRpb24pLHQuc2lkJiYoZS5zaWQ9MzI9PT10LnNpZC5sZW5ndGg/dC5zaWQ6b3QoKSksdm9pZCAwIT09dC5pbml0JiYoZS5pbml0PXQuaW5pdCksIWUuZGlkJiZ0LmRpZCYmKGUuZGlkPWAke3QuZGlkfWApLFwibnVtYmVyXCI9PXR5cGVvZiB0LnN0YXJ0ZWQmJihlLnN0YXJ0ZWQ9dC5zdGFydGVkKSxlLmlnbm9yZUR1cmF0aW9uKWUuZHVyYXRpb249dm9pZCAwO2Vsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIHQuZHVyYXRpb24pZS5kdXJhdGlvbj10LmR1cmF0aW9uO2Vsc2V7Y29uc3QgdD1lLnRpbWVzdGFtcC1lLnN0YXJ0ZWQ7ZS5kdXJhdGlvbj10Pj0wP3Q6MH10LnJlbGVhc2UmJihlLnJlbGVhc2U9dC5yZWxlYXNlKSx0LmVudmlyb25tZW50JiYoZS5lbnZpcm9ubWVudD10LmVudmlyb25tZW50KSwhZS5pcEFkZHJlc3MmJnQuaXBBZGRyZXNzJiYoZS5pcEFkZHJlc3M9dC5pcEFkZHJlc3MpLCFlLnVzZXJBZ2VudCYmdC51c2VyQWdlbnQmJihlLnVzZXJBZ2VudD10LnVzZXJBZ2VudCksXCJudW1iZXJcIj09dHlwZW9mIHQuZXJyb3JzJiYoZS5lcnJvcnM9dC5lcnJvcnMpLHQuc3RhdHVzJiYoZS5zdGF0dXM9dC5zdGF0dXMpfWZ1bmN0aW9uIG10KCl7cmV0dXJuIG90KCl9ZnVuY3Rpb24geXQoKXtyZXR1cm4gb3QoKS5zdWJzdHJpbmcoMTYpfWZ1bmN0aW9uIGJ0KGUsdCxuPTIpe2lmKCF0fHxcIm9iamVjdFwiIT10eXBlb2YgdHx8bjw9MClyZXR1cm4gdDtpZihlJiZ0JiYwPT09T2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiBlO2NvbnN0IHI9ey4uLmV9O2Zvcihjb25zdCBlIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkmJihyW2VdPWJ0KHJbZV0sdFtlXSxuLTEpKTtyZXR1cm4gcn1jb25zdCBfdD1cIl9zZW50cnlTcGFuXCI7ZnVuY3Rpb24gd3QoZSx0KXt0P1FlKGUsX3QsdCk6ZGVsZXRlIGVbX3RdfWZ1bmN0aW9uIFN0KGUpe3JldHVybiBlW190XX1jbGFzcyBrdHtjb25zdHJ1Y3Rvcigpe3RoaXMuX25vdGlmeWluZ0xpc3RlbmVycz0hMSx0aGlzLl9zY29wZUxpc3RlbmVycz1bXSx0aGlzLl9ldmVudFByb2Nlc3NvcnM9W10sdGhpcy5fYnJlYWRjcnVtYnM9W10sdGhpcy5fYXR0YWNobWVudHM9W10sdGhpcy5fdXNlcj17fSx0aGlzLl90YWdzPXt9LHRoaXMuX2V4dHJhPXt9LHRoaXMuX2NvbnRleHRzPXt9LHRoaXMuX3Nka1Byb2Nlc3NpbmdNZXRhZGF0YT17fSx0aGlzLl9wcm9wYWdhdGlvbkNvbnRleHQ9e3RyYWNlSWQ6bXQoKSxzcGFuSWQ6eXQoKX19Y2xvbmUoKXtjb25zdCBlPW5ldyBrdDtyZXR1cm4gZS5fYnJlYWRjcnVtYnM9Wy4uLnRoaXMuX2JyZWFkY3J1bWJzXSxlLl90YWdzPXsuLi50aGlzLl90YWdzfSxlLl9leHRyYT17Li4udGhpcy5fZXh0cmF9LGUuX2NvbnRleHRzPXsuLi50aGlzLl9jb250ZXh0c30sdGhpcy5fY29udGV4dHMuZmxhZ3MmJihlLl9jb250ZXh0cy5mbGFncz17dmFsdWVzOlsuLi50aGlzLl9jb250ZXh0cy5mbGFncy52YWx1ZXNdfSksZS5fdXNlcj10aGlzLl91c2VyLGUuX2xldmVsPXRoaXMuX2xldmVsLGUuX3Nlc3Npb249dGhpcy5fc2Vzc2lvbixlLl90cmFuc2FjdGlvbk5hbWU9dGhpcy5fdHJhbnNhY3Rpb25OYW1lLGUuX2ZpbmdlcnByaW50PXRoaXMuX2ZpbmdlcnByaW50LGUuX2V2ZW50UHJvY2Vzc29ycz1bLi4udGhpcy5fZXZlbnRQcm9jZXNzb3JzXSxlLl9yZXF1ZXN0U2Vzc2lvbj10aGlzLl9yZXF1ZXN0U2Vzc2lvbixlLl9hdHRhY2htZW50cz1bLi4udGhpcy5fYXR0YWNobWVudHNdLGUuX3Nka1Byb2Nlc3NpbmdNZXRhZGF0YT17Li4udGhpcy5fc2RrUHJvY2Vzc2luZ01ldGFkYXRhfSxlLl9wcm9wYWdhdGlvbkNvbnRleHQ9ey4uLnRoaXMuX3Byb3BhZ2F0aW9uQ29udGV4dH0sZS5fY2xpZW50PXRoaXMuX2NsaWVudCxlLl9sYXN0RXZlbnRJZD10aGlzLl9sYXN0RXZlbnRJZCx3dChlLFN0KHRoaXMpKSxlfXNldENsaWVudChlKXt0aGlzLl9jbGllbnQ9ZX1zZXRMYXN0RXZlbnRJZChlKXt0aGlzLl9sYXN0RXZlbnRJZD1lfWdldENsaWVudCgpe3JldHVybiB0aGlzLl9jbGllbnR9bGFzdEV2ZW50SWQoKXtyZXR1cm4gdGhpcy5fbGFzdEV2ZW50SWR9YWRkU2NvcGVMaXN0ZW5lcihlKXt0aGlzLl9zY29wZUxpc3RlbmVycy5wdXNoKGUpfWFkZEV2ZW50UHJvY2Vzc29yKGUpe3JldHVybiB0aGlzLl9ldmVudFByb2Nlc3NvcnMucHVzaChlKSx0aGlzfXNldFVzZXIoZSl7cmV0dXJuIHRoaXMuX3VzZXI9ZXx8e2VtYWlsOnZvaWQgMCxpZDp2b2lkIDAsaXBfYWRkcmVzczp2b2lkIDAsdXNlcm5hbWU6dm9pZCAwfSx0aGlzLl9zZXNzaW9uJiZndCh0aGlzLl9zZXNzaW9uLHt1c2VyOmV9KSx0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpLHRoaXN9Z2V0VXNlcigpe3JldHVybiB0aGlzLl91c2VyfWdldFJlcXVlc3RTZXNzaW9uKCl7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZXNzaW9ufXNldFJlcXVlc3RTZXNzaW9uKGUpe3JldHVybiB0aGlzLl9yZXF1ZXN0U2Vzc2lvbj1lLHRoaXN9c2V0VGFncyhlKXtyZXR1cm4gdGhpcy5fdGFncz17Li4udGhpcy5fdGFncywuLi5lfSx0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpLHRoaXN9c2V0VGFnKGUsdCl7cmV0dXJuIHRoaXMuX3RhZ3M9ey4uLnRoaXMuX3RhZ3MsW2VdOnR9LHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCksdGhpc31zZXRFeHRyYXMoZSl7cmV0dXJuIHRoaXMuX2V4dHJhPXsuLi50aGlzLl9leHRyYSwuLi5lfSx0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpLHRoaXN9c2V0RXh0cmEoZSx0KXtyZXR1cm4gdGhpcy5fZXh0cmE9ey4uLnRoaXMuX2V4dHJhLFtlXTp0fSx0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpLHRoaXN9c2V0RmluZ2VycHJpbnQoZSl7cmV0dXJuIHRoaXMuX2ZpbmdlcnByaW50PWUsdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKSx0aGlzfXNldExldmVsKGUpe3JldHVybiB0aGlzLl9sZXZlbD1lLHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCksdGhpc31zZXRUcmFuc2FjdGlvbk5hbWUoZSl7cmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uTmFtZT1lLHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCksdGhpc31zZXRDb250ZXh0KGUsdCl7cmV0dXJuIG51bGw9PT10P2RlbGV0ZSB0aGlzLl9jb250ZXh0c1tlXTp0aGlzLl9jb250ZXh0c1tlXT10LHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCksdGhpc31zZXRTZXNzaW9uKGUpe3JldHVybiBlP3RoaXMuX3Nlc3Npb249ZTpkZWxldGUgdGhpcy5fc2Vzc2lvbix0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpLHRoaXN9Z2V0U2Vzc2lvbigpe3JldHVybiB0aGlzLl9zZXNzaW9ufXVwZGF0ZShlKXtpZighZSlyZXR1cm4gdGhpcztjb25zdCB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZSh0aGlzKTplLFtuLHJdPXQgaW5zdGFuY2VvZiBNdD9bdC5nZXRTY29wZURhdGEoKSx0LmdldFJlcXVlc3RTZXNzaW9uKCldOk5lKHQpP1tlLGUucmVxdWVzdFNlc3Npb25dOltdLHt0YWdzOmksZXh0cmE6byx1c2VyOnMsY29udGV4dHM6YSxsZXZlbDpjLGZpbmdlcnByaW50Omw9W10scHJvcGFnYXRpb25Db250ZXh0OnV9PW58fHt9O3JldHVybiB0aGlzLl90YWdzPXsuLi50aGlzLl90YWdzLC4uLml9LHRoaXMuX2V4dHJhPXsuLi50aGlzLl9leHRyYSwuLi5vfSx0aGlzLl9jb250ZXh0cz17Li4udGhpcy5fY29udGV4dHMsLi4uYX0scyYmT2JqZWN0LmtleXMocykubGVuZ3RoJiYodGhpcy5fdXNlcj1zKSxjJiYodGhpcy5fbGV2ZWw9YyksbC5sZW5ndGgmJih0aGlzLl9maW5nZXJwcmludD1sKSx1JiYodGhpcy5fcHJvcGFnYXRpb25Db250ZXh0PXUpLHImJih0aGlzLl9yZXF1ZXN0U2Vzc2lvbj1yKSx0aGlzfWNsZWFyKCl7cmV0dXJuIHRoaXMuX2JyZWFkY3J1bWJzPVtdLHRoaXMuX3RhZ3M9e30sdGhpcy5fZXh0cmE9e30sdGhpcy5fdXNlcj17fSx0aGlzLl9jb250ZXh0cz17fSx0aGlzLl9sZXZlbD12b2lkIDAsdGhpcy5fdHJhbnNhY3Rpb25OYW1lPXZvaWQgMCx0aGlzLl9maW5nZXJwcmludD12b2lkIDAsdGhpcy5fcmVxdWVzdFNlc3Npb249dm9pZCAwLHRoaXMuX3Nlc3Npb249dm9pZCAwLHd0KHRoaXMsdm9pZCAwKSx0aGlzLl9hdHRhY2htZW50cz1bXSx0aGlzLnNldFByb3BhZ2F0aW9uQ29udGV4dCh7dHJhY2VJZDptdCgpfSksdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKSx0aGlzfWFkZEJyZWFkY3J1bWIoZSx0KXtjb25zdCBuPVwibnVtYmVyXCI9PXR5cGVvZiB0P3Q6MTAwO2lmKG48PTApcmV0dXJuIHRoaXM7Y29uc3Qgcj17dGltZXN0YW1wOnJ0KCksLi4uZX07cmV0dXJuIHRoaXMuX2JyZWFkY3J1bWJzLnB1c2gociksdGhpcy5fYnJlYWRjcnVtYnMubGVuZ3RoPm4mJih0aGlzLl9icmVhZGNydW1icz10aGlzLl9icmVhZGNydW1icy5zbGljZSgtbiksdGhpcy5fY2xpZW50JiZ0aGlzLl9jbGllbnQucmVjb3JkRHJvcHBlZEV2ZW50KFwiYnVmZmVyX292ZXJmbG93XCIsXCJsb2dfaXRlbVwiKSksdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKSx0aGlzfWdldExhc3RCcmVhZGNydW1iKCl7cmV0dXJuIHRoaXMuX2JyZWFkY3J1bWJzW3RoaXMuX2JyZWFkY3J1bWJzLmxlbmd0aC0xXX1jbGVhckJyZWFkY3J1bWJzKCl7cmV0dXJuIHRoaXMuX2JyZWFkY3J1bWJzPVtdLHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCksdGhpc31hZGRBdHRhY2htZW50KGUpe3JldHVybiB0aGlzLl9hdHRhY2htZW50cy5wdXNoKGUpLHRoaXN9Y2xlYXJBdHRhY2htZW50cygpe3JldHVybiB0aGlzLl9hdHRhY2htZW50cz1bXSx0aGlzfWdldFNjb3BlRGF0YSgpe3JldHVybnticmVhZGNydW1iczp0aGlzLl9icmVhZGNydW1icyxhdHRhY2htZW50czp0aGlzLl9hdHRhY2htZW50cyxjb250ZXh0czp0aGlzLl9jb250ZXh0cyx0YWdzOnRoaXMuX3RhZ3MsZXh0cmE6dGhpcy5fZXh0cmEsdXNlcjp0aGlzLl91c2VyLGxldmVsOnRoaXMuX2xldmVsLGZpbmdlcnByaW50OnRoaXMuX2ZpbmdlcnByaW50fHxbXSxldmVudFByb2Nlc3NvcnM6dGhpcy5fZXZlbnRQcm9jZXNzb3JzLHByb3BhZ2F0aW9uQ29udGV4dDp0aGlzLl9wcm9wYWdhdGlvbkNvbnRleHQsc2RrUHJvY2Vzc2luZ01ldGFkYXRhOnRoaXMuX3Nka1Byb2Nlc3NpbmdNZXRhZGF0YSx0cmFuc2FjdGlvbk5hbWU6dGhpcy5fdHJhbnNhY3Rpb25OYW1lLHNwYW46U3QodGhpcyl9fXNldFNES1Byb2Nlc3NpbmdNZXRhZGF0YShlKXtyZXR1cm4gdGhpcy5fc2RrUHJvY2Vzc2luZ01ldGFkYXRhPWJ0KHRoaXMuX3Nka1Byb2Nlc3NpbmdNZXRhZGF0YSxlLDIpLHRoaXN9c2V0UHJvcGFnYXRpb25Db250ZXh0KGUpe3JldHVybiB0aGlzLl9wcm9wYWdhdGlvbkNvbnRleHQ9e3NwYW5JZDp5dCgpLC4uLmV9LHRoaXN9Z2V0UHJvcGFnYXRpb25Db250ZXh0KCl7cmV0dXJuIHRoaXMuX3Byb3BhZ2F0aW9uQ29udGV4dH1jYXB0dXJlRXhjZXB0aW9uKGUsdCl7Y29uc3Qgbj10JiZ0LmV2ZW50X2lkP3QuZXZlbnRfaWQ6b3QoKTtpZighdGhpcy5fY2xpZW50KXJldHVybiBsZS53YXJuKFwiTm8gY2xpZW50IGNvbmZpZ3VyZWQgb24gc2NvcGUgLSB3aWxsIG5vdCBjYXB0dXJlIGV4Y2VwdGlvbiFcIiksbjtjb25zdCByPW5ldyBFcnJvcihcIlNlbnRyeSBzeW50aGV0aWNFeGNlcHRpb25cIik7cmV0dXJuIHRoaXMuX2NsaWVudC5jYXB0dXJlRXhjZXB0aW9uKGUse29yaWdpbmFsRXhjZXB0aW9uOmUsc3ludGhldGljRXhjZXB0aW9uOnIsLi4udCxldmVudF9pZDpufSx0aGlzKSxufWNhcHR1cmVNZXNzYWdlKGUsdCxuKXtjb25zdCByPW4mJm4uZXZlbnRfaWQ/bi5ldmVudF9pZDpvdCgpO2lmKCF0aGlzLl9jbGllbnQpcmV0dXJuIGxlLndhcm4oXCJObyBjbGllbnQgY29uZmlndXJlZCBvbiBzY29wZSAtIHdpbGwgbm90IGNhcHR1cmUgbWVzc2FnZSFcIikscjtjb25zdCBpPW5ldyBFcnJvcihlKTtyZXR1cm4gdGhpcy5fY2xpZW50LmNhcHR1cmVNZXNzYWdlKGUsdCx7b3JpZ2luYWxFeGNlcHRpb246ZSxzeW50aGV0aWNFeGNlcHRpb246aSwuLi5uLGV2ZW50X2lkOnJ9LHRoaXMpLHJ9Y2FwdHVyZUV2ZW50KGUsdCl7Y29uc3Qgbj10JiZ0LmV2ZW50X2lkP3QuZXZlbnRfaWQ6b3QoKTtyZXR1cm4gdGhpcy5fY2xpZW50Pyh0aGlzLl9jbGllbnQuY2FwdHVyZUV2ZW50KGUsey4uLnQsZXZlbnRfaWQ6bn0sdGhpcyksbik6KGxlLndhcm4oXCJObyBjbGllbnQgY29uZmlndXJlZCBvbiBzY29wZSAtIHdpbGwgbm90IGNhcHR1cmUgZXZlbnQhXCIpLG4pfV9ub3RpZnlTY29wZUxpc3RlbmVycygpe3RoaXMuX25vdGlmeWluZ0xpc3RlbmVyc3x8KHRoaXMuX25vdGlmeWluZ0xpc3RlbmVycz0hMCx0aGlzLl9zY29wZUxpc3RlbmVycy5mb3JFYWNoKChlPT57ZSh0aGlzKX0pKSx0aGlzLl9ub3RpZnlpbmdMaXN0ZW5lcnM9ITEpfX1jb25zdCBNdD1rdDtjbGFzcyBDdHtjb25zdHJ1Y3RvcihlLHQpe2xldCBuLHI7bj1lfHxuZXcgTXQscj10fHxuZXcgTXQsdGhpcy5fc3RhY2s9W3tzY29wZTpufV0sdGhpcy5faXNvbGF0aW9uU2NvcGU9cn13aXRoU2NvcGUoZSl7Y29uc3QgdD10aGlzLl9wdXNoU2NvcGUoKTtsZXQgbjt0cnl7bj1lKHQpfWNhdGNoKGUpe3Rocm93IHRoaXMuX3BvcFNjb3BlKCksZX1yZXR1cm4gRmUobik/bi50aGVuKChlPT4odGhpcy5fcG9wU2NvcGUoKSxlKSksKGU9Pnt0aHJvdyB0aGlzLl9wb3BTY29wZSgpLGV9KSk6KHRoaXMuX3BvcFNjb3BlKCksbil9Z2V0Q2xpZW50KCl7cmV0dXJuIHRoaXMuZ2V0U3RhY2tUb3AoKS5jbGllbnR9Z2V0U2NvcGUoKXtyZXR1cm4gdGhpcy5nZXRTdGFja1RvcCgpLnNjb3BlfWdldElzb2xhdGlvblNjb3BlKCl7cmV0dXJuIHRoaXMuX2lzb2xhdGlvblNjb3BlfWdldFN0YWNrVG9wKCl7cmV0dXJuIHRoaXMuX3N0YWNrW3RoaXMuX3N0YWNrLmxlbmd0aC0xXX1fcHVzaFNjb3BlKCl7Y29uc3QgZT10aGlzLmdldFNjb3BlKCkuY2xvbmUoKTtyZXR1cm4gdGhpcy5fc3RhY2sucHVzaCh7Y2xpZW50OnRoaXMuZ2V0Q2xpZW50KCksc2NvcGU6ZX0pLGV9X3BvcFNjb3BlKCl7cmV0dXJuISh0aGlzLl9zdGFjay5sZW5ndGg8PTEpJiYhIXRoaXMuX3N0YWNrLnBvcCgpfX1mdW5jdGlvbiBFdCgpe2NvbnN0IGU9VGUoRWUoKSk7cmV0dXJuIGUuc3RhY2s9ZS5zdGFja3x8bmV3IEN0KGllKFwiZGVmYXVsdEN1cnJlbnRTY29wZVwiLCgoKT0+bmV3IE10KSksaWUoXCJkZWZhdWx0SXNvbGF0aW9uU2NvcGVcIiwoKCk9Pm5ldyBNdCkpKX1mdW5jdGlvbiBUdChlKXtyZXR1cm4gRXQoKS53aXRoU2NvcGUoZSl9ZnVuY3Rpb24gT3QoZSx0KXtjb25zdCBuPUV0KCk7cmV0dXJuIG4ud2l0aFNjb3BlKCgoKT0+KG4uZ2V0U3RhY2tUb3AoKS5zY29wZT1lLHQoZSkpKSl9ZnVuY3Rpb24gUHQoZSl7cmV0dXJuIEV0KCkud2l0aFNjb3BlKCgoKT0+ZShFdCgpLmdldElzb2xhdGlvblNjb3BlKCkpKSl9ZnVuY3Rpb24gQXQoZSl7Y29uc3QgdD1UZShlKTtyZXR1cm4gdC5hY3M/dC5hY3M6e3dpdGhJc29sYXRpb25TY29wZTpQdCx3aXRoU2NvcGU6VHQsd2l0aFNldFNjb3BlOk90LHdpdGhTZXRJc29sYXRpb25TY29wZTooZSx0KT0+UHQodCksZ2V0Q3VycmVudFNjb3BlOigpPT5FdCgpLmdldFNjb3BlKCksZ2V0SXNvbGF0aW9uU2NvcGU6KCk9PkV0KCkuZ2V0SXNvbGF0aW9uU2NvcGUoKX19ZnVuY3Rpb24ganQoKXtyZXR1cm4gQXQoRWUoKSkuZ2V0Q3VycmVudFNjb3BlKCl9ZnVuY3Rpb24gSXQoKXtyZXR1cm4gQXQoRWUoKSkuZ2V0SXNvbGF0aW9uU2NvcGUoKX1mdW5jdGlvbiB4dCgpe3JldHVybiBqdCgpLmdldENsaWVudCgpfWZ1bmN0aW9uIEx0KGUpe2NvbnN0IHQ9ZS5nZXRQcm9wYWdhdGlvbkNvbnRleHQoKSx7dHJhY2VJZDpuLHNwYW5JZDpyLHBhcmVudFNwYW5JZDppfT10O3JldHVybiB0dCh7dHJhY2VfaWQ6bixzcGFuX2lkOnIscGFyZW50X3NwYW5faWQ6aX0pfWZ1bmN0aW9uIER0KGUpe2NvbnN0IHQ9ZS5fc2VudHJ5TWV0cmljcztpZighdClyZXR1cm47Y29uc3Qgbj17fTtmb3IoY29uc3RbLFtlLHJdXW9mIHQpeyhuW2VdfHwobltlXT1bXSkpLnB1c2godHQocikpfXJldHVybiBufWNvbnN0IE50PS9ec2VudHJ5LS87ZnVuY3Rpb24gUnQoZSl7Y29uc3QgdD1mdW5jdGlvbihlKXtpZighZXx8IXhlKGUpJiYhQXJyYXkuaXNBcnJheShlKSlyZXR1cm47aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZS5yZWR1Y2UoKChlLHQpPT57Y29uc3Qgbj1GdCh0KTtyZXR1cm4gT2JqZWN0LmVudHJpZXMobikuZm9yRWFjaCgoKFt0LG5dKT0+e2VbdF09bn0pKSxlfSkse30pO3JldHVybiBGdChlKX0oZSk7aWYoIXQpcmV0dXJuO2NvbnN0IG49T2JqZWN0LmVudHJpZXModCkucmVkdWNlKCgoZSxbdCxuXSk9PntpZih0Lm1hdGNoKE50KSl7ZVt0LnNsaWNlKDcpXT1ufXJldHVybiBlfSkse30pO3JldHVybiBPYmplY3Qua2V5cyhuKS5sZW5ndGg+MD9uOnZvaWQgMH1mdW5jdGlvbiBGdChlKXtyZXR1cm4gZS5zcGxpdChcIixcIikubWFwKChlPT5lLnNwbGl0KFwiPVwiKS5tYXAoKGU9PmRlY29kZVVSSUNvbXBvbmVudChlLnRyaW0oKSkpKSkpLnJlZHVjZSgoKGUsW3Qsbl0pPT4odCYmbiYmKGVbdF09biksZSkpLHt9KX1sZXQgQnQ9ITE7ZnVuY3Rpb24gVXQoZSl7Y29uc3R7c3BhbklkOnQsdHJhY2VJZDpuLGlzUmVtb3RlOnJ9PWUuc3BhbkNvbnRleHQoKTtyZXR1cm4gdHQoe3BhcmVudF9zcGFuX2lkOnI/dDokdChlKS5wYXJlbnRfc3Bhbl9pZCxzcGFuX2lkOnI/eXQoKTp0LHRyYWNlX2lkOm59KX1mdW5jdGlvbiBWdChlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZT9KdChlKTpBcnJheS5pc0FycmF5KGUpP2VbMF0rZVsxXS8xZTk6ZSBpbnN0YW5jZW9mIERhdGU/SnQoZS5nZXRUaW1lKCkpOml0KCl9ZnVuY3Rpb24gSnQoZSl7cmV0dXJuIGU+OTk5OTk5OTk5OT9lLzFlMzplfWZ1bmN0aW9uICR0KGUpe2lmKGZ1bmN0aW9uKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZ2V0U3BhbkpTT059KGUpKXJldHVybiBlLmdldFNwYW5KU09OKCk7dHJ5e2NvbnN0e3NwYW5JZDp0LHRyYWNlSWQ6bn09ZS5zcGFuQ29udGV4dCgpO2lmKGZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZTtyZXR1cm4hISh0LmF0dHJpYnV0ZXMmJnQuc3RhcnRUaW1lJiZ0Lm5hbWUmJnQuZW5kVGltZSYmdC5zdGF0dXMpfShlKSl7Y29uc3R7YXR0cmlidXRlczpyLHN0YXJ0VGltZTppLG5hbWU6byxlbmRUaW1lOnMscGFyZW50U3BhbklkOmEsc3RhdHVzOmN9PWU7cmV0dXJuIHR0KHtzcGFuX2lkOnQsdHJhY2VfaWQ6bixkYXRhOnIsZGVzY3JpcHRpb246byxwYXJlbnRfc3Bhbl9pZDphLHN0YXJ0X3RpbWVzdGFtcDpWdChpKSx0aW1lc3RhbXA6VnQocyl8fHZvaWQgMCxzdGF0dXM6cXQoYyksb3A6cltcInNlbnRyeS5vcFwiXSxvcmlnaW46cltcInNlbnRyeS5vcmlnaW5cIl0sX21ldHJpY3Nfc3VtbWFyeTpEdChlKX0pfXJldHVybntzcGFuX2lkOnQsdHJhY2VfaWQ6bn19Y2F0Y2goZSl7cmV0dXJue319fWZ1bmN0aW9uIHF0KGUpe2lmKGUmJjAhPT1lLmNvZGUpcmV0dXJuIDE9PT1lLmNvZGU/XCJva1wiOmUubWVzc2FnZXx8XCJ1bmtub3duX2Vycm9yXCJ9ZnVuY3Rpb24genQoZSl7cmV0dXJuIGUuX3NlbnRyeVJvb3RTcGFufHxlfWZ1bmN0aW9uIFd0KCl7QnR8fChjZSgoKCk9Pntjb25zb2xlLndhcm4oXCJbU2VudHJ5XSBEZXByZWNhdGlvbiB3YXJuaW5nOiBSZXR1cm5pbmcgbnVsbCBmcm9tIGBiZWZvcmVTZW5kU3BhbmAgd2lsbCBiZSBkaXNhbGxvd2VkIGZyb20gU0RLIHZlcnNpb24gOS4wLjAgb253YXJkcy4gVGhlIGNhbGxiYWNrIHdpbGwgb25seSBzdXBwb3J0IG11dGF0aW5nIHNwYW5zLiBUbyBkcm9wIGNlcnRhaW4gc3BhbnMsIGNvbmZpZ3VyZSB0aGUgcmVzcGVjdGl2ZSBpbnRlZ3JhdGlvbnMgZGlyZWN0bHkuXCIpfSkpLEJ0PSEwKX1jb25zdCBIdD1cInByb2R1Y3Rpb25cIjtmdW5jdGlvbiBHdChlLHQpe2NvbnN0IG49dC5nZXRPcHRpb25zKCkse3B1YmxpY0tleTpyfT10LmdldERzbigpfHx7fSxpPXR0KHtlbnZpcm9ubWVudDpuLmVudmlyb25tZW50fHxIdCxyZWxlYXNlOm4ucmVsZWFzZSxwdWJsaWNfa2V5OnIsdHJhY2VfaWQ6ZX0pO3JldHVybiB0LmVtaXQoXCJjcmVhdGVEc2NcIixpKSxpfWZ1bmN0aW9uIFF0KGUpe2NvbnN0IHQ9eHQoKTtpZighdClyZXR1cm57fTtjb25zdCBuPXp0KGUpLHI9bi5fZnJvemVuRHNjO2lmKHIpcmV0dXJuIHI7Y29uc3QgaT1uLnNwYW5Db250ZXh0KCkudHJhY2VTdGF0ZSxvPWkmJmkuZ2V0KFwic2VudHJ5LmRzY1wiKSxzPW8mJlJ0KG8pO2lmKHMpcmV0dXJuIHM7Y29uc3QgYT1HdChlLnNwYW5Db250ZXh0KCkudHJhY2VJZCx0KSxjPSR0KG4pLGw9Yy5kYXRhfHx7fSx1PWxbXCJzZW50cnkuc2FtcGxlX3JhdGVcIl07bnVsbCE9dSYmKGEuc2FtcGxlX3JhdGU9YCR7dX1gKTtjb25zdCBkPWxbXCJzZW50cnkuc291cmNlXCJdLHA9Yy5kZXNjcmlwdGlvbjtyZXR1cm5cInVybFwiIT09ZCYmcCYmKGEudHJhbnNhY3Rpb249cCksZnVuY3Rpb24oZSl7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBfX1NFTlRSWV9UUkFDSU5HX18mJiFfX1NFTlRSWV9UUkFDSU5HX18pcmV0dXJuITE7Y29uc3QgdD14dCgpLG49ZXx8dCYmdC5nZXRPcHRpb25zKCk7cmV0dXJuISFuJiYobi5lbmFibGVUcmFjaW5nfHxcInRyYWNlc1NhbXBsZVJhdGVcImluIG58fFwidHJhY2VzU2FtcGxlclwiaW4gbil9KCkmJihhLnNhbXBsZWQ9U3RyaW5nKGZ1bmN0aW9uKGUpe2NvbnN0e3RyYWNlRmxhZ3M6dH09ZS5zcGFuQ29udGV4dCgpO3JldHVybiAxPT09dH0obikpKSx0LmVtaXQoXCJjcmVhdGVEc2NcIixhLG4pLGF9Y29uc3QgS3Q9L14oPzooXFx3Kyk6KVxcL1xcLyg/OihcXHcrKSg/OjooXFx3Kyk/KT9AKShbXFx3Li1dKykoPzo6KFxcZCspKT9cXC8oLispLztmdW5jdGlvbiBZdChlLHQ9ITEpe2NvbnN0e2hvc3Q6bixwYXRoOnIscGFzczppLHBvcnQ6byxwcm9qZWN0SWQ6cyxwcm90b2NvbDphLHB1YmxpY0tleTpjfT1lO3JldHVybmAke2F9Oi8vJHtjfSR7dCYmaT9gOiR7aX1gOlwiXCJ9QCR7bn0ke28/YDoke299YDpcIlwifS8ke3I/YCR7cn0vYDpyfSR7c31gfWZ1bmN0aW9uIFh0KGUpe3JldHVybntwcm90b2NvbDplLnByb3RvY29sLHB1YmxpY0tleTplLnB1YmxpY0tleXx8XCJcIixwYXNzOmUucGFzc3x8XCJcIixob3N0OmUuaG9zdCxwb3J0OmUucG9ydHx8XCJcIixwYXRoOmUucGF0aHx8XCJcIixwcm9qZWN0SWQ6ZS5wcm9qZWN0SWR9fWZ1bmN0aW9uIFp0KGUpe2NvbnN0IHQ9XCJzdHJpbmdcIj09dHlwZW9mIGU/ZnVuY3Rpb24oZSl7Y29uc3QgdD1LdC5leGVjKGUpO2lmKCF0KXJldHVybiB2b2lkIGNlKCgoKT0+e2NvbnNvbGUuZXJyb3IoYEludmFsaWQgU2VudHJ5IERzbjogJHtlfWApfSkpO2NvbnN0W24scixpPVwiXCIsbz1cIlwiLHM9XCJcIixhPVwiXCJdPXQuc2xpY2UoMSk7bGV0IGM9XCJcIixsPWE7Y29uc3QgdT1sLnNwbGl0KFwiL1wiKTtpZih1Lmxlbmd0aD4xJiYoYz11LnNsaWNlKDAsLTEpLmpvaW4oXCIvXCIpLGw9dS5wb3AoKSksbCl7Y29uc3QgZT1sLm1hdGNoKC9eXFxkKy8pO2UmJihsPWVbMF0pfXJldHVybiBYdCh7aG9zdDpvLHBhc3M6aSxwYXRoOmMscHJvamVjdElkOmwscG9ydDpzLHByb3RvY29sOm4scHVibGljS2V5OnJ9KX0oZSk6WHQoZSk7aWYodCYmZnVuY3Rpb24oZSl7aWYoIW9lKXJldHVybiEwO2NvbnN0e3BvcnQ6dCxwcm9qZWN0SWQ6bixwcm90b2NvbDpyfT1lO3JldHVybiEoW1wicHJvdG9jb2xcIixcInB1YmxpY0tleVwiLFwiaG9zdFwiLFwicHJvamVjdElkXCJdLmZpbmQoKHQ9PiFlW3RdJiYobGUuZXJyb3IoYEludmFsaWQgU2VudHJ5IERzbjogJHt0fSBtaXNzaW5nYCksITApKSl8fChuLm1hdGNoKC9eXFxkKyQvKT9mdW5jdGlvbihlKXtyZXR1cm5cImh0dHBcIj09PWV8fFwiaHR0cHNcIj09PWV9KHIpP3QmJmlzTmFOKHBhcnNlSW50KHQsMTApKSYmKGxlLmVycm9yKGBJbnZhbGlkIFNlbnRyeSBEc246IEludmFsaWQgcG9ydCAke3R9YCksMSk6KGxlLmVycm9yKGBJbnZhbGlkIFNlbnRyeSBEc246IEludmFsaWQgcHJvdG9jb2wgJHtyfWApLDEpOihsZS5lcnJvcihgSW52YWxpZCBTZW50cnkgRHNuOiBJbnZhbGlkIHByb2plY3RJZCAke259YCksMSkpKX0odCkpcmV0dXJuIHR9ZnVuY3Rpb24gZW4oZSx0PTEwMCxuPTEvMCl7dHJ5e3JldHVybiBubihcIlwiLGUsdCxuKX1jYXRjaChlKXtyZXR1cm57RVJST1I6YCoqbm9uLXNlcmlhbGl6YWJsZSoqICgke2V9KWB9fX1mdW5jdGlvbiB0bihlLHQ9MyxuPTEwMjQwMCl7Y29uc3Qgcj1lbihlLHQpO3JldHVybiBpPXIsZnVuY3Rpb24oZSl7cmV0dXJufi1lbmNvZGVVUkkoZSkuc3BsaXQoLyUuLnwuLykubGVuZ3RofShKU09OLnN0cmluZ2lmeShpKSk+bj90bihlLHQtMSxuKTpyO3ZhciBpfWZ1bmN0aW9uIG5uKGUsdCxuPTEvMCxyPTEvMCxpPWZ1bmN0aW9uKCl7Y29uc3QgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBXZWFrU2V0LHQ9ZT9uZXcgV2Vha1NldDpbXTtyZXR1cm5bZnVuY3Rpb24obil7aWYoZSlyZXR1cm4hIXQuaGFzKG4pfHwodC5hZGQobiksITEpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRbZV09PT1uKXJldHVybiEwO3JldHVybiB0LnB1c2gobiksITF9LGZ1bmN0aW9uKG4pe2lmKGUpdC5kZWxldGUobik7ZWxzZSBmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylpZih0W2VdPT09bil7dC5zcGxpY2UoZSwxKTticmVha319XX0oKSl7Y29uc3RbbyxzXT1pO2lmKG51bGw9PXR8fFtcImJvb2xlYW5cIixcInN0cmluZ1wiXS5pbmNsdWRlcyh0eXBlb2YgdCl8fFwibnVtYmVyXCI9PXR5cGVvZiB0JiZOdW1iZXIuaXNGaW5pdGUodCkpcmV0dXJuIHQ7Y29uc3QgYT1mdW5jdGlvbihlLHQpe3RyeXtpZihcImRvbWFpblwiPT09ZSYmdCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQuX2V2ZW50cylyZXR1cm5cIltEb21haW5dXCI7aWYoXCJkb21haW5FbWl0dGVyXCI9PT1lKXJldHVyblwiW0RvbWFpbkVtaXR0ZXJdXCI7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbCYmdD09PWdsb2JhbClyZXR1cm5cIltHbG9iYWxdXCI7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmdD09PXdpbmRvdylyZXR1cm5cIltXaW5kb3ddXCI7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiZ0PT09ZG9jdW1lbnQpcmV0dXJuXCJbRG9jdW1lbnRdXCI7aWYoVWUodCkpcmV0dXJuXCJbVnVlVmlld01vZGVsXVwiO2lmKE5lKG49dCkmJlwibmF0aXZlRXZlbnRcImluIG4mJlwicHJldmVudERlZmF1bHRcImluIG4mJlwic3RvcFByb3BhZ2F0aW9uXCJpbiBuKXJldHVyblwiW1N5bnRoZXRpY0V2ZW50XVwiO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0JiYhTnVtYmVyLmlzRmluaXRlKHQpKXJldHVybmBbJHt0fV1gO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpcmV0dXJuYFtGdW5jdGlvbjogJHt2ZSh0KX1dYDtpZihcInN5bWJvbFwiPT10eXBlb2YgdClyZXR1cm5gWyR7U3RyaW5nKHQpfV1gO2lmKFwiYmlnaW50XCI9PXR5cGVvZiB0KXJldHVybmBbQmlnSW50OiAke1N0cmluZyh0KX1dYDtjb25zdCByPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO3JldHVybiB0P3QuY29uc3RydWN0b3IubmFtZTpcIm51bGwgcHJvdG90eXBlXCJ9KHQpO3JldHVybi9eSFRNTChcXHcqKUVsZW1lbnQkLy50ZXN0KHIpP2BbSFRNTEVsZW1lbnQ6ICR7cn1dYDpgW29iamVjdCAke3J9XWB9Y2F0Y2goZSl7cmV0dXJuYCoqbm9uLXNlcmlhbGl6YWJsZSoqICgke2V9KWB9dmFyIG59KGUsdCk7aWYoIWEuc3RhcnRzV2l0aChcIltvYmplY3QgXCIpKXJldHVybiBhO2lmKHQuX19zZW50cnlfc2tpcF9ub3JtYWxpemF0aW9uX18pcmV0dXJuIHQ7Y29uc3QgYz1cIm51bWJlclwiPT10eXBlb2YgdC5fX3NlbnRyeV9vdmVycmlkZV9ub3JtYWxpemF0aW9uX2RlcHRoX18/dC5fX3NlbnRyeV9vdmVycmlkZV9ub3JtYWxpemF0aW9uX2RlcHRoX186bjtpZigwPT09YylyZXR1cm4gYS5yZXBsYWNlKFwib2JqZWN0IFwiLFwiXCIpO2lmKG8odCkpcmV0dXJuXCJbQ2lyY3VsYXIgfl1cIjtjb25zdCBsPXQ7aWYobCYmXCJmdW5jdGlvblwiPT10eXBlb2YgbC50b0pTT04pdHJ5e3JldHVybiBubihcIlwiLGwudG9KU09OKCksYy0xLHIsaSl9Y2F0Y2goZSl7fWNvbnN0IHU9QXJyYXkuaXNBcnJheSh0KT9bXTp7fTtsZXQgZD0wO2NvbnN0IHA9WGUodCk7Zm9yKGNvbnN0IGUgaW4gcCl7aWYoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwLGUpKWNvbnRpbnVlO2lmKGQ+PXIpe3VbZV09XCJbTWF4UHJvcGVydGllcyB+XVwiO2JyZWFrfWNvbnN0IHQ9cFtlXTt1W2VdPW5uKGUsdCxjLTEscixpKSxkKyt9cmV0dXJuIHModCksdX1mdW5jdGlvbiBybihlLHQ9W10pe3JldHVybltlLHRdfWZ1bmN0aW9uIG9uKGUsdCl7Y29uc3RbbixyXT1lO3JldHVybltuLFsuLi5yLHRdXX1mdW5jdGlvbiBzbihlLHQpe2NvbnN0IG49ZVsxXTtmb3IoY29uc3QgZSBvZiBuKXtpZih0KGUsZVswXS50eXBlKSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBhbihlKXtyZXR1cm4gcmUuX19TRU5UUllfXyYmcmUuX19TRU5UUllfXy5lbmNvZGVQb2x5ZmlsbD9yZS5fX1NFTlRSWV9fLmVuY29kZVBvbHlmaWxsKGUpOihuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlKX1mdW5jdGlvbiBjbihlKXtjb25zdFt0LG5dPWU7bGV0IHI9SlNPTi5zdHJpbmdpZnkodCk7ZnVuY3Rpb24gaShlKXtcInN0cmluZ1wiPT10eXBlb2Ygcj9yPVwic3RyaW5nXCI9PXR5cGVvZiBlP3IrZTpbYW4ociksZV06ci5wdXNoKFwic3RyaW5nXCI9PXR5cGVvZiBlP2FuKGUpOmUpfWZvcihjb25zdCBlIG9mIG4pe2NvbnN0W3Qsbl09ZTtpZihpKGBcXG4ke0pTT04uc3RyaW5naWZ5KHQpfVxcbmApLFwic3RyaW5nXCI9PXR5cGVvZiBufHxuIGluc3RhbmNlb2YgVWludDhBcnJheSlpKG4pO2Vsc2V7bGV0IGU7dHJ5e2U9SlNPTi5zdHJpbmdpZnkobil9Y2F0Y2godCl7ZT1KU09OLnN0cmluZ2lmeShlbihuKSl9aShlKX19cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHI/cjpmdW5jdGlvbihlKXtjb25zdCB0PWUucmVkdWNlKCgoZSx0KT0+ZSt0Lmxlbmd0aCksMCksbj1uZXcgVWludDhBcnJheSh0KTtsZXQgcj0wO2Zvcihjb25zdCB0IG9mIGUpbi5zZXQodCxyKSxyKz10Lmxlbmd0aDtyZXR1cm4gbn0ocil9ZnVuY3Rpb24gbG4oZSl7Y29uc3QgdD1cInN0cmluZ1wiPT10eXBlb2YgZS5kYXRhP2FuKGUuZGF0YSk6ZS5kYXRhO3JldHVyblt0dCh7dHlwZTpcImF0dGFjaG1lbnRcIixsZW5ndGg6dC5sZW5ndGgsZmlsZW5hbWU6ZS5maWxlbmFtZSxjb250ZW50X3R5cGU6ZS5jb250ZW50VHlwZSxhdHRhY2htZW50X3R5cGU6ZS5hdHRhY2htZW50VHlwZX0pLHRdfWNvbnN0IHVuPXtzZXNzaW9uOlwic2Vzc2lvblwiLHNlc3Npb25zOlwic2Vzc2lvblwiLGF0dGFjaG1lbnQ6XCJhdHRhY2htZW50XCIsdHJhbnNhY3Rpb246XCJ0cmFuc2FjdGlvblwiLGV2ZW50OlwiZXJyb3JcIixjbGllbnRfcmVwb3J0OlwiaW50ZXJuYWxcIix1c2VyX3JlcG9ydDpcImRlZmF1bHRcIixwcm9maWxlOlwicHJvZmlsZVwiLHByb2ZpbGVfY2h1bms6XCJwcm9maWxlXCIscmVwbGF5X2V2ZW50OlwicmVwbGF5XCIscmVwbGF5X3JlY29yZGluZzpcInJlcGxheVwiLGNoZWNrX2luOlwibW9uaXRvclwiLGZlZWRiYWNrOlwiZmVlZGJhY2tcIixzcGFuOlwic3BhblwiLHN0YXRzZDpcIm1ldHJpY19idWNrZXRcIixyYXdfc2VjdXJpdHk6XCJzZWN1cml0eVwifTtmdW5jdGlvbiBkbihlKXtyZXR1cm4gdW5bZV19ZnVuY3Rpb24gcG4oZSl7aWYoIWV8fCFlLnNkaylyZXR1cm47Y29uc3R7bmFtZTp0LHZlcnNpb246bn09ZS5zZGs7cmV0dXJue25hbWU6dCx2ZXJzaW9uOm59fWZ1bmN0aW9uIGhuKGUsdCxuLHIpe2NvbnN0IGk9cG4obiksbz1lLnR5cGUmJlwicmVwbGF5X2V2ZW50XCIhPT1lLnR5cGU/ZS50eXBlOlwiZXZlbnRcIjshZnVuY3Rpb24oZSx0KXt0JiYoZS5zZGs9ZS5zZGt8fHt9LGUuc2RrLm5hbWU9ZS5zZGsubmFtZXx8dC5uYW1lLGUuc2RrLnZlcnNpb249ZS5zZGsudmVyc2lvbnx8dC52ZXJzaW9uLGUuc2RrLmludGVncmF0aW9ucz1bLi4uZS5zZGsuaW50ZWdyYXRpb25zfHxbXSwuLi50LmludGVncmF0aW9uc3x8W11dLGUuc2RrLnBhY2thZ2VzPVsuLi5lLnNkay5wYWNrYWdlc3x8W10sLi4udC5wYWNrYWdlc3x8W11dKX0oZSxuJiZuLnNkayk7Y29uc3Qgcz1mdW5jdGlvbihlLHQsbixyKXtjb25zdCBpPWUuc2RrUHJvY2Vzc2luZ01ldGFkYXRhJiZlLnNka1Byb2Nlc3NpbmdNZXRhZGF0YS5keW5hbWljU2FtcGxpbmdDb250ZXh0O3JldHVybntldmVudF9pZDplLmV2ZW50X2lkLHNlbnRfYXQ6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpLC4uLnQmJntzZGs6dH0sLi4uISFuJiZyJiZ7ZHNuOll0KHIpfSwuLi5pJiZ7dHJhY2U6dHQoey4uLml9KX19fShlLGkscix0KTtkZWxldGUgZS5zZGtQcm9jZXNzaW5nTWV0YWRhdGE7cmV0dXJuIHJuKHMsW1t7dHlwZTpvfSxlXV0pfWZ1bmN0aW9uIGZuKGUsdCxuLHI9MCl7cmV0dXJuIG5ldyBmdCgoKGksbyk9Pntjb25zdCBzPWVbcl07aWYobnVsbD09PXR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHMpaSh0KTtlbHNle2NvbnN0IGE9cyh7Li4udH0sbik7dGUmJnMuaWQmJm51bGw9PT1hJiZsZS5sb2coYEV2ZW50IHByb2Nlc3NvciBcIiR7cy5pZH1cIiBkcm9wcGVkIGV2ZW50YCksRmUoYSk/YS50aGVuKCh0PT5mbihlLHQsbixyKzEpLnRoZW4oaSkpKS50aGVuKG51bGwsbyk6Zm4oZSxhLG4scisxKS50aGVuKGkpLnRoZW4obnVsbCxvKX19KSl9bGV0IHZuLGduLG1uO2Z1bmN0aW9uIHluKGUsdCl7Y29uc3R7ZmluZ2VycHJpbnQ6bixzcGFuOnIsYnJlYWRjcnVtYnM6aSxzZGtQcm9jZXNzaW5nTWV0YWRhdGE6b309dDshZnVuY3Rpb24oZSx0KXtjb25zdHtleHRyYTpuLHRhZ3M6cix1c2VyOmksY29udGV4dHM6byxsZXZlbDpzLHRyYW5zYWN0aW9uTmFtZTphfT10LGM9dHQobik7YyYmT2JqZWN0LmtleXMoYykubGVuZ3RoJiYoZS5leHRyYT17Li4uYywuLi5lLmV4dHJhfSk7Y29uc3QgbD10dChyKTtsJiZPYmplY3Qua2V5cyhsKS5sZW5ndGgmJihlLnRhZ3M9ey4uLmwsLi4uZS50YWdzfSk7Y29uc3QgdT10dChpKTt1JiZPYmplY3Qua2V5cyh1KS5sZW5ndGgmJihlLnVzZXI9ey4uLnUsLi4uZS51c2VyfSk7Y29uc3QgZD10dChvKTtkJiZPYmplY3Qua2V5cyhkKS5sZW5ndGgmJihlLmNvbnRleHRzPXsuLi5kLC4uLmUuY29udGV4dHN9KTtzJiYoZS5sZXZlbD1zKTthJiZcInRyYW5zYWN0aW9uXCIhPT1lLnR5cGUmJihlLnRyYW5zYWN0aW9uPWEpfShlLHQpLHImJmZ1bmN0aW9uKGUsdCl7ZS5jb250ZXh0cz17dHJhY2U6VXQodCksLi4uZS5jb250ZXh0c30sZS5zZGtQcm9jZXNzaW5nTWV0YWRhdGE9e2R5bmFtaWNTYW1wbGluZ0NvbnRleHQ6UXQodCksLi4uZS5zZGtQcm9jZXNzaW5nTWV0YWRhdGF9O2NvbnN0IG49enQodCkscj0kdChuKS5kZXNjcmlwdGlvbjtyJiYhZS50cmFuc2FjdGlvbiYmXCJ0cmFuc2FjdGlvblwiPT09ZS50eXBlJiYoZS50cmFuc2FjdGlvbj1yKX0oZSxyKSxmdW5jdGlvbihlLHQpe2UuZmluZ2VycHJpbnQ9ZS5maW5nZXJwcmludD9BcnJheS5pc0FycmF5KGUuZmluZ2VycHJpbnQpP2UuZmluZ2VycHJpbnQ6W2UuZmluZ2VycHJpbnRdOltdLHQmJihlLmZpbmdlcnByaW50PWUuZmluZ2VycHJpbnQuY29uY2F0KHQpKTtlLmZpbmdlcnByaW50JiYhZS5maW5nZXJwcmludC5sZW5ndGgmJmRlbGV0ZSBlLmZpbmdlcnByaW50fShlLG4pLGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1bLi4uZS5icmVhZGNydW1ic3x8W10sLi4udF07ZS5icmVhZGNydW1icz1uLmxlbmd0aD9uOnZvaWQgMH0oZSxpKSxmdW5jdGlvbihlLHQpe2Uuc2RrUHJvY2Vzc2luZ01ldGFkYXRhPXsuLi5lLnNka1Byb2Nlc3NpbmdNZXRhZGF0YSwuLi50fX0oZSxvKX1mdW5jdGlvbiBibihlLHQpe2NvbnN0e2V4dHJhOm4sdGFnczpyLHVzZXI6aSxjb250ZXh0czpvLGxldmVsOnMsc2RrUHJvY2Vzc2luZ01ldGFkYXRhOmEsYnJlYWRjcnVtYnM6YyxmaW5nZXJwcmludDpsLGV2ZW50UHJvY2Vzc29yczp1LGF0dGFjaG1lbnRzOmQscHJvcGFnYXRpb25Db250ZXh0OnAsdHJhbnNhY3Rpb25OYW1lOmgsc3BhbjpmfT10O19uKGUsXCJleHRyYVwiLG4pLF9uKGUsXCJ0YWdzXCIsciksX24oZSxcInVzZXJcIixpKSxfbihlLFwiY29udGV4dHNcIixvKSxlLnNka1Byb2Nlc3NpbmdNZXRhZGF0YT1idChlLnNka1Byb2Nlc3NpbmdNZXRhZGF0YSxhLDIpLHMmJihlLmxldmVsPXMpLGgmJihlLnRyYW5zYWN0aW9uTmFtZT1oKSxmJiYoZS5zcGFuPWYpLGMubGVuZ3RoJiYoZS5icmVhZGNydW1icz1bLi4uZS5icmVhZGNydW1icywuLi5jXSksbC5sZW5ndGgmJihlLmZpbmdlcnByaW50PVsuLi5lLmZpbmdlcnByaW50LC4uLmxdKSx1Lmxlbmd0aCYmKGUuZXZlbnRQcm9jZXNzb3JzPVsuLi5lLmV2ZW50UHJvY2Vzc29ycywuLi51XSksZC5sZW5ndGgmJihlLmF0dGFjaG1lbnRzPVsuLi5lLmF0dGFjaG1lbnRzLC4uLmRdKSxlLnByb3BhZ2F0aW9uQ29udGV4dD17Li4uZS5wcm9wYWdhdGlvbkNvbnRleHQsLi4ucH19ZnVuY3Rpb24gX24oZSx0LG4pe2VbdF09YnQoZVt0XSxuLDEpfWZ1bmN0aW9uIHduKGUsdCxuLHIsaSxvKXtjb25zdHtub3JtYWxpemVEZXB0aDpzPTMsbm9ybWFsaXplTWF4QnJlYWR0aDphPTFlM309ZSxjPXsuLi50LGV2ZW50X2lkOnQuZXZlbnRfaWR8fG4uZXZlbnRfaWR8fG90KCksdGltZXN0YW1wOnQudGltZXN0YW1wfHxydCgpfSxsPW4uaW50ZWdyYXRpb25zfHxlLmludGVncmF0aW9ucy5tYXAoKGU9PmUubmFtZSkpOyFmdW5jdGlvbihlLHQpe2NvbnN0e2Vudmlyb25tZW50Om4scmVsZWFzZTpyLGRpc3Q6aSxtYXhWYWx1ZUxlbmd0aDpvPTI1MH09dDtlLmVudmlyb25tZW50PWUuZW52aXJvbm1lbnR8fG58fEh0LCFlLnJlbGVhc2UmJnImJihlLnJlbGVhc2U9cik7IWUuZGlzdCYmaSYmKGUuZGlzdD1pKTtlLm1lc3NhZ2UmJihlLm1lc3NhZ2U9cWUoZS5tZXNzYWdlLG8pKTtjb25zdCBzPWUuZXhjZXB0aW9uJiZlLmV4Y2VwdGlvbi52YWx1ZXMmJmUuZXhjZXB0aW9uLnZhbHVlc1swXTtzJiZzLnZhbHVlJiYocy52YWx1ZT1xZShzLnZhbHVlLG8pKTtjb25zdCBhPWUucmVxdWVzdDthJiZhLnVybCYmKGEudXJsPXFlKGEudXJsLG8pKX0oYyxlKSxmdW5jdGlvbihlLHQpe3QubGVuZ3RoPjAmJihlLnNkaz1lLnNka3x8e30sZS5zZGsuaW50ZWdyYXRpb25zPVsuLi5lLnNkay5pbnRlZ3JhdGlvbnN8fFtdLC4uLnRdKX0oYyxsKSxpJiZpLmVtaXQoXCJhcHBseUZyYW1lTWV0YWRhdGFcIix0KSx2b2lkIDA9PT10LnR5cGUmJmZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1mdW5jdGlvbihlKXtjb25zdCB0PXJlLl9zZW50cnlEZWJ1Z0lkcztpZighdClyZXR1cm57fTtjb25zdCBuPU9iamVjdC5rZXlzKHQpO3JldHVybiBtbiYmbi5sZW5ndGg9PT1nbnx8KGduPW4ubGVuZ3RoLG1uPW4ucmVkdWNlKCgobixyKT0+e3ZufHwodm49e30pO2NvbnN0IGk9dm5bcl07aWYoaSluW2lbMF1dPWlbMV07ZWxzZXtjb25zdCBpPWUocik7Zm9yKGxldCBlPWkubGVuZ3RoLTE7ZT49MDtlLS0pe2NvbnN0IG89aVtlXSxzPW8mJm8uZmlsZW5hbWUsYT10W3JdO2lmKHMmJmEpe25bc109YSx2bltyXT1bcyxhXTticmVha319fXJldHVybiBufSkse30pKSxtbn0odCk7dHJ5e2UuZXhjZXB0aW9uLnZhbHVlcy5mb3JFYWNoKChlPT57ZS5zdGFja3RyYWNlLmZyYW1lcy5mb3JFYWNoKChlPT57biYmZS5maWxlbmFtZSYmKGUuZGVidWdfaWQ9bltlLmZpbGVuYW1lXSl9KSl9KSl9Y2F0Y2goZSl7fX0oYyxlLnN0YWNrUGFyc2VyKTtjb25zdCB1PWZ1bmN0aW9uKGUsdCl7aWYoIXQpcmV0dXJuIGU7Y29uc3Qgbj1lP2UuY2xvbmUoKTpuZXcgTXQ7cmV0dXJuIG4udXBkYXRlKHQpLG59KHIsbi5jYXB0dXJlQ29udGV4dCk7bi5tZWNoYW5pc20mJmx0KGMsbi5tZWNoYW5pc20pO2NvbnN0IGQ9aT9pLmdldEV2ZW50UHJvY2Vzc29ycygpOltdLHA9aWUoXCJnbG9iYWxTY29wZVwiLCgoKT0+bmV3IE10KSkuZ2V0U2NvcGVEYXRhKCk7aWYobyl7Ym4ocCxvLmdldFNjb3BlRGF0YSgpKX1pZih1KXtibihwLHUuZ2V0U2NvcGVEYXRhKCkpfWNvbnN0IGg9Wy4uLm4uYXR0YWNobWVudHN8fFtdLC4uLnAuYXR0YWNobWVudHNdO2gubGVuZ3RoJiYobi5hdHRhY2htZW50cz1oKSx5bihjLHApO3JldHVybiBmbihbLi4uZCwuLi5wLmV2ZW50UHJvY2Vzc29yc10sYyxuKS50aGVuKChlPT4oZSYmZnVuY3Rpb24oZSl7Y29uc3QgdD17fTt0cnl7ZS5leGNlcHRpb24udmFsdWVzLmZvckVhY2goKGU9PntlLnN0YWNrdHJhY2UuZnJhbWVzLmZvckVhY2goKGU9PntlLmRlYnVnX2lkJiYoZS5hYnNfcGF0aD90W2UuYWJzX3BhdGhdPWUuZGVidWdfaWQ6ZS5maWxlbmFtZSYmKHRbZS5maWxlbmFtZV09ZS5kZWJ1Z19pZCksZGVsZXRlIGUuZGVidWdfaWQpfSkpfSkpfWNhdGNoKGUpe31pZigwPT09T2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybjtlLmRlYnVnX21ldGE9ZS5kZWJ1Z19tZXRhfHx7fSxlLmRlYnVnX21ldGEuaW1hZ2VzPWUuZGVidWdfbWV0YS5pbWFnZXN8fFtdO2NvbnN0IG49ZS5kZWJ1Z19tZXRhLmltYWdlcztPYmplY3QuZW50cmllcyh0KS5mb3JFYWNoKCgoW2UsdF0pPT57bi5wdXNoKHt0eXBlOlwic291cmNlbWFwXCIsY29kZV9maWxlOmUsZGVidWdfaWQ6dH0pfSkpfShlKSxcIm51bWJlclwiPT10eXBlb2YgcyYmcz4wP2Z1bmN0aW9uKGUsdCxuKXtpZighZSlyZXR1cm4gbnVsbDtjb25zdCByPXsuLi5lLC4uLmUuYnJlYWRjcnVtYnMmJnticmVhZGNydW1iczplLmJyZWFkY3J1bWJzLm1hcCgoZT0+KHsuLi5lLC4uLmUuZGF0YSYme2RhdGE6ZW4oZS5kYXRhLHQsbil9fSkpKX0sLi4uZS51c2VyJiZ7dXNlcjplbihlLnVzZXIsdCxuKX0sLi4uZS5jb250ZXh0cyYme2NvbnRleHRzOmVuKGUuY29udGV4dHMsdCxuKX0sLi4uZS5leHRyYSYme2V4dHJhOmVuKGUuZXh0cmEsdCxuKX19O2UuY29udGV4dHMmJmUuY29udGV4dHMudHJhY2UmJnIuY29udGV4dHMmJihyLmNvbnRleHRzLnRyYWNlPWUuY29udGV4dHMudHJhY2UsZS5jb250ZXh0cy50cmFjZS5kYXRhJiYoci5jb250ZXh0cy50cmFjZS5kYXRhPWVuKGUuY29udGV4dHMudHJhY2UuZGF0YSx0LG4pKSk7ZS5zcGFucyYmKHIuc3BhbnM9ZS5zcGFucy5tYXAoKGU9Pih7Li4uZSwuLi5lLmRhdGEmJntkYXRhOmVuKGUuZGF0YSx0LG4pfX0pKSkpO2UuY29udGV4dHMmJmUuY29udGV4dHMuZmxhZ3MmJnIuY29udGV4dHMmJihyLmNvbnRleHRzLmZsYWdzPWVuKGUuY29udGV4dHMuZmxhZ3MsMyxuKSk7cmV0dXJuIHJ9KGUscyxhKTplKSkpfWZ1bmN0aW9uIFNuKGUpe2lmKGUpcmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgTXR8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGV9KGUpfHxmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkuc29tZSgoZT0+a24uaW5jbHVkZXMoZSkpKX0oZSk/e2NhcHR1cmVDb250ZXh0OmV9OmV9Y29uc3Qga249W1widXNlclwiLFwibGV2ZWxcIixcImV4dHJhXCIsXCJjb250ZXh0c1wiLFwidGFnc1wiLFwiZmluZ2VycHJpbnRcIixcInJlcXVlc3RTZXNzaW9uXCIsXCJwcm9wYWdhdGlvbkNvbnRleHRcIl07ZnVuY3Rpb24gTW4oZSx0KXtyZXR1cm4ganQoKS5jYXB0dXJlRXZlbnQoZSx0KX1mdW5jdGlvbiBDbihlKXtjb25zdCB0PXh0KCksbj1JdCgpLHI9anQoKSx7cmVsZWFzZTppLGVudmlyb25tZW50Om89SHR9PXQmJnQuZ2V0T3B0aW9ucygpfHx7fSx7dXNlckFnZW50OnN9PXJlLm5hdmlnYXRvcnx8e30sYT12dCh7cmVsZWFzZTppLGVudmlyb25tZW50Om8sdXNlcjpyLmdldFVzZXIoKXx8bi5nZXRVc2VyKCksLi4ucyYme3VzZXJBZ2VudDpzfSwuLi5lfSksYz1uLmdldFNlc3Npb24oKTtyZXR1cm4gYyYmXCJva1wiPT09Yy5zdGF0dXMmJmd0KGMse3N0YXR1czpcImV4aXRlZFwifSksRW4oKSxuLnNldFNlc3Npb24oYSksci5zZXRTZXNzaW9uKGEpLGF9ZnVuY3Rpb24gRW4oKXtjb25zdCBlPUl0KCksdD1qdCgpLG49dC5nZXRTZXNzaW9uKCl8fGUuZ2V0U2Vzc2lvbigpO24mJmZ1bmN0aW9uKGUsdCl7bGV0IG49e307dD9uPXtzdGF0dXM6dH06XCJva1wiPT09ZS5zdGF0dXMmJihuPXtzdGF0dXM6XCJleGl0ZWRcIn0pLGd0KGUsbil9KG4pLFRuKCksZS5zZXRTZXNzaW9uKCksdC5zZXRTZXNzaW9uKCl9ZnVuY3Rpb24gVG4oKXtjb25zdCBlPUl0KCksdD1qdCgpLG49eHQoKSxyPXQuZ2V0U2Vzc2lvbigpfHxlLmdldFNlc3Npb24oKTtyJiZuJiZuLmNhcHR1cmVTZXNzaW9uKHIpfWZ1bmN0aW9uIE9uKGU9ITEpe2U/RW4oKTpUbigpfWZ1bmN0aW9uIFBuKGUsdCxuKXtyZXR1cm4gdHx8YCR7ZnVuY3Rpb24oZSl7cmV0dXJuYCR7ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnByb3RvY29sP2Ake2UucHJvdG9jb2x9OmA6XCJcIixuPWUucG9ydD9gOiR7ZS5wb3J0fWA6XCJcIjtyZXR1cm5gJHt0fS8vJHtlLmhvc3R9JHtufSR7ZS5wYXRoP2AvJHtlLnBhdGh9YDpcIlwifS9hcGkvYH0oZSl9JHtlLnByb2plY3RJZH0vZW52ZWxvcGUvYH0oZSl9PyR7ZnVuY3Rpb24oZSx0KXtjb25zdCBuPXtzZW50cnlfdmVyc2lvbjpcIjdcIn07cmV0dXJuIGUucHVibGljS2V5JiYobi5zZW50cnlfa2V5PWUucHVibGljS2V5KSx0JiYobi5zZW50cnlfY2xpZW50PWAke3QubmFtZX0vJHt0LnZlcnNpb259YCksbmV3IFVSTFNlYXJjaFBhcmFtcyhuKS50b1N0cmluZygpfShlLG4pfWB9Y29uc3QgQW49W107ZnVuY3Rpb24gam4oZSx0KXtmb3IoY29uc3QgbiBvZiB0KW4mJm4uYWZ0ZXJBbGxTZXR1cCYmbi5hZnRlckFsbFNldHVwKGUpfWZ1bmN0aW9uIEluKGUsdCxuKXtpZihuW3QubmFtZV0pdGUmJmxlLmxvZyhgSW50ZWdyYXRpb24gc2tpcHBlZCBiZWNhdXNlIGl0IHdhcyBhbHJlYWR5IGluc3RhbGxlZDogJHt0Lm5hbWV9YCk7ZWxzZXtpZihuW3QubmFtZV09dCwtMT09PUFuLmluZGV4T2YodC5uYW1lKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5zZXR1cE9uY2UmJih0LnNldHVwT25jZSgpLEFuLnB1c2godC5uYW1lKSksdC5zZXR1cCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5zZXR1cCYmdC5zZXR1cChlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnByZXByb2Nlc3NFdmVudCl7Y29uc3Qgbj10LnByZXByb2Nlc3NFdmVudC5iaW5kKHQpO2Uub24oXCJwcmVwcm9jZXNzRXZlbnRcIiwoKHQscik9Pm4odCxyLGUpKSl9aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdC5wcm9jZXNzRXZlbnQpe2NvbnN0IG49dC5wcm9jZXNzRXZlbnQuYmluZCh0KSxyPU9iamVjdC5hc3NpZ24oKCh0LHIpPT5uKHQscixlKSkse2lkOnQubmFtZX0pO2UuYWRkRXZlbnRQcm9jZXNzb3Iocil9dGUmJmxlLmxvZyhgSW50ZWdyYXRpb24gaW5zdGFsbGVkOiAke3QubmFtZX1gKX19Y2xhc3MgeG4gZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlLHQ9XCJ3YXJuXCIpe3N1cGVyKGUpLHRoaXMubWVzc2FnZT1lLHRoaXMubG9nTGV2ZWw9dH19Y29uc3QgTG49XCJOb3QgY2FwdHVyaW5nIGV4Y2VwdGlvbiBiZWNhdXNlIGl0J3MgYWxyZWFkeSBiZWVuIGNhcHR1cmVkLlwiO2NsYXNzIERue2NvbnN0cnVjdG9yKGUpe2lmKHRoaXMuX29wdGlvbnM9ZSx0aGlzLl9pbnRlZ3JhdGlvbnM9e30sdGhpcy5fbnVtUHJvY2Vzc2luZz0wLHRoaXMuX291dGNvbWVzPXt9LHRoaXMuX2hvb2tzPXt9LHRoaXMuX2V2ZW50UHJvY2Vzc29ycz1bXSxlLmRzbj90aGlzLl9kc249WnQoZS5kc24pOnRlJiZsZS53YXJuKFwiTm8gRFNOIHByb3ZpZGVkLCBjbGllbnQgd2lsbCBub3Qgc2VuZCBldmVudHMuXCIpLHRoaXMuX2Rzbil7Y29uc3QgdD1Qbih0aGlzLl9kc24sZS50dW5uZWwsZS5fbWV0YWRhdGE/ZS5fbWV0YWRhdGEuc2RrOnZvaWQgMCk7dGhpcy5fdHJhbnNwb3J0PWUudHJhbnNwb3J0KHt0dW5uZWw6dGhpcy5fb3B0aW9ucy50dW5uZWwscmVjb3JkRHJvcHBlZEV2ZW50OnRoaXMucmVjb3JkRHJvcHBlZEV2ZW50LmJpbmQodGhpcyksLi4uZS50cmFuc3BvcnRPcHRpb25zLHVybDp0fSl9Y29uc3QgdD1bXCJlbmFibGVUcmFjaW5nXCIsXCJ0cmFjZXNTYW1wbGVSYXRlXCIsXCJ0cmFjZXNTYW1wbGVyXCJdLmZpbmQoKHQ9PnQgaW4gZSYmbnVsbD09ZVt0XSkpO3QmJmNlKCgoKT0+e2NvbnNvbGUud2FybihgW1NlbnRyeV0gRGVwcmVjYXRpb24gd2FybmluZzogXFxgJHt0fVxcYCBpcyBzZXQgdG8gdW5kZWZpbmVkLCB3aGljaCBsZWFkcyB0byB0cmFjaW5nIGJlaW5nIGVuYWJsZWQuIEluIHY5LCBhIHZhbHVlIG9mIFxcYHVuZGVmaW5lZFxcYCB3aWxsIHJlc3VsdCBpbiB0cmFjaW5nIGJlaW5nIGRpc2FibGVkLmApfSkpfWNhcHR1cmVFeGNlcHRpb24oZSx0LG4pe2NvbnN0IHI9b3QoKTtpZih1dChlKSlyZXR1cm4gdGUmJmxlLmxvZyhMbikscjtjb25zdCBpPXtldmVudF9pZDpyLC4uLnR9O3JldHVybiB0aGlzLl9wcm9jZXNzKHRoaXMuZXZlbnRGcm9tRXhjZXB0aW9uKGUsaSkudGhlbigoZT0+dGhpcy5fY2FwdHVyZUV2ZW50KGUsaSxuKSkpKSxpLmV2ZW50X2lkfWNhcHR1cmVNZXNzYWdlKGUsdCxuLHIpe2NvbnN0IGk9e2V2ZW50X2lkOm90KCksLi4ubn0sbz1MZShlKT9lOlN0cmluZyhlKSxzPURlKGUpP3RoaXMuZXZlbnRGcm9tTWVzc2FnZShvLHQsaSk6dGhpcy5ldmVudEZyb21FeGNlcHRpb24oZSxpKTtyZXR1cm4gdGhpcy5fcHJvY2VzcyhzLnRoZW4oKGU9PnRoaXMuX2NhcHR1cmVFdmVudChlLGkscikpKSksaS5ldmVudF9pZH1jYXB0dXJlRXZlbnQoZSx0LG4pe2NvbnN0IHI9b3QoKTtpZih0JiZ0Lm9yaWdpbmFsRXhjZXB0aW9uJiZ1dCh0Lm9yaWdpbmFsRXhjZXB0aW9uKSlyZXR1cm4gdGUmJmxlLmxvZyhMbikscjtjb25zdCBpPXtldmVudF9pZDpyLC4uLnR9LG89KGUuc2RrUHJvY2Vzc2luZ01ldGFkYXRhfHx7fSkuY2FwdHVyZWRTcGFuU2NvcGU7cmV0dXJuIHRoaXMuX3Byb2Nlc3ModGhpcy5fY2FwdHVyZUV2ZW50KGUsaSxvfHxuKSksaS5ldmVudF9pZH1jYXB0dXJlU2Vzc2lvbihlKXtcInN0cmluZ1wiIT10eXBlb2YgZS5yZWxlYXNlP3RlJiZsZS53YXJuKFwiRGlzY2FyZGVkIHNlc3Npb24gYmVjYXVzZSBvZiBtaXNzaW5nIG9yIG5vbi1zdHJpbmcgcmVsZWFzZVwiKToodGhpcy5zZW5kU2Vzc2lvbihlKSxndChlLHtpbml0OiExfSkpfWdldERzbigpe3JldHVybiB0aGlzLl9kc259Z2V0T3B0aW9ucygpe3JldHVybiB0aGlzLl9vcHRpb25zfWdldFNka01ldGFkYXRhKCl7cmV0dXJuIHRoaXMuX29wdGlvbnMuX21ldGFkYXRhfWdldFRyYW5zcG9ydCgpe3JldHVybiB0aGlzLl90cmFuc3BvcnR9Zmx1c2goZSl7Y29uc3QgdD10aGlzLl90cmFuc3BvcnQ7cmV0dXJuIHQ/KHRoaXMuZW1pdChcImZsdXNoXCIpLHRoaXMuX2lzQ2xpZW50RG9uZVByb2Nlc3NpbmcoZSkudGhlbigobj0+dC5mbHVzaChlKS50aGVuKChlPT5uJiZlKSkpKSk6cHQoITApfWNsb3NlKGUpe3JldHVybiB0aGlzLmZsdXNoKGUpLnRoZW4oKGU9Pih0aGlzLmdldE9wdGlvbnMoKS5lbmFibGVkPSExLHRoaXMuZW1pdChcImNsb3NlXCIpLGUpKSl9Z2V0RXZlbnRQcm9jZXNzb3JzKCl7cmV0dXJuIHRoaXMuX2V2ZW50UHJvY2Vzc29yc31hZGRFdmVudFByb2Nlc3NvcihlKXt0aGlzLl9ldmVudFByb2Nlc3NvcnMucHVzaChlKX1pbml0KCl7KHRoaXMuX2lzRW5hYmxlZCgpfHx0aGlzLl9vcHRpb25zLmludGVncmF0aW9ucy5zb21lKCgoe25hbWU6ZX0pPT5lLnN0YXJ0c1dpdGgoXCJTcG90bGlnaHRcIikpKSkmJnRoaXMuX3NldHVwSW50ZWdyYXRpb25zKCl9Z2V0SW50ZWdyYXRpb25CeU5hbWUoZSl7cmV0dXJuIHRoaXMuX2ludGVncmF0aW9uc1tlXX1hZGRJbnRlZ3JhdGlvbihlKXtjb25zdCB0PXRoaXMuX2ludGVncmF0aW9uc1tlLm5hbWVdO0luKHRoaXMsZSx0aGlzLl9pbnRlZ3JhdGlvbnMpLHR8fGpuKHRoaXMsW2VdKX1zZW5kRXZlbnQoZSx0PXt9KXt0aGlzLmVtaXQoXCJiZWZvcmVTZW5kRXZlbnRcIixlLHQpO2xldCBuPWhuKGUsdGhpcy5fZHNuLHRoaXMuX29wdGlvbnMuX21ldGFkYXRhLHRoaXMuX29wdGlvbnMudHVubmVsKTtmb3IoY29uc3QgZSBvZiB0LmF0dGFjaG1lbnRzfHxbXSluPW9uKG4sbG4oZSkpO2NvbnN0IHI9dGhpcy5zZW5kRW52ZWxvcGUobik7ciYmci50aGVuKCh0PT50aGlzLmVtaXQoXCJhZnRlclNlbmRFdmVudFwiLGUsdCkpLG51bGwpfXNlbmRTZXNzaW9uKGUpe2NvbnN0IHQ9ZnVuY3Rpb24oZSx0LG4scil7Y29uc3QgaT1wbihuKTtyZXR1cm4gcm4oe3NlbnRfYXQ6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpLC4uLmkmJntzZGs6aX0sLi4uISFyJiZ0JiZ7ZHNuOll0KHQpfX0sW1wiYWdncmVnYXRlc1wiaW4gZT9be3R5cGU6XCJzZXNzaW9uc1wifSxlXTpbe3R5cGU6XCJzZXNzaW9uXCJ9LGUudG9KU09OKCldXSl9KGUsdGhpcy5fZHNuLHRoaXMuX29wdGlvbnMuX21ldGFkYXRhLHRoaXMuX29wdGlvbnMudHVubmVsKTt0aGlzLnNlbmRFbnZlbG9wZSh0KX1yZWNvcmREcm9wcGVkRXZlbnQoZSx0LG4pe2lmKHRoaXMuX29wdGlvbnMuc2VuZENsaWVudFJlcG9ydHMpe2NvbnN0IHI9XCJudW1iZXJcIj09dHlwZW9mIG4/bjoxLGk9YCR7ZX06JHt0fWA7dGUmJmxlLmxvZyhgUmVjb3JkaW5nIG91dGNvbWU6IFwiJHtpfVwiJHtyPjE/YCAoJHtyfSB0aW1lcylgOlwiXCJ9YCksdGhpcy5fb3V0Y29tZXNbaV09KHRoaXMuX291dGNvbWVzW2ldfHwwKStyfX1vbihlLHQpe2NvbnN0IG49dGhpcy5faG9va3NbZV09dGhpcy5faG9va3NbZV18fFtdO3JldHVybiBuLnB1c2godCksKCk9Pntjb25zdCBlPW4uaW5kZXhPZih0KTtlPi0xJiZuLnNwbGljZShlLDEpfX1lbWl0KGUsLi4udCl7Y29uc3Qgbj10aGlzLl9ob29rc1tlXTtuJiZuLmZvckVhY2goKGU9PmUoLi4udCkpKX1zZW5kRW52ZWxvcGUoZSl7cmV0dXJuIHRoaXMuZW1pdChcImJlZm9yZUVudmVsb3BlXCIsZSksdGhpcy5faXNFbmFibGVkKCkmJnRoaXMuX3RyYW5zcG9ydD90aGlzLl90cmFuc3BvcnQuc2VuZChlKS50aGVuKG51bGwsKGU9Pih0ZSYmbGUuZXJyb3IoXCJFcnJvciB3aGlsZSBzZW5kaW5nIGVudmVsb3BlOlwiLGUpLGUpKSk6KHRlJiZsZS5lcnJvcihcIlRyYW5zcG9ydCBkaXNhYmxlZFwiKSxwdCh7fSkpfV9zZXR1cEludGVncmF0aW9ucygpe2NvbnN0e2ludGVncmF0aW9uczplfT10aGlzLl9vcHRpb25zO3RoaXMuX2ludGVncmF0aW9ucz1mdW5jdGlvbihlLHQpe2NvbnN0IG49e307cmV0dXJuIHQuZm9yRWFjaCgodD0+e3QmJkluKGUsdCxuKX0pKSxufSh0aGlzLGUpLGpuKHRoaXMsZSl9X3VwZGF0ZVNlc3Npb25Gcm9tRXZlbnQoZSx0KXtsZXQgbj1cImZhdGFsXCI9PT10LmxldmVsLHI9ITE7Y29uc3QgaT10LmV4Y2VwdGlvbiYmdC5leGNlcHRpb24udmFsdWVzO2lmKGkpe3I9ITA7Zm9yKGNvbnN0IGUgb2YgaSl7Y29uc3QgdD1lLm1lY2hhbmlzbTtpZih0JiYhMT09PXQuaGFuZGxlZCl7bj0hMDticmVha319fWNvbnN0IG89XCJva1wiPT09ZS5zdGF0dXM7KG8mJjA9PT1lLmVycm9yc3x8byYmbikmJihndChlLHsuLi5uJiZ7c3RhdHVzOlwiY3Jhc2hlZFwifSxlcnJvcnM6ZS5lcnJvcnN8fE51bWJlcihyfHxuKX0pLHRoaXMuY2FwdHVyZVNlc3Npb24oZSkpfV9pc0NsaWVudERvbmVQcm9jZXNzaW5nKGUpe3JldHVybiBuZXcgZnQoKHQ9PntsZXQgbj0wO2NvbnN0IHI9c2V0SW50ZXJ2YWwoKCgpPT57MD09dGhpcy5fbnVtUHJvY2Vzc2luZz8oY2xlYXJJbnRlcnZhbChyKSx0KCEwKSk6KG4rPTEsZSYmbj49ZSYmKGNsZWFySW50ZXJ2YWwociksdCghMSkpKX0pLDEpfSkpfV9pc0VuYWJsZWQoKXtyZXR1cm4hMSE9PXRoaXMuZ2V0T3B0aW9ucygpLmVuYWJsZWQmJnZvaWQgMCE9PXRoaXMuX3RyYW5zcG9ydH1fcHJlcGFyZUV2ZW50KGUsdCxuPWp0KCkscj1JdCgpKXtjb25zdCBpPXRoaXMuZ2V0T3B0aW9ucygpLG89T2JqZWN0LmtleXModGhpcy5faW50ZWdyYXRpb25zKTtyZXR1cm4hdC5pbnRlZ3JhdGlvbnMmJm8ubGVuZ3RoPjAmJih0LmludGVncmF0aW9ucz1vKSx0aGlzLmVtaXQoXCJwcmVwcm9jZXNzRXZlbnRcIixlLHQpLGUudHlwZXx8ci5zZXRMYXN0RXZlbnRJZChlLmV2ZW50X2lkfHx0LmV2ZW50X2lkKSx3bihpLGUsdCxuLHRoaXMscikudGhlbigoZT0+e2lmKG51bGw9PT1lKXJldHVybiBlO2UuY29udGV4dHM9e3RyYWNlOkx0KG4pLC4uLmUuY29udGV4dHN9O2NvbnN0IHQ9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPXQuZ2V0UHJvcGFnYXRpb25Db250ZXh0KCk7cmV0dXJuIG4uZHNjfHxHdChuLnRyYWNlSWQsZSl9KHRoaXMsbik7cmV0dXJuIGUuc2RrUHJvY2Vzc2luZ01ldGFkYXRhPXtkeW5hbWljU2FtcGxpbmdDb250ZXh0OnQsLi4uZS5zZGtQcm9jZXNzaW5nTWV0YWRhdGF9LGV9KSl9X2NhcHR1cmVFdmVudChlLHQ9e30sbil7cmV0dXJuIHRoaXMuX3Byb2Nlc3NFdmVudChlLHQsbikudGhlbigoZT0+ZS5ldmVudF9pZCksKGU9Pnt0ZSYmKGUgaW5zdGFuY2VvZiB4biYmXCJsb2dcIj09PWUubG9nTGV2ZWw/bGUubG9nKGUubWVzc2FnZSk6bGUud2FybihlKSl9KSl9X3Byb2Nlc3NFdmVudChlLHQsbil7Y29uc3Qgcj10aGlzLmdldE9wdGlvbnMoKSx7c2FtcGxlUmF0ZTppfT1yLG89Um4oZSkscz1ObihlKSxhPWUudHlwZXx8XCJlcnJvclwiLGM9YGJlZm9yZSBzZW5kIGZvciB0eXBlIFxcYCR7YX1cXGBgLGw9dm9pZCAwPT09aT92b2lkIDA6ZnVuY3Rpb24oZSl7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBlKXJldHVybiBOdW1iZXIoZSk7Y29uc3QgdD1cInN0cmluZ1wiPT10eXBlb2YgZT9wYXJzZUZsb2F0KGUpOmU7aWYoIShcIm51bWJlclwiIT10eXBlb2YgdHx8aXNOYU4odCl8fHQ8MHx8dD4xKSlyZXR1cm4gdDt0ZSYmbGUud2FybihgW1RyYWNpbmddIEdpdmVuIHNhbXBsZSByYXRlIGlzIGludmFsaWQuIFNhbXBsZSByYXRlIG11c3QgYmUgYSBib29sZWFuIG9yIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS4gR290ICR7SlNPTi5zdHJpbmdpZnkoZSl9IG9mIHR5cGUgJHtKU09OLnN0cmluZ2lmeSh0eXBlb2YgZSl9LmApfShpKTtpZihzJiZcIm51bWJlclwiPT10eXBlb2YgbCYmTWF0aC5yYW5kb20oKT5sKXJldHVybiB0aGlzLnJlY29yZERyb3BwZWRFdmVudChcInNhbXBsZV9yYXRlXCIsXCJlcnJvclwiLGUpLGh0KG5ldyB4bihgRGlzY2FyZGluZyBldmVudCBiZWNhdXNlIGl0J3Mgbm90IGluY2x1ZGVkIGluIHRoZSByYW5kb20gc2FtcGxlIChzYW1wbGluZyByYXRlID0gJHtpfSlgLFwibG9nXCIpKTtjb25zdCB1PVwicmVwbGF5X2V2ZW50XCI9PT1hP1wicmVwbGF5XCI6YSxkPShlLnNka1Byb2Nlc3NpbmdNZXRhZGF0YXx8e30pLmNhcHR1cmVkU3Bhbklzb2xhdGlvblNjb3BlO3JldHVybiB0aGlzLl9wcmVwYXJlRXZlbnQoZSx0LG4sZCkudGhlbigobj0+e2lmKG51bGw9PT1uKXRocm93IHRoaXMucmVjb3JkRHJvcHBlZEV2ZW50KFwiZXZlbnRfcHJvY2Vzc29yXCIsdSxlKSxuZXcgeG4oXCJBbiBldmVudCBwcm9jZXNzb3IgcmV0dXJuZWQgYG51bGxgLCB3aWxsIG5vdCBzZW5kIGV2ZW50LlwiLFwibG9nXCIpO2lmKHQuZGF0YSYmITA9PT10LmRhdGEuX19zZW50cnlfXylyZXR1cm4gbjtjb25zdCBpPWZ1bmN0aW9uKGUsdCxuLHIpe2NvbnN0e2JlZm9yZVNlbmQ6aSxiZWZvcmVTZW5kVHJhbnNhY3Rpb246byxiZWZvcmVTZW5kU3BhbjpzfT10O2lmKE5uKG4pJiZpKXJldHVybiBpKG4scik7aWYoUm4obikpe2lmKG4uc3BhbnMmJnMpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IHIgb2Ygbi5zcGFucyl7Y29uc3Qgbj1zKHIpO24/dC5wdXNoKG4pOihXdCgpLGUucmVjb3JkRHJvcHBlZEV2ZW50KFwiYmVmb3JlX3NlbmRcIixcInNwYW5cIikpfW4uc3BhbnM9dH1pZihvKXtpZihuLnNwYW5zKXtjb25zdCBlPW4uc3BhbnMubGVuZ3RoO24uc2RrUHJvY2Vzc2luZ01ldGFkYXRhPXsuLi5uLnNka1Byb2Nlc3NpbmdNZXRhZGF0YSxzcGFuQ291bnRCZWZvcmVQcm9jZXNzaW5nOmV9fXJldHVybiBvKG4scil9fXJldHVybiBufSh0aGlzLHIsbix0KTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtjb25zdCBuPWAke3R9IG11c3QgcmV0dXJuIFxcYG51bGxcXGAgb3IgYSB2YWxpZCBldmVudC5gO2lmKEZlKGUpKXJldHVybiBlLnRoZW4oKGU9PntpZighTmUoZSkmJm51bGwhPT1lKXRocm93IG5ldyB4bihuKTtyZXR1cm4gZX0pLChlPT57dGhyb3cgbmV3IHhuKGAke3R9IHJlamVjdGVkIHdpdGggJHtlfWApfSkpO2lmKCFOZShlKSYmbnVsbCE9PWUpdGhyb3cgbmV3IHhuKG4pO3JldHVybiBlfShpLGMpfSkpLnRoZW4oKHI9PntpZihudWxsPT09cil7aWYodGhpcy5yZWNvcmREcm9wcGVkRXZlbnQoXCJiZWZvcmVfc2VuZFwiLHUsZSksbyl7Y29uc3QgdD0xKyhlLnNwYW5zfHxbXSkubGVuZ3RoO3RoaXMucmVjb3JkRHJvcHBlZEV2ZW50KFwiYmVmb3JlX3NlbmRcIixcInNwYW5cIix0KX10aHJvdyBuZXcgeG4oYCR7Y30gcmV0dXJuZWQgXFxgbnVsbFxcYCwgd2lsbCBub3Qgc2VuZCBldmVudC5gLFwibG9nXCIpfWNvbnN0IGk9biYmbi5nZXRTZXNzaW9uKCk7aWYoIW8mJmkmJnRoaXMuX3VwZGF0ZVNlc3Npb25Gcm9tRXZlbnQoaSxyKSxvKXtjb25zdCBlPShyLnNka1Byb2Nlc3NpbmdNZXRhZGF0YSYmci5zZGtQcm9jZXNzaW5nTWV0YWRhdGEuc3BhbkNvdW50QmVmb3JlUHJvY2Vzc2luZ3x8MCktKHIuc3BhbnM/ci5zcGFucy5sZW5ndGg6MCk7ZT4wJiZ0aGlzLnJlY29yZERyb3BwZWRFdmVudChcImJlZm9yZV9zZW5kXCIsXCJzcGFuXCIsZSl9Y29uc3Qgcz1yLnRyYW5zYWN0aW9uX2luZm87aWYobyYmcyYmci50cmFuc2FjdGlvbiE9PWUudHJhbnNhY3Rpb24pe2NvbnN0IGU9XCJjdXN0b21cIjtyLnRyYW5zYWN0aW9uX2luZm89ey4uLnMsc291cmNlOmV9fXJldHVybiB0aGlzLnNlbmRFdmVudChyLHQpLHJ9KSkudGhlbihudWxsLChlPT57aWYoZSBpbnN0YW5jZW9mIHhuKXRocm93IGU7dGhyb3cgdGhpcy5jYXB0dXJlRXhjZXB0aW9uKGUse2RhdGE6e19fc2VudHJ5X186ITB9LG9yaWdpbmFsRXhjZXB0aW9uOmV9KSxuZXcgeG4oYEV2ZW50IHByb2Nlc3NpbmcgcGlwZWxpbmUgdGhyZXcgYW4gZXJyb3IsIG9yaWdpbmFsIGV2ZW50IHdpbGwgbm90IGJlIHNlbnQuIERldGFpbHMgaGF2ZSBiZWVuIHNlbnQgYXMgYSBuZXcgZXZlbnQuXFxuUmVhc29uOiAke2V9YCl9KSl9X3Byb2Nlc3MoZSl7dGhpcy5fbnVtUHJvY2Vzc2luZysrLGUudGhlbigoZT0+KHRoaXMuX251bVByb2Nlc3NpbmctLSxlKSksKGU9Pih0aGlzLl9udW1Qcm9jZXNzaW5nLS0sZSkpKX1fY2xlYXJPdXRjb21lcygpe2NvbnN0IGU9dGhpcy5fb3V0Y29tZXM7cmV0dXJuIHRoaXMuX291dGNvbWVzPXt9LE9iamVjdC5lbnRyaWVzKGUpLm1hcCgoKFtlLHRdKT0+e2NvbnN0W24scl09ZS5zcGxpdChcIjpcIik7cmV0dXJue3JlYXNvbjpuLGNhdGVnb3J5OnIscXVhbnRpdHk6dH19KSl9X2ZsdXNoT3V0Y29tZXMoKXt0ZSYmbGUubG9nKFwiRmx1c2hpbmcgb3V0Y29tZXMuLi5cIik7Y29uc3QgZT10aGlzLl9jbGVhck91dGNvbWVzKCk7aWYoMD09PWUubGVuZ3RoKXJldHVybiB2b2lkKHRlJiZsZS5sb2coXCJObyBvdXRjb21lcyB0byBzZW5kXCIpKTtpZighdGhpcy5fZHNuKXJldHVybiB2b2lkKHRlJiZsZS5sb2coXCJObyBkc24gcHJvdmlkZWQsIHdpbGwgbm90IHNlbmQgb3V0Y29tZXNcIikpO3RlJiZsZS5sb2coXCJTZW5kaW5nIG91dGNvbWVzOlwiLGUpO2NvbnN0IHQ9KG49ZSxybigocj10aGlzLl9vcHRpb25zLnR1bm5lbCYmWXQodGhpcy5fZHNuKSk/e2RzbjpyfTp7fSxbW3t0eXBlOlwiY2xpZW50X3JlcG9ydFwifSx7dGltZXN0YW1wOml8fHJ0KCksZGlzY2FyZGVkX2V2ZW50czpufV1dKSk7dmFyIG4scixpO3RoaXMuc2VuZEVudmVsb3BlKHQpfX1mdW5jdGlvbiBObihlKXtyZXR1cm4gdm9pZCAwPT09ZS50eXBlfWZ1bmN0aW9uIFJuKGUpe3JldHVyblwidHJhbnNhY3Rpb25cIj09PWUudHlwZX1mdW5jdGlvbiBGbihlKXtjb25zdCB0PVtdO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIHQuc3BsaWNlKHQuaW5kZXhPZihlKSwxKVswXXx8UHJvbWlzZS5yZXNvbHZlKHZvaWQgMCl9cmV0dXJueyQ6dCxhZGQ6ZnVuY3Rpb24ocil7aWYoISh2b2lkIDA9PT1lfHx0Lmxlbmd0aDxlKSlyZXR1cm4gaHQobmV3IHhuKFwiTm90IGFkZGluZyBQcm9taXNlIGJlY2F1c2UgYnVmZmVyIGxpbWl0IHdhcyByZWFjaGVkLlwiKSk7Y29uc3QgaT1yKCk7cmV0dXJuLTE9PT10LmluZGV4T2YoaSkmJnQucHVzaChpKSxpLnRoZW4oKCgpPT5uKGkpKSkudGhlbihudWxsLCgoKT0+bihpKS50aGVuKG51bGwsKCgpPT57fSkpKSksaX0sZHJhaW46ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBmdCgoKG4scik9PntsZXQgaT10Lmxlbmd0aDtpZighaSlyZXR1cm4gbighMCk7Y29uc3Qgbz1zZXRUaW1lb3V0KCgoKT0+e2UmJmU+MCYmbighMSl9KSxlKTt0LmZvckVhY2goKGU9PntwdChlKS50aGVuKCgoKT0+ey0taXx8KGNsZWFyVGltZW91dChvKSxuKCEwKSl9KSxyKX0pKX0pKX19fWZ1bmN0aW9uIEJuKGUse3N0YXR1c0NvZGU6dCxoZWFkZXJzOm59LHI9RGF0ZS5ub3coKSl7Y29uc3QgaT17Li4uZX0sbz1uJiZuW1wieC1zZW50cnktcmF0ZS1saW1pdHNcIl0scz1uJiZuW1wicmV0cnktYWZ0ZXJcIl07aWYobylmb3IoY29uc3QgZSBvZiBvLnRyaW0oKS5zcGxpdChcIixcIikpe2NvbnN0W3QsbiwsLG9dPWUuc3BsaXQoXCI6XCIsNSkscz1wYXJzZUludCh0LDEwKSxhPTFlMyooaXNOYU4ocyk/NjA6cyk7aWYobilmb3IoY29uc3QgZSBvZiBuLnNwbGl0KFwiO1wiKSlcIm1ldHJpY19idWNrZXRcIj09PWUmJm8mJiFvLnNwbGl0KFwiO1wiKS5pbmNsdWRlcyhcImN1c3RvbVwiKXx8KGlbZV09cithKTtlbHNlIGkuYWxsPXIrYX1lbHNlIHM/aS5hbGw9citmdW5jdGlvbihlLHQ9RGF0ZS5ub3coKSl7Y29uc3Qgbj1wYXJzZUludChgJHtlfWAsMTApO2lmKCFpc05hTihuKSlyZXR1cm4gMWUzKm47Y29uc3Qgcj1EYXRlLnBhcnNlKGAke2V9YCk7cmV0dXJuIGlzTmFOKHIpPzZlNDpyLXR9KHMscik6NDI5PT09dCYmKGkuYWxsPXIrNmU0KTtyZXR1cm4gaX1mdW5jdGlvbiBVbihlLHQsbj1GbihlLmJ1ZmZlclNpemV8fDY0KSl7bGV0IHI9e307cmV0dXJue3NlbmQ6ZnVuY3Rpb24oaSl7Y29uc3Qgbz1bXTtpZihzbihpLCgodCxuKT0+e2NvbnN0IGk9ZG4obik7aWYoZnVuY3Rpb24oZSx0LG49RGF0ZS5ub3coKSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF18fGUuYWxsfHwwfShlLHQpPm59KHIsaSkpe2NvbnN0IHI9Vm4odCxuKTtlLnJlY29yZERyb3BwZWRFdmVudChcInJhdGVsaW1pdF9iYWNrb2ZmXCIsaSxyKX1lbHNlIG8ucHVzaCh0KX0pKSwwPT09by5sZW5ndGgpcmV0dXJuIHB0KHt9KTtjb25zdCBzPXJuKGlbMF0sbyksYT10PT57c24ocywoKG4scik9Pntjb25zdCBpPVZuKG4scik7ZS5yZWNvcmREcm9wcGVkRXZlbnQodCxkbihyKSxpKX0pKX07cmV0dXJuIG4uYWRkKCgoKT0+dCh7Ym9keTpjbihzKX0pLnRoZW4oKGU9Pih2b2lkIDAhPT1lLnN0YXR1c0NvZGUmJihlLnN0YXR1c0NvZGU8MjAwfHxlLnN0YXR1c0NvZGU+PTMwMCkmJnRlJiZsZS53YXJuKGBTZW50cnkgcmVzcG9uZGVkIHdpdGggc3RhdHVzIGNvZGUgJHtlLnN0YXR1c0NvZGV9IHRvIHNlbnQgZXZlbnQuYCkscj1CbihyLGUpLGUpKSwoZT0+e3Rocm93IGEoXCJuZXR3b3JrX2Vycm9yXCIpLGV9KSkpKS50aGVuKChlPT5lKSwoZT0+e2lmKGUgaW5zdGFuY2VvZiB4bilyZXR1cm4gdGUmJmxlLmVycm9yKFwiU2tpcHBlZCBzZW5kaW5nIGV2ZW50IGJlY2F1c2UgYnVmZmVyIGlzIGZ1bGwuXCIpLGEoXCJxdWV1ZV9vdmVyZmxvd1wiKSxwdCh7fSk7dGhyb3cgZX0pKX0sZmx1c2g6ZT0+bi5kcmFpbihlKX19ZnVuY3Rpb24gVm4oZSx0KXtpZihcImV2ZW50XCI9PT10fHxcInRyYW5zYWN0aW9uXCI9PT10KXJldHVybiBBcnJheS5pc0FycmF5KGUpP2VbMV06dm9pZCAwfWNvbnN0IEpuPTEwMDtmdW5jdGlvbiAkbihlLHQpe2NvbnN0IG49eHQoKSxyPUl0KCk7aWYoIW4pcmV0dXJuO2NvbnN0e2JlZm9yZUJyZWFkY3J1bWI6aT1udWxsLG1heEJyZWFkY3J1bWJzOm89Sm59PW4uZ2V0T3B0aW9ucygpO2lmKG88PTApcmV0dXJuO2NvbnN0IHM9e3RpbWVzdGFtcDpydCgpLC4uLmV9LGE9aT9jZSgoKCk9Pmkocyx0KSkpOnM7bnVsbCE9PWEmJihuLmVtaXQmJm4uZW1pdChcImJlZm9yZUFkZEJyZWFkY3J1bWJcIixhLHQpLHIuYWRkQnJlYWRjcnVtYihhLG8pKX1sZXQgcW47Y29uc3Qgem49bmV3IFdlYWtNYXAsV249KCk9Pih7bmFtZTpcIkZ1bmN0aW9uVG9TdHJpbmdcIixzZXR1cE9uY2UoKXtxbj1GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7dHJ5e0Z1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbiguLi5lKXtjb25zdCB0PVllKHRoaXMpLG49em4uaGFzKHh0KCkpJiZ2b2lkIDAhPT10P3Q6dGhpcztyZXR1cm4gcW4uYXBwbHkobixlKX19Y2F0Y2goZSl7fX0sc2V0dXAoZSl7em4uc2V0KGUsITApfX0pLEhuPVsvXlNjcmlwdCBlcnJvclxcLj8kLywvXkphdmFzY3JpcHQgZXJyb3I6IFNjcmlwdCBlcnJvclxcLj8gb24gbGluZSAwJC8sL15SZXNpemVPYnNlcnZlciBsb29wIGNvbXBsZXRlZCB3aXRoIHVuZGVsaXZlcmVkIG5vdGlmaWNhdGlvbnMuJC8sL15DYW5ub3QgcmVkZWZpbmUgcHJvcGVydHk6IGdvb2dsZXRhZyQvLFwidW5kZWZpbmVkIGlzIG5vdCBhbiBvYmplY3QgKGV2YWx1YXRpbmcgJ2EuTCcpXCIsJ2NhblxcJ3QgcmVkZWZpbmUgbm9uLWNvbmZpZ3VyYWJsZSBwcm9wZXJ0eSBcInNvbGFuYVwiJyxcInZ2KCkuZ2V0UmVzdHJpY3Rpb25zIGlzIG5vdCBhIGZ1bmN0aW9uLiAoSW4gJ3Z2KCkuZ2V0UmVzdHJpY3Rpb25zKDEsYSknLCAndnYoKS5nZXRSZXN0cmljdGlvbnMnIGlzIHVuZGVmaW5lZClcIixcIkNhbid0IGZpbmQgdmFyaWFibGU6IF9BdXRvZmlsbENhbGxiYWNrSGFuZGxlclwiLC9eTm9uLUVycm9yIHByb21pc2UgcmVqZWN0aW9uIGNhcHR1cmVkIHdpdGggdmFsdWU6IE9iamVjdCBOb3QgRm91bmQgTWF0Y2hpbmcgSWQ6XFxkKywgTWV0aG9kTmFtZTpzaW11bGF0ZUV2ZW50LCBQYXJhbUNvdW50OlxcZCskL10sR249KGU9e30pPT4oe25hbWU6XCJJbmJvdW5kRmlsdGVyc1wiLHByb2Nlc3NFdmVudCh0LG4scil7Y29uc3QgaT1yLmdldE9wdGlvbnMoKSxvPWZ1bmN0aW9uKGU9e30sdD17fSl7cmV0dXJue2FsbG93VXJsczpbLi4uZS5hbGxvd1VybHN8fFtdLC4uLnQuYWxsb3dVcmxzfHxbXV0sZGVueVVybHM6Wy4uLmUuZGVueVVybHN8fFtdLC4uLnQuZGVueVVybHN8fFtdXSxpZ25vcmVFcnJvcnM6Wy4uLmUuaWdub3JlRXJyb3JzfHxbXSwuLi50Lmlnbm9yZUVycm9yc3x8W10sLi4uZS5kaXNhYmxlRXJyb3JEZWZhdWx0cz9bXTpIbl0saWdub3JlVHJhbnNhY3Rpb25zOlsuLi5lLmlnbm9yZVRyYW5zYWN0aW9uc3x8W10sLi4udC5pZ25vcmVUcmFuc2FjdGlvbnN8fFtdXSxpZ25vcmVJbnRlcm5hbDp2b2lkIDA9PT1lLmlnbm9yZUludGVybmFsfHxlLmlnbm9yZUludGVybmFsfX0oZSxpKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZih0Lmlnbm9yZUludGVybmFsJiZmdW5jdGlvbihlKXt0cnl7cmV0dXJuXCJTZW50cnlFcnJvclwiPT09ZS5leGNlcHRpb24udmFsdWVzWzBdLnR5cGV9Y2F0Y2goZSl7fXJldHVybiExfShlKSlyZXR1cm4gdGUmJmxlLndhcm4oYEV2ZW50IGRyb3BwZWQgZHVlIHRvIGJlaW5nIGludGVybmFsIFNlbnRyeSBFcnJvci5cXG5FdmVudDogJHthdChlKX1gKSwhMDtpZihmdW5jdGlvbihlLHQpe2lmKGUudHlwZXx8IXR8fCF0Lmxlbmd0aClyZXR1cm4hMTtyZXR1cm4gZnVuY3Rpb24oZSl7Y29uc3QgdD1bXTtlLm1lc3NhZ2UmJnQucHVzaChlLm1lc3NhZ2UpO2xldCBuO3RyeXtuPWUuZXhjZXB0aW9uLnZhbHVlc1tlLmV4Y2VwdGlvbi52YWx1ZXMubGVuZ3RoLTFdfWNhdGNoKGUpe31uJiZuLnZhbHVlJiYodC5wdXNoKG4udmFsdWUpLG4udHlwZSYmdC5wdXNoKGAke24udHlwZX06ICR7bi52YWx1ZX1gKSk7cmV0dXJuIHR9KGUpLnNvbWUoKGU9PkhlKGUsdCkpKX0oZSx0Lmlnbm9yZUVycm9ycykpcmV0dXJuIHRlJiZsZS53YXJuKGBFdmVudCBkcm9wcGVkIGR1ZSB0byBiZWluZyBtYXRjaGVkIGJ5IFxcYGlnbm9yZUVycm9yc1xcYCBvcHRpb24uXFxuRXZlbnQ6ICR7YXQoZSl9YCksITA7aWYoZnVuY3Rpb24oZSl7aWYoZS50eXBlKXJldHVybiExO2lmKCFlLmV4Y2VwdGlvbnx8IWUuZXhjZXB0aW9uLnZhbHVlc3x8MD09PWUuZXhjZXB0aW9uLnZhbHVlcy5sZW5ndGgpcmV0dXJuITE7cmV0dXJuIWUubWVzc2FnZSYmIWUuZXhjZXB0aW9uLnZhbHVlcy5zb21lKChlPT5lLnN0YWNrdHJhY2V8fGUudHlwZSYmXCJFcnJvclwiIT09ZS50eXBlfHxlLnZhbHVlKSl9KGUpKXJldHVybiB0ZSYmbGUud2FybihgRXZlbnQgZHJvcHBlZCBkdWUgdG8gbm90IGhhdmluZyBhbiBlcnJvciBtZXNzYWdlLCBlcnJvciB0eXBlIG9yIHN0YWNrdHJhY2UuXFxuRXZlbnQ6ICR7YXQoZSl9YCksITA7aWYoZnVuY3Rpb24oZSx0KXtpZihcInRyYW5zYWN0aW9uXCIhPT1lLnR5cGV8fCF0fHwhdC5sZW5ndGgpcmV0dXJuITE7Y29uc3Qgbj1lLnRyYW5zYWN0aW9uO3JldHVybiEhbiYmSGUobix0KX0oZSx0Lmlnbm9yZVRyYW5zYWN0aW9ucykpcmV0dXJuIHRlJiZsZS53YXJuKGBFdmVudCBkcm9wcGVkIGR1ZSB0byBiZWluZyBtYXRjaGVkIGJ5IFxcYGlnbm9yZVRyYW5zYWN0aW9uc1xcYCBvcHRpb24uXFxuRXZlbnQ6ICR7YXQoZSl9YCksITA7aWYoZnVuY3Rpb24oZSx0KXtpZighdHx8IXQubGVuZ3RoKXJldHVybiExO2NvbnN0IG49UW4oZSk7cmV0dXJuISFuJiZIZShuLHQpfShlLHQuZGVueVVybHMpKXJldHVybiB0ZSYmbGUud2FybihgRXZlbnQgZHJvcHBlZCBkdWUgdG8gYmVpbmcgbWF0Y2hlZCBieSBcXGBkZW55VXJsc1xcYCBvcHRpb24uXFxuRXZlbnQ6ICR7YXQoZSl9LlxcblVybDogJHtRbihlKX1gKSwhMDtpZighZnVuY3Rpb24oZSx0KXtpZighdHx8IXQubGVuZ3RoKXJldHVybiEwO2NvbnN0IG49UW4oZSk7cmV0dXJuIW58fEhlKG4sdCl9KGUsdC5hbGxvd1VybHMpKXJldHVybiB0ZSYmbGUud2FybihgRXZlbnQgZHJvcHBlZCBkdWUgdG8gbm90IGJlaW5nIG1hdGNoZWQgYnkgXFxgYWxsb3dVcmxzXFxgIG9wdGlvbi5cXG5FdmVudDogJHthdChlKX0uXFxuVXJsOiAke1FuKGUpfWApLCEwO3JldHVybiExfSh0LG8pP251bGw6dH19KTtmdW5jdGlvbiBRbihlKXt0cnl7bGV0IHQ7dHJ5e3Q9ZS5leGNlcHRpb24udmFsdWVzWzBdLnN0YWNrdHJhY2UuZnJhbWVzfWNhdGNoKGUpe31yZXR1cm4gdD9mdW5jdGlvbihlPVtdKXtmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSl7Y29uc3Qgbj1lW3RdO2lmKG4mJlwiPGFub255bW91cz5cIiE9PW4uZmlsZW5hbWUmJlwiW25hdGl2ZSBjb2RlXVwiIT09bi5maWxlbmFtZSlyZXR1cm4gbi5maWxlbmFtZXx8bnVsbH1yZXR1cm4gbnVsbH0odCk6bnVsbH1jYXRjaCh0KXtyZXR1cm4gdGUmJmxlLmVycm9yKGBDYW5ub3QgZXh0cmFjdCB1cmwgZm9yIGV2ZW50ICR7YXQoZSl9YCksbnVsbH19ZnVuY3Rpb24gS24oZSx0LG49MjUwLHIsaSxvLHMpe2lmKCEoby5leGNlcHRpb24mJm8uZXhjZXB0aW9uLnZhbHVlcyYmcyYmQmUocy5vcmlnaW5hbEV4Y2VwdGlvbixFcnJvcikpKXJldHVybjtjb25zdCBhPW8uZXhjZXB0aW9uLnZhbHVlcy5sZW5ndGg+MD9vLmV4Y2VwdGlvbi52YWx1ZXNbby5leGNlcHRpb24udmFsdWVzLmxlbmd0aC0xXTp2b2lkIDA7dmFyIGMsbDthJiYoby5leGNlcHRpb24udmFsdWVzPShjPVluKGUsdCxpLHMub3JpZ2luYWxFeGNlcHRpb24scixvLmV4Y2VwdGlvbi52YWx1ZXMsYSwwKSxsPW4sYy5tYXAoKGU9PihlLnZhbHVlJiYoZS52YWx1ZT1xZShlLnZhbHVlLGwpKSxlKSkpKSl9ZnVuY3Rpb24gWW4oZSx0LG4scixpLG8scyxhKXtpZihvLmxlbmd0aD49bisxKXJldHVybiBvO2xldCBjPVsuLi5vXTtpZihCZShyW2ldLEVycm9yKSl7WG4ocyxhKTtjb25zdCBvPWUodCxyW2ldKSxsPWMubGVuZ3RoO1puKG8saSxsLGEpLGM9WW4oZSx0LG4scltpXSxpLFtvLC4uLmNdLG8sbCl9cmV0dXJuIEFycmF5LmlzQXJyYXkoci5lcnJvcnMpJiZyLmVycm9ycy5mb3JFYWNoKCgocixvKT0+e2lmKEJlKHIsRXJyb3IpKXtYbihzLGEpO2NvbnN0IGw9ZSh0LHIpLHU9Yy5sZW5ndGg7Wm4obCxgZXJyb3JzWyR7b31dYCx1LGEpLGM9WW4oZSx0LG4scixpLFtsLC4uLmNdLGwsdSl9fSkpLGN9ZnVuY3Rpb24gWG4oZSx0KXtlLm1lY2hhbmlzbT1lLm1lY2hhbmlzbXx8e3R5cGU6XCJnZW5lcmljXCIsaGFuZGxlZDohMH0sZS5tZWNoYW5pc209ey4uLmUubWVjaGFuaXNtLC4uLlwiQWdncmVnYXRlRXJyb3JcIj09PWUudHlwZSYme2lzX2V4Y2VwdGlvbl9ncm91cDohMH0sZXhjZXB0aW9uX2lkOnR9fWZ1bmN0aW9uIFpuKGUsdCxuLHIpe2UubWVjaGFuaXNtPWUubWVjaGFuaXNtfHx7dHlwZTpcImdlbmVyaWNcIixoYW5kbGVkOiEwfSxlLm1lY2hhbmlzbT17Li4uZS5tZWNoYW5pc20sdHlwZTpcImNoYWluZWRcIixzb3VyY2U6dCxleGNlcHRpb25faWQ6bixwYXJlbnRfaWQ6cn19ZnVuY3Rpb24gZXIoZSl7aWYoIWUpcmV0dXJue307Y29uc3QgdD1lLm1hdGNoKC9eKChbXjovPyNdKyk6KT8oXFwvXFwvKFteLz8jXSopKT8oW14/I10qKShcXD8oW14jXSopKT8oIyguKikpPyQvKTtpZighdClyZXR1cm57fTtjb25zdCBuPXRbNl18fFwiXCIscj10WzhdfHxcIlwiO3JldHVybntob3N0OnRbNF0scGF0aDp0WzVdLHByb3RvY29sOnRbMl0sc2VhcmNoOm4saGFzaDpyLHJlbGF0aXZlOnRbNV0rbityfX1mdW5jdGlvbiB0cigpe1wiY29uc29sZVwiaW4gcmUmJnNlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UgaW4gcmUuY29uc29sZSYmR2UocmUuY29uc29sZSxlLChmdW5jdGlvbih0KXtyZXR1cm4gYWVbZV09dCxmdW5jdGlvbiguLi50KXt3ZShcImNvbnNvbGVcIix7YXJnczp0LGxldmVsOmV9KTtjb25zdCBuPWFlW2VdO24mJm4uYXBwbHkocmUuY29uc29sZSx0KX19KSl9KSl9ZnVuY3Rpb24gbnIoZSl7cmV0dXJuXCJ3YXJuXCI9PT1lP1wid2FybmluZ1wiOltcImZhdGFsXCIsXCJlcnJvclwiLFwid2FybmluZ1wiLFwibG9nXCIsXCJpbmZvXCIsXCJkZWJ1Z1wiXS5pbmNsdWRlcyhlKT9lOlwibG9nXCJ9Y29uc3QgcnI9KCk9PntsZXQgZTtyZXR1cm57bmFtZTpcIkRlZHVwZVwiLHByb2Nlc3NFdmVudCh0KXtpZih0LnR5cGUpcmV0dXJuIHQ7dHJ5e2lmKGZ1bmN0aW9uKGUsdCl7aWYoIXQpcmV0dXJuITE7aWYoZnVuY3Rpb24oZSx0KXtjb25zdCBuPWUubWVzc2FnZSxyPXQubWVzc2FnZTtpZighbiYmIXIpcmV0dXJuITE7aWYobiYmIXJ8fCFuJiZyKXJldHVybiExO2lmKG4hPT1yKXJldHVybiExO2lmKCFvcihlLHQpKXJldHVybiExO2lmKCFpcihlLHQpKXJldHVybiExO3JldHVybiEwfShlLHQpKXJldHVybiEwO2lmKGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1zcih0KSxyPXNyKGUpO2lmKCFufHwhcilyZXR1cm4hMTtpZihuLnR5cGUhPT1yLnR5cGV8fG4udmFsdWUhPT1yLnZhbHVlKXJldHVybiExO2lmKCFvcihlLHQpKXJldHVybiExO2lmKCFpcihlLHQpKXJldHVybiExO3JldHVybiEwfShlLHQpKXJldHVybiEwO3JldHVybiExfSh0LGUpKXJldHVybiB0ZSYmbGUud2FybihcIkV2ZW50IGRyb3BwZWQgZHVlIHRvIGJlaW5nIGEgZHVwbGljYXRlIG9mIHByZXZpb3VzbHkgY2FwdHVyZWQgZXZlbnQuXCIpLG51bGx9Y2F0Y2goZSl7fXJldHVybiBlPXR9fX07ZnVuY3Rpb24gaXIoZSx0KXtsZXQgbj1nZShlKSxyPWdlKHQpO2lmKCFuJiYhcilyZXR1cm4hMDtpZihuJiYhcnx8IW4mJnIpcmV0dXJuITE7aWYoci5sZW5ndGghPT1uLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IGU9MDtlPHIubGVuZ3RoO2UrKyl7Y29uc3QgdD1yW2VdLGk9bltlXTtpZih0LmZpbGVuYW1lIT09aS5maWxlbmFtZXx8dC5saW5lbm8hPT1pLmxpbmVub3x8dC5jb2xubyE9PWkuY29sbm98fHQuZnVuY3Rpb24hPT1pLmZ1bmN0aW9uKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIG9yKGUsdCl7bGV0IG49ZS5maW5nZXJwcmludCxyPXQuZmluZ2VycHJpbnQ7aWYoIW4mJiFyKXJldHVybiEwO2lmKG4mJiFyfHwhbiYmcilyZXR1cm4hMTt0cnl7cmV0dXJuIShuLmpvaW4oXCJcIikhPT1yLmpvaW4oXCJcIikpfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBzcihlKXtyZXR1cm4gZS5leGNlcHRpb24mJmUuZXhjZXB0aW9uLnZhbHVlcyYmZS5leGNlcHRpb24udmFsdWVzWzBdfWZ1bmN0aW9uIGFyKGUpe3JldHVybiB2b2lkIDA9PT1lP3ZvaWQgMDplPj00MDAmJmU8NTAwP1wid2FybmluZ1wiOmU+PTUwMD9cImVycm9yXCI6dm9pZCAwfWNvbnN0IGNyPXJlO2Z1bmN0aW9uIGxyKGUpe3JldHVybiBlJiYvXmZ1bmN0aW9uXFxzK1xcdytcXChcXClcXHMrXFx7XFxzK1xcW25hdGl2ZSBjb2RlXFxdXFxzK1xcfSQvLnRlc3QoZS50b1N0cmluZygpKX1mdW5jdGlvbiB1cigpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBFZGdlUnVudGltZSlyZXR1cm4hMDtpZighZnVuY3Rpb24oKXtpZighKFwiZmV0Y2hcImluIGNyKSlyZXR1cm4hMTt0cnl7cmV0dXJuIG5ldyBIZWFkZXJzLG5ldyBSZXF1ZXN0KFwiaHR0cDovL3d3dy5leGFtcGxlLmNvbVwiKSxuZXcgUmVzcG9uc2UsITB9Y2F0Y2goZSl7cmV0dXJuITF9fSgpKXJldHVybiExO2lmKGxyKGNyLmZldGNoKSlyZXR1cm4hMDtsZXQgZT0hMTtjb25zdCB0PWNyLmRvY3VtZW50O2lmKHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY3JlYXRlRWxlbWVudCl0cnl7Y29uc3Qgbj10LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7bi5oaWRkZW49ITAsdC5oZWFkLmFwcGVuZENoaWxkKG4pLG4uY29udGVudFdpbmRvdyYmbi5jb250ZW50V2luZG93LmZldGNoJiYoZT1scihuLmNvbnRlbnRXaW5kb3cuZmV0Y2gpKSx0LmhlYWQucmVtb3ZlQ2hpbGQobil9Y2F0Y2goZSl7b2UmJmxlLndhcm4oXCJDb3VsZCBub3QgY3JlYXRlIHNhbmRib3ggaWZyYW1lIGZvciBwdXJlIGZldGNoIGNoZWNrLCBiYWlsaW5nIHRvIHdpbmRvdy5mZXRjaDogXCIsZSl9cmV0dXJuIGV9ZnVuY3Rpb24gZHIoZSx0KXtjb25zdCBuPVwiZmV0Y2hcIjtiZShuLGUpLF9lKG4sKCgpPT5mdW5jdGlvbihlLHQ9ITEpe2lmKHQmJiF1cigpKXJldHVybjtHZShyZSxcImZldGNoXCIsKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbiguLi5uKXtjb25zdCByPW5ldyBFcnJvcix7bWV0aG9kOmksdXJsOm99PWZ1bmN0aW9uKGUpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm57bWV0aG9kOlwiR0VUXCIsdXJsOlwiXCJ9O2lmKDI9PT1lLmxlbmd0aCl7Y29uc3RbdCxuXT1lO3JldHVybnt1cmw6aHIodCksbWV0aG9kOnByKG4sXCJtZXRob2RcIik/U3RyaW5nKG4ubWV0aG9kKS50b1VwcGVyQ2FzZSgpOlwiR0VUXCJ9fWNvbnN0IHQ9ZVswXTtyZXR1cm57dXJsOmhyKHQpLG1ldGhvZDpwcih0LFwibWV0aG9kXCIpP1N0cmluZyh0Lm1ldGhvZCkudG9VcHBlckNhc2UoKTpcIkdFVFwifX0obikscz17YXJnczpuLGZldGNoRGF0YTp7bWV0aG9kOmksdXJsOm99LHN0YXJ0VGltZXN0YW1wOjFlMyppdCgpLHZpcnR1YWxFcnJvcjpyfTtyZXR1cm4gZXx8d2UoXCJmZXRjaFwiLHsuLi5zfSksdC5hcHBseShyZSxuKS50aGVuKChhc3luYyB0PT4oZT9lKHQpOndlKFwiZmV0Y2hcIix7Li4ucyxlbmRUaW1lc3RhbXA6MWUzKml0KCkscmVzcG9uc2U6dH0pLHQpKSwoZT0+e3Rocm93IHdlKFwiZmV0Y2hcIix7Li4ucyxlbmRUaW1lc3RhbXA6MWUzKml0KCksZXJyb3I6ZX0pLFBlKGUpJiZ2b2lkIDA9PT1lLnN0YWNrJiYoZS5zdGFjaz1yLnN0YWNrLFFlKGUsXCJmcmFtZXNUb1BvcFwiLDEpKSxlfSkpfX0pKX0odm9pZCAwLHQpKSl9ZnVuY3Rpb24gcHIoZSx0KXtyZXR1cm4hIWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiYhIWVbdF19ZnVuY3Rpb24gaHIoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplP3ByKGUsXCJ1cmxcIik/ZS51cmw6ZS50b1N0cmluZz9lLnRvU3RyaW5nKCk6XCJcIjpcIlwifWNvbnN0IGZyPXJlO2NvbnN0IHZyPXJlO2xldCBncj0wO2Z1bmN0aW9uIG1yKCl7cmV0dXJuIGdyPjB9ZnVuY3Rpb24geXIoZSx0PXt9KXtpZighZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZX0oZSkpcmV0dXJuIGU7dHJ5e2NvbnN0IHQ9ZS5fX3NlbnRyeV93cmFwcGVkX187aWYodClyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6ZTtpZihZZShlKSlyZXR1cm4gZX1jYXRjaCh0KXtyZXR1cm4gZX1jb25zdCBuPWZ1bmN0aW9uKC4uLm4pe3RyeXtjb25zdCByPW4ubWFwKChlPT55cihlLHQpKSk7cmV0dXJuIGUuYXBwbHkodGhpcyxyKX1jYXRjaChlKXt0aHJvdyBncisrLHNldFRpbWVvdXQoKCgpPT57Z3ItLX0pKSxmdW5jdGlvbiguLi5lKXtjb25zdCB0PUF0KEVlKCkpO2lmKDI9PT1lLmxlbmd0aCl7Y29uc3RbbixyXT1lO3JldHVybiBuP3Qud2l0aFNldFNjb3BlKG4scik6dC53aXRoU2NvcGUocil9dC53aXRoU2NvcGUoZVswXSl9KChyPT57dmFyIGksbztyLmFkZEV2ZW50UHJvY2Vzc29yKChlPT4odC5tZWNoYW5pc20mJihjdChlLHZvaWQgMCx2b2lkIDApLGx0KGUsdC5tZWNoYW5pc20pKSxlLmV4dHJhPXsuLi5lLmV4dHJhLGFyZ3VtZW50czpufSxlKSkpLGk9ZSxqdCgpLmNhcHR1cmVFeGNlcHRpb24oaSxTbihvKSl9KSksZX19O3RyeXtmb3IoY29uc3QgdCBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpJiYoblt0XT1lW3RdKX1jYXRjaChlKXt9S2UobixlKSxRZShlLFwiX19zZW50cnlfd3JhcHBlZF9fXCIsbik7dHJ5e09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixcIm5hbWVcIikuY29uZmlndXJhYmxlJiZPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIm5hbWVcIix7Z2V0OigpPT5lLm5hbWV9KX1jYXRjaChlKXt9cmV0dXJuIG59Y29uc3QgYnI9XCJ1bmRlZmluZWRcIj09dHlwZW9mIF9fU0VOVFJZX0RFQlVHX198fF9fU0VOVFJZX0RFQlVHX187ZnVuY3Rpb24gX3IoZSx0KXtjb25zdCBuPWtyKGUsdCkscj17dHlwZTpFcih0KSx2YWx1ZTpUcih0KX07cmV0dXJuIG4ubGVuZ3RoJiYoci5zdGFja3RyYWNlPXtmcmFtZXM6bn0pLHZvaWQgMD09PXIudHlwZSYmXCJcIj09PXIudmFsdWUmJihyLnZhbHVlPVwiVW5yZWNvdmVyYWJsZSBlcnJvciBjYXVnaHRcIikscn1mdW5jdGlvbiB3cihlLHQsbixyKXtjb25zdCBpPXh0KCksbz1pJiZpLmdldE9wdGlvbnMoKS5ub3JtYWxpemVEZXB0aCxzPWZ1bmN0aW9uKGUpe2Zvcihjb25zdCB0IGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkpe2NvbnN0IG49ZVt0XTtpZihuIGluc3RhbmNlb2YgRXJyb3IpcmV0dXJuIG59cmV0dXJufSh0KSxhPXtfX3NlcmlhbGl6ZWRfXzp0bih0LG8pfTtpZihzKXJldHVybntleGNlcHRpb246e3ZhbHVlczpbX3IoZSxzKV19LGV4dHJhOmF9O2NvbnN0IGM9e2V4Y2VwdGlvbjp7dmFsdWVzOlt7dHlwZTpSZSh0KT90LmNvbnN0cnVjdG9yLm5hbWU6cj9cIlVuaGFuZGxlZFJlamVjdGlvblwiOlwiRXJyb3JcIix2YWx1ZTpBcih0LHtpc1VuaGFuZGxlZFJlamVjdGlvbjpyfSl9XX0sZXh0cmE6YX07aWYobil7Y29uc3QgdD1rcihlLG4pO3QubGVuZ3RoJiYoYy5leGNlcHRpb24udmFsdWVzWzBdLnN0YWNrdHJhY2U9e2ZyYW1lczp0fSl9cmV0dXJuIGN9ZnVuY3Rpb24gU3IoZSx0KXtyZXR1cm57ZXhjZXB0aW9uOnt2YWx1ZXM6W19yKGUsdCldfX19ZnVuY3Rpb24ga3IoZSx0KXtjb25zdCBuPXQuc3RhY2t0cmFjZXx8dC5zdGFja3x8XCJcIixyPWZ1bmN0aW9uKGUpe2lmKGUmJk1yLnRlc3QoZS5tZXNzYWdlKSlyZXR1cm4gMTtyZXR1cm4gMH0odCksaT1mdW5jdGlvbihlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZS5mcmFtZXNUb1BvcClyZXR1cm4gZS5mcmFtZXNUb1BvcDtyZXR1cm4gMH0odCk7dHJ5e3JldHVybiBlKG4scixpKX1jYXRjaChlKXt9cmV0dXJuW119Y29uc3QgTXI9L01pbmlmaWVkIFJlYWN0IGVycm9yICNcXGQrOy9pO2Z1bmN0aW9uIENyKGUpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBXZWJBc3NlbWJseSYmdm9pZCAwIT09V2ViQXNzZW1ibHkuRXhjZXB0aW9uJiZlIGluc3RhbmNlb2YgV2ViQXNzZW1ibHkuRXhjZXB0aW9ufWZ1bmN0aW9uIEVyKGUpe2NvbnN0IHQ9ZSYmZS5uYW1lO2lmKCF0JiZDcihlKSl7cmV0dXJuIGUubWVzc2FnZSYmQXJyYXkuaXNBcnJheShlLm1lc3NhZ2UpJiYyPT1lLm1lc3NhZ2UubGVuZ3RoP2UubWVzc2FnZVswXTpcIldlYkFzc2VtYmx5LkV4Y2VwdGlvblwifXJldHVybiB0fWZ1bmN0aW9uIFRyKGUpe2NvbnN0IHQ9ZSYmZS5tZXNzYWdlO3JldHVybiB0P3QuZXJyb3ImJlwic3RyaW5nXCI9PXR5cGVvZiB0LmVycm9yLm1lc3NhZ2U/dC5lcnJvci5tZXNzYWdlOkNyKGUpJiZBcnJheS5pc0FycmF5KGUubWVzc2FnZSkmJjI9PWUubWVzc2FnZS5sZW5ndGg/ZS5tZXNzYWdlWzFdOnQ6XCJObyBlcnJvciBtZXNzYWdlXCJ9ZnVuY3Rpb24gT3IoZSx0LG4scixpKXtsZXQgbztpZihqZSh0KSYmdC5lcnJvcil7cmV0dXJuIFNyKGUsdC5lcnJvcil9aWYoSWUodCl8fEFlKHQsXCJET01FeGNlcHRpb25cIikpe2NvbnN0IGk9dDtpZihcInN0YWNrXCJpbiB0KW89U3IoZSx0KTtlbHNle2NvbnN0IHQ9aS5uYW1lfHwoSWUoaSk/XCJET01FcnJvclwiOlwiRE9NRXhjZXB0aW9uXCIpLHM9aS5tZXNzYWdlP2Ake3R9OiAke2kubWVzc2FnZX1gOnQ7bz1QcihlLHMsbixyKSxjdChvLHMpfXJldHVyblwiY29kZVwiaW4gaSYmKG8udGFncz17Li4uby50YWdzLFwiRE9NRXhjZXB0aW9uLmNvZGVcIjpgJHtpLmNvZGV9YH0pLG99aWYoUGUodCkpcmV0dXJuIFNyKGUsdCk7aWYoTmUodCl8fFJlKHQpKXtyZXR1cm4gbz13cihlLHQsbixpKSxsdChvLHtzeW50aGV0aWM6ITB9KSxvfXJldHVybiBvPVByKGUsdCxuLHIpLGN0KG8sYCR7dH1gLHZvaWQgMCksbHQobyx7c3ludGhldGljOiEwfSksb31mdW5jdGlvbiBQcihlLHQsbixyKXtjb25zdCBpPXt9O2lmKHImJm4pe2NvbnN0IHI9a3IoZSxuKTtyLmxlbmd0aCYmKGkuZXhjZXB0aW9uPXt2YWx1ZXM6W3t2YWx1ZTp0LHN0YWNrdHJhY2U6e2ZyYW1lczpyfX1dfSksbHQoaSx7c3ludGhldGljOiEwfSl9aWYoTGUodCkpe2NvbnN0e19fc2VudHJ5X3RlbXBsYXRlX3N0cmluZ19fOmUsX19zZW50cnlfdGVtcGxhdGVfdmFsdWVzX186bn09dDtyZXR1cm4gaS5sb2dlbnRyeT17bWVzc2FnZTplLHBhcmFtczpufSxpfXJldHVybiBpLm1lc3NhZ2U9dCxpfWZ1bmN0aW9uIEFyKGUse2lzVW5oYW5kbGVkUmVqZWN0aW9uOnR9KXtjb25zdCBuPWZ1bmN0aW9uKGUsdD00MCl7Y29uc3Qgbj1PYmplY3Qua2V5cyhYZShlKSk7bi5zb3J0KCk7Y29uc3Qgcj1uWzBdO2lmKCFyKXJldHVyblwiW29iamVjdCBoYXMgbm8ga2V5c11cIjtpZihyLmxlbmd0aD49dClyZXR1cm4gcWUocix0KTtmb3IobGV0IGU9bi5sZW5ndGg7ZT4wO2UtLSl7Y29uc3Qgcj1uLnNsaWNlKDAsZSkuam9pbihcIiwgXCIpO2lmKCEoci5sZW5ndGg+dCkpcmV0dXJuIGU9PT1uLmxlbmd0aD9yOnFlKHIsdCl9cmV0dXJuXCJcIn0oZSkscj10P1wicHJvbWlzZSByZWplY3Rpb25cIjpcImV4Y2VwdGlvblwiO2lmKGplKGUpKXJldHVybmBFdmVudCBcXGBFcnJvckV2ZW50XFxgIGNhcHR1cmVkIGFzICR7cn0gd2l0aCBtZXNzYWdlIFxcYCR7ZS5tZXNzYWdlfVxcYGA7aWYoUmUoZSkpe3JldHVybmBFdmVudCBcXGAke2Z1bmN0aW9uKGUpe3RyeXtjb25zdCB0PU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtyZXR1cm4gdD90LmNvbnN0cnVjdG9yLm5hbWU6dm9pZCAwfWNhdGNoKGUpe319KGUpfVxcYCAodHlwZT0ke2UudHlwZX0pIGNhcHR1cmVkIGFzICR7cn1gfXJldHVybmBPYmplY3QgY2FwdHVyZWQgYXMgJHtyfSB3aXRoIGtleXM6ICR7bn1gfWNsYXNzIGpyIGV4dGVuZHMgRG57Y29uc3RydWN0b3IoZSl7Y29uc3QgdD17cGFyZW50U3BhbklzQWx3YXlzUm9vdFNwYW46ITAsLi4uZX07IWZ1bmN0aW9uKGUsdCxuPVt0XSxyPVwibnBtXCIpe2NvbnN0IGk9ZS5fbWV0YWRhdGF8fHt9O2kuc2RrfHwoaS5zZGs9e25hbWU6YHNlbnRyeS5qYXZhc2NyaXB0LiR7dH1gLHBhY2thZ2VzOm4ubWFwKChlPT4oe25hbWU6YCR7cn06QHNlbnRyeS8ke2V9YCx2ZXJzaW9uOm5lfSkpKSx2ZXJzaW9uOm5lfSksZS5fbWV0YWRhdGE9aX0odCxcImJyb3dzZXJcIixbXCJicm93c2VyXCJdLHZyLlNFTlRSWV9TREtfU09VUkNFfHxcIm5wbVwiKSxzdXBlcih0KSx0LnNlbmRDbGllbnRSZXBvcnRzJiZ2ci5kb2N1bWVudCYmdnIuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwoKCk9PntcImhpZGRlblwiPT09dnIuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlJiZ0aGlzLl9mbHVzaE91dGNvbWVzKCl9KSl9ZXZlbnRGcm9tRXhjZXB0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIpe2NvbnN0IGk9T3IoZSx0LG4mJm4uc3ludGhldGljRXhjZXB0aW9ufHx2b2lkIDAscik7cmV0dXJuIGx0KGkpLGkubGV2ZWw9XCJlcnJvclwiLG4mJm4uZXZlbnRfaWQmJihpLmV2ZW50X2lkPW4uZXZlbnRfaWQpLHB0KGkpfSh0aGlzLl9vcHRpb25zLnN0YWNrUGFyc2VyLGUsdCx0aGlzLl9vcHRpb25zLmF0dGFjaFN0YWNrdHJhY2UpfWV2ZW50RnJvbU1lc3NhZ2UoZSx0PVwiaW5mb1wiLG4pe3JldHVybiBmdW5jdGlvbihlLHQsbj1cImluZm9cIixyLGkpe2NvbnN0IG89UHIoZSx0LHImJnIuc3ludGhldGljRXhjZXB0aW9ufHx2b2lkIDAsaSk7cmV0dXJuIG8ubGV2ZWw9bixyJiZyLmV2ZW50X2lkJiYoby5ldmVudF9pZD1yLmV2ZW50X2lkKSxwdChvKX0odGhpcy5fb3B0aW9ucy5zdGFja1BhcnNlcixlLHQsbix0aGlzLl9vcHRpb25zLmF0dGFjaFN0YWNrdHJhY2UpfWNhcHR1cmVVc2VyRmVlZGJhY2soZSl7aWYoIXRoaXMuX2lzRW5hYmxlZCgpKXJldHVybiB2b2lkKGJyJiZsZS53YXJuKFwiU0RLIG5vdCBlbmFibGVkLCB3aWxsIG5vdCBjYXB0dXJlIHVzZXIgZmVlZGJhY2suXCIpKTtjb25zdCB0PWZ1bmN0aW9uKGUse21ldGFkYXRhOnQsdHVubmVsOm4sZHNuOnJ9KXtjb25zdCBpPXtldmVudF9pZDplLmV2ZW50X2lkLHNlbnRfYXQ6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpLC4uLnQmJnQuc2RrJiZ7c2RrOntuYW1lOnQuc2RrLm5hbWUsdmVyc2lvbjp0LnNkay52ZXJzaW9ufX0sLi4uISFuJiYhIXImJntkc246WXQocil9fSxvPWZ1bmN0aW9uKGUpe3JldHVyblt7dHlwZTpcInVzZXJfcmVwb3J0XCJ9LGVdfShlKTtyZXR1cm4gcm4oaSxbb10pfShlLHttZXRhZGF0YTp0aGlzLmdldFNka01ldGFkYXRhKCksZHNuOnRoaXMuZ2V0RHNuKCksdHVubmVsOnRoaXMuZ2V0T3B0aW9ucygpLnR1bm5lbH0pO3RoaXMuc2VuZEVudmVsb3BlKHQpfV9wcmVwYXJlRXZlbnQoZSx0LG4pe3JldHVybiBlLnBsYXRmb3JtPWUucGxhdGZvcm18fFwiamF2YXNjcmlwdFwiLHN1cGVyLl9wcmVwYXJlRXZlbnQoZSx0LG4pfX1jb25zdCBJcj1cInVuZGVmaW5lZFwiPT10eXBlb2YgX19TRU5UUllfREVCVUdfX3x8X19TRU5UUllfREVCVUdfXyx4cj1yZTtsZXQgTHIsRHIsTnIsUnI7ZnVuY3Rpb24gRnIoKXtpZigheHIuZG9jdW1lbnQpcmV0dXJuO2NvbnN0IGU9d2UuYmluZChudWxsLFwiZG9tXCIpLHQ9QnIoZSwhMCk7eHIuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdCwhMSkseHIuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsdCwhMSksW1wiRXZlbnRUYXJnZXRcIixcIk5vZGVcIl0uZm9yRWFjaCgodD0+e2NvbnN0IG49eHJbdF0scj1uJiZuLnByb3RvdHlwZTtyJiZyLmhhc093blByb3BlcnR5JiZyLmhhc093blByb3BlcnR5KFwiYWRkRXZlbnRMaXN0ZW5lclwiKSYmKEdlKHIsXCJhZGRFdmVudExpc3RlbmVyXCIsKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihuLHIsaSl7aWYoXCJjbGlja1wiPT09bnx8XCJrZXlwcmVzc1wiPT1uKXRyeXtjb25zdCByPXRoaXMuX19zZW50cnlfaW5zdHJ1bWVudGF0aW9uX2hhbmRsZXJzX189dGhpcy5fX3NlbnRyeV9pbnN0cnVtZW50YXRpb25faGFuZGxlcnNfX3x8e30sbz1yW25dPXJbbl18fHtyZWZDb3VudDowfTtpZighby5oYW5kbGVyKXtjb25zdCByPUJyKGUpO28uaGFuZGxlcj1yLHQuY2FsbCh0aGlzLG4scixpKX1vLnJlZkNvdW50Kyt9Y2F0Y2goZSl7fXJldHVybiB0LmNhbGwodGhpcyxuLHIsaSl9fSkpLEdlKHIsXCJyZW1vdmVFdmVudExpc3RlbmVyXCIsKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4scil7aWYoXCJjbGlja1wiPT09dHx8XCJrZXlwcmVzc1wiPT10KXRyeXtjb25zdCBuPXRoaXMuX19zZW50cnlfaW5zdHJ1bWVudGF0aW9uX2hhbmRsZXJzX198fHt9LGk9blt0XTtpJiYoaS5yZWZDb3VudC0tLGkucmVmQ291bnQ8PTAmJihlLmNhbGwodGhpcyx0LGkuaGFuZGxlcixyKSxpLmhhbmRsZXI9dm9pZCAwLGRlbGV0ZSBuW3RdKSwwPT09T2JqZWN0LmtleXMobikubGVuZ3RoJiZkZWxldGUgdGhpcy5fX3NlbnRyeV9pbnN0cnVtZW50YXRpb25faGFuZGxlcnNfXyl9Y2F0Y2goZSl7fXJldHVybiBlLmNhbGwodGhpcyx0LG4scil9fSkpKX0pKX1mdW5jdGlvbiBCcihlLHQ9ITEpe3JldHVybiBuPT57aWYoIW58fG4uX3NlbnRyeUNhcHR1cmVkKXJldHVybjtjb25zdCByPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZS50YXJnZXR9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fShuKTtpZihmdW5jdGlvbihlLHQpe3JldHVyblwia2V5cHJlc3NcIj09PWUmJighdHx8IXQudGFnTmFtZXx8XCJJTlBVVFwiIT09dC50YWdOYW1lJiZcIlRFWFRBUkVBXCIhPT10LnRhZ05hbWUmJiF0LmlzQ29udGVudEVkaXRhYmxlKX0obi50eXBlLHIpKXJldHVybjtRZShuLFwiX3NlbnRyeUNhcHR1cmVkXCIsITApLHImJiFyLl9zZW50cnlJZCYmUWUocixcIl9zZW50cnlJZFwiLG90KCkpO2NvbnN0IGk9XCJrZXlwcmVzc1wiPT09bi50eXBlP1wiaW5wdXRcIjpuLnR5cGU7aWYoIWZ1bmN0aW9uKGUpe2lmKGUudHlwZSE9PURyKXJldHVybiExO3RyeXtpZighZS50YXJnZXR8fGUudGFyZ2V0Ll9zZW50cnlJZCE9PU5yKXJldHVybiExfWNhdGNoKGUpe31yZXR1cm4hMH0obikpe2Uoe2V2ZW50Om4sbmFtZTppLGdsb2JhbDp0fSksRHI9bi50eXBlLE5yPXI/ci5fc2VudHJ5SWQ6dm9pZCAwfWNsZWFyVGltZW91dChMciksTHI9eHIuc2V0VGltZW91dCgoKCk9PntOcj12b2lkIDAsRHI9dm9pZCAwfSksMWUzKX19ZnVuY3Rpb24gVXIoZSl7Y29uc3QgdD1cImhpc3RvcnlcIjtiZSh0LGUpLF9lKHQsVnIpfWZ1bmN0aW9uIFZyKCl7aWYoIWZ1bmN0aW9uKCl7Y29uc3QgZT1mci5jaHJvbWUsdD1lJiZlLmFwcCYmZS5hcHAucnVudGltZSxuPVwiaGlzdG9yeVwiaW4gZnImJiEhZnIuaGlzdG9yeS5wdXNoU3RhdGUmJiEhZnIuaGlzdG9yeS5yZXBsYWNlU3RhdGU7cmV0dXJuIXQmJm59KCkpcmV0dXJuO2NvbnN0IGU9eHIub25wb3BzdGF0ZTtmdW5jdGlvbiB0KGUpe3JldHVybiBmdW5jdGlvbiguLi50KXtjb25zdCBuPXQubGVuZ3RoPjI/dFsyXTp2b2lkIDA7aWYobil7Y29uc3QgZT1Scix0PVN0cmluZyhuKTtScj10O3dlKFwiaGlzdG9yeVwiLHtmcm9tOmUsdG86dH0pfXJldHVybiBlLmFwcGx5KHRoaXMsdCl9fXhyLm9ucG9wc3RhdGU9ZnVuY3Rpb24oLi4udCl7Y29uc3Qgbj14ci5sb2NhdGlvbi5ocmVmLHI9UnI7UnI9bjtpZih3ZShcImhpc3RvcnlcIix7ZnJvbTpyLHRvOm59KSxlKXRyeXtyZXR1cm4gZS5hcHBseSh0aGlzLHQpfWNhdGNoKGUpe319LEdlKHhyLmhpc3RvcnksXCJwdXNoU3RhdGVcIix0KSxHZSh4ci5oaXN0b3J5LFwicmVwbGFjZVN0YXRlXCIsdCl9Y29uc3QgSnI9e307ZnVuY3Rpb24gJHIoZSl7SnJbZV09dm9pZCAwfWNvbnN0IHFyPVwiX19zZW50cnlfeGhyX3YzX19cIjtmdW5jdGlvbiB6cigpe2lmKCF4ci5YTUxIdHRwUmVxdWVzdClyZXR1cm47Y29uc3QgZT1YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGU7ZS5vcGVuPW5ldyBQcm94eShlLm9wZW4se2FwcGx5KGUsdCxuKXtjb25zdCByPW5ldyBFcnJvcixpPTFlMyppdCgpLG89eGUoblswXSk/blswXS50b1VwcGVyQ2FzZSgpOnZvaWQgMCxzPWZ1bmN0aW9uKGUpe2lmKHhlKGUpKXJldHVybiBlO3RyeXtyZXR1cm4gZS50b1N0cmluZygpfWNhdGNoKGUpe31yZXR1cm59KG5bMV0pO2lmKCFvfHwhcylyZXR1cm4gZS5hcHBseSh0LG4pO3RbcXJdPXttZXRob2Q6byx1cmw6cyxyZXF1ZXN0X2hlYWRlcnM6e319LFwiUE9TVFwiPT09byYmcy5tYXRjaCgvc2VudHJ5X2tleS8pJiYodC5fX3NlbnRyeV9vd25fcmVxdWVzdF9fPSEwKTtjb25zdCBhPSgpPT57Y29uc3QgZT10W3FyXTtpZihlJiY0PT09dC5yZWFkeVN0YXRlKXt0cnl7ZS5zdGF0dXNfY29kZT10LnN0YXR1c31jYXRjaChlKXt9d2UoXCJ4aHJcIix7ZW5kVGltZXN0YW1wOjFlMyppdCgpLHN0YXJ0VGltZXN0YW1wOmkseGhyOnQsdmlydHVhbEVycm9yOnJ9KX19O3JldHVyblwib25yZWFkeXN0YXRlY2hhbmdlXCJpbiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm9ucmVhZHlzdGF0ZWNoYW5nZT90Lm9ucmVhZHlzdGF0ZWNoYW5nZT1uZXcgUHJveHkodC5vbnJlYWR5c3RhdGVjaGFuZ2Use2FwcGx5OihlLHQsbik9PihhKCksZS5hcHBseSh0LG4pKX0pOnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIixhKSx0LnNldFJlcXVlc3RIZWFkZXI9bmV3IFByb3h5KHQuc2V0UmVxdWVzdEhlYWRlcix7YXBwbHkoZSx0LG4pe2NvbnN0W3IsaV09bixvPXRbcXJdO3JldHVybiBvJiZ4ZShyKSYmeGUoaSkmJihvLnJlcXVlc3RfaGVhZGVyc1tyLnRvTG93ZXJDYXNlKCldPWkpLGUuYXBwbHkodCxuKX19KSxlLmFwcGx5KHQsbil9fSksZS5zZW5kPW5ldyBQcm94eShlLnNlbmQse2FwcGx5KGUsdCxuKXtjb25zdCByPXRbcXJdO2lmKCFyKXJldHVybiBlLmFwcGx5KHQsbik7dm9pZCAwIT09blswXSYmKHIuYm9keT1uWzBdKTtyZXR1cm4gd2UoXCJ4aHJcIix7c3RhcnRUaW1lc3RhbXA6MWUzKml0KCkseGhyOnR9KSxlLmFwcGx5KHQsbil9fSl9ZnVuY3Rpb24gV3IoZSx0PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9SnJbZV07aWYodClyZXR1cm4gdDtsZXQgbj14cltlXTtpZihscihuKSlyZXR1cm4gSnJbZV09bi5iaW5kKHhyKTtjb25zdCByPXhyLmRvY3VtZW50O2lmKHImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIuY3JlYXRlRWxlbWVudCl0cnl7Y29uc3QgdD1yLmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7dC5oaWRkZW49ITAsci5oZWFkLmFwcGVuZENoaWxkKHQpO2NvbnN0IGk9dC5jb250ZW50V2luZG93O2kmJmlbZV0mJihuPWlbZV0pLHIuaGVhZC5yZW1vdmVDaGlsZCh0KX1jYXRjaCh0KXtJciYmbGUud2FybihgQ291bGQgbm90IGNyZWF0ZSBzYW5kYm94IGlmcmFtZSBmb3IgJHtlfSBjaGVjaywgYmFpbGluZyB0byB3aW5kb3cuJHtlfTogYCx0KX1yZXR1cm4gbj9KcltlXT1uLmJpbmQoeHIpOm59KFwiZmV0Y2hcIikpe2xldCBuPTAscj0wO3JldHVybiBVbihlLChmdW5jdGlvbihpKXtjb25zdCBvPWkuYm9keS5sZW5ndGg7bis9byxyKys7Y29uc3Qgcz17Ym9keTppLmJvZHksbWV0aG9kOlwiUE9TVFwiLHJlZmVycmVyUG9saWN5Olwib3JpZ2luXCIsaGVhZGVyczplLmhlYWRlcnMsa2VlcGFsaXZlOm48PTZlNCYmcjwxNSwuLi5lLmZldGNoT3B0aW9uc307aWYoIXQpcmV0dXJuICRyKFwiZmV0Y2hcIiksaHQoXCJObyBmZXRjaCBpbXBsZW1lbnRhdGlvbiBhdmFpbGFibGVcIik7dHJ5e3JldHVybiB0KGUudXJsLHMpLnRoZW4oKGU9PihuLT1vLHItLSx7c3RhdHVzQ29kZTplLnN0YXR1cyxoZWFkZXJzOntcIngtc2VudHJ5LXJhdGUtbGltaXRzXCI6ZS5oZWFkZXJzLmdldChcIlgtU2VudHJ5LVJhdGUtTGltaXRzXCIpLFwicmV0cnktYWZ0ZXJcIjplLmhlYWRlcnMuZ2V0KFwiUmV0cnktQWZ0ZXJcIil9fSkpKX1jYXRjaChlKXtyZXR1cm4gJHIoXCJmZXRjaFwiKSxuLT1vLHItLSxodChlKX19KSl9ZnVuY3Rpb24gSHIoZSx0LG4scil7Y29uc3QgaT17ZmlsZW5hbWU6ZSxmdW5jdGlvbjpcIjxhbm9ueW1vdXM+XCI9PT10P3VlOnQsaW5fYXBwOiEwfTtyZXR1cm4gdm9pZCAwIT09biYmKGkubGluZW5vPW4pLHZvaWQgMCE9PXImJihpLmNvbG5vPXIpLGl9Y29uc3QgR3I9L15cXHMqYXQgKFxcUys/KSg/OjooXFxkKykpKD86OihcXGQrKSlcXHMqJC9pLFFyPS9eXFxzKmF0ICg/OiguKz9cXCkoPzogXFxbLitcXF0pP3wuKj8pID9cXCgoPzphZGRyZXNzIGF0ICk/KT8oPzphc3luYyApPygoPzo8YW5vbnltb3VzPnxbLWEtel0rOnwuKmJ1bmRsZXxcXC8pPy4qPykoPzo6KFxcZCspKT8oPzo6KFxcZCspKT9cXCk/XFxzKiQvaSxLcj0vXFwoKFxcUyopKD86OihcXGQrKSkoPzo6KFxcZCspKVxcKS8sWXI9L15cXHMqKC4qPykoPzpcXCgoLio/KVxcKSk/KD86XnxAKT8oKD86Wy1hLXpdKyk/OlxcLy4qP3xcXFtuYXRpdmUgY29kZVxcXXxbXkBdKig/OmJ1bmRsZXxcXGQrXFwuanMpfFxcL1tcXHdcXC0uIC89XSspKD86OihcXGQrKSk/KD86OihcXGQrKSk/XFxzKiQvaSxYcj0vKFxcUyspIGxpbmUgKFxcZCspKD86ID4gZXZhbCBsaW5lIFxcZCspKiA+IGV2YWwvaSxacj1mdW5jdGlvbiguLi5lKXtjb25zdCB0PWUuc29ydCgoKGUsdCk9PmVbMF0tdFswXSkpLm1hcCgoZT0+ZVsxXSkpO3JldHVybihlLG49MCxyPTApPT57Y29uc3QgaT1bXSxvPWUuc3BsaXQoXCJcXG5cIik7Zm9yKGxldCBlPW47ZTxvLmxlbmd0aDtlKyspe2NvbnN0IG49b1tlXTtpZihuLmxlbmd0aD4xMDI0KWNvbnRpbnVlO2NvbnN0IHM9ZGUudGVzdChuKT9uLnJlcGxhY2UoZGUsXCIkMVwiKTpuO2lmKCFzLm1hdGNoKC9cXFMqRXJyb3I6IC8pKXtmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PWUocyk7aWYodCl7aS5wdXNoKHQpO2JyZWFrfX1pZihpLmxlbmd0aD49NTArcilicmVha319cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKCFlLmxlbmd0aClyZXR1cm5bXTtjb25zdCB0PUFycmF5LmZyb20oZSk7L3NlbnRyeVdyYXBwZWQvLnRlc3QoaGUodCkuZnVuY3Rpb258fFwiXCIpJiZ0LnBvcCgpO3QucmV2ZXJzZSgpLHBlLnRlc3QoaGUodCkuZnVuY3Rpb258fFwiXCIpJiYodC5wb3AoKSxwZS50ZXN0KGhlKHQpLmZ1bmN0aW9ufHxcIlwiKSYmdC5wb3AoKSk7cmV0dXJuIHQuc2xpY2UoMCw1MCkubWFwKChlPT4oey4uLmUsZmlsZW5hbWU6ZS5maWxlbmFtZXx8aGUodCkuZmlsZW5hbWUsZnVuY3Rpb246ZS5mdW5jdGlvbnx8dWV9KSkpfShpLnNsaWNlKHIpKX19KC4uLltbMzAsZT0+e2NvbnN0IHQ9R3IuZXhlYyhlKTtpZih0KXtjb25zdFssZSxuLHJdPXQ7cmV0dXJuIEhyKGUsdWUsK24sK3IpfWNvbnN0IG49UXIuZXhlYyhlKTtpZihuKXtpZihuWzJdJiYwPT09blsyXS5pbmRleE9mKFwiZXZhbFwiKSl7Y29uc3QgZT1Lci5leGVjKG5bMl0pO2UmJihuWzJdPWVbMV0sblszXT1lWzJdLG5bNF09ZVszXSl9Y29uc3RbZSx0XT1laShuWzFdfHx1ZSxuWzJdKTtyZXR1cm4gSHIodCxlLG5bM10/K25bM106dm9pZCAwLG5bNF0/K25bNF06dm9pZCAwKX19XSxbNTAsZT0+e2NvbnN0IHQ9WXIuZXhlYyhlKTtpZih0KXtpZih0WzNdJiZ0WzNdLmluZGV4T2YoXCIgPiBldmFsXCIpPi0xKXtjb25zdCBlPVhyLmV4ZWModFszXSk7ZSYmKHRbMV09dFsxXXx8XCJldmFsXCIsdFszXT1lWzFdLHRbNF09ZVsyXSx0WzVdPVwiXCIpfWxldCBlPXRbM10sbj10WzFdfHx1ZTtyZXR1cm5bbixlXT1laShuLGUpLEhyKGUsbix0WzRdPyt0WzRdOnZvaWQgMCx0WzVdPyt0WzVdOnZvaWQgMCl9fV1dKSxlaT0oZSx0KT0+e2NvbnN0IG49LTEhPT1lLmluZGV4T2YoXCJzYWZhcmktZXh0ZW5zaW9uXCIpLHI9LTEhPT1lLmluZGV4T2YoXCJzYWZhcmktd2ViLWV4dGVuc2lvblwiKTtyZXR1cm4gbnx8cj9bLTEhPT1lLmluZGV4T2YoXCJAXCIpP2Uuc3BsaXQoXCJAXCIpWzBdOnVlLG4/YHNhZmFyaS1leHRlbnNpb246JHt0fWA6YHNhZmFyaS13ZWItZXh0ZW5zaW9uOiR7dH1gXTpbZSx0XX0sdGk9MTAyNCxuaT0oZT17fSk9Pntjb25zdCB0PXtjb25zb2xlOiEwLGRvbTohMCxmZXRjaDohMCxoaXN0b3J5OiEwLHNlbnRyeTohMCx4aHI6ITAsLi4uZX07cmV0dXJue25hbWU6XCJCcmVhZGNydW1ic1wiLHNldHVwKGUpe3ZhciBuO3QuY29uc29sZSYmZnVuY3Rpb24oZSl7Y29uc3QgdD1cImNvbnNvbGVcIjtiZSh0LGUpLF9lKHQsdHIpfShmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoeHQoKSE9PWUpcmV0dXJuO2NvbnN0IG49e2NhdGVnb3J5OlwiY29uc29sZVwiLGRhdGE6e2FyZ3VtZW50czp0LmFyZ3MsbG9nZ2VyOlwiY29uc29sZVwifSxsZXZlbDpucih0LmxldmVsKSxtZXNzYWdlOnplKHQuYXJncyxcIiBcIil9O2lmKFwiYXNzZXJ0XCI9PT10LmxldmVsKXtpZighMSE9PXQuYXJnc1swXSlyZXR1cm47bi5tZXNzYWdlPWBBc3NlcnRpb24gZmFpbGVkOiAke3plKHQuYXJncy5zbGljZSgxKSxcIiBcIil8fFwiY29uc29sZS5hc3NlcnRcIn1gLG4uZGF0YS5hcmd1bWVudHM9dC5hcmdzLnNsaWNlKDEpfSRuKG4se2lucHV0OnQuYXJncyxsZXZlbDp0LmxldmVsfSl9fShlKSksdC5kb20mJihuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKHh0KCkhPT1lKXJldHVybjtsZXQgcixpLG89XCJvYmplY3RcIj09dHlwZW9mIHQ/dC5zZXJpYWxpemVBdHRyaWJ1dGU6dm9pZCAwLHM9XCJvYmplY3RcIj09dHlwZW9mIHQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lm1heFN0cmluZ0xlbmd0aD90Lm1heFN0cmluZ0xlbmd0aDp2b2lkIDA7cyYmcz50aSYmKGJyJiZsZS53YXJuKGBcXGBkb20ubWF4U3RyaW5nTGVuZ3RoXFxgIGNhbm5vdCBleGNlZWQgMTAyNCwgYnV0IGEgdmFsdWUgb2YgJHtzfSB3YXMgY29uZmlndXJlZC4gU2VudHJ5IHdpbGwgdXNlIDEwMjQgaW5zdGVhZC5gKSxzPXRpKSxcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89W29dKTt0cnl7Y29uc3QgZT1uLmV2ZW50LHQ9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYhIWUudGFyZ2V0fShlKT9lLnRhcmdldDplO3I9SmUodCx7a2V5QXR0cnM6byxtYXhTdHJpbmdMZW5ndGg6c30pLGk9ZnVuY3Rpb24oZSl7aWYoIVZlLkhUTUxFbGVtZW50KXJldHVybiBudWxsO2xldCB0PWU7Zm9yKGxldCBlPTA7ZTw1O2UrKyl7aWYoIXQpcmV0dXJuIG51bGw7aWYodCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KXtpZih0LmRhdGFzZXQuc2VudHJ5Q29tcG9uZW50KXJldHVybiB0LmRhdGFzZXQuc2VudHJ5Q29tcG9uZW50O2lmKHQuZGF0YXNldC5zZW50cnlFbGVtZW50KXJldHVybiB0LmRhdGFzZXQuc2VudHJ5RWxlbWVudH10PXQucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0odCl9Y2F0Y2goZSl7cj1cIjx1bmtub3duPlwifWlmKDA9PT1yLmxlbmd0aClyZXR1cm47Y29uc3QgYT17Y2F0ZWdvcnk6YHVpLiR7bi5uYW1lfWAsbWVzc2FnZTpyfTtpJiYoYS5kYXRhPXtcInVpLmNvbXBvbmVudF9uYW1lXCI6aX0pLCRuKGEse2V2ZW50Om4uZXZlbnQsbmFtZTpuLm5hbWUsZ2xvYmFsOm4uZ2xvYmFsfSl9fShlLHQuZG9tKSxiZShcImRvbVwiLG4pLF9lKFwiZG9tXCIsRnIpKSx0LnhociYmZnVuY3Rpb24oZSl7YmUoXCJ4aHJcIixlKSxfZShcInhoclwiLHpyKX0oZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHh0KCkhPT1lKXJldHVybjtjb25zdHtzdGFydFRpbWVzdGFtcDpuLGVuZFRpbWVzdGFtcDpyfT10LGk9dC54aHJbcXJdO2lmKCFufHwhcnx8IWkpcmV0dXJuO2NvbnN0e21ldGhvZDpvLHVybDpzLHN0YXR1c19jb2RlOmEsYm9keTpjfT1pLGw9e21ldGhvZDpvLHVybDpzLHN0YXR1c19jb2RlOmF9LHU9e3hocjp0LnhocixpbnB1dDpjLHN0YXJ0VGltZXN0YW1wOm4sZW5kVGltZXN0YW1wOnJ9OyRuKHtjYXRlZ29yeTpcInhoclwiLGRhdGE6bCx0eXBlOlwiaHR0cFwiLGxldmVsOmFyKGEpfSx1KX19KGUpKSx0LmZldGNoJiZkcihmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoeHQoKSE9PWUpcmV0dXJuO2NvbnN0e3N0YXJ0VGltZXN0YW1wOm4sZW5kVGltZXN0YW1wOnJ9PXQ7aWYociYmKCF0LmZldGNoRGF0YS51cmwubWF0Y2goL3NlbnRyeV9rZXkvKXx8XCJQT1NUXCIhPT10LmZldGNoRGF0YS5tZXRob2QpKWlmKHQuZXJyb3IpeyRuKHtjYXRlZ29yeTpcImZldGNoXCIsZGF0YTp0LmZldGNoRGF0YSxsZXZlbDpcImVycm9yXCIsdHlwZTpcImh0dHBcIn0se2RhdGE6dC5lcnJvcixpbnB1dDp0LmFyZ3Msc3RhcnRUaW1lc3RhbXA6bixlbmRUaW1lc3RhbXA6cn0pfWVsc2V7Y29uc3QgZT10LnJlc3BvbnNlLGk9ey4uLnQuZmV0Y2hEYXRhLHN0YXR1c19jb2RlOmUmJmUuc3RhdHVzfSxvPXtpbnB1dDp0LmFyZ3MscmVzcG9uc2U6ZSxzdGFydFRpbWVzdGFtcDpuLGVuZFRpbWVzdGFtcDpyfTskbih7Y2F0ZWdvcnk6XCJmZXRjaFwiLGRhdGE6aSx0eXBlOlwiaHR0cFwiLGxldmVsOmFyKGkuc3RhdHVzX2NvZGUpfSxvKX19fShlKSksdC5oaXN0b3J5JiZVcihmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoeHQoKSE9PWUpcmV0dXJuO2xldCBuPXQuZnJvbSxyPXQudG87Y29uc3QgaT1lcih2ci5sb2NhdGlvbi5ocmVmKTtsZXQgbz1uP2VyKG4pOnZvaWQgMDtjb25zdCBzPWVyKHIpO28mJm8ucGF0aHx8KG89aSksaS5wcm90b2NvbD09PXMucHJvdG9jb2wmJmkuaG9zdD09PXMuaG9zdCYmKHI9cy5yZWxhdGl2ZSksaS5wcm90b2NvbD09PW8ucHJvdG9jb2wmJmkuaG9zdD09PW8uaG9zdCYmKG49by5yZWxhdGl2ZSksJG4oe2NhdGVnb3J5OlwibmF2aWdhdGlvblwiLGRhdGE6e2Zyb206bix0bzpyfX0pfX0oZSkpLHQuc2VudHJ5JiZlLm9uKFwiYmVmb3JlU2VuZEV2ZW50XCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3h0KCk9PT1lJiYkbih7Y2F0ZWdvcnk6XCJzZW50cnkuXCIrKFwidHJhbnNhY3Rpb25cIj09PXQudHlwZT9cInRyYW5zYWN0aW9uXCI6XCJldmVudFwiKSxldmVudF9pZDp0LmV2ZW50X2lkLGxldmVsOnQubGV2ZWwsbWVzc2FnZTphdCh0KX0se2V2ZW50OnR9KX19KGUpKX19fTtjb25zdCByaT1bXCJFdmVudFRhcmdldFwiLFwiV2luZG93XCIsXCJOb2RlXCIsXCJBcHBsaWNhdGlvbkNhY2hlXCIsXCJBdWRpb1RyYWNrTGlzdFwiLFwiQnJvYWRjYXN0Q2hhbm5lbFwiLFwiQ2hhbm5lbE1lcmdlck5vZGVcIixcIkNyeXB0b09wZXJhdGlvblwiLFwiRXZlbnRTb3VyY2VcIixcIkZpbGVSZWFkZXJcIixcIkhUTUxVbmtub3duRWxlbWVudFwiLFwiSURCRGF0YWJhc2VcIixcIklEQlJlcXVlc3RcIixcIklEQlRyYW5zYWN0aW9uXCIsXCJLZXlPcGVyYXRpb25cIixcIk1lZGlhQ29udHJvbGxlclwiLFwiTWVzc2FnZVBvcnRcIixcIk1vZGFsV2luZG93XCIsXCJOb3RpZmljYXRpb25cIixcIlNWR0VsZW1lbnRJbnN0YW5jZVwiLFwiU2NyZWVuXCIsXCJTaGFyZWRXb3JrZXJcIixcIlRleHRUcmFja1wiLFwiVGV4dFRyYWNrQ3VlXCIsXCJUZXh0VHJhY2tMaXN0XCIsXCJXZWJTb2NrZXRcIixcIldlYlNvY2tldFdvcmtlclwiLFwiV29ya2VyXCIsXCJYTUxIdHRwUmVxdWVzdFwiLFwiWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldFwiLFwiWE1MSHR0cFJlcXVlc3RVcGxvYWRcIl0saWk9KGU9e30pPT57Y29uc3QgdD17WE1MSHR0cFJlcXVlc3Q6ITAsZXZlbnRUYXJnZXQ6ITAscmVxdWVzdEFuaW1hdGlvbkZyYW1lOiEwLHNldEludGVydmFsOiEwLHNldFRpbWVvdXQ6ITAsLi4uZX07cmV0dXJue25hbWU6XCJCcm93c2VyQXBpRXJyb3JzXCIsc2V0dXBPbmNlKCl7dC5zZXRUaW1lb3V0JiZHZSh2cixcInNldFRpbWVvdXRcIixvaSksdC5zZXRJbnRlcnZhbCYmR2UodnIsXCJzZXRJbnRlcnZhbFwiLG9pKSx0LnJlcXVlc3RBbmltYXRpb25GcmFtZSYmR2UodnIsXCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIixzaSksdC5YTUxIdHRwUmVxdWVzdCYmXCJYTUxIdHRwUmVxdWVzdFwiaW4gdnImJkdlKFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZSxcInNlbmRcIixhaSk7Y29uc3QgZT10LmV2ZW50VGFyZ2V0O2lmKGUpeyhBcnJheS5pc0FycmF5KGUpP2U6cmkpLmZvckVhY2goY2kpfX19fTtmdW5jdGlvbiBvaShlKXtyZXR1cm4gZnVuY3Rpb24oLi4udCl7Y29uc3Qgbj10WzBdO3JldHVybiB0WzBdPXlyKG4se21lY2hhbmlzbTp7ZGF0YTp7ZnVuY3Rpb246dmUoZSl9LGhhbmRsZWQ6ITEsdHlwZTpcImluc3RydW1lbnRcIn19KSxlLmFwcGx5KHRoaXMsdCl9fWZ1bmN0aW9uIHNpKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseSh0aGlzLFt5cih0LHttZWNoYW5pc206e2RhdGE6e2Z1bmN0aW9uOlwicmVxdWVzdEFuaW1hdGlvbkZyYW1lXCIsaGFuZGxlcjp2ZShlKX0saGFuZGxlZDohMSx0eXBlOlwiaW5zdHJ1bWVudFwifX0pXSl9fWZ1bmN0aW9uIGFpKGUpe3JldHVybiBmdW5jdGlvbiguLi50KXtjb25zdCBuPXRoaXM7cmV0dXJuW1wib25sb2FkXCIsXCJvbmVycm9yXCIsXCJvbnByb2dyZXNzXCIsXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIl0uZm9yRWFjaCgoZT0+e2UgaW4gbiYmXCJmdW5jdGlvblwiPT10eXBlb2YgbltlXSYmR2UobixlLChmdW5jdGlvbih0KXtjb25zdCBuPXttZWNoYW5pc206e2RhdGE6e2Z1bmN0aW9uOmUsaGFuZGxlcjp2ZSh0KX0saGFuZGxlZDohMSx0eXBlOlwiaW5zdHJ1bWVudFwifX0scj1ZZSh0KTtyZXR1cm4gciYmKG4ubWVjaGFuaXNtLmRhdGEuaGFuZGxlcj12ZShyKSkseXIodCxuKX0pKX0pKSxlLmFwcGx5KHRoaXMsdCl9fWZ1bmN0aW9uIGNpKGUpe2NvbnN0IHQ9dnJbZV0sbj10JiZ0LnByb3RvdHlwZTtuJiZuLmhhc093blByb3BlcnR5JiZuLmhhc093blByb3BlcnR5KFwiYWRkRXZlbnRMaXN0ZW5lclwiKSYmKEdlKG4sXCJhZGRFdmVudExpc3RlbmVyXCIsKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihuLHIsaSl7dHJ5e1wiZnVuY3Rpb25cIj09dHlwZW9mIHIuaGFuZGxlRXZlbnQmJihyLmhhbmRsZUV2ZW50PXlyKHIuaGFuZGxlRXZlbnQse21lY2hhbmlzbTp7ZGF0YTp7ZnVuY3Rpb246XCJoYW5kbGVFdmVudFwiLGhhbmRsZXI6dmUociksdGFyZ2V0OmV9LGhhbmRsZWQ6ITEsdHlwZTpcImluc3RydW1lbnRcIn19KSl9Y2F0Y2goZSl7fXJldHVybiB0LmFwcGx5KHRoaXMsW24seXIocix7bWVjaGFuaXNtOntkYXRhOntmdW5jdGlvbjpcImFkZEV2ZW50TGlzdGVuZXJcIixoYW5kbGVyOnZlKHIpLHRhcmdldDplfSxoYW5kbGVkOiExLHR5cGU6XCJpbnN0cnVtZW50XCJ9fSksaV0pfX0pKSxHZShuLFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiLChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuLHIpe3RyeXtjb25zdCBpPW4uX19zZW50cnlfd3JhcHBlZF9fO2kmJmUuY2FsbCh0aGlzLHQsaSxyKX1jYXRjaChlKXt9cmV0dXJuIGUuY2FsbCh0aGlzLHQsbixyKX19KSkpfWNvbnN0IGxpPSgpPT4oe25hbWU6XCJCcm93c2VyU2Vzc2lvblwiLHNldHVwT25jZSgpe3ZvaWQgMCE9PXZyLmRvY3VtZW50PyhDbih7aWdub3JlRHVyYXRpb246ITB9KSxPbigpLFVyKCgoe2Zyb206ZSx0bzp0fSk9Pnt2b2lkIDAhPT1lJiZlIT09dCYmKENuKHtpZ25vcmVEdXJhdGlvbjohMH0pLE9uKCkpfSkpKTpiciYmbGUud2FybihcIlVzaW5nIHRoZSBgYnJvd3NlclNlc3Npb25JbnRlZ3JhdGlvbmAgaW4gbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRzIGlzIG5vdCBzdXBwb3J0ZWQuXCIpfX0pLHVpPShlPXt9KT0+e2NvbnN0IHQ9e29uZXJyb3I6ITAsb251bmhhbmRsZWRyZWplY3Rpb246ITAsLi4uZX07cmV0dXJue25hbWU6XCJHbG9iYWxIYW5kbGVyc1wiLHNldHVwT25jZSgpe0Vycm9yLnN0YWNrVHJhY2VMaW1pdD01MH0sc2V0dXAoZSl7dC5vbmVycm9yJiYoIWZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXtjb25zdCB0PVwiZXJyb3JcIjtiZSh0LGUpLF9lKHQsa2UpfSgodD0+e2NvbnN0e3N0YWNrUGFyc2VyOm4sYXR0YWNoU3RhY2t0cmFjZTpyfT1waSgpO2lmKHh0KCkhPT1lfHxtcigpKXJldHVybjtjb25zdHttc2c6aSx1cmw6byxsaW5lOnMsY29sdW1uOmEsZXJyb3I6Y309dCxsPWZ1bmN0aW9uKGUsdCxuLHIpe2NvbnN0IGk9ZS5leGNlcHRpb249ZS5leGNlcHRpb258fHt9LG89aS52YWx1ZXM9aS52YWx1ZXN8fFtdLHM9b1swXT1vWzBdfHx7fSxhPXMuc3RhY2t0cmFjZT1zLnN0YWNrdHJhY2V8fHt9LGM9YS5mcmFtZXM9YS5mcmFtZXN8fFtdLGw9cix1PW4sZD14ZSh0KSYmdC5sZW5ndGg+MD90OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBWZS5kb2N1bWVudC5sb2NhdGlvbi5ocmVmfWNhdGNoKGUpe3JldHVyblwiXCJ9fSgpOzA9PT1jLmxlbmd0aCYmYy5wdXNoKHtjb2xubzpsLGZpbGVuYW1lOmQsZnVuY3Rpb246dWUsaW5fYXBwOiEwLGxpbmVubzp1fSk7cmV0dXJuIGV9KE9yKG4sY3x8aSx2b2lkIDAsciwhMSksbyxzLGEpO2wubGV2ZWw9XCJlcnJvclwiLE1uKGwse29yaWdpbmFsRXhjZXB0aW9uOmMsbWVjaGFuaXNtOntoYW5kbGVkOiExLHR5cGU6XCJvbmVycm9yXCJ9fSl9KSl9KGUpLGRpKFwib25lcnJvclwiKSksdC5vbnVuaGFuZGxlZHJlamVjdGlvbiYmKCFmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7Y29uc3QgdD1cInVuaGFuZGxlZHJlamVjdGlvblwiO2JlKHQsZSksX2UodCxDZSl9KCh0PT57Y29uc3R7c3RhY2tQYXJzZXI6bixhdHRhY2hTdGFja3RyYWNlOnJ9PXBpKCk7aWYoeHQoKSE9PWV8fG1yKCkpcmV0dXJuO2NvbnN0IGk9ZnVuY3Rpb24oZSl7aWYoRGUoZSkpcmV0dXJuIGU7dHJ5e2lmKFwicmVhc29uXCJpbiBlKXJldHVybiBlLnJlYXNvbjtpZihcImRldGFpbFwiaW4gZSYmXCJyZWFzb25cImluIGUuZGV0YWlsKXJldHVybiBlLmRldGFpbC5yZWFzb259Y2F0Y2goZSl7fXJldHVybiBlfSh0KSxvPURlKGkpP3tleGNlcHRpb246e3ZhbHVlczpbe3R5cGU6XCJVbmhhbmRsZWRSZWplY3Rpb25cIix2YWx1ZTpgTm9uLUVycm9yIHByb21pc2UgcmVqZWN0aW9uIGNhcHR1cmVkIHdpdGggdmFsdWU6ICR7U3RyaW5nKGkpfWB9XX19Ok9yKG4saSx2b2lkIDAsciwhMCk7by5sZXZlbD1cImVycm9yXCIsTW4obyx7b3JpZ2luYWxFeGNlcHRpb246aSxtZWNoYW5pc206e2hhbmRsZWQ6ITEsdHlwZTpcIm9udW5oYW5kbGVkcmVqZWN0aW9uXCJ9fSl9KSl9KGUpLGRpKFwib251bmhhbmRsZWRyZWplY3Rpb25cIikpfX19O2Z1bmN0aW9uIGRpKGUpe2JyJiZsZS5sb2coYEdsb2JhbCBIYW5kbGVyIGF0dGFjaGVkOiAke2V9YCl9ZnVuY3Rpb24gcGkoKXtjb25zdCBlPXh0KCk7cmV0dXJuIGUmJmUuZ2V0T3B0aW9ucygpfHx7c3RhY2tQYXJzZXI6KCk9PltdLGF0dGFjaFN0YWNrdHJhY2U6ITF9fWNvbnN0IGhpPSgpPT4oe25hbWU6XCJIdHRwQ29udGV4dFwiLHByZXByb2Nlc3NFdmVudChlKXtpZighdnIubmF2aWdhdG9yJiYhdnIubG9jYXRpb24mJiF2ci5kb2N1bWVudClyZXR1cm47Y29uc3QgdD1lLnJlcXVlc3QmJmUucmVxdWVzdC51cmx8fHZyLmxvY2F0aW9uJiZ2ci5sb2NhdGlvbi5ocmVmLHtyZWZlcnJlcjpufT12ci5kb2N1bWVudHx8e30se3VzZXJBZ2VudDpyfT12ci5uYXZpZ2F0b3J8fHt9LGk9ey4uLmUucmVxdWVzdCYmZS5yZXF1ZXN0LmhlYWRlcnMsLi4ubiYme1JlZmVyZXI6bn0sLi4uciYme1wiVXNlci1BZ2VudFwiOnJ9fSxvPXsuLi5lLnJlcXVlc3QsLi4udCYme3VybDp0fSxoZWFkZXJzOml9O2UucmVxdWVzdD1vfX0pLGZpPShlPXt9KT0+e2NvbnN0IHQ9ZS5saW1pdHx8NSxuPWUua2V5fHxcImNhdXNlXCI7cmV0dXJue25hbWU6XCJMaW5rZWRFcnJvcnNcIixwcmVwcm9jZXNzRXZlbnQoZSxyLGkpe2NvbnN0IG89aS5nZXRPcHRpb25zKCk7S24oX3Isby5zdGFja1BhcnNlcixvLm1heFZhbHVlTGVuZ3RoLG4sdCxlLHIpfX19O3ZhciB2aT1cIm5ld1wiLGdpPVwibG9hZGluZ1wiLG1pPVwibG9hZGVkXCIseWk9XCJqb2luaW5nLW1lZXRpbmdcIixiaT1cImpvaW5lZC1tZWV0aW5nXCIsX2k9XCJsZWZ0LW1lZXRpbmdcIix3aT1cImVycm9yXCIsU2k9XCJibG9ja2VkXCIsa2k9XCJvZmZcIixNaT1cInNlbmRhYmxlXCIsQ2k9XCJsb2FkaW5nXCIsRWk9XCJpbnRlcnJ1cHRlZFwiLFRpPVwicGxheWFibGVcIixPaT1cInVua25vd25cIixQaT1cImZ1bGxcIixBaT1cImxvYmJ5XCIsamk9XCJub25lXCIsSWk9XCJiYXNlXCIseGk9XCIqXCIsTGk9XCJlamVjdGVkXCIsRGk9XCJuYmYtcm9vbVwiLE5pPVwibmJmLXRva2VuXCIsUmk9XCJleHAtcm9vbVwiLEZpPVwiZXhwLXRva2VuXCIsQmk9XCJuby1yb29tXCIsVWk9XCJtZWV0aW5nLWZ1bGxcIixWaT1cImVuZC1vZi1saWZlXCIsSmk9XCJub3QtYWxsb3dlZFwiLCRpPVwiY29ubmVjdGlvbi1lcnJvclwiLHFpPVwiY2FtLWluLXVzZVwiLHppPVwibWljLWluLXVzZVwiLFdpPVwiY2FtLW1pYy1pbi11c2VcIixIaT1cInBlcm1pc3Npb25zXCIsR2k9XCJ1bmRlZmluZWQtbWVkaWFkZXZpY2VzXCIsUWk9XCJub3QtZm91bmRcIixLaT1cImNvbnN0cmFpbnRzXCIsWWk9XCJ1bmtub3duXCIsWGk9XCJpZnJhbWUtcmVhZHktZm9yLWxhdW5jaC1jb25maWdcIixaaT1cImlmcmFtZS1sYXVuY2gtY29uZmlnXCIsZW89XCJ0aGVtZS11cGRhdGVkXCIsdG89XCJsb2FkaW5nXCIsbm89XCJsb2FkLWF0dGVtcHQtZmFpbGVkXCIscm89XCJsb2FkZWRcIixpbz1cInN0YXJ0ZWQtY2FtZXJhXCIsb289XCJjYW1lcmEtZXJyb3JcIixzbz1cImpvaW5pbmctbWVldGluZ1wiLGFvPVwiam9pbmVkLW1lZXRpbmdcIixjbz1cImxlZnQtbWVldGluZ1wiLGxvPVwicGFydGljaXBhbnQtam9pbmVkXCIsdW89XCJwYXJ0aWNpcGFudC11cGRhdGVkXCIscG89XCJwYXJ0aWNpcGFudC1sZWZ0XCIsaG89XCJwYXJ0aWNpcGFudC1jb3VudHMtdXBkYXRlZFwiLGZvPVwiYWNjZXNzLXN0YXRlLXVwZGF0ZWRcIix2bz1cIm1lZXRpbmctc2Vzc2lvbi1zdW1tYXJ5LXVwZGF0ZWRcIixnbz1cIm1lZXRpbmctc2Vzc2lvbi1zdGF0ZS11cGRhdGVkXCIsbW89XCJtZWV0aW5nLXNlc3Npb24tZGF0YS1lcnJvclwiLHlvPVwid2FpdGluZy1wYXJ0aWNpcGFudC1hZGRlZFwiLGJvPVwid2FpdGluZy1wYXJ0aWNpcGFudC11cGRhdGVkXCIsX289XCJ3YWl0aW5nLXBhcnRpY2lwYW50LXJlbW92ZWRcIix3bz1cInRyYWNrLXN0YXJ0ZWRcIixTbz1cInRyYWNrLXN0b3BwZWRcIixrbz1cInRyYW5zY3JpcHRpb24tc3RhcnRlZFwiLE1vPVwidHJhbnNjcmlwdGlvbi1zdG9wcGVkXCIsQ289XCJ0cmFuc2NyaXB0aW9uLWVycm9yXCIsRW89XCJyZWNvcmRpbmctc3RhcnRlZFwiLFRvPVwicmVjb3JkaW5nLXN0b3BwZWRcIixPbz1cInJlY29yZGluZy1zdGF0c1wiLFBvPVwicmVjb3JkaW5nLWVycm9yXCIsQW89XCJyZWNvcmRpbmctdXBsb2FkLWNvbXBsZXRlZFwiLGpvPVwicmVjb3JkaW5nLWRhdGFcIixJbz1cImFwcC1tZXNzYWdlXCIseG89XCJ0cmFuc2NyaXB0aW9uLW1lc3NhZ2VcIixMbz1cInJlbW90ZS1tZWRpYS1wbGF5ZXItc3RhcnRlZFwiLERvPVwicmVtb3RlLW1lZGlhLXBsYXllci11cGRhdGVkXCIsTm89XCJyZW1vdGUtbWVkaWEtcGxheWVyLXN0b3BwZWRcIixSbz1cImxvY2FsLXNjcmVlbi1zaGFyZS1zdGFydGVkXCIsRm89XCJsb2NhbC1zY3JlZW4tc2hhcmUtc3RvcHBlZFwiLEJvPVwibG9jYWwtc2NyZWVuLXNoYXJlLWNhbmNlbGVkXCIsVW89XCJhY3RpdmUtc3BlYWtlci1jaGFuZ2VcIixWbz1cImFjdGl2ZS1zcGVha2VyLW1vZGUtY2hhbmdlXCIsSm89XCJuZXR3b3JrLXF1YWxpdHktY2hhbmdlXCIsJG89XCJuZXR3b3JrLWNvbm5lY3Rpb25cIixxbz1cImNwdS1sb2FkLWNoYW5nZVwiLHpvPVwiZmFjZS1jb3VudHMtdXBkYXRlZFwiLFdvPVwiZnVsbHNjcmVlblwiLEhvPVwiZXhpdGVkLWZ1bGxzY3JlZW5cIixHbz1cImxpdmUtc3RyZWFtaW5nLXN0YXJ0ZWRcIixRbz1cImxpdmUtc3RyZWFtaW5nLXVwZGF0ZWRcIixLbz1cImxpdmUtc3RyZWFtaW5nLXN0b3BwZWRcIixZbz1cImxpdmUtc3RyZWFtaW5nLWVycm9yXCIsWG89XCJsYW5nLXVwZGF0ZWRcIixabz1cInJlY2VpdmUtc2V0dGluZ3MtdXBkYXRlZFwiLGVzPVwiaW5wdXQtc2V0dGluZ3MtdXBkYXRlZFwiLHRzPVwibm9uZmF0YWwtZXJyb3JcIixucz1cImVycm9yXCIscnM9NDA5Nixpcz0xMDI0MDAsb3M9XCJpZnJhbWUtY2FsbC1tZXNzYWdlXCIsc3M9XCJsb2NhbC1zY3JlZW4tc3RhcnRcIixhcz1cImRhaWx5LW1ldGhvZC11cGRhdGUtbGl2ZS1zdHJlYW1pbmctZW5kcG9pbnRzXCIsY3M9XCJ0cmFuc21pdC1sb2dcIixscz1cImRhaWx5LWN1c3RvbS10cmFja1wiLHVzPXtOT05FOlwibm9uZVwiLEJHQkxVUjpcImJhY2tncm91bmQtYmx1clwiLEJHSU1BR0U6XCJiYWNrZ3JvdW5kLWltYWdlXCIsRkFDRV9ERVRFQ1RJT046XCJmYWNlLWRldGVjdGlvblwifSxkcz17Tk9ORTpcIm5vbmVcIixOT0lTRV9DQU5DRUxMQVRJT046XCJub2lzZS1jYW5jZWxsYXRpb25cIn0scHM9e1BMQVk6XCJwbGF5XCIsUEFVU0U6XCJwYXVzZVwifSxocz1bXCJqcGdcIixcInBuZ1wiLFwianBlZ1wiXSxmcz1cImFkZC1lbmRwb2ludHNcIix2cz1cInJlbW92ZS1lbmRwb2ludHNcIixncz1cInNpcC1jYWxsLXRyYW5zZmVyXCI7ZnVuY3Rpb24gbXMoKXtyZXR1cm4heXMoKSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lm5hdmlnYXRvciYmd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ/d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ6XCJcIn1mdW5jdGlvbiB5cygpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci5wcm9kdWN0JiZcIlJlYWN0TmF0aXZlXCI9PT1uYXZpZ2F0b3IucHJvZHVjdH1mdW5jdGlvbiBicygpe3JldHVybiBuYXZpZ2F0b3ImJm5hdmlnYXRvci5tZWRpYURldmljZXMmJm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhfWZ1bmN0aW9uIF9zKCl7cmV0dXJuISEobmF2aWdhdG9yJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYSkmJihmdW5jdGlvbihlLHQpe2lmKCFlfHwhdClyZXR1cm4hMDtzd2l0Y2goZSl7Y2FzZVwiQ2hyb21lXCI6cmV0dXJuIHQubWFqb3I+PTc1O2Nhc2VcIlNhZmFyaVwiOnJldHVybiBSVENSdHBUcmFuc2NlaXZlci5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoXCJjdXJyZW50RGlyZWN0aW9uXCIpJiYhKDEzPT09dC5tYWpvciYmMD09PXQubWlub3ImJjA9PT10LnBvaW50KTtjYXNlXCJGaXJlZm94XCI6cmV0dXJuIHQubWFqb3I+PTY3fXJldHVybiEwfShPcygpLFBzKCkpfHx5cygpKX1mdW5jdGlvbiB3cygpe2lmKHlzKCkpcmV0dXJuITE7aWYoIWRvY3VtZW50KXJldHVybiExO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7cmV0dXJuISFlLnJlcXVlc3RGdWxsc2NyZWVufHwhIWUud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW59dmFyIFNzPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksdD1udWxsIT0obmF2aWdhdG9yLndlYmRyaXZlcj9lLmdldENvbnRleHQoXCJ3ZWJnbDJcIik6ZS5nZXRDb250ZXh0KFwid2ViZ2wyXCIse2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITB9KSk7cmV0dXJuIGUucmVtb3ZlKCksdH1jYXRjaChlKXtyZXR1cm4hMX19KCk7ZnVuY3Rpb24ga3MoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybiF5cygpJiYoISFTcyYmKGU/ZnVuY3Rpb24oKXtpZihUcygpKXJldHVybiExO3JldHVybltcIkNocm9tZVwiLFwiRmlyZWZveFwiXS5pbmNsdWRlcyhPcygpKX0oKTpmdW5jdGlvbigpe2lmKFRzKCkpcmV0dXJuITE7dmFyIGU9T3MoKTtpZihcIlNhZmFyaVwiPT09ZSl7dmFyIHQ9eHMoKTtpZih0Lm1ham9yPDE1fHwxNT09PXQubWFqb3ImJnQubWlub3I8NClyZXR1cm4hMX1pZihcIkNocm9tZVwiPT09ZSl7cmV0dXJuIEFzKCkubWFqb3I+PTc3fWlmKFwiRmlyZWZveFwiPT09ZSl7cmV0dXJuIExzKCkubWFqb3I+PTk3fXJldHVybltcIkNocm9tZVwiLFwiRmlyZWZveFwiLFwiU2FmYXJpXCJdLmluY2x1ZGVzKGUpfSgpKSl9ZnVuY3Rpb24gTXMoKXtpZih5cygpKXJldHVybiExO2lmKEVzKCkpcmV0dXJuITE7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIEF1ZGlvV29ya2xldE5vZGUpcmV0dXJuITE7c3dpdGNoKE9zKCkpe2Nhc2VcIkNocm9tZVwiOmNhc2VcIkZpcmVmb3hcIjpyZXR1cm4hMDtjYXNlXCJTYWZhcmlcIjp2YXIgZT1QcygpO3JldHVybiBlLm1ham9yPjE3fHwxNz09PWUubWFqb3ImJmUubWlub3I+PTR9cmV0dXJuITF9ZnVuY3Rpb24gQ3MoKXtyZXR1cm4gYnMoKSYmIWZ1bmN0aW9uKCl7dmFyIGUsdD1PcygpO2lmKCFtcygpKXJldHVybiEwO3N3aXRjaCh0KXtjYXNlXCJDaHJvbWVcIjpyZXR1cm4oZT1BcygpKS5tYWpvciYmZS5tYWpvcj4wJiZlLm1ham9yPDc1O2Nhc2VcIkZpcmVmb3hcIjpyZXR1cm4oZT1McygpKS5tYWpvcjw5MTtjYXNlXCJTYWZhcmlcIjpyZXR1cm4oZT14cygpKS5tYWpvcjwxM3x8MTM9PT1lLm1ham9yJiZlLm1pbm9yPDE7ZGVmYXVsdDpyZXR1cm4hMH19KCl9ZnVuY3Rpb24gRXMoKXtyZXR1cm4gbXMoKS5tYXRjaCgvTGludXg7IEFuZHJvaWQvKX1mdW5jdGlvbiBUcygpe3ZhciBlLHQ9bXMoKSxuPXQubWF0Y2goL01hYy8pJiYoIXlzKCkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJm51bGwhPT0oZT13aW5kb3cpJiZ2b2lkIDAhPT1lJiZudWxsIT09KGU9ZS5uYXZpZ2F0b3IpJiZ2b2lkIDAhPT1lJiZlLm1heFRvdWNoUG9pbnRzP3dpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHM6MCk+PTU7cmV0dXJuISEodC5tYXRjaCgvTW9iaS8pfHx0Lm1hdGNoKC9BbmRyb2lkLyl8fG4pfHwoISFtcygpLm1hdGNoKC9EYWlseUFuZFxcLy8pfHx2b2lkIDApfWZ1bmN0aW9uIE9zKCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyl7dmFyIGU9bXMoKTtyZXR1cm4ganMoKT9cIlNhZmFyaVwiOmUuaW5kZXhPZihcIkVkZ2VcIik+LTE/XCJFZGdlXCI6ZS5tYXRjaCgvQ2hyb21lXFwvLyk/XCJDaHJvbWVcIjplLmluZGV4T2YoXCJTYWZhcmlcIik+LTF8fElzKCk/XCJTYWZhcmlcIjplLmluZGV4T2YoXCJGaXJlZm94XCIpPi0xP1wiRmlyZWZveFwiOmUuaW5kZXhPZihcIk1TSUVcIik+LTF8fGUuaW5kZXhPZihcIi5ORVRcIik+LTE/XCJJRVwiOlwiVW5rbm93biBCcm93c2VyXCJ9fWZ1bmN0aW9uIFBzKCl7c3dpdGNoKE9zKCkpe2Nhc2VcIkNocm9tZVwiOnJldHVybiBBcygpO2Nhc2VcIlNhZmFyaVwiOnJldHVybiB4cygpO2Nhc2VcIkZpcmVmb3hcIjpyZXR1cm4gTHMoKTtjYXNlXCJFZGdlXCI6cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9MCx0PTA7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyl7dmFyIG49bXMoKS5tYXRjaCgvRWRnZVxcLyhcXGQrKS4oXFxkKykvKTtpZihuKXRyeXtlPXBhcnNlSW50KG5bMV0pLHQ9cGFyc2VJbnQoblsyXSl9Y2F0Y2goZSl7fX1yZXR1cm57bWFqb3I6ZSxtaW5vcjp0fX0oKX19ZnVuY3Rpb24gQXMoKXt2YXIgZT0wLHQ9MCxuPTAscj0wLGk9ITE7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyl7dmFyIG89bXMoKSxzPW8ubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS4oXFxkKykuKFxcZCspLihcXGQrKS8pO2lmKHMpdHJ5e2U9cGFyc2VJbnQoc1sxXSksdD1wYXJzZUludChzWzJdKSxuPXBhcnNlSW50KHNbM10pLHI9cGFyc2VJbnQoc1s0XSksaT1vLmluZGV4T2YoXCJPUFIvXCIpPi0xfWNhdGNoKGUpe319cmV0dXJue21ham9yOmUsbWlub3I6dCxidWlsZDpuLHBhdGNoOnIsb3BlcmE6aX19ZnVuY3Rpb24ganMoKXtyZXR1cm4hIW1zKCkubWF0Y2goL2lQYWR8aVBob25lfGlQb2QvaSkmJmJzKCl9ZnVuY3Rpb24gSXMoKXtyZXR1cm4gbXMoKS5pbmRleE9mKFwiQXBwbGVXZWJLaXQvNjA1LjEuMTVcIik+LTF9ZnVuY3Rpb24geHMoKXt2YXIgZT0wLHQ9MCxuPTA7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyl7dmFyIHI9bXMoKS5tYXRjaCgvVmVyc2lvblxcLyhcXGQrKS4oXFxkKykoLihcXGQrKSk/Lyk7aWYocil0cnl7ZT1wYXJzZUludChyWzFdKSx0PXBhcnNlSW50KHJbMl0pLG49cGFyc2VJbnQocls0XSl9Y2F0Y2goZSl7fWVsc2UoanMoKXx8SXMoKSkmJihlPTE0LHQ9MCxuPTMpfXJldHVybnttYWpvcjplLG1pbm9yOnQscG9pbnQ6bn19ZnVuY3Rpb24gTHMoKXt2YXIgZT0wLHQ9MDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXt2YXIgbj1tcygpLm1hdGNoKC9GaXJlZm94XFwvKFxcZCspLihcXGQrKS8pO2lmKG4pdHJ5e2U9cGFyc2VJbnQoblsxXSksdD1wYXJzZUludChuWzJdKX1jYXRjaChlKXt9fXJldHVybnttYWpvcjplLG1pbm9yOnR9fXZhciBEcz1mdW5jdGlvbigpe3JldHVybiBvKChmdW5jdGlvbiBlKCl7dCh0aGlzLGUpfSksW3trZXk6XCJhZGRMaXN0ZW5lckZvck1lc3NhZ2VzRnJvbUNhbGxNYWNoaW5lXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe1koKX19LHtrZXk6XCJhZGRMaXN0ZW5lckZvck1lc3NhZ2VzRnJvbURhaWx5SnNcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7WSgpfX0se2tleTpcInNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIpe1koKX19LHtrZXk6XCJzZW5kTWVzc2FnZVRvRGFpbHlKc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7WSgpfX0se2tleTpcInJlbW92ZUxpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7WSgpfX1dKX0oKTtmdW5jdGlvbiBOcyhlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gUnMoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/TnMoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXt1KGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpOcyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBGcygpe3RyeXt2YXIgZT0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaChlKXt9cmV0dXJuKEZzPWZ1bmN0aW9uKCl7cmV0dXJuISFlfSkoKX12YXIgQnM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIG4scixpLG87cmV0dXJuIHQodGhpcyxlKSxyPXRoaXMsaT1hKGk9ZSksKG49cyhyLEZzKCk/UmVmbGVjdC5jb25zdHJ1Y3QoaSxvfHxbXSxhKHIpLmNvbnN0cnVjdG9yKTppLmFwcGx5KHIsbykpKS5fd3JhcHBlZExpc3RlbmVycz17fSxuLl9tZXNzYWdlQ2FsbGJhY2tzPXt9LG59cmV0dXJuIGwoZSxEcyksbyhlLFt7a2V5OlwiYWRkTGlzdGVuZXJGb3JNZXNzYWdlc0Zyb21DYWxsTWFjaGluZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLGk9ZnVuY3Rpb24oaSl7aWYoaS5kYXRhJiZcImlmcmFtZS1jYWxsLW1lc3NhZ2VcIj09PWkuZGF0YS53aGF0JiYoIWkuZGF0YS5jYWxsQ2xpZW50SWR8fGkuZGF0YS5jYWxsQ2xpZW50SWQ9PT10KSYmKCFpLmRhdGEuZnJvbXx8XCJtb2R1bGVcIiE9PWkuZGF0YS5mcm9tKSl7dmFyIG89UnMoe30saS5kYXRhKTtpZihkZWxldGUgby5mcm9tLG8uY2FsbGJhY2tTdGFtcCYmci5fbWVzc2FnZUNhbGxiYWNrc1tvLmNhbGxiYWNrU3RhbXBdKXt2YXIgcz1vLmNhbGxiYWNrU3RhbXA7ci5fbWVzc2FnZUNhbGxiYWNrc1tzXS5jYWxsKG4sbyksZGVsZXRlIHIuX21lc3NhZ2VDYWxsYmFja3Nbc119ZGVsZXRlIG8ud2hhdCxkZWxldGUgby5jYWxsYmFja1N0YW1wLGUuY2FsbChuLG8pfX07dGhpcy5fd3JhcHBlZExpc3RlbmVyc1tlXT1pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGkpfX0se2tleTpcImFkZExpc3RlbmVyRm9yTWVzc2FnZXNGcm9tRGFpbHlKc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihyKXt2YXIgaTtpZighKCFyLmRhdGF8fHIuZGF0YS53aGF0IT09b3N8fCFyLmRhdGEuYWN0aW9ufHxyLmRhdGEuZnJvbSYmXCJtb2R1bGVcIiE9PXIuZGF0YS5mcm9tfHxyLmRhdGEuY2FsbENsaWVudElkJiZ0JiZyLmRhdGEuY2FsbENsaWVudElkIT09dHx8bnVsbCE9ciYmbnVsbCE9PShpPXIuZGF0YSkmJnZvaWQgMCE9PWkmJmkuY2FsbEZyYW1lSWQpKXt2YXIgbz1yLmRhdGE7ZS5jYWxsKG4sbyl9fTt0aGlzLl93cmFwcGVkTGlzdGVuZXJzW2VdPXIsd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIscil9fSx7a2V5Olwic2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4scil7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwidW5kZWZpbmVkIGNhbGxDbGllbnRJZC4gQXJlIHlvdSB0cnlpbmcgdG8gdXNlIGEgRGFpbHlDYWxsIGluc3RhbmNlIHByZXZpb3VzbHkgZGVzdHJveWVkP1wiKTt2YXIgaT1Scyh7fSxlKTtpZihpLndoYXQ9b3MsaS5mcm9tPVwibW9kdWxlXCIsaS5jYWxsQ2xpZW50SWQ9bix0KXt2YXIgbz1LKCk7dGhpcy5fbWVzc2FnZUNhbGxiYWNrc1tvXT10LGkuY2FsbGJhY2tTdGFtcD1vfXZhciBzPXI/ci5jb250ZW50V2luZG93OndpbmRvdyxhPXRoaXMuX2NhbGxNYWNoaW5lVGFyZ2V0T3JpZ2luKHIpO2EmJnMucG9zdE1lc3NhZ2UoaSxhKX19LHtrZXk6XCJzZW5kTWVzc2FnZVRvRGFpbHlKc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7ZS53aGF0PW9zLGUuY2FsbENsaWVudElkPXQsZS5mcm9tPVwiZW1iZWRkZWRcIix3aW5kb3cucG9zdE1lc3NhZ2UoZSx0aGlzLl90YXJnZXRPcmlnaW5Gcm9tV2luZG93TG9jYXRpb24oKSl9fSx7a2V5OlwicmVtb3ZlTGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl93cmFwcGVkTGlzdGVuZXJzW2VdO3QmJih3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0KSxkZWxldGUgdGhpcy5fd3JhcHBlZExpc3RlbmVyc1tlXSl9fSx7a2V5OlwiZm9yd2FyZFBhY2thZ2VkTWVzc2FnZVRvQ2FsbE1hY2hpbmVcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9UnMoe30sZSk7ci5jYWxsQ2xpZW50SWQ9bjt2YXIgaT10P3QuY29udGVudFdpbmRvdzp3aW5kb3csbz10aGlzLl9jYWxsTWFjaGluZVRhcmdldE9yaWdpbih0KTtvJiZpLnBvc3RNZXNzYWdlKHIsbyl9fSx7a2V5OlwiYWRkTGlzdGVuZXJGb3JQYWNrYWdlZE1lc3NhZ2VzRnJvbUNhbGxNYWNoaW5lXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbihuKXtpZihuLmRhdGEmJlwiaWZyYW1lLWNhbGwtbWVzc2FnZVwiPT09bi5kYXRhLndoYXQmJighbi5kYXRhLmNhbGxDbGllbnRJZHx8bi5kYXRhLmNhbGxDbGllbnRJZD09PXQpJiYoIW4uZGF0YS5mcm9tfHxcIm1vZHVsZVwiIT09bi5kYXRhLmZyb20pKXt2YXIgcj1uLmRhdGE7ZShyKX19O3JldHVybiB0aGlzLl93cmFwcGVkTGlzdGVuZXJzW2VdPW4sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsbiksZX19LHtrZXk6XCJyZW1vdmVMaXN0ZW5lckZvclBhY2thZ2VkTWVzc2FnZXNGcm9tQ2FsbE1hY2hpbmVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl93cmFwcGVkTGlzdGVuZXJzW2VdO3QmJih3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0KSxkZWxldGUgdGhpcy5fd3JhcHBlZExpc3RlbmVyc1tlXSl9fSx7a2V5OlwiX2NhbGxNYWNoaW5lVGFyZ2V0T3JpZ2luXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/ZS5zcmM/bmV3IFVSTChlLnNyYykub3JpZ2luOnZvaWQgMDp0aGlzLl90YXJnZXRPcmlnaW5Gcm9tV2luZG93TG9jYXRpb24oKX19LHtrZXk6XCJfdGFyZ2V0T3JpZ2luRnJvbVdpbmRvd0xvY2F0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cImZpbGU6XCI9PT13aW5kb3cubG9jYXRpb24ucHJvdG9jb2w/XCIqXCI6d2luZG93LmxvY2F0aW9uLm9yaWdpbn19XSl9KCk7ZnVuY3Rpb24gVXMoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIFZzKCl7dHJ5e3ZhciBlPSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKGUpe31yZXR1cm4oVnM9ZnVuY3Rpb24oKXtyZXR1cm4hIWV9KSgpfXZhciBKcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgbixyLGksbztyZXR1cm4gdCh0aGlzLGUpLHI9dGhpcyxpPWEoaT1lKSxuPXMocixWcygpP1JlZmxlY3QuY29uc3RydWN0KGksb3x8W10sYShyKS5jb25zdHJ1Y3Rvcik6aS5hcHBseShyLG8pKSxnbG9iYWwuY2FsbE1hY2hpbmVUb0RhaWx5SnNFbWl0dGVyPWdsb2JhbC5jYWxsTWFjaGluZVRvRGFpbHlKc0VtaXR0ZXJ8fG5ldyBJLkV2ZW50RW1pdHRlcixnbG9iYWwuZGFpbHlKc1RvQ2FsbE1hY2hpbmVFbWl0dGVyPWdsb2JhbC5kYWlseUpzVG9DYWxsTWFjaGluZUVtaXR0ZXJ8fG5ldyBJLkV2ZW50RW1pdHRlcixuLl93cmFwcGVkTGlzdGVuZXJzPXt9LG4uX21lc3NhZ2VDYWxsYmFja3M9e30sbn1yZXR1cm4gbChlLERzKSxvKGUsW3trZXk6XCJhZGRMaXN0ZW5lckZvck1lc3NhZ2VzRnJvbUNhbGxNYWNoaW5lXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3RoaXMuX2FkZExpc3RlbmVyKGUsZ2xvYmFsLmNhbGxNYWNoaW5lVG9EYWlseUpzRW1pdHRlcix0LG4sXCJyZWNlaXZlZCBjYWxsIG1hY2hpbmUgbWVzc2FnZVwiKX19LHtrZXk6XCJhZGRMaXN0ZW5lckZvck1lc3NhZ2VzRnJvbURhaWx5SnNcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dGhpcy5fYWRkTGlzdGVuZXIoZSxnbG9iYWwuZGFpbHlKc1RvQ2FsbE1hY2hpbmVFbWl0dGVyLHQsbixcInJlY2VpdmVkIGRhaWx5LWpzIG1lc3NhZ2VcIil9fSx7a2V5Olwic2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3RoaXMuX3NlbmRNZXNzYWdlKGUsZ2xvYmFsLmRhaWx5SnNUb0NhbGxNYWNoaW5lRW1pdHRlcixuLHQsXCJzZW5kaW5nIG1lc3NhZ2UgdG8gY2FsbCBtYWNoaW5lXCIpfX0se2tleTpcInNlbmRNZXNzYWdlVG9EYWlseUpzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9zZW5kTWVzc2FnZShlLGdsb2JhbC5jYWxsTWFjaGluZVRvRGFpbHlKc0VtaXR0ZXIsdCxudWxsLFwic2VuZGluZyBtZXNzYWdlIHRvIGRhaWx5LWpzXCIpfX0se2tleTpcInJlbW92ZUxpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fd3JhcHBlZExpc3RlbmVyc1tlXTt0JiYoZ2xvYmFsLmNhbGxNYWNoaW5lVG9EYWlseUpzRW1pdHRlci5yZW1vdmVMaXN0ZW5lcihcIm1lc3NhZ2VcIix0KSxnbG9iYWwuZGFpbHlKc1RvQ2FsbE1hY2hpbmVFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKFwibWVzc2FnZVwiLHQpLGRlbGV0ZSB0aGlzLl93cmFwcGVkTGlzdGVuZXJzW2VdKX19LHtrZXk6XCJfYWRkTGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvPXRoaXMscz1mdW5jdGlvbih0KXtpZih0LmNhbGxDbGllbnRJZD09PW4pe2lmKHQuY2FsbGJhY2tTdGFtcCYmby5fbWVzc2FnZUNhbGxiYWNrc1t0LmNhbGxiYWNrU3RhbXBdKXt2YXIgaT10LmNhbGxiYWNrU3RhbXA7by5fbWVzc2FnZUNhbGxiYWNrc1tpXS5jYWxsKHIsdCksZGVsZXRlIG8uX21lc3NhZ2VDYWxsYmFja3NbaV19ZS5jYWxsKHIsdCl9fTt0aGlzLl93cmFwcGVkTGlzdGVuZXJzW2VdPXMsdC5hZGRMaXN0ZW5lcihcIm1lc3NhZ2VcIixzKX19LHtrZXk6XCJfc2VuZE1lc3NhZ2VcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP1VzKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6VXMoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9KHt9LGUpO2lmKG8uY2FsbENsaWVudElkPW4scil7dmFyIHM9SygpO3RoaXMuX21lc3NhZ2VDYWxsYmFja3Nbc109cixvLmNhbGxiYWNrU3RhbXA9c310LmVtaXQoXCJtZXNzYWdlXCIsbyl9fV0pfSgpLCRzPVwicmVwbGFjZVwiLHFzPVwic2hhbGxvdy1tZXJnZVwiLHpzPVskcyxxc107dmFyIFdzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxyPW4uZGF0YSxpPW4ubWVyZ2VTdHJhdGVneSxvPXZvaWQgMD09PWk/JHM6aTt0KHRoaXMsZSksZS5fdmFsaWRhdGVNZXJnZVN0cmF0ZWd5KG8pLGUuX3ZhbGlkYXRlRGF0YShyLG8pLHRoaXMubWVyZ2VTdHJhdGVneT1vLHRoaXMuZGF0YT1yfXJldHVybiBvKGUsW3trZXk6XCJpc05vT3BcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBlLmlzTm9PcFVwZGF0ZSh0aGlzLmRhdGEsdGhpcy5tZXJnZVN0cmF0ZWd5KX19XSxbe2tleTpcImlzTm9PcFVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PT1PYmplY3Qua2V5cyhlKS5sZW5ndGgmJnQ9PT1xc319LHtrZXk6XCJfdmFsaWRhdGVNZXJnZVN0cmF0ZWd5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIXpzLmluY2x1ZGVzKGUpKXRocm93IEVycm9yKFwiVW5yZWNvZ25pemVkIG1lcmdlU3RyYXRlZ3kgcHJvdmlkZWQuIE9wdGlvbnMgYXJlOiBbXCIuY29uY2F0KHpzLFwiXVwiKSl9fSx7a2V5OlwiX3ZhbGlkYXRlRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoIWZ1bmN0aW9uKGUpe2lmKG51bGw9PWV8fFwib2JqZWN0XCIhPT1uKGUpKXJldHVybiExO3ZhciB0PU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtyZXR1cm4gbnVsbD09dHx8dD09PU9iamVjdC5wcm90b3R5cGV9KGUpKXRocm93IEVycm9yKFwiTWVldGluZyBzZXNzaW9uIGRhdGEgbXVzdCBiZSBhIHBsYWluIChtYXAtbGlrZSkgb2JqZWN0XCIpO3ZhciByO3RyeXtpZihyPUpTT04uc3RyaW5naWZ5KGUpLHQ9PT0kcyl7dmFyIGk9SlNPTi5wYXJzZShyKTtOKGksZSl8fGNvbnNvbGUud2FybihcIlRoZSBtZWV0aW5nIHNlc3Npb24gZGF0YSBwcm92aWRlZCB3aWxsIGJlIG1vZGlmaWVkIHdoZW4gc2VyaWFsaXplZC5cIixpLGUpfWVsc2UgaWYodD09PXFzKWZvcih2YXIgbyBpbiBlKWlmKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykmJnZvaWQgMCE9PWVbb10pe3ZhciBzPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZVtvXSkpO04oZVtvXSxzKXx8Y29uc29sZS53YXJuKFwiQXQgbGVhc3Qgb25lIGtleSBpbiB0aGUgbWVldGluZyBzZXNzaW9uIGRhdGEgcHJvdmlkZWQgd2lsbCBiZSBtb2RpZmllZCB3aGVuIHNlcmlhbGl6ZWQuXCIscyxlW29dKX19Y2F0Y2goZSl7dGhyb3cgRXJyb3IoXCJNZWV0aW5nIHNlc3Npb24gZGF0YSBtdXN0IGJlIHNlcmlhbGl6YWJsZSB0byBKU09OOiBcIi5jb25jYXQoZSkpfWlmKHIubGVuZ3RoPmlzKXRocm93IEVycm9yKFwiTWVldGluZyBzZXNzaW9uIGRhdGEgaXMgdG9vIGxhcmdlIChcIi5jb25jYXQoci5sZW5ndGgsXCIgY2hhcmFjdGVycykuIE1heGltdW0gc2l6ZSBzdXBwcG9ydGVkIGlzIFwiKS5jb25jYXQoaXMsXCIuXCIpKX19XSl9KCk7ZnVuY3Rpb24gSHMoKXt0cnl7dmFyIGU9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2goZSl7fXJldHVybihIcz1mdW5jdGlvbigpe3JldHVybiEhZX0pKCl9ZnVuY3Rpb24gR3MoZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgTWFwP25ldyBNYXA6dm9pZCAwO3JldHVybiBHcz1mdW5jdGlvbihlKXtpZihudWxsPT09ZXx8IWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4tMSE9PUZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZSkuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIil9Y2F0Y2godCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZX19KGUpKXJldHVybiBlO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2lmKHZvaWQgMCE9PXQpe2lmKHQuaGFzKGUpKXJldHVybiB0LmdldChlKTt0LnNldChlLG4pfWZ1bmN0aW9uIG4oKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe2lmKEhzKCkpcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0LmFwcGx5KG51bGwsYXJndW1lbnRzKTt2YXIgcj1bbnVsbF07ci5wdXNoLmFwcGx5KHIsdCk7dmFyIGk9bmV3KGUuYmluZC5hcHBseShlLHIpKTtyZXR1cm4gbiYmYyhpLG4ucHJvdG90eXBlKSxpfShlLGFyZ3VtZW50cyxhKHRoaXMpLmNvbnN0cnVjdG9yKX1yZXR1cm4gbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOm4sZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksYyhuLGUpfSxHcyhlKX1mdW5jdGlvbiBRcygpe3RyeXt2YXIgZT0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaChlKXt9cmV0dXJuKFFzPWZ1bmN0aW9uKCl7cmV0dXJuISFlfSkoKX1mdW5jdGlvbiBLcyhlKXt2YXIgdCxuPW51bGw9PT0odD13aW5kb3cuX2RhaWx5KXx8dm9pZCAwPT09dD92b2lkIDA6dC5wZW5kaW5ncztpZihuKXt2YXIgcj1uLmluZGV4T2YoZSk7LTEhPT1yJiZuLnNwbGljZShyLDEpfX12YXIgWXM9ZnVuY3Rpb24oKXtyZXR1cm4gbygoZnVuY3Rpb24gZShuKXt0KHRoaXMsZSksdGhpcy5fY3VycmVudExvYWQ9bnVsbCx0aGlzLl9jYWxsQ2xpZW50SWQ9bn0pLFt7a2V5OlwibG9hZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHI9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsaT1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDtpZih0aGlzLmxvYWRlZClyZXR1cm4gd2luZG93Ll9kYWlseS5pbnN0YW5jZXNbdGhpcy5fY2FsbENsaWVudElkXS5jYWxsTWFjaGluZS5yZXNldCgpLHZvaWQgcighMCk7ZT10aGlzLl9jYWxsQ2xpZW50SWQsd2luZG93Ll9kYWlseS5wZW5kaW5ncy5wdXNoKGUpLHRoaXMuX2N1cnJlbnRMb2FkJiZ0aGlzLl9jdXJyZW50TG9hZC5jYW5jZWwoKSx0aGlzLl9jdXJyZW50TG9hZD1uZXcgWHMobiwoZnVuY3Rpb24oKXtyKCExKX0pLChmdW5jdGlvbihlLG4pe258fEtzKHQuX2NhbGxDbGllbnRJZCksaShlLG4pfSkpLHRoaXMuX2N1cnJlbnRMb2FkLnN0YXJ0KCl9fSx7a2V5OlwiY2FuY2VsXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50TG9hZCYmdGhpcy5fY3VycmVudExvYWQuY2FuY2VsKCksS3ModGhpcy5fY2FsbENsaWVudElkKX19LHtrZXk6XCJsb2FkZWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudExvYWQmJnRoaXMuX2N1cnJlbnRMb2FkLnN1Y2NlZWRlZH19XSl9KCksWHM9ZnVuY3Rpb24oKXtyZXR1cm4gbygoZnVuY3Rpb24gZSgpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxyPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLGk9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7dCh0aGlzLGUpLHRoaXMuX2F0dGVtcHRzUmVtYWluaW5nPTMsdGhpcy5fY3VycmVudEF0dGVtcHQ9bnVsbCx0aGlzLl9kYWlseUNvbmZpZz1uLHRoaXMuX3N1Y2Nlc3NDYWxsYmFjaz1yLHRoaXMuX2ZhaWx1cmVDYWxsYmFjaz1pfSksW3trZXk6XCJzdGFydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdGhpcy5fY3VycmVudEF0dGVtcHQpe3ZhciB0PWZ1bmN0aW9uKG4pe2UuX2N1cnJlbnRBdHRlbXB0LmNhbmNlbGxlZHx8KGUuX2F0dGVtcHRzUmVtYWluaW5nLS0sZS5fZmFpbHVyZUNhbGxiYWNrKG4sZS5fYXR0ZW1wdHNSZW1haW5pbmc+MCksZS5fYXR0ZW1wdHNSZW1haW5pbmc8PTB8fHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5fY3VycmVudEF0dGVtcHQuY2FuY2VsbGVkfHwoZS5fY3VycmVudEF0dGVtcHQ9bmV3IHRhKGUuX2RhaWx5Q29uZmlnLGUuX3N1Y2Nlc3NDYWxsYmFjayx0KSxlLl9jdXJyZW50QXR0ZW1wdC5zdGFydCgpKX0pLDNlMykpfTt0aGlzLl9jdXJyZW50QXR0ZW1wdD1uZXcgdGEodGhpcy5fZGFpbHlDb25maWcsdGhpcy5fc3VjY2Vzc0NhbGxiYWNrLHQpLHRoaXMuX2N1cnJlbnRBdHRlbXB0LnN0YXJ0KCl9fX0se2tleTpcImNhbmNlbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY3VycmVudEF0dGVtcHQmJnRoaXMuX2N1cnJlbnRBdHRlbXB0LmNhbmNlbCgpfX0se2tleTpcImNhbmNlbGxlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50QXR0ZW1wdCYmdGhpcy5fY3VycmVudEF0dGVtcHQuY2FuY2VsbGVkfX0se2tleTpcInN1Y2NlZWRlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50QXR0ZW1wdCYmdGhpcy5fY3VycmVudEF0dGVtcHQuc3VjY2VlZGVkfX1dKX0oKSxacz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdCh0aGlzLGUpLG49dGhpcyxpPWFyZ3VtZW50cyxyPWEocj1lKSxzKG4sUXMoKT9SZWZsZWN0LmNvbnN0cnVjdChyLGl8fFtdLGEobikuY29uc3RydWN0b3IpOnIuYXBwbHkobixpKSk7dmFyIG4scixpfXJldHVybiBsKGUsR3MoRXJyb3IpKSxvKGUpfSgpLGVhPTJlNCx0YT1mdW5jdGlvbigpe3JldHVybiBvKChmdW5jdGlvbiBlKG4scixpKXt0KHRoaXMsZSksdGhpcy5fbG9hZEF0dGVtcHRJbXBsPXlzKCl8fCFuLmF2b2lkRXZhbD9uZXcgbmEobixyLGkpOm5ldyByYShuLHIsaSl9KSxbe2tleTpcInN0YXJ0XCIsdmFsdWU6KGU9cCgoZnVuY3Rpb24qKCl7cmV0dXJuIHRoaXMuX2xvYWRBdHRlbXB0SW1wbC5zdGFydCgpfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJjYW5jZWxcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2xvYWRBdHRlbXB0SW1wbC5jYW5jZWwoKX19LHtrZXk6XCJjYW5jZWxsZWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9hZEF0dGVtcHRJbXBsLmNhbmNlbGxlZH19LHtrZXk6XCJzdWNjZWVkZWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9hZEF0dGVtcHRJbXBsLnN1Y2NlZWRlZH19XSk7dmFyIGV9KCksbmE9ZnVuY3Rpb24oKXtyZXR1cm4gbygoZnVuY3Rpb24gZShuLHIsaSl7dCh0aGlzLGUpLHRoaXMuY2FuY2VsbGVkPSExLHRoaXMuc3VjY2VlZGVkPSExLHRoaXMuX25ldHdvcmtUaW1lZE91dD0hMSx0aGlzLl9uZXR3b3JrVGltZW91dD1udWxsLHRoaXMuX2lvc0NhY2hlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBpT1NDYWxsT2JqZWN0QnVuZGxlQ2FjaGUmJmlPU0NhbGxPYmplY3RCdW5kbGVDYWNoZSx0aGlzLl9yZWZldGNoSGVhZGVycz1udWxsLHRoaXMuX2RhaWx5Q29uZmlnPW4sdGhpcy5fc3VjY2Vzc0NhbGxiYWNrPXIsdGhpcy5fZmFpbHVyZUNhbGxiYWNrPWl9KSxbe2tleTpcInN0YXJ0XCIsdmFsdWU6KGk9cCgoZnVuY3Rpb24qKCl7dmFyIGU9Wih0aGlzLl9kYWlseUNvbmZpZyk7ISh5aWVsZCB0aGlzLl90cnlMb2FkRnJvbUlPU0NhY2hlKGUpKSYmdGhpcy5fbG9hZEZyb21OZXR3b3JrKGUpfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJjYW5jZWxcIix2YWx1ZTpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9uZXR3b3JrVGltZW91dCksdGhpcy5jYW5jZWxsZWQ9ITB9fSx7a2V5OlwiX3RyeUxvYWRGcm9tSU9TQ2FjaGVcIix2YWx1ZToocj1wKChmdW5jdGlvbiooZSl7aWYoIXRoaXMuX2lvc0NhY2hlKXJldHVybiExO3RyeXt2YXIgdD15aWVsZCB0aGlzLl9pb3NDYWNoZS5nZXQoZSk7cmV0dXJuISF0aGlzLmNhbmNlbGxlZHx8ISF0JiYodC5jb2RlPyhGdW5jdGlvbignXCJ1c2Ugc3RyaWN0XCI7Jyt0LmNvZGUpKCksdGhpcy5zdWNjZWVkZWQ9ITAsdGhpcy5fc3VjY2Vzc0NhbGxiYWNrKCksITApOih0aGlzLl9yZWZldGNoSGVhZGVycz10LnJlZmV0Y2hIZWFkZXJzLCExKSl9Y2F0Y2goZSl7cmV0dXJuITF9fSkpLGZ1bmN0aW9uKGUpe3JldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiX2xvYWRGcm9tTmV0d29ya1wiLHZhbHVlOihuPXAoKGZ1bmN0aW9uKihlKXt2YXIgdD10aGlzO3RoaXMuX25ldHdvcmtUaW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5fbmV0d29ya1RpbWVkT3V0PSEwLHQuX2ZhaWx1cmVDYWxsYmFjayh7bXNnOlwiVGltZWQgb3V0ICg+XCIuY29uY2F0KGVhLFwiIG1zKSB3aGVuIGxvYWRpbmcgY2FsbCBvYmplY3QgYnVuZGxlIFwiKS5jb25jYXQoZSksdHlwZTpcInRpbWVvdXRcIn0pfSksZWEpO3RyeXt2YXIgbj10aGlzLl9yZWZldGNoSGVhZGVycz97aGVhZGVyczp0aGlzLl9yZWZldGNoSGVhZGVyc306e30scj15aWVsZCBmZXRjaChlLG4pO2lmKGNsZWFyVGltZW91dCh0aGlzLl9uZXR3b3JrVGltZW91dCksdGhpcy5jYW5jZWxsZWR8fHRoaXMuX25ldHdvcmtUaW1lZE91dCl0aHJvdyBuZXcgWnM7dmFyIGk9eWllbGQgdGhpcy5fZ2V0QnVuZGxlQ29kZUZyb21SZXNwb25zZShlLHIpO2lmKHRoaXMuY2FuY2VsbGVkKXRocm93IG5ldyBacztGdW5jdGlvbignXCJ1c2Ugc3RyaWN0XCI7JytpKSgpLHRoaXMuX2lvc0NhY2hlJiZ0aGlzLl9pb3NDYWNoZS5zZXQoZSxpLHIuaGVhZGVycyksdGhpcy5zdWNjZWVkZWQ9ITAsdGhpcy5fc3VjY2Vzc0NhbGxiYWNrKCl9Y2F0Y2godCl7aWYoY2xlYXJUaW1lb3V0KHRoaXMuX25ldHdvcmtUaW1lb3V0KSx0IGluc3RhbmNlb2YgWnN8fHRoaXMuY2FuY2VsbGVkfHx0aGlzLl9uZXR3b3JrVGltZWRPdXQpcmV0dXJuO3RoaXMuX2ZhaWx1cmVDYWxsYmFjayh7bXNnOlwiRmFpbGVkIHRvIGxvYWQgY2FsbCBvYmplY3QgYnVuZGxlIFwiLmNvbmNhdChlLFwiOiBcIikuY29uY2F0KHQpLHR5cGU6dC5tZXNzYWdlfSl9fSkpLGZ1bmN0aW9uKGUpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiX2dldEJ1bmRsZUNvZGVGcm9tUmVzcG9uc2VcIix2YWx1ZTooZT1wKChmdW5jdGlvbiooZSx0KXtpZih0Lm9rKXJldHVybiB5aWVsZCB0LnRleHQoKTtpZih0aGlzLl9pb3NDYWNoZSYmMzA0PT09dC5zdGF0dXMpcmV0dXJuKHlpZWxkIHRoaXMuX2lvc0NhY2hlLnJlbmV3KGUsdC5oZWFkZXJzKSkuY29kZTt0aHJvdyBuZXcgRXJyb3IoXCJSZWNlaXZlZCBcIi5jb25jYXQodC5zdGF0dXMsXCIgcmVzcG9uc2VcIikpfSkpLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9XSk7dmFyIGUsbixyLGl9KCkscmE9ZnVuY3Rpb24oKXtyZXR1cm4gbygoZnVuY3Rpb24gZShuLHIsaSl7dCh0aGlzLGUpLHRoaXMuY2FuY2VsbGVkPSExLHRoaXMuc3VjY2VlZGVkPSExLHRoaXMuX2RhaWx5Q29uZmlnPW4sdGhpcy5fc3VjY2Vzc0NhbGxiYWNrPXIsdGhpcy5fZmFpbHVyZUNhbGxiYWNrPWksdGhpcy5fYXR0ZW1wdElkPUsoKSx0aGlzLl9uZXR3b3JrVGltZW91dD1udWxsLHRoaXMuX3NjcmlwdEVsZW1lbnQ9bnVsbH0pLFt7a2V5Olwic3RhcnRcIix2YWx1ZTpmdW5jdGlvbigpe3dpbmRvdy5fZGFpbHlDYWxsTWFjaGluZUxvYWRXYWl0bGlzdHx8KHdpbmRvdy5fZGFpbHlDYWxsTWFjaGluZUxvYWRXYWl0bGlzdD1uZXcgU2V0KTt2YXIgZT1aKHRoaXMuX2RhaWx5Q29uZmlnKTtcIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudD9cInVuZGVmaW5lZFwiOm4oZG9jdW1lbnQpKT90aGlzLl9zdGFydExvYWRpbmcoZSk6dGhpcy5fZmFpbHVyZUNhbGxiYWNrKHttc2c6XCJDYWxsIG9iamVjdCBidW5kbGUgbXVzdCBiZSBsb2FkZWQgaW4gYSBET00vd2ViIGNvbnRleHRcIix0eXBlOlwibWlzc2luZyBjb250ZXh0XCJ9KX19LHtrZXk6XCJjYW5jZWxcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3N0b3BMb2FkaW5nKCksdGhpcy5jYW5jZWxsZWQ9ITB9fSx7a2V5OlwiX3N0YXJ0TG9hZGluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fc2lnblVwRm9yQ2FsbE1hY2hpbmVMb2FkV2FpdGxpc3QoKSx0aGlzLl9uZXR3b3JrVGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuX3N0b3BMb2FkaW5nKCksdC5fZmFpbHVyZUNhbGxiYWNrKHttc2c6XCJUaW1lZCBvdXQgKD5cIi5jb25jYXQoZWEsXCIgbXMpIHdoZW4gbG9hZGluZyBjYWxsIG9iamVjdCBidW5kbGUgXCIpLmNvbmNhdChlKSx0eXBlOlwidGltZW91dFwifSl9KSxlYSk7dmFyIG49ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTt0aGlzLl9zY3JpcHRFbGVtZW50PXIsci5vbmxvYWQ9ZnVuY3Rpb24oKXt0Ll9zdG9wTG9hZGluZygpLHQuc3VjY2VlZGVkPSEwLHQuX3N1Y2Nlc3NDYWxsYmFjaygpfSxyLm9uZXJyb3I9ZnVuY3Rpb24oZSl7dC5fc3RvcExvYWRpbmcoKSx0Ll9mYWlsdXJlQ2FsbGJhY2soe21zZzpcIkZhaWxlZCB0byBsb2FkIGNhbGwgb2JqZWN0IGJ1bmRsZSBcIi5jb25jYXQoZS50YXJnZXQuc3JjKSx0eXBlOmUubWVzc2FnZX0pfSxyLnNyYz1lLG4uYXBwZW5kQ2hpbGQocil9fSx7a2V5OlwiX3N0b3BMb2FkaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl93aXRoZHJhd0Zyb21DYWxsTWFjaGluZUxvYWRXYWl0bGlzdCgpLGNsZWFyVGltZW91dCh0aGlzLl9uZXR3b3JrVGltZW91dCksdGhpcy5fc2NyaXB0RWxlbWVudCYmKHRoaXMuX3NjcmlwdEVsZW1lbnQub25sb2FkPW51bGwsdGhpcy5fc2NyaXB0RWxlbWVudC5vbmVycm9yPW51bGwpfX0se2tleTpcIl9zaWduVXBGb3JDYWxsTWFjaGluZUxvYWRXYWl0bGlzdFwiLHZhbHVlOmZ1bmN0aW9uKCl7d2luZG93Ll9kYWlseUNhbGxNYWNoaW5lTG9hZFdhaXRsaXN0LmFkZCh0aGlzLl9hdHRlbXB0SWQpfX0se2tleTpcIl93aXRoZHJhd0Zyb21DYWxsTWFjaGluZUxvYWRXYWl0bGlzdFwiLHZhbHVlOmZ1bmN0aW9uKCl7d2luZG93Ll9kYWlseUNhbGxNYWNoaW5lTG9hZFdhaXRsaXN0LmRlbGV0ZSh0aGlzLl9hdHRlbXB0SWQpfX1dKX0oKSxpYT1mdW5jdGlvbihlLHQsbil7cmV0dXJuITA9PT1hYShlLmxvY2FsLHQsbil9LG9hPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5sb2NhbC5zdHJlYW1zJiZlLmxvY2FsLnN0cmVhbXNbdF0mJmUubG9jYWwuc3RyZWFtc1t0XS5zdHJlYW0mJmUubG9jYWwuc3RyZWFtc1t0XS5zdHJlYW1bXCJnZXRcIi5jb25jYXQoXCJ2aWRlb1wiPT09bj9cIlZpZGVvXCI6XCJBdWRpb1wiLFwiVHJhY2tzXCIpXSgpWzBdfSxzYT1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT1jYShlLHQsbixyKTtyZXR1cm4gaSYmaS5wZW5kaW5nVHJhY2t9LGFhPWZ1bmN0aW9uKGUsdCxuKXtpZighZSlyZXR1cm4hMTt2YXIgcj1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZVwiYXZhdGFyXCI6cmV0dXJuITA7Y2FzZVwic3RhZ2VkXCI6cmV0dXJuIGU7ZGVmYXVsdDpyZXR1cm4hIWV9fSxpPWUucHVibGljLnN1YnNjcmliZWRUcmFja3M7cmV0dXJuIGkmJmlbdF0/LTE9PT1bXCJjYW0tYXVkaW9cIixcImNhbS12aWRlb1wiLFwic2NyZWVuLXZpZGVvXCIsXCJzY3JlZW4tYXVkaW9cIixcInJtcEF1ZGlvXCIsXCJybXBWaWRlb1wiXS5pbmRleE9mKG4pJiZpW3RdLmN1c3RvbT9bITAsXCJzdGFnZWRcIl0uaW5jbHVkZXMoaVt0XS5jdXN0b20pP3IoaVt0XS5jdXN0b20pOnIoaVt0XS5jdXN0b21bbl0pOnIoaVt0XVtuXSk6IWl8fHIoaS5BTEwpfSxjYT1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT1PYmplY3QudmFsdWVzKGUuc3RyZWFtc3x8e30pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFydGljaXBhbnRJZD09PXQmJmUudHlwZT09PW4mJmUucGVuZGluZ1RyYWNrJiZlLnBlbmRpbmdUcmFjay5raW5kPT09cn0pKS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBuZXcgRGF0ZSh0LnN0YXJ0dGltZSktbmV3IERhdGUoZS5zdGFydHRpbWUpfSkpO3JldHVybiBpJiZpWzBdfSxsYT1mdW5jdGlvbihlLHQpe3ZhciBuPWUubG9jYWwucHVibGljLmN1c3RvbVRyYWNrcztpZihuJiZuW3RdKXJldHVybiBuW3RdLnRyYWNrfTtmdW5jdGlvbiB1YShlLHQpe2Zvcih2YXIgbj10LmdldFN0YXRlKCkscj0wLGk9W1wiY2FtXCIsXCJzY3JlZW5cIl07cjxpLmxlbmd0aDtyKyspZm9yKHZhciBvPWlbcl0scz0wLGE9W1widmlkZW9cIixcImF1ZGlvXCJdO3M8YS5sZW5ndGg7cysrKXt2YXIgYz1hW3NdLGw9XCJjYW1cIj09PW8/YzpcInNjcmVlblwiLmNvbmNhdChjLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Muc2xpY2UoMSkpLHU9ZS50cmFja3NbbF07aWYodSl7dmFyIGQ9ZS5sb2NhbD9vYShuLG8sYyk6c2EobixlLnNlc3Npb25faWQsbyxjKTtcInBsYXlhYmxlXCI9PT11LnN0YXRlJiYodS50cmFjaz1kKSx1LnBlcnNpc3RlbnRUcmFjaz1kfX19ZnVuY3Rpb24gZGEoZSx0KXt0cnl7dmFyIG49dC5nZXRTdGF0ZSgpO2Zvcih2YXIgciBpbiBlLnRyYWNrcylpZighcGEocikpe3ZhciBpPWUudHJhY2tzW3JdLmtpbmQ7aWYoaSl7dmFyIG89ZS50cmFja3Nbcl07aWYobyl7dmFyIHM9ZS5sb2NhbD9sYShuLHIpOnNhKG4sZS5zZXNzaW9uX2lkLHIsaSk7XCJwbGF5YWJsZVwiPT09by5zdGF0ZSYmKGUudHJhY2tzW3JdLnRyYWNrPXMpLG8ucGVyc2lzdGVudFRyYWNrPXN9fWVsc2UgY29uc29sZS5lcnJvcihcInVua25vd24gdHlwZSBmb3IgY3VzdG9tIHRyYWNrXCIpfX1jYXRjaChlKXtjb25zb2xlLmVycm9yKGUpfX1mdW5jdGlvbiBwYShlKXtyZXR1cm5bXCJ2aWRlb1wiLFwiYXVkaW9cIixcInNjcmVlblZpZGVvXCIsXCJzY3JlZW5BdWRpb1wiXS5pbmNsdWRlcyhlKX1mdW5jdGlvbiBoYShlLHQsbil7dmFyIHI9bi5nZXRTdGF0ZSgpO2lmKGUubG9jYWwpe2lmKGUuYXVkaW8pdHJ5e2UuYXVkaW9UcmFjaz1yLmxvY2FsLnN0cmVhbXMuY2FtLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdLGUuYXVkaW9UcmFja3x8KGUuYXVkaW89ITEpfWNhdGNoKGUpe31pZihlLnZpZGVvKXRyeXtlLnZpZGVvVHJhY2s9ci5sb2NhbC5zdHJlYW1zLmNhbS5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXSxlLnZpZGVvVHJhY2t8fChlLnZpZGVvPSExKX1jYXRjaChlKXt9aWYoZS5zY3JlZW4pdHJ5e2Uuc2NyZWVuVmlkZW9UcmFjaz1yLmxvY2FsLnN0cmVhbXMuc2NyZWVuLnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdLGUuc2NyZWVuQXVkaW9UcmFjaz1yLmxvY2FsLnN0cmVhbXMuc2NyZWVuLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdLGUuc2NyZWVuVmlkZW9UcmFja3x8ZS5zY3JlZW5BdWRpb1RyYWNrfHwoZS5zY3JlZW49ITEpfWNhdGNoKGUpe319ZWxzZXt2YXIgaT0hMDt0cnl7dmFyIG89ci5wYXJ0aWNpcGFudHNbZS5zZXNzaW9uX2lkXTtvJiZvLnB1YmxpYyYmby5wdWJsaWMucnRjVHlwZSYmXCJwZWVyLXRvLXBlZXJcIj09PW8ucHVibGljLnJ0Y1R5cGUuaW1wbCYmby5wcml2YXRlJiYhW1wiY29ubmVjdGVkXCIsXCJjb21wbGV0ZWRcIl0uaW5jbHVkZXMoby5wcml2YXRlLnBlZXJpbmdTdGF0ZSkmJihpPSExKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKGUpfWlmKCFpKXJldHVybiBlLmF1ZGlvPSExLGUuYXVkaW9UcmFjaz0hMSxlLnZpZGVvPSExLGUudmlkZW9UcmFjaz0hMSxlLnNjcmVlbj0hMSx2b2lkKGUuc2NyZWVuVHJhY2s9ITEpO3RyeXtyLnN0cmVhbXM7aWYoZS5hdWRpbyYmaWEocixlLnNlc3Npb25faWQsXCJjYW0tYXVkaW9cIikpe3ZhciBzPXNhKHIsZS5zZXNzaW9uX2lkLFwiY2FtXCIsXCJhdWRpb1wiKTtzJiYodCYmdC5hdWRpb1RyYWNrJiZ0LmF1ZGlvVHJhY2suaWQ9PT1zLmlkP2UuYXVkaW9UcmFjaz1zOnMubXV0ZWR8fChlLmF1ZGlvVHJhY2s9cykpLGUuYXVkaW9UcmFja3x8KGUuYXVkaW89ITEpfWlmKGUudmlkZW8mJmlhKHIsZS5zZXNzaW9uX2lkLFwiY2FtLXZpZGVvXCIpKXt2YXIgYT1zYShyLGUuc2Vzc2lvbl9pZCxcImNhbVwiLFwidmlkZW9cIik7YSYmKHQmJnQudmlkZW9UcmFjayYmdC52aWRlb1RyYWNrLmlkPT09YS5pZD9lLnZpZGVvVHJhY2s9YTphLm11dGVkfHwoZS52aWRlb1RyYWNrPWEpKSxlLnZpZGVvVHJhY2t8fChlLnZpZGVvPSExKX1pZihlLnNjcmVlbiYmaWEocixlLnNlc3Npb25faWQsXCJzY3JlZW4tYXVkaW9cIikpe3ZhciBjPXNhKHIsZS5zZXNzaW9uX2lkLFwic2NyZWVuXCIsXCJhdWRpb1wiKTtjJiYodCYmdC5zY3JlZW5BdWRpb1RyYWNrJiZ0LnNjcmVlbkF1ZGlvVHJhY2suaWQ9PT1jLmlkP2Uuc2NyZWVuQXVkaW9UcmFjaz1jOmMubXV0ZWR8fChlLnNjcmVlbkF1ZGlvVHJhY2s9YykpfWlmKGUuc2NyZWVuJiZpYShyLGUuc2Vzc2lvbl9pZCxcInNjcmVlbi12aWRlb1wiKSl7dmFyIGw9c2EocixlLnNlc3Npb25faWQsXCJzY3JlZW5cIixcInZpZGVvXCIpO2wmJih0JiZ0LnNjcmVlblZpZGVvVHJhY2smJnQuc2NyZWVuVmlkZW9UcmFjay5pZD09PWwuaWQ/ZS5zY3JlZW5WaWRlb1RyYWNrPWw6bC5tdXRlZHx8KGUuc2NyZWVuVmlkZW9UcmFjaz1sKSl9ZS5zY3JlZW5WaWRlb1RyYWNrfHxlLnNjcmVlbkF1ZGlvVHJhY2t8fChlLnNjcmVlbj0hMSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcInVuZXhwZWN0ZWQgZXJyb3IgbWF0Y2hpbmcgdXAgdHJhY2tzXCIsZSl9fX1mdW5jdGlvbiBmYShlLHQpe3ZhciBuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVtcIkBAaXRlcmF0b3JcIl07aWYoIW4pe2lmKEFycmF5LmlzQXJyYXkoZSl8fChuPWZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIHZhKGUsdCk7dmFyIG49e30udG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbShlKTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/dmEoZSx0KTp2b2lkIDB9fShlKSl8fHQmJmUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aCl7biYmKGU9bik7dmFyIHI9MCxpPWZ1bmN0aW9uKCl7fTtyZXR1cm57czppLG46ZnVuY3Rpb24oKXtyZXR1cm4gcj49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbcisrXX19LGU6ZnVuY3Rpb24oZSl7dGhyb3cgZX0sZjppfX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIG8scz0hMCxhPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1uLmNhbGwoZSl9LG46ZnVuY3Rpb24oKXt2YXIgZT1uLm5leHQoKTtyZXR1cm4gcz1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXthPSEwLG89ZX0sZjpmdW5jdGlvbigpe3RyeXtzfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgb319fX1mdW5jdGlvbiB2YShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIGdhPW5ldyBNYXAsbWE9bnVsbDtmdW5jdGlvbiB5YShlLHQpe3ZhciBuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVtcIkBAaXRlcmF0b3JcIl07aWYoIW4pe2lmKEFycmF5LmlzQXJyYXkoZSl8fChuPWZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGJhKGUsdCk7dmFyIG49e30udG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbShlKTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/YmEoZSx0KTp2b2lkIDB9fShlKSl8fHQmJmUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aCl7biYmKGU9bik7dmFyIHI9MCxpPWZ1bmN0aW9uKCl7fTtyZXR1cm57czppLG46ZnVuY3Rpb24oKXtyZXR1cm4gcj49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbcisrXX19LGU6ZnVuY3Rpb24oZSl7dGhyb3cgZX0sZjppfX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIG8scz0hMCxhPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1uLmNhbGwoZSl9LG46ZnVuY3Rpb24oKXt2YXIgZT1uLm5leHQoKTtyZXR1cm4gcz1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXthPSEwLG89ZX0sZjpmdW5jdGlvbigpe3RyeXtzfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgb319fX1mdW5jdGlvbiBiYShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIF9hPW5ldyBNYXAsd2E9bnVsbDtmdW5jdGlvbiBTYShlKXtNYSgpP2Z1bmN0aW9uKGUpe2dhLmhhcyhlKXx8KGdhLnNldChlLHt9KSxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKS50aGVuKChmdW5jdGlvbih0KXtnYS5oYXMoZSkmJihnYS5nZXQoZSkubGFzdERldmljZXNTdHJpbmc9SlNPTi5zdHJpbmdpZnkodCksbWF8fChtYT1mdW5jdGlvbigpe3ZhciBlPXAoKGZ1bmN0aW9uKigpe3ZhciBlLHQ9eWllbGQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCksbj1mYShnYS5rZXlzKCkpO3RyeXtmb3Iobi5zKCk7IShlPW4ubigpKS5kb25lOyl7dmFyIHI9ZS52YWx1ZSxpPUpTT04uc3RyaW5naWZ5KHQpO2khPT1nYS5nZXQocikubGFzdERldmljZXNTdHJpbmcmJihnYS5nZXQocikubGFzdERldmljZXNTdHJpbmc9aSxyKHQpKX19Y2F0Y2goZSl7bi5lKGUpfWZpbmFsbHl7bi5mKCl9fSkpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCksbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5hZGRFdmVudExpc3RlbmVyKFwiZGV2aWNlY2hhbmdlXCIsbWEpKSl9KSkuY2F0Y2goKGZ1bmN0aW9uKCl7fSkpKX0oZSk6ZnVuY3Rpb24oZSl7X2EuaGFzKGUpfHwoX2Euc2V0KGUse30pLG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLnRoZW4oKGZ1bmN0aW9uKHQpe19hLmhhcyhlKSYmKF9hLmdldChlKS5sYXN0RGV2aWNlc1N0cmluZz1KU09OLnN0cmluZ2lmeSh0KSx3YXx8KHdhPXNldEludGVydmFsKHAoKGZ1bmN0aW9uKigpe3ZhciBlLHQ9eWllbGQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCksbj15YShfYS5rZXlzKCkpO3RyeXtmb3Iobi5zKCk7IShlPW4ubigpKS5kb25lOyl7dmFyIHI9ZS52YWx1ZSxpPUpTT04uc3RyaW5naWZ5KHQpO2khPT1fYS5nZXQocikubGFzdERldmljZXNTdHJpbmcmJihfYS5nZXQocikubGFzdERldmljZXNTdHJpbmc9aSxyKHQpKX19Y2F0Y2goZSl7bi5lKGUpfWZpbmFsbHl7bi5mKCl9fSkpLDNlMykpKX0pKSl9KGUpfWZ1bmN0aW9uIGthKGUpe01hKCk/ZnVuY3Rpb24oZSl7Z2EuaGFzKGUpJiYoZ2EuZGVsZXRlKGUpLDA9PT1nYS5zaXplJiZtYSYmKG5hdmlnYXRvci5tZWRpYURldmljZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRldmljZWNoYW5nZVwiLG1hKSxtYT1udWxsKSl9KGUpOmZ1bmN0aW9uKGUpe19hLmhhcyhlKSYmKF9hLmRlbGV0ZShlKSwwPT09X2Euc2l6ZSYmd2EmJihjbGVhckludGVydmFsKHdhKSx3YT1udWxsKSl9KGUpfWZ1bmN0aW9uIE1hKCl7dmFyIGU7cmV0dXJuIHlzKCl8fHZvaWQgMCE9PShudWxsPT09KGU9bmF2aWdhdG9yLm1lZGlhRGV2aWNlcyl8fHZvaWQgMD09PWU/dm9pZCAwOmUub25kZXZpY2VjaGFuZ2UpfXZhciBDYT1uZXcgU2V0O2Z1bmN0aW9uIEVhKGUsdCl7dmFyIG49dC5pc0xvY2FsU2NyZWVuVmlkZW87cmV0dXJuIGUmJlwibGl2ZVwiPT09ZS5yZWFkeVN0YXRlJiYhZnVuY3Rpb24oZSx0KXtyZXR1cm4oIXQuaXNMb2NhbFNjcmVlblZpZGVvfHxcIkNocm9tZVwiIT09T3MoKSkmJmUubXV0ZWQmJiFDYS5oYXMoZS5pZCl9KGUse2lzTG9jYWxTY3JlZW5WaWRlbzpufSl9ZnVuY3Rpb24gVGEoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIE9hKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP1RhKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6VGEoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9dmFyIFBhPU9iamVjdC5mcmVlemUoe1ZJREVPOlwidmlkZW9cIixBVURJTzpcImF1ZGlvXCIsU0NSRUVOX1ZJREVPOlwic2NyZWVuVmlkZW9cIixTQ1JFRU5fQVVESU86XCJzY3JlZW5BdWRpb1wiLENVU1RPTV9WSURFTzpcImN1c3RvbVZpZGVvXCIsQ1VTVE9NX0FVRElPOlwiY3VzdG9tQXVkaW9cIn0pLEFhPU9iamVjdC5mcmVlemUoe1BBUlRJQ0lQQU5UUzpcInBhcnRpY2lwYW50c1wiLFNUUkVBTUlORzpcInN0cmVhbWluZ1wiLFRSQU5TQ1JJUFRJT046XCJ0cmFuc2NyaXB0aW9uXCJ9KSxqYT1PYmplY3QudmFsdWVzKFBhKSxJYT1bXCJ2XCIsXCJhXCIsXCJzdlwiLFwic2FcIixcImN2XCIsXCJjYVwiXTtPYmplY3QuZnJlZXplKGphLnJlZHVjZSgoZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPUlhW25dLGV9KSx7fSkpLE9iamVjdC5mcmVlemUoSWEucmVkdWNlKChmdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbdF09amFbbl0sZX0pLHt9KSk7dmFyIHhhPVtQYS5WSURFTyxQYS5BVURJTyxQYS5TQ1JFRU5fVklERU8sUGEuU0NSRUVOX0FVRElPXSxMYT1PYmplY3QudmFsdWVzKEFhKSxEYT1bXCJwXCIsXCJzXCIsXCJ0XCJdO09iamVjdC5mcmVlemUoTGEucmVkdWNlKChmdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbdF09RGFbbl0sZX0pLHt9KSksT2JqZWN0LmZyZWV6ZShEYS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1MYVtuXSxlfSkse30pKTt2YXIgTmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHI9bi5iYXNlLGk9bi5ieVVzZXJJZCxvPW4uYnlQYXJ0aWNpcGFudElkO3QodGhpcyxlKSx0aGlzLmJhc2U9cix0aGlzLmJ5VXNlcklkPWksdGhpcy5ieVBhcnRpY2lwYW50SWQ9b31yZXR1cm4gbyhlLFt7a2V5OlwiY2xvbmVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBlO2lmKHRoaXMuYmFzZSBpbnN0YW5jZW9mIFJhP3QuYmFzZT10aGlzLmJhc2UuY2xvbmUoKTp0LmJhc2U9dGhpcy5iYXNlLHZvaWQgMCE9PXRoaXMuYnlVc2VySWQpZm9yKHZhciBuIGluIHQuYnlVc2VySWQ9e30sdGhpcy5ieVVzZXJJZCl7dmFyIHI9dGhpcy5ieVVzZXJJZFtuXTt0LmJ5VXNlcklkW25dPXIgaW5zdGFuY2VvZiBSYT9yLmNsb25lKCk6cn1pZih2b2lkIDAhPT10aGlzLmJ5UGFydGljaXBhbnRJZClmb3IodmFyIGkgaW4gdC5ieVBhcnRpY2lwYW50SWQ9e30sdGhpcy5ieVBhcnRpY2lwYW50SWQpe3ZhciBvPXRoaXMuYnlQYXJ0aWNpcGFudElkW2ldO3QuYnlQYXJ0aWNpcGFudElkW2ldPW8gaW5zdGFuY2VvZiBSYT9vLmNsb25lKCk6b31yZXR1cm4gdH19LHtrZXk6XCJ0b0pTT05PYmplY3RcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXt9O2lmKFwiYm9vbGVhblwiPT10eXBlb2YgdGhpcy5iYXNlP2UuYmFzZT10aGlzLmJhc2U6dGhpcy5iYXNlIGluc3RhbmNlb2YgUmEmJihlLmJhc2U9dGhpcy5iYXNlLnRvSlNPTk9iamVjdCgpKSx2b2lkIDAhPT10aGlzLmJ5VXNlcklkKWZvcih2YXIgdCBpbiBlLmJ5VXNlcklkPXt9LHRoaXMuYnlVc2VySWQpe3ZhciBuPXRoaXMuYnlVc2VySWRbdF07ZS5ieVVzZXJJZFt0XT1uIGluc3RhbmNlb2YgUmE/bi50b0pTT05PYmplY3QoKTpufWlmKHZvaWQgMCE9PXRoaXMuYnlQYXJ0aWNpcGFudElkKWZvcih2YXIgciBpbiBlLmJ5UGFydGljaXBhbnRJZD17fSx0aGlzLmJ5UGFydGljaXBhbnRJZCl7dmFyIGk9dGhpcy5ieVBhcnRpY2lwYW50SWRbcl07ZS5ieVBhcnRpY2lwYW50SWRbcl09aSBpbnN0YW5jZW9mIFJhP2kudG9KU09OT2JqZWN0KCk6aX1yZXR1cm4gZX19LHtrZXk6XCJ0b01pbmlmaWVkSlNPTk9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e307aWYodm9pZCAwIT09dGhpcy5iYXNlJiYoXCJib29sZWFuXCI9PXR5cGVvZiB0aGlzLmJhc2U/ZS5iPXRoaXMuYmFzZTplLmI9dGhpcy5iYXNlLnRvTWluaWZpZWRKU09OT2JqZWN0KCkpLHZvaWQgMCE9PXRoaXMuYnlVc2VySWQpZm9yKHZhciB0IGluIGUudT17fSx0aGlzLmJ5VXNlcklkKXt2YXIgbj10aGlzLmJ5VXNlcklkW3RdO2UudVt0XT1cImJvb2xlYW5cIj09dHlwZW9mIG4/bjpuLnRvTWluaWZpZWRKU09OT2JqZWN0KCl9aWYodm9pZCAwIT09dGhpcy5ieVBhcnRpY2lwYW50SWQpZm9yKHZhciByIGluIGUucD17fSx0aGlzLmJ5UGFydGljaXBhbnRJZCl7dmFyIGk9dGhpcy5ieVBhcnRpY2lwYW50SWRbcl07ZS5wW3JdPVwiYm9vbGVhblwiPT10eXBlb2YgaT9pOmkudG9NaW5pZmllZEpTT05PYmplY3QoKX1yZXR1cm4gZX19LHtrZXk6XCJub3JtYWxpemVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJhc2UgaW5zdGFuY2VvZiBSYSYmKHRoaXMuYmFzZT10aGlzLmJhc2Uubm9ybWFsaXplKCkpLHRoaXMuYnlVc2VySWQmJih0aGlzLmJ5VXNlcklkPU9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0aGlzLmJ5VXNlcklkKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWYoZSwyKSxuPXRbMF0scj10WzFdO3JldHVybltuLHIgaW5zdGFuY2VvZiBSYT9yLm5vcm1hbGl6ZSgpOnJdfSkpKSksdGhpcy5ieVBhcnRpY2lwYW50SWQmJih0aGlzLmJ5UGFydGljaXBhbnRJZD1PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModGhpcy5ieVBhcnRpY2lwYW50SWQpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZihlLDIpLG49dFswXSxyPXRbMV07cmV0dXJuW24sciBpbnN0YW5jZW9mIFJhP3Iubm9ybWFsaXplKCk6cl19KSkpKSx0aGlzfX1dLFt7a2V5OlwiZnJvbUpTT05PYmplY3RcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbixyLGk7aWYodm9pZCAwIT09dC5iYXNlJiYobj1cImJvb2xlYW5cIj09dHlwZW9mIHQuYmFzZT90LmJhc2U6UmEuZnJvbUpTT05PYmplY3QodC5iYXNlKSksdm9pZCAwIT09dC5ieVVzZXJJZClmb3IodmFyIG8gaW4gcj17fSx0LmJ5VXNlcklkKXt2YXIgcz10LmJ5VXNlcklkW29dO3Jbb109XCJib29sZWFuXCI9PXR5cGVvZiBzP3M6UmEuZnJvbUpTT05PYmplY3Qocyl9aWYodm9pZCAwIT09dC5ieVBhcnRpY2lwYW50SWQpZm9yKHZhciBhIGluIGk9e30sdC5ieVBhcnRpY2lwYW50SWQpe3ZhciBjPXQuYnlQYXJ0aWNpcGFudElkW2FdO2lbYV09XCJib29sZWFuXCI9PXR5cGVvZiBjP2M6UmEuZnJvbUpTT05PYmplY3QoYyl9cmV0dXJuIG5ldyBlKHtiYXNlOm4sYnlVc2VySWQ6cixieVBhcnRpY2lwYW50SWQ6aX0pfX0se2tleTpcImZyb21NaW5pZmllZEpTT05PYmplY3RcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbixyLGk7aWYodm9pZCAwIT09dC5iJiYobj1cImJvb2xlYW5cIj09dHlwZW9mIHQuYj90LmI6UmEuZnJvbU1pbmlmaWVkSlNPTk9iamVjdCh0LmIpKSx2b2lkIDAhPT10LnUpZm9yKHZhciBvIGluIHI9e30sdC51KXt2YXIgcz10LnVbb107cltvXT1cImJvb2xlYW5cIj09dHlwZW9mIHM/czpSYS5mcm9tTWluaWZpZWRKU09OT2JqZWN0KHMpfWlmKHZvaWQgMCE9PXQucClmb3IodmFyIGEgaW4gaT17fSx0LnApe3ZhciBjPXQucFthXTtpW2FdPVwiYm9vbGVhblwiPT10eXBlb2YgYz9jOlJhLmZyb21NaW5pZmllZEpTT05PYmplY3QoYyl9cmV0dXJuIG5ldyBlKHtiYXNlOm4sYnlVc2VySWQ6cixieVBhcnRpY2lwYW50SWQ6aX0pfX0se2tleTpcInZhbGlkYXRlSlNPTk9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPT1uKGUpKXJldHVyblshMSxcImNhblJlY2VpdmUgbXVzdCBiZSBhbiBvYmplY3RcIl07Zm9yKHZhciB0PVtcImJhc2VcIixcImJ5VXNlcklkXCIsXCJieVBhcnRpY2lwYW50SWRcIl0scj0wLGk9T2JqZWN0LmtleXMoZSk7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07aWYoIXQuaW5jbHVkZXMobykpcmV0dXJuWyExLFwiY2FuUmVjZWl2ZSBjYW4gb25seSBjb250YWluIGtleXMgKFwiLmNvbmNhdCh0LmpvaW4oXCIsIFwiKSxcIilcIildO2lmKFwiYmFzZVwiPT09byl7dmFyIHM9ZihSYS52YWxpZGF0ZUpTT05PYmplY3QoZS5iYXNlLCEwKSwyKSxhPXNbMF0sYz1zWzFdO2lmKCFhKXJldHVyblshMSxjXX1lbHNle2lmKFwib2JqZWN0XCIhPT1uKGVbb10pKXJldHVyblshMSxcImludmFsaWQgKG5vbi1vYmplY3QpIHZhbHVlIGZvciBmaWVsZCAnXCIuY29uY2F0KG8sXCInIGluIGNhblJlY2VpdmVcIildO2Zvcih2YXIgbD0wLHU9T2JqZWN0LnZhbHVlcyhlW29dKTtsPHUubGVuZ3RoO2wrKyl7dmFyIGQ9dVtsXSxwPWYoUmEudmFsaWRhdGVKU09OT2JqZWN0KGQpLDIpLGg9cFswXSx2PXBbMV07aWYoIWgpcmV0dXJuWyExLHZdfX19cmV0dXJuWyEwXX19XSl9KCksUmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHI9bi52aWRlbyxpPW4uYXVkaW8sbz1uLnNjcmVlblZpZGVvLHM9bi5zY3JlZW5BdWRpbyxhPW4uY3VzdG9tVmlkZW8sYz1uLmN1c3RvbUF1ZGlvO3QodGhpcyxlKSx0aGlzLnZpZGVvPXIsdGhpcy5hdWRpbz1pLHRoaXMuc2NyZWVuVmlkZW89byx0aGlzLnNjcmVlbkF1ZGlvPXMsdGhpcy5jdXN0b21WaWRlbz1hLHRoaXMuY3VzdG9tQXVkaW89Y31yZXR1cm4gbyhlLFt7a2V5OlwiY2xvbmVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBlO3JldHVybiB2b2lkIDAhPT10aGlzLnZpZGVvJiYodC52aWRlbz10aGlzLnZpZGVvKSx2b2lkIDAhPT10aGlzLmF1ZGlvJiYodC5hdWRpbz10aGlzLmF1ZGlvKSx2b2lkIDAhPT10aGlzLnNjcmVlblZpZGVvJiYodC5zY3JlZW5WaWRlbz10aGlzLnNjcmVlblZpZGVvKSx2b2lkIDAhPT10aGlzLnNjcmVlbkF1ZGlvJiYodC5zY3JlZW5BdWRpbz10aGlzLnNjcmVlbkF1ZGlvKSx2b2lkIDAhPT10aGlzLmN1c3RvbVZpZGVvJiYodC5jdXN0b21WaWRlbz1PYSh7fSx0aGlzLmN1c3RvbVZpZGVvKSksdm9pZCAwIT09dGhpcy5jdXN0b21BdWRpbyYmKHQuY3VzdG9tQXVkaW89T2Eoe30sdGhpcy5jdXN0b21BdWRpbykpLHR9fSx7a2V5OlwidG9KU09OT2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gdm9pZCAwIT09dGhpcy52aWRlbyYmKGUudmlkZW89dGhpcy52aWRlbyksdm9pZCAwIT09dGhpcy5hdWRpbyYmKGUuYXVkaW89dGhpcy5hdWRpbyksdm9pZCAwIT09dGhpcy5zY3JlZW5WaWRlbyYmKGUuc2NyZWVuVmlkZW89dGhpcy5zY3JlZW5WaWRlbyksdm9pZCAwIT09dGhpcy5zY3JlZW5BdWRpbyYmKGUuc2NyZWVuQXVkaW89dGhpcy5zY3JlZW5BdWRpbyksdm9pZCAwIT09dGhpcy5jdXN0b21WaWRlbyYmKGUuY3VzdG9tVmlkZW89T2Eoe30sdGhpcy5jdXN0b21WaWRlbykpLHZvaWQgMCE9PXRoaXMuY3VzdG9tQXVkaW8mJihlLmN1c3RvbUF1ZGlvPU9hKHt9LHRoaXMuY3VzdG9tQXVkaW8pKSxlfX0se2tleTpcInRvTWluaWZpZWRKU09OT2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gdm9pZCAwIT09dGhpcy52aWRlbyYmKGUudj10aGlzLnZpZGVvKSx2b2lkIDAhPT10aGlzLmF1ZGlvJiYoZS5hPXRoaXMuYXVkaW8pLHZvaWQgMCE9PXRoaXMuc2NyZWVuVmlkZW8mJihlLnN2PXRoaXMuc2NyZWVuVmlkZW8pLHZvaWQgMCE9PXRoaXMuc2NyZWVuQXVkaW8mJihlLnNhPXRoaXMuc2NyZWVuQXVkaW8pLHZvaWQgMCE9PXRoaXMuY3VzdG9tVmlkZW8mJihlLmN2PU9hKHt9LHRoaXMuY3VzdG9tVmlkZW8pKSx2b2lkIDAhPT10aGlzLmN1c3RvbUF1ZGlvJiYoZS5jYT1PYSh7fSx0aGlzLmN1c3RvbUF1ZGlvKSksZX19LHtrZXk6XCJub3JtYWxpemVcIix2YWx1ZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtyZXR1cm4gZSYmMT09PU9iamVjdC5rZXlzKGUpLmxlbmd0aCYmZVtcIipcIl09PT10fXJldHVybiEoITAhPT10aGlzLnZpZGVvfHwhMCE9PXRoaXMuYXVkaW98fCEwIT09dGhpcy5zY3JlZW5WaWRlb3x8ITAhPT10aGlzLnNjcmVlbkF1ZGlvfHwhZSh0aGlzLmN1c3RvbVZpZGVvLCEwKXx8IWUodGhpcy5jdXN0b21BdWRpbywhMCkpfHwoITEhPT10aGlzLnZpZGVvfHwhMSE9PXRoaXMuYXVkaW98fCExIT09dGhpcy5zY3JlZW5WaWRlb3x8ITEhPT10aGlzLnNjcmVlbkF1ZGlvfHwhZSh0aGlzLmN1c3RvbVZpZGVvLCExKXx8IWUodGhpcy5jdXN0b21BdWRpbywhMSkpJiZ0aGlzfX1dLFt7a2V5OlwiZnJvbUJvb2xlYW5cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUoe3ZpZGVvOnQsYXVkaW86dCxzY3JlZW5WaWRlbzp0LHNjcmVlbkF1ZGlvOnQsY3VzdG9tVmlkZW86e1wiKlwiOnR9LGN1c3RvbUF1ZGlvOntcIipcIjp0fX0pfX0se2tleTpcImZyb21KU09OT2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHt2aWRlbzp0LnZpZGVvLGF1ZGlvOnQuYXVkaW8sc2NyZWVuVmlkZW86dC5zY3JlZW5WaWRlbyxzY3JlZW5BdWRpbzp0LnNjcmVlbkF1ZGlvLGN1c3RvbVZpZGVvOnZvaWQgMCE9PXQuY3VzdG9tVmlkZW8/T2Eoe30sdC5jdXN0b21WaWRlbyk6dm9pZCAwLGN1c3RvbUF1ZGlvOnZvaWQgMCE9PXQuY3VzdG9tQXVkaW8/T2Eoe30sdC5jdXN0b21BdWRpbyk6dm9pZCAwfSl9fSx7a2V5OlwiZnJvbU1pbmlmaWVkSlNPTk9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh7dmlkZW86dC52LGF1ZGlvOnQuYSxzY3JlZW5WaWRlbzp0LnN2LHNjcmVlbkF1ZGlvOnQuc2EsY3VzdG9tVmlkZW86dC5jdixjdXN0b21BdWRpbzp0LmNhfSl9fSx7a2V5OlwidmFsaWRhdGVKU09OT2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZihcImJvb2xlYW5cIj09dHlwZW9mIGUpcmV0dXJuWyEwXTtpZihcIm9iamVjdFwiIT09bihlKSlyZXR1cm5bITEsXCJpbnZhbGlkIChub24tb2JqZWN0LCBub24tYm9vbGVhbikgdmFsdWUgaW4gY2FuUmVjZWl2ZVwiXTtmb3IodmFyIHI9T2JqZWN0LmtleXMoZSksaT0wLG89cjtpPG8ubGVuZ3RoO2krKyl7dmFyIHM9b1tpXTtpZighamEuaW5jbHVkZXMocykpcmV0dXJuWyExLFwiaW52YWxpZCBtZWRpYSB0eXBlICdcIi5jb25jYXQocyxcIicgaW4gY2FuUmVjZWl2ZVwiKV07aWYoeGEuaW5jbHVkZXMocykpe2lmKFwiYm9vbGVhblwiIT10eXBlb2YgZVtzXSlyZXR1cm5bITEsXCJpbnZhbGlkIChub24tYm9vbGVhbikgdmFsdWUgZm9yIG1lZGlhIHR5cGUgJ1wiLmNvbmNhdChzLFwiJyBpbiBjYW5SZWNlaXZlXCIpXX1lbHNle2lmKFwib2JqZWN0XCIhPT1uKGVbc10pKXJldHVyblshMSxcImludmFsaWQgKG5vbi1vYmplY3QpIHZhbHVlIGZvciBtZWRpYSB0eXBlICdcIi5jb25jYXQocyxcIicgaW4gY2FuUmVjZWl2ZVwiKV07Zm9yKHZhciBhPTAsYz1PYmplY3QudmFsdWVzKGVbc10pO2E8Yy5sZW5ndGg7YSsrKXtpZihcImJvb2xlYW5cIiE9dHlwZW9mIGNbYV0pcmV0dXJuWyExLFwiaW52YWxpZCAobm9uLWJvb2xlYW4pIHZhbHVlIGZvciBlbnRyeSB3aXRoaW4gJ1wiLmNvbmNhdChzLFwiJyBpbiBjYW5SZWNlaXZlXCIpXX1pZih0JiZ2b2lkIDA9PT1lW3NdW1wiKlwiXSlyZXR1cm5bITEsJ2NhblJlY2VpdmUgXCJiYXNlXCIgcGVybWlzc2lvbiBtdXN0IHNwZWNpZnkgXCIqXCIgYXMgYW4gZW50cnkgd2l0aGluIFxcJycuY29uY2F0KHMsXCInXCIpXX19cmV0dXJuIHQmJnIubGVuZ3RoIT09amEubGVuZ3RoP1shMSwnY2FuUmVjZWl2ZSBcImJhc2VcIiBwZXJtaXNzaW9uIG11c3Qgc3BlY2lmeSBhbGwgbWVkaWEgdHlwZXM6ICcuY29uY2F0KGphLmpvaW4oXCIsIFwiKSxcIiAob3IgYmUgc2V0IHRvIGEgYm9vbGVhbiBzaG9ydGhhbmQpXCIpXTpbITBdfX1dKX0oKSxGYT1bXCJyZXN1bHRcIl0sQmE9W1wicHJlc2VydmVJZnJhbWVcIl07ZnVuY3Rpb24gVWEoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIFZhKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP1VhKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6VWEoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gSmEoKXt0cnl7dmFyIGU9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2goZSl7fXJldHVybihKYT1mdW5jdGlvbigpe3JldHVybiEhZX0pKCl9ZnVuY3Rpb24gJGEoZSx0KXt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbXCJAQGl0ZXJhdG9yXCJdO2lmKCFuKXtpZihBcnJheS5pc0FycmF5KGUpfHwobj1mdW5jdGlvbihlLHQpe2lmKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBxYShlLHQpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20oZSk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP3FhKGUsdCk6dm9pZCAwfX0oZSkpfHx0JiZlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpe24mJihlPW4pO3ZhciByPTAsaT1mdW5jdGlvbigpe307cmV0dXJue3M6aSxuOmZ1bmN0aW9uKCl7cmV0dXJuIHI+PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW3IrK119fSxlOmZ1bmN0aW9uKGUpe3Rocm93IGV9LGY6aX19dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXZhciBvLHM9ITAsYT0hMTtyZXR1cm57czpmdW5jdGlvbigpe249bi5jYWxsKGUpfSxuOmZ1bmN0aW9uKCl7dmFyIGU9bi5uZXh0KCk7cmV0dXJuIHM9ZS5kb25lLGV9LGU6ZnVuY3Rpb24oZSl7YT0hMCxvPWV9LGY6ZnVuY3Rpb24oKXt0cnl7c3x8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IG99fX19ZnVuY3Rpb24gcWEoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciB6YT17fTt2YXIgV2E9XCJ2aWRlb1wiLEhhPVwidm9pY2VcIixHYT15cygpP3tkYXRhOnt9fTp7ZGF0YTp7fSx0b3BvbG9neTpcIm5vbmVcIn0sUWE9e3ByZXNlbnQ6MCxoaWRkZW46MH0sS2E9e21heEJpdHJhdGU6e21pbjoxZTUsbWF4OjI1ZTV9LG1heEZyYW1lcmF0ZTp7bWluOjEsbWF4OjMwfSxzY2FsZVJlc29sdXRpb25Eb3duQnk6e21pbjoxLG1heDo4fX0sWWE9T2JqZWN0LmtleXMoS2EpLFhhPVtcInN0YXRlXCIsXCJ2b2x1bWVcIixcInNpbXVsY2FzdEVuY29kaW5nc1wiXSxaYT17YW5kcm9pZEluQ2FsbE5vdGlmaWNhdGlvbjp7dGl0bGU6XCJzdHJpbmdcIixzdWJ0aXRsZTpcInN0cmluZ1wiLGljb25OYW1lOlwic3RyaW5nXCIsZGlzYWJsZUZvckN1c3RvbU92ZXJyaWRlOlwiYm9vbGVhblwifSxkaXNhYmxlQXV0b0RldmljZU1hbmFnZW1lbnQ6e2F1ZGlvOlwiYm9vbGVhblwiLHZpZGVvOlwiYm9vbGVhblwifX0sZWM9e2lkOntpY29uUGF0aDpcInN0cmluZ1wiLGljb25QYXRoRGFya01vZGU6XCJzdHJpbmdcIixsYWJlbDpcInN0cmluZ1wiLHRvb2x0aXA6XCJzdHJpbmdcIix2aXN1YWxTdGF0ZTpcIidkZWZhdWx0JyB8ICdzaWRlYmFyLW9wZW4nIHwgJ2FjdGl2ZSdcIn19LHRjPXtpZDp7YWxsb3c6XCJzdHJpbmdcIixjb250cm9sbGVkQnk6XCInKicgfCAnb3duZXJzJyB8IHN0cmluZ1tdXCIsY3NwOlwic3RyaW5nXCIsaWNvblVSTDpcInN0cmluZ1wiLGxhYmVsOlwic3RyaW5nXCIsbG9hZGluZzpcIidlYWdlcicgfCAnbGF6eSdcIixsb2NhdGlvbjpcIidtYWluJyB8ICdzaWRlYmFyJ1wiLG5hbWU6XCJzdHJpbmdcIixyZWZlcnJlclBvbGljeTpcInN0cmluZ1wiLHNhbmRib3g6XCJzdHJpbmdcIixzcmM6XCJzdHJpbmdcIixzcmNkb2M6XCJzdHJpbmdcIixzaGFyZWQ6XCJzdHJpbmdbXSB8ICdvd25lcnMnIHwgYm9vbGVhblwifX0sbmM9e2N1c3RvbUludGVncmF0aW9uczp7dmFsaWRhdGU6RWMsaGVscDpNYygpfSxjdXN0b21UcmF5QnV0dG9uczp7dmFsaWRhdGU6Q2MsaGVscDpcImN1c3RvbVRyYXlCdXR0b25zIHNob3VsZCBiZSBhIGRpY3Rpb25hcnkgb2YgdGhlIHR5cGUgXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KGVjKSl9LHVybDp7dmFsaWRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV9LGhlbHA6XCJ1cmwgc2hvdWxkIGJlIGEgc3RyaW5nXCJ9LGJhc2VVcmw6e3ZhbGlkYXRlOmZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfSxoZWxwOlwiYmFzZVVybCBzaG91bGQgYmUgYSBzdHJpbmdcIn0sdG9rZW46e3ZhbGlkYXRlOmZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfSxoZWxwOlwidG9rZW4gc2hvdWxkIGJlIGEgc3RyaW5nXCIscXVlcnlTdHJpbmc6XCJ0XCJ9LGRhaWx5Q29uZmlnOnt2YWxpZGF0ZTpmdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gdC52YWxpZGF0ZURhaWx5Q29uZmlnKGUpLCEwfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gdmFsaWRhdGUgZGFpbHlDb25maWdcIixlKX1yZXR1cm4hMX0saGVscDpcIlVuc3VwcG9ydGVkIGRhaWx5Q29uZmlnLiBDaGVjayBlcnJvciBsb2dzIGZvciBkZXRhaWxlZCBpbmZvLlwifSxyZWFjdE5hdGl2ZUNvbmZpZzp7dmFsaWRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIFRjKGUsWmEpfSxoZWxwOlwicmVhY3ROYXRpdmVDb25maWcgc2hvdWxkIGxvb2sgbGlrZSBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoWmEpLFwiLCBhbGwgZmllbGRzIG9wdGlvbmFsXCIpfSxsYW5nOnt2YWxpZGF0ZTpmdW5jdGlvbihlKXtyZXR1cm5bXCJkYVwiLFwiZGVcIixcImVuLXVzXCIsXCJlblwiLFwiZXNcIixcImZpXCIsXCJmclwiLFwiaXRcIixcImpwXCIsXCJrYVwiLFwibmxcIixcIm5vXCIsXCJwbFwiLFwicHRcIixcInB0LUJSXCIsXCJydVwiLFwic3ZcIixcInRyXCIsXCJ1c2VyXCJdLmluY2x1ZGVzKGUpfSxoZWxwOlwibGFuZ3VhZ2Ugbm90IHN1cHBvcnRlZC4gT3B0aW9ucyBhcmU6IGRhLCBkZSwgZW4tdXMsIGVuLCBlcywgZmksIGZyLCBpdCwganAsIGthLCBubCwgbm8sIHBsLCBwdCwgcHQtQlIsIHJ1LCBzdiwgdHIsIHVzZXJcIn0sdXNlck5hbWU6ITAsdXNlckRhdGE6e3ZhbGlkYXRlOmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gdmMoZSksITB9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoZSksITF9fSxoZWxwOlwiaW52YWxpZCB1c2VyRGF0YSB0eXBlIHByb3ZpZGVkXCJ9LHN0YXJ0VmlkZW9PZmY6ITAsc3RhcnRBdWRpb09mZjohMCxhbGxvd0xvY2FsVmlkZW86ITAsYWxsb3dMb2NhbEF1ZGlvOiEwLGFjdGl2ZVNwZWFrZXJNb2RlOiEwLHNob3dMZWF2ZUJ1dHRvbjohMCxzaG93TG9jYWxWaWRlbzohMCxzaG93UGFydGljaXBhbnRzQmFyOiEwLHNob3dGdWxsc2NyZWVuQnV0dG9uOiEwLHNob3dVc2VyTmFtZUNoYW5nZVVJOiEwLGlmcmFtZVN0eWxlOiEwLGN1c3RvbUxheW91dDohMCxjc3NGaWxlOiEwLGNzc1RleHQ6ITAsYm9keUNsYXNzOiEwLHZpZGVvU291cmNlOnt2YWxpZGF0ZTpmdW5jdGlvbihlLHQpe2lmKFwiYm9vbGVhblwiPT10eXBlb2YgZSlyZXR1cm4gdC5fcHJlbG9hZENhY2hlLmFsbG93TG9jYWxWaWRlbz1lLCEwO3ZhciBuO2lmKGUgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbVRyYWNrKXQuX3NoYXJlZFRyYWNrcy52aWRlb1RyYWNrPWUsbj17Y3VzdG9tVHJhY2s6bHN9O2Vsc2V7aWYoZGVsZXRlIHQuX3NoYXJlZFRyYWNrcy52aWRlb1RyYWNrLFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiBjb25zb2xlLmVycm9yKFwidmlkZW9Tb3VyY2UgbXVzdCBiZSBhIE1lZGlhU3RyZWFtVHJhY2ssIGJvb2xlYW4sIG9yIGEgc3RyaW5nXCIpLCExO249e2RldmljZUlkOmV9fXJldHVybiB0Ll91cGRhdGVQcmVsb2FkQ2FjaGVJbnB1dFNldHRpbmdzKHt2aWRlbzp7c2V0dGluZ3M6bn19LCExKSwhMH19LGF1ZGlvU291cmNlOnt2YWxpZGF0ZTpmdW5jdGlvbihlLHQpe2lmKFwiYm9vbGVhblwiPT10eXBlb2YgZSlyZXR1cm4gdC5fcHJlbG9hZENhY2hlLmFsbG93TG9jYWxBdWRpbz1lLCEwO3ZhciBuO2lmKGUgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbVRyYWNrKXQuX3NoYXJlZFRyYWNrcy5hdWRpb1RyYWNrPWUsbj17Y3VzdG9tVHJhY2s6bHN9O2Vsc2V7aWYoZGVsZXRlIHQuX3NoYXJlZFRyYWNrcy5hdWRpb1RyYWNrLFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiBjb25zb2xlLmVycm9yKFwiYXVkaW9Tb3VyY2UgbXVzdCBiZSBhIE1lZGlhU3RyZWFtVHJhY2ssIGJvb2xlYW4sIG9yIGEgc3RyaW5nXCIpLCExO249e2RldmljZUlkOmV9fXJldHVybiB0Ll91cGRhdGVQcmVsb2FkQ2FjaGVJbnB1dFNldHRpbmdzKHthdWRpbzp7c2V0dGluZ3M6bn19LCExKSwhMH19LHN1YnNjcmliZVRvVHJhY2tzQXV0b21hdGljYWxseTp7dmFsaWRhdGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5fcHJlbG9hZENhY2hlLnN1YnNjcmliZVRvVHJhY2tzQXV0b21hdGljYWxseT1lLCEwfX0sdGhlbWU6e3ZhbGlkYXRlOmZ1bmN0aW9uKGUpe3ZhciB0PVtcImFjY2VudFwiLFwiYWNjZW50VGV4dFwiLFwiYmFja2dyb3VuZFwiLFwiYmFja2dyb3VuZEFjY2VudFwiLFwiYmFzZVRleHRcIixcImJvcmRlclwiLFwibWFpbkFyZWFCZ1wiLFwibWFpbkFyZWFCZ0FjY2VudFwiLFwibWFpbkFyZWFUZXh0XCIsXCJzdXBwb3J0aXZlVGV4dFwiXSxyPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbj0wLHI9T2JqZWN0LmtleXMoZSk7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl07aWYoIXQuaW5jbHVkZXMoaSkpcmV0dXJuIGNvbnNvbGUuZXJyb3IoJ3Vuc3VwcG9ydGVkIGNvbG9yIFwiJy5jb25jYXQoaSwnXCIuIFZhbGlkIGNvbG9yczogJykuY29uY2F0KHQuam9pbihcIiwgXCIpKSksITE7aWYoIWVbaV0ubWF0Y2goL14jWzAtOWEtZl17Nn18I1swLTlhLWZdezN9JC9pKSlyZXR1cm4gY29uc29sZS5lcnJvcihcIlwiLmNvbmNhdChpLCcgdGhlbWUgY29sb3Igc2hvdWxkIGJlIHByb3ZpZGVkIGluIHZhbGlkIGhleCBjb2xvciBmb3JtYXQuIFJlY2VpdmVkOiBcIicpLmNvbmNhdChlW2ldLCdcIicpKSwhMX1yZXR1cm4hMH07cmV0dXJuXCJvYmplY3RcIj09PW4oZSkmJihcImxpZ2h0XCJpbiBlJiZcImRhcmtcImluIGV8fFwiY29sb3JzXCJpbiBlKT9cImxpZ2h0XCJpbiBlJiZcImRhcmtcImluIGU/XCJjb2xvcnNcImluIGUubGlnaHQ/XCJjb2xvcnNcImluIGUuZGFyaz9yKGUubGlnaHQuY29sb3JzKSYmcihlLmRhcmsuY29sb3JzKTooY29uc29sZS5lcnJvcignRGFyayB0aGVtZSBpcyBtaXNzaW5nIFwiY29sb3JzXCIgcHJvcGVydHkuJyxlKSwhMSk6KGNvbnNvbGUuZXJyb3IoJ0xpZ2h0IHRoZW1lIGlzIG1pc3NpbmcgXCJjb2xvcnNcIiBwcm9wZXJ0eS4nLGUpLCExKTpyKGUuY29sb3JzKTooY29uc29sZS5lcnJvcignVGhlbWUgbXVzdCBjb250YWluIGVpdGhlciBib3RoIFwibGlnaHRcIiBhbmQgXCJkYXJrXCIgcHJvcGVydGllcywgb3IgXCJjb2xvcnNcIi4nLGUpLCExKX0saGVscDpcInVuc3VwcG9ydGVkIHRoZW1lIGNvbmZpZ3VyYXRpb24uIENoZWNrIGVycm9yIGxvZ3MgZm9yIGRldGFpbGVkIGluZm8uXCJ9LGxheW91dENvbmZpZzp7dmFsaWRhdGU6ZnVuY3Rpb24oZSl7aWYoXCJncmlkXCJpbiBlKXt2YXIgdD1lLmdyaWQ7aWYoXCJtYXhUaWxlc1BlclBhZ2VcImluIHQpe2lmKCFOdW1iZXIuaXNJbnRlZ2VyKHQubWF4VGlsZXNQZXJQYWdlKSlyZXR1cm4gY29uc29sZS5lcnJvcihcImdyaWQubWF4VGlsZXNQZXJQYWdlIHNob3VsZCBiZSBhbiBpbnRlZ2VyLiBZb3UgcGFzc2VkIFwiLmNvbmNhdCh0Lm1heFRpbGVzUGVyUGFnZSxcIi5cIikpLCExO2lmKHQubWF4VGlsZXNQZXJQYWdlPjQ5KXJldHVybiBjb25zb2xlLmVycm9yKFwiZ3JpZC5tYXhUaWxlc1BlclBhZ2UgY2FuJ3QgYmUgbGFyZ2VyIHRoYW4gNDkgd2l0aG91dCBzYWNyaWZpY2luZyBicm93c2VyIHBlcmZvcm1hbmNlLiBQbGVhc2UgY29udGFjdCB1cyBhdCBodHRwczovL3d3dy5kYWlseS5jby9jb250YWN0IHRvIHRhbGsgYWJvdXQgeW91ciB1c2UgY2FzZS5cIiksITF9aWYoXCJtaW5UaWxlc1BlclBhZ2VcImluIHQpe2lmKCFOdW1iZXIuaXNJbnRlZ2VyKHQubWluVGlsZXNQZXJQYWdlKSlyZXR1cm4gY29uc29sZS5lcnJvcihcImdyaWQubWluVGlsZXNQZXJQYWdlIHNob3VsZCBiZSBhbiBpbnRlZ2VyLiBZb3UgcGFzc2VkIFwiLmNvbmNhdCh0Lm1pblRpbGVzUGVyUGFnZSxcIi5cIikpLCExO2lmKHQubWluVGlsZXNQZXJQYWdlPDEpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJncmlkLm1pblRpbGVzUGVyUGFnZSBjYW4ndCBiZSBsb3dlciB0aGFuIDEuXCIpLCExO2lmKFwibWF4VGlsZXNQZXJQYWdlXCJpbiB0JiZ0Lm1pblRpbGVzUGVyUGFnZT50Lm1heFRpbGVzUGVyUGFnZSlyZXR1cm4gY29uc29sZS5lcnJvcihcImdyaWQubWluVGlsZXNQZXJQYWdlIGNhbid0IGJlIGhpZ2hlciB0aGFuIGdyaWQubWF4VGlsZXNQZXJQYWdlLlwiKSwhMX19cmV0dXJuITB9LGhlbHA6XCJ1bnN1cHBvcnRlZCBsYXlvdXRDb25maWcuIENoZWNrIGVycm9yIGxvZ3MgZm9yIGRldGFpbGVkIGluZm8uXCJ9LHJlY2VpdmVTZXR0aW5nczp7dmFsaWRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGdjKGUse2FsbG93QWxsUGFydGljaXBhbnRzS2V5OiExfSl9LGhlbHA6a2Moe2FsbG93QWxsUGFydGljaXBhbnRzS2V5OiExfSl9LHNlbmRTZXR0aW5nczp7dmFsaWRhdGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIWZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiB0LnZhbGlkYXRlVXBkYXRlU2VuZFNldHRpbmdzKGUpLCEwfWNhdGNoKGUpe3JldHVybiBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHZhbGlkYXRlIHNlbmQgc2V0dGluZ3NcIixlKSwhMX19KGUsdCkmJih0Ll9wcmVsb2FkQ2FjaGUuc2VuZFNldHRpbmdzPWUsITApfSxoZWxwOlwiSW52YWxpZCBzZW5kU2V0dGluZ3MgcHJvdmlkZWQuIENoZWNrIGVycm9yIGxvZ3MgZm9yIGRldGFpbGVkIGluZm8uXCJ9LGlucHV0U2V0dGluZ3M6e3ZhbGlkYXRlOmZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuISFtYyhlKSYmKHQuX2lucHV0U2V0dGluZ3N8fCh0Ll9pbnB1dFNldHRpbmdzPXt9KSx5YyhlLG51bGw9PT0obj10LnByb3BlcnRpZXMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmRhaWx5Q29uZmlnLHQuX3NoYXJlZFRyYWNrcyksdC5fdXBkYXRlUHJlbG9hZENhY2hlSW5wdXRTZXR0aW5ncyhlLCEwKSwhMCl9LGhlbHA6U2MoKX0sbGF5b3V0Ont2YWxpZGF0ZTpmdW5jdGlvbihlKXtyZXR1cm5cImN1c3RvbS12MVwiPT09ZXx8XCJicm93c2VyXCI9PT1lfHxcIm5vbmVcIj09PWV9LGhlbHA6J2xheW91dCBtYXkgb25seSBiZSBzZXQgdG8gXCJjdXN0b20tdjFcIicscXVlcnlTdHJpbmc6XCJsYXlvdXRcIn0sZW1iOntxdWVyeVN0cmluZzpcImVtYlwifSxlbWJIcmVmOntxdWVyeVN0cmluZzpcImVtYkhyZWZcIn0sZGFpbHlKc1ZlcnNpb246e3F1ZXJ5U3RyaW5nOlwiZGFpbHlKc1ZlcnNpb25cIn0scHJveHk6e3F1ZXJ5U3RyaW5nOlwicHJveHlcIn0sc3RyaWN0TW9kZTohMCxhbGxvd011bHRpcGxlQ2FsbEluc3RhbmNlczohMH0scmM9e3N0eWxlczp7dmFsaWRhdGU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpaWYoXCJjYW1cIiE9PXQmJlwic2NyZWVuXCIhPT10KXJldHVybiExO2lmKGUuY2FtKWZvcih2YXIgbiBpbiBlLmNhbSlpZihcImRpdlwiIT09biYmXCJ2aWRlb1wiIT09bilyZXR1cm4hMTtpZihlLnNjcmVlbilmb3IodmFyIHIgaW4gZS5zY3JlZW4paWYoXCJkaXZcIiE9PXImJlwidmlkZW9cIiE9PXIpcmV0dXJuITE7cmV0dXJuITB9LGhlbHA6XCJzdHlsZXMgZm9ybWF0IHNob3VsZCBiZSBhIHN1YnNldCBvZjogeyBjYW06IHtkaXY6IHt9LCB2aWRlbzoge319LCBzY3JlZW46IHtkaXY6IHt9LCB2aWRlbzoge319IH1cIn0sc2V0U3Vic2NyaWJlZFRyYWNrczp7dmFsaWRhdGU6ZnVuY3Rpb24oZSx0KXtpZih0Ll9wcmVsb2FkQ2FjaGUuc3Vic2NyaWJlVG9UcmFja3NBdXRvbWF0aWNhbGx5KXJldHVybiExO3ZhciBuPVshMCwhMSxcInN0YWdlZFwiXTtpZihuLmluY2x1ZGVzKGUpfHwheXMoKSYmXCJhdmF0YXJcIj09PWUpcmV0dXJuITA7dmFyIHI9W1wiYXVkaW9cIixcInZpZGVvXCIsXCJzY3JlZW5BdWRpb1wiLFwic2NyZWVuVmlkZW9cIixcInJtcEF1ZGlvXCIsXCJybXBWaWRlb1wiXSxpPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07Zm9yKHZhciBvIGluIGUpaWYoXCJjdXN0b21cIj09PW8pe2lmKCFuLmluY2x1ZGVzKGVbb10pJiYhaShlW29dLCEwKSlyZXR1cm4hMX1lbHNle3ZhciBzPSF0JiYhci5pbmNsdWRlcyhvKSxhPSFuLmluY2x1ZGVzKGVbb10pO2lmKHN8fGEpcmV0dXJuITF9cmV0dXJuITB9O3JldHVybiBpKGUpfSxoZWxwOlwic2V0U3Vic2NyaWJlZFRyYWNrcyBjYW5ub3QgYmUgdXNlZCB3aGVuIHNldFN1YnNjcmliZVRvVHJhY2tzQXV0b21hdGljYWxseSBpcyBlbmFibGVkLCBhbmQgc2hvdWxkIGJlIG9mIHRoZSBmb3JtOiBcIitcInRydWVcIi5jb25jYXQoeXMoKT9cIlwiOlwiIHwgJ2F2YXRhcidcIixcIiB8IGZhbHNlIHwgJ3N0YWdlZCcgfCB7IFthdWRpbzogdHJ1ZXxmYWxzZXwnc3RhZ2VkJ10sIFt2aWRlbzogdHJ1ZXxmYWxzZXwnc3RhZ2VkJ10sIFtzY3JlZW5BdWRpbzogdHJ1ZXxmYWxzZXwnc3RhZ2VkJ10sIFtzY3JlZW5WaWRlbzogdHJ1ZXxmYWxzZXwnc3RhZ2VkJ10gfVwiKX0sc2V0QXVkaW86ITAsc2V0VmlkZW86ITAsc2V0U2NyZWVuU2hhcmU6e3ZhbGlkYXRlOmZ1bmN0aW9uKGUpe3JldHVybiExPT09ZX0saGVscDpcInNldFNjcmVlblNoYXJlIG11c3QgYmUgZmFsc2UsIGFzIGl0J3Mgb25seSBtZWFudCBmb3Igc3RvcHBpbmcgcmVtb3RlIHBhcnRpY2lwYW50cycgc2NyZWVuIHNoYXJlc1wifSxlamVjdDohMCx1cGRhdGVQZXJtaXNzaW9uczp7dmFsaWRhdGU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj1PYmplY3QuZW50cmllcyhlKTt0PG4ubGVuZ3RoO3QrKyl7dmFyIHI9ZihuW3RdLDIpLGk9clswXSxvPXJbMV07c3dpdGNoKGkpe2Nhc2VcImhhc1ByZXNlbmNlXCI6aWYoXCJib29sZWFuXCIhPXR5cGVvZiBvKXJldHVybiExO2JyZWFrO2Nhc2VcImNhblNlbmRcIjppZihvIGluc3RhbmNlb2YgU2V0fHxvIGluc3RhbmNlb2YgQXJyYXl8fEFycmF5LmlzQXJyYXkobykpe3ZhciBzLGE9W1widmlkZW9cIixcImF1ZGlvXCIsXCJzY3JlZW5WaWRlb1wiLFwic2NyZWVuQXVkaW9cIixcImN1c3RvbVZpZGVvXCIsXCJjdXN0b21BdWRpb1wiXSxjPSRhKG8pO3RyeXtmb3IoYy5zKCk7IShzPWMubigpKS5kb25lOyl7dmFyIGw9cy52YWx1ZTtpZighYS5pbmNsdWRlcyhsKSlyZXR1cm4hMX19Y2F0Y2goZSl7Yy5lKGUpfWZpbmFsbHl7Yy5mKCl9fWVsc2UgaWYoXCJib29sZWFuXCIhPXR5cGVvZiBvKXJldHVybiExOyhvIGluc3RhbmNlb2YgQXJyYXl8fEFycmF5LmlzQXJyYXkobykpJiYoZS5jYW5TZW5kPW5ldyBTZXQobykpO2JyZWFrO2Nhc2VcImNhblJlY2VpdmVcIjp2YXIgdT1mKE5hLnZhbGlkYXRlSlNPTk9iamVjdChvKSwyKSxkPXVbMF0scD11WzFdO2lmKCFkKXJldHVybiBjb25zb2xlLmVycm9yKHApLCExO2JyZWFrO2Nhc2VcImNhbkFkbWluXCI6aWYobyBpbnN0YW5jZW9mIFNldHx8byBpbnN0YW5jZW9mIEFycmF5fHxBcnJheS5pc0FycmF5KG8pKXt2YXIgaCx2PVtcInBhcnRpY2lwYW50c1wiLFwic3RyZWFtaW5nXCIsXCJ0cmFuc2NyaXB0aW9uXCJdLGc9JGEobyk7dHJ5e2ZvcihnLnMoKTshKGg9Zy5uKCkpLmRvbmU7KXt2YXIgbT1oLnZhbHVlO2lmKCF2LmluY2x1ZGVzKG0pKXJldHVybiExfX1jYXRjaChlKXtnLmUoZSl9ZmluYWxseXtnLmYoKX19ZWxzZSBpZihcImJvb2xlYW5cIiE9dHlwZW9mIG8pcmV0dXJuITE7KG8gaW5zdGFuY2VvZiBBcnJheXx8QXJyYXkuaXNBcnJheShvKSkmJihlLmNhbkFkbWluPW5ldyBTZXQobykpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuITF9fXJldHVybiEwfSxoZWxwOlwidXBkYXRlUGVybWlzc2lvbnMgY2FuIHRha2UgaGFzUHJlc2VuY2UsIGNhblNlbmQsIGNhblJlY2VpdmUsIGFuZCBjYW5BZG1pbiBwZXJtaXNzaW9ucy4gaGFzUHJlc2VuY2UgbXVzdCBiZSBhIGJvb2xlYW4uIGNhblNlbmQgY2FuIGJlIGEgYm9vbGVhbiBvciBhbiBBcnJheSBvciBTZXQgb2YgbWVkaWEgdHlwZXMgKHZpZGVvLCBhdWRpbywgc2NyZWVuVmlkZW8sIHNjcmVlbkF1ZGlvLCBjdXN0b21WaWRlbywgY3VzdG9tQXVkaW8pLiBjYW5SZWNlaXZlIG11c3QgYmUgYW4gb2JqZWN0IHNwZWNpZnlpbmcgYmFzZSwgYnlVc2VySWQsIGFuZC9vciBieVBhcnRpY2lwYW50SWQgZmllbGRzIChzZWUgZG9jdW1lbnRhdGlvbiBmb3IgbW9yZSBkZXRhaWxzKS4gY2FuQWRtaW4gY2FuIGJlIGEgYm9vbGVhbiBvciBhbiBBcnJheSBvciBTZXQgb2YgYWRtaW4gdHlwZXMgKHBhcnRpY2lwYW50cywgc3RyZWFtaW5nLCB0cmFuc2NyaXB0aW9uKS5cIn19O1Byb21pc2UuYW55fHwoUHJvbWlzZS5hbnk9ZnVuY3Rpb24oKXt2YXIgZT1wKChmdW5jdGlvbiooZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe3ZhciByPVtdO2UuZm9yRWFjaCgoZnVuY3Rpb24oaSl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShpKS50aGVuKChmdW5jdGlvbihlKXt0KGUpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtyLnB1c2godCksci5sZW5ndGg9PT1lLmxlbmd0aCYmbihyKX0pKX0pKX0pKX0pKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSk7dmFyIGljPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlKXt2YXIgbixpLG8sYyxsLGQsaD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYodCh0aGlzLHIpLG89dGhpcyxjPWEoYz1yKSx1KGk9cyhvLEphKCk/UmVmbGVjdC5jb25zdHJ1Y3QoYyxsfHxbXSxhKG8pLmNvbnN0cnVjdG9yKTpjLmFwcGx5KG8sbCkpLFwic3RhcnRMaXN0ZW5pbmdGb3JEZXZpY2VDaGFuZ2VzXCIsKGZ1bmN0aW9uKCl7U2EoaS5oYW5kbGVEZXZpY2VDaGFuZ2UpfSkpLHUoaSxcInN0b3BMaXN0ZW5pbmdGb3JEZXZpY2VDaGFuZ2VzXCIsKGZ1bmN0aW9uKCl7a2EoaS5oYW5kbGVEZXZpY2VDaGFuZ2UpfSkpLHUoaSxcImhhbmRsZURldmljZUNoYW5nZVwiLChmdW5jdGlvbihlKXtlPWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSl9KSksaS5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246XCJhdmFpbGFibGUtZGV2aWNlcy11cGRhdGVkXCIsYXZhaWxhYmxlRGV2aWNlczplfSl9KSksdShpLFwiaGFuZGxlTmF0aXZlQXBwU3RhdGVDaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBlPXAoKGZ1bmN0aW9uKihlKXtpZihcImRlc3Ryb3llZFwiPT09ZSlyZXR1cm4gY29uc29sZS53YXJuKFwiQXBwIGhhcyBiZWVuIGRlc3Ryb3llZCBiZWZvcmUgbGVhdmluZyB0aGUgbWVldGluZy4gQ2xlYW5pbmcgdXAgYWxsIHRoZSByZXNvdXJjZXMhXCIpLHZvaWQoeWllbGQgaS5kZXN0cm95KCkpO3ZhciB0PVwiYWN0aXZlXCI9PT1lO2kuZGlzYWJsZVJlYWN0TmF0aXZlQXV0b0RldmljZU1hbmFnZW1lbnQoXCJ2aWRlb1wiKXx8KHQ/aS5jYW1Vbm11dGVkQmVmb3JlTG9zaW5nTmF0aXZlQWN0aXZlU3RhdGUmJmkuc2V0TG9jYWxWaWRlbyghMCk6KGkuY2FtVW5tdXRlZEJlZm9yZUxvc2luZ05hdGl2ZUFjdGl2ZVN0YXRlPWkubG9jYWxWaWRlbygpLGkuY2FtVW5tdXRlZEJlZm9yZUxvc2luZ05hdGl2ZUFjdGl2ZVN0YXRlJiZpLnNldExvY2FsVmlkZW8oITEpKSl9KSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCkpLHUoaSxcImhhbmRsZU5hdGl2ZUF1ZGlvRm9jdXNDaGFuZ2VcIiwoZnVuY3Rpb24oZSl7aS5kaXNhYmxlUmVhY3ROYXRpdmVBdXRvRGV2aWNlTWFuYWdlbWVudChcImF1ZGlvXCIpfHwoaS5faGFzTmF0aXZlQXVkaW9Gb2N1cz1lLGkudG9nZ2xlUGFydGljaXBhbnRBdWRpb0Jhc2VkT25OYXRpdmVBdWRpb0ZvY3VzKCksaS5faGFzTmF0aXZlQXVkaW9Gb2N1cz9pLm1pY1VubXV0ZWRCZWZvcmVMb3NpbmdOYXRpdmVBdWRpb0ZvY3VzJiZpLnNldExvY2FsQXVkaW8oITApOihpLm1pY1VubXV0ZWRCZWZvcmVMb3NpbmdOYXRpdmVBdWRpb0ZvY3VzPWkubG9jYWxBdWRpbygpLGkuc2V0TG9jYWxBdWRpbyghMSkpKX0pKSx1KGksXCJoYW5kbGVOYXRpdmVTeXN0ZW1TY3JlZW5DYXB0dXJlU3RvcFwiLChmdW5jdGlvbigpe2kuc3RvcFNjcmVlblNoYXJlKCl9KSksaS5zdHJpY3RNb2RlPXZvaWQgMD09PWguc3RyaWN0TW9kZXx8aC5zdHJpY3RNb2RlLGkuYWxsb3dNdWx0aXBsZUNhbGxJbnN0YW5jZXM9bnVsbCE9PShuPWguYWxsb3dNdWx0aXBsZUNhbGxJbnN0YW5jZXMpJiZ2b2lkIDAhPT1uJiZuLE9iamVjdC5rZXlzKHphKS5sZW5ndGgmJihpLl9sb2dEdXBsaWNhdGVJbnN0YW5jZUF0dGVtcHQoKSwhaS5hbGxvd011bHRpcGxlQ2FsbEluc3RhbmNlcykpe2lmKGkuc3RyaWN0TW9kZSl0aHJvdyBuZXcgRXJyb3IoXCJEdXBsaWNhdGUgRGFpbHlJZnJhbWUgaW5zdGFuY2VzIGFyZSBub3QgYWxsb3dlZFwiKTtjb25zb2xlLndhcm4oXCJVc2luZyBzdHJpY3RNb2RlOiBmYWxzZSB0byBhbGxvdyBtdWx0aXBsZSBjYWxsIGluc3RhbmNlcyBpcyBub3cgZGVwcmVjYXRlZC4gU2V0IGBhbGxvd011bHRpcGxlQ2FsbEluc3RhbmNlczogdHJ1ZWBcIil9aWYod2luZG93Ll9kYWlseXx8KHdpbmRvdy5fZGFpbHk9e3BlbmRpbmdzOltdLGluc3RhbmNlczp7fX0pLGkuY2FsbENsaWVudElkPUsoKSx6YVsoZD1pKS5jYWxsQ2xpZW50SWRdPWQsd2luZG93Ll9kYWlseS5pbnN0YW5jZXNbaS5jYWxsQ2xpZW50SWRdPXt9LGkuX3NoYXJlZFRyYWNrcz17fSx3aW5kb3cuX2RhaWx5Lmluc3RhbmNlc1tpLmNhbGxDbGllbnRJZF0udHJhY2tzPWkuX3NoYXJlZFRyYWNrcyxoLmRhaWx5SnNWZXJzaW9uPXIudmVyc2lvbigpLGkuX2lmcmFtZT1lLGkuX2NhbGxPYmplY3RNb2RlPVwibm9uZVwiPT09aC5sYXlvdXQmJiFpLl9pZnJhbWUsaS5fcHJlbG9hZENhY2hlPXtzdWJzY3JpYmVUb1RyYWNrc0F1dG9tYXRpY2FsbHk6ITAsb3V0cHV0RGV2aWNlSWQ6bnVsbCxpbnB1dFNldHRpbmdzOm51bGwsc2VuZFNldHRpbmdzOm51bGwsdmlkZW9UcmFja0Zvck5ldHdvcmtDb25uZWN0aXZpdHlUZXN0Om51bGwsdmlkZW9UcmFja0ZvckNvbm5lY3Rpb25RdWFsaXR5VGVzdDpudWxsfSx2b2lkIDAhPT1oLnNob3dMb2NhbFZpZGVvP2kuX2NhbGxPYmplY3RNb2RlP2NvbnNvbGUuZXJyb3IoXCJzaG93TG9jYWxWaWRlbyBpcyBub3QgYXZhaWxhYmxlIGluIGNhbGwgb2JqZWN0IG1vZGVcIik6aS5fc2hvd0xvY2FsVmlkZW89ISFoLnNob3dMb2NhbFZpZGVvOmkuX3Nob3dMb2NhbFZpZGVvPSEwLHZvaWQgMCE9PWguc2hvd1BhcnRpY2lwYW50c0Jhcj9pLl9jYWxsT2JqZWN0TW9kZT9jb25zb2xlLmVycm9yKFwic2hvd1BhcnRpY2lwYW50c0JhciBpcyBub3QgYXZhaWxhYmxlIGluIGNhbGwgb2JqZWN0IG1vZGVcIik6aS5fc2hvd1BhcnRpY2lwYW50c0Jhcj0hIWguc2hvd1BhcnRpY2lwYW50c0JhcjppLl9zaG93UGFydGljaXBhbnRzQmFyPSEwLHZvaWQgMCE9PWguY3VzdG9tSW50ZWdyYXRpb25zP2kuX2NhbGxPYmplY3RNb2RlP2NvbnNvbGUuZXJyb3IoXCJjdXN0b21JbnRlZ3JhdGlvbnMgaXMgbm90IGF2YWlsYWJsZSBpbiBjYWxsIG9iamVjdCBtb2RlXCIpOmkuX2N1c3RvbUludGVncmF0aW9ucz1oLmN1c3RvbUludGVncmF0aW9uczppLl9jdXN0b21JbnRlZ3JhdGlvbnM9e30sdm9pZCAwIT09aC5jdXN0b21UcmF5QnV0dG9ucz9pLl9jYWxsT2JqZWN0TW9kZT9jb25zb2xlLmVycm9yKFwiY3VzdG9tVHJheUJ1dHRvbnMgaXMgbm90IGF2YWlsYWJsZSBpbiBjYWxsIG9iamVjdCBtb2RlXCIpOmkuX2N1c3RvbVRyYXlCdXR0b25zPWguY3VzdG9tVHJheUJ1dHRvbnM6aS5fY3VzdG9tVHJheUJ1dHRvbnM9e30sdm9pZCAwIT09aC5hY3RpdmVTcGVha2VyTW9kZT9pLl9jYWxsT2JqZWN0TW9kZT9jb25zb2xlLmVycm9yKFwiYWN0aXZlU3BlYWtlck1vZGUgaXMgbm90IGF2YWlsYWJsZSBpbiBjYWxsIG9iamVjdCBtb2RlXCIpOmkuX2FjdGl2ZVNwZWFrZXJNb2RlPSEhaC5hY3RpdmVTcGVha2VyTW9kZTppLl9hY3RpdmVTcGVha2VyTW9kZT0hMSxoLnJlY2VpdmVTZXR0aW5ncz9pLl9jYWxsT2JqZWN0TW9kZT9pLl9yZWNlaXZlU2V0dGluZ3M9aC5yZWNlaXZlU2V0dGluZ3M6Y29uc29sZS5lcnJvcihcInJlY2VpdmVTZXR0aW5ncyBpcyBvbmx5IGF2YWlsYWJsZSBpbiBjYWxsIG9iamVjdCBtb2RlXCIpOmkuX3JlY2VpdmVTZXR0aW5ncz17fSxpLnZhbGlkYXRlUHJvcGVydGllcyhoKSxpLnByb3BlcnRpZXM9VmEoe30saCksaS5faW5wdXRTZXR0aW5nc3x8KGkuX2lucHV0U2V0dGluZ3M9e30pLGkuX2NhbGxPYmplY3RMb2FkZXI9aS5fY2FsbE9iamVjdE1vZGU/bmV3IFlzKGkuY2FsbENsaWVudElkKTpudWxsLGkuX2NhbGxTdGF0ZT12aSxpLl9pc1ByZXBhcmluZ1RvSm9pbj0hMSxpLl9hY2Nlc3NTdGF0ZT17YWNjZXNzOk9pfSxpLl9tZWV0aW5nU2Vzc2lvblN1bW1hcnk9e30saS5fZmluYWxTdW1tYXJ5T2ZQcmV2U2Vzc2lvbj17fSxpLl9tZWV0aW5nU2Vzc2lvblN0YXRlPWpjKEdhLGkuX2NhbGxPYmplY3RNb2RlKSxpLl9uYXRpdmVJbkNhbGxBdWRpb01vZGU9V2EsaS5fcGFydGljaXBhbnRzPXt9LGkuX2lzU2NyZWVuU2hhcmluZz0hMSxpLl9wYXJ0aWNpcGFudENvdW50cz1RYSxpLl9ybXBQbGF5ZXJTdGF0ZT17fSxpLl93YWl0aW5nUGFydGljaXBhbnRzPXt9LGkuX25ldHdvcms9e3RocmVzaG9sZDpcImdvb2RcIixxdWFsaXR5OjEwMCxuZXR3b3JrU3RhdGU6XCJ1bmtub3duXCIsc3RhdHM6e319LGkuX2FjdGl2ZVNwZWFrZXI9e30saS5fbG9jYWxBdWRpb0xldmVsPTAsaS5faXNMb2NhbEF1ZGlvTGV2ZWxPYnNlcnZlclJ1bm5pbmc9ITEsaS5fcmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbD17fSxpLl9pc1JlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWxPYnNlcnZlclJ1bm5pbmc9ITEsaS5fbWF4QXBwTWVzc2FnZVNpemU9cnMsaS5fbWVzc2FnZUNoYW5uZWw9eXMoKT9uZXcgSnM6bmV3IEJzLGkuX2lmcmFtZSYmKGkuX2lmcmFtZS5yZXF1ZXN0RnVsbHNjcmVlbj9pLl9pZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcihcImZ1bGxzY3JlZW5jaGFuZ2VcIiwoZnVuY3Rpb24oKXtkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudD09PWkuX2lmcmFtZT8oaS5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246V299KSxpLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOldvfSkpOihpLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjpIb30pLGkuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246SG99KSl9KSk6aS5faWZyYW1lLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJiZpLl9pZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIiwoZnVuY3Rpb24oKXtkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudD09PWkuX2lmcmFtZT8oaS5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246V299KSxpLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOldvfSkpOihpLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjpIb30pLGkuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246SG99KSl9KSkpLHlzKCkpe3ZhciBmPWkubmF0aXZlVXRpbHMoKTtmLmFkZEF1ZGlvRm9jdXNDaGFuZ2VMaXN0ZW5lciYmZi5yZW1vdmVBdWRpb0ZvY3VzQ2hhbmdlTGlzdGVuZXImJmYuYWRkQXBwU3RhdGVDaGFuZ2VMaXN0ZW5lciYmZi5yZW1vdmVBcHBTdGF0ZUNoYW5nZUxpc3RlbmVyJiZmLmFkZFN5c3RlbVNjcmVlbkNhcHR1cmVTdG9wTGlzdGVuZXImJmYucmVtb3ZlU3lzdGVtU2NyZWVuQ2FwdHVyZVN0b3BMaXN0ZW5lcnx8Y29uc29sZS53YXJuKFwiZXhwZWN0ZWQgKGFkZHxyZW1vdmUpKEF1ZGlvRm9jdXNDaGFuZ2V8QXBwQWN0aXZlU3RhdGVDaGFuZ2V8U3lzdGVtU2NyZWVuQ2FwdHVyZVN0b3ApTGlzdGVuZXIgdG8gYmUgYXZhaWxhYmxlIGluIFJlYWN0IE5hdGl2ZVwiKSxpLl9oYXNOYXRpdmVBdWRpb0ZvY3VzPSEwLGYuYWRkQXVkaW9Gb2N1c0NoYW5nZUxpc3RlbmVyKGkuaGFuZGxlTmF0aXZlQXVkaW9Gb2N1c0NoYW5nZSksZi5hZGRBcHBTdGF0ZUNoYW5nZUxpc3RlbmVyKGkuaGFuZGxlTmF0aXZlQXBwU3RhdGVDaGFuZ2UpLGYuYWRkU3lzdGVtU2NyZWVuQ2FwdHVyZVN0b3BMaXN0ZW5lcihpLmhhbmRsZU5hdGl2ZVN5c3RlbVNjcmVlbkNhcHR1cmVTdG9wKX1yZXR1cm4gaS5fY2FsbE9iamVjdE1vZGUmJmkuc3RhcnRMaXN0ZW5pbmdGb3JEZXZpY2VDaGFuZ2VzKCksaS5fbWVzc2FnZUNoYW5uZWwuYWRkTGlzdGVuZXJGb3JNZXNzYWdlc0Zyb21DYWxsTWFjaGluZShpLmhhbmRsZU1lc3NhZ2VGcm9tQ2FsbE1hY2hpbmUsaS5jYWxsQ2xpZW50SWQsaSksaX1yZXR1cm4gbChyLHgpLG8ocixbe2tleTpcImRlc3Ryb3lcIix2YWx1ZTooZWU9cCgoZnVuY3Rpb24qKCl7dmFyIGU7dHJ5e3lpZWxkIHRoaXMubGVhdmUoKX1jYXRjaChlKXt9dmFyIHQ9dGhpcy5faWZyYW1lO2lmKHQpe3ZhciBuPXQucGFyZW50RWxlbWVudDtuJiZuLnJlbW92ZUNoaWxkKHQpfWlmKHRoaXMuX21lc3NhZ2VDaGFubmVsLnJlbW92ZUxpc3RlbmVyKHRoaXMuaGFuZGxlTWVzc2FnZUZyb21DYWxsTWFjaGluZSkseXMoKSl7dmFyIHI9dGhpcy5uYXRpdmVVdGlscygpO3IucmVtb3ZlQXVkaW9Gb2N1c0NoYW5nZUxpc3RlbmVyKHRoaXMuaGFuZGxlTmF0aXZlQXVkaW9Gb2N1c0NoYW5nZSksci5yZW1vdmVBcHBTdGF0ZUNoYW5nZUxpc3RlbmVyKHRoaXMuaGFuZGxlTmF0aXZlQXBwU3RhdGVDaGFuZ2UpLHIucmVtb3ZlU3lzdGVtU2NyZWVuQ2FwdHVyZVN0b3BMaXN0ZW5lcih0aGlzLmhhbmRsZU5hdGl2ZVN5c3RlbVNjcmVlbkNhcHR1cmVTdG9wKX10aGlzLl9jYWxsT2JqZWN0TW9kZSYmdGhpcy5zdG9wTGlzdGVuaW5nRm9yRGV2aWNlQ2hhbmdlcygpLHRoaXMucmVzZXRNZWV0aW5nRGVwZW5kZW50VmFycygpLHRoaXMuX2Rlc3Ryb3llZD0hMCx0aGlzLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjpcImNhbGwtaW5zdGFuY2UtZGVzdHJveWVkXCJ9KSxkZWxldGUgemFbdGhpcy5jYWxsQ2xpZW50SWRdLChudWxsPT09KGU9d2luZG93KXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUuX2RhaWx5KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5pbnN0YW5jZXMpJiZkZWxldGUgd2luZG93Ll9kYWlseS5pbnN0YW5jZXNbdGhpcy5jYWxsQ2xpZW50SWRdLHRoaXMuc3RyaWN0TW9kZSYmKHRoaXMuY2FsbENsaWVudElkPXZvaWQgMCl9KSksZnVuY3Rpb24oKXtyZXR1cm4gZWUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJpc0Rlc3Ryb3llZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9kZXN0cm95ZWR9fSx7a2V5OlwibG9hZENzc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuYm9keUNsYXNzLG49ZS5jc3NGaWxlLHI9ZS5jc3NUZXh0O3JldHVybiBoYygpLHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJsb2FkLWNzc1wiLGNzc0ZpbGU6dGhpcy5hYnNvbHV0ZVVybChuKSxib2R5Q2xhc3M6dCxjc3NUZXh0OnJ9KSx0aGlzfX0se2tleTpcImlmcmFtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGhjKCksdGhpcy5faWZyYW1lfX0se2tleTpcIm1lZXRpbmdTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhbGxTdGF0ZX19LHtrZXk6XCJhY2Nlc3NTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGRjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwiYWNjZXNzU3RhdGUoKVwiKSx0aGlzLl9hY2Nlc3NTdGF0ZX19LHtrZXk6XCJwYXJ0aWNpcGFudHNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJ0aWNpcGFudHN9fSx7a2V5OlwicGFydGljaXBhbnRDb3VudHNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJ0aWNpcGFudENvdW50c319LHtrZXk6XCJ3YWl0aW5nUGFydGljaXBhbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZGModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJ3YWl0aW5nUGFydGljaXBhbnRzKClcIiksdGhpcy5fd2FpdGluZ1BhcnRpY2lwYW50c319LHtrZXk6XCJ2YWxpZGF0ZVBhcnRpY2lwYW50UHJvcGVydGllc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpe2lmKCFyY1tuXSl0aHJvdyBuZXcgRXJyb3IoXCJ1bnJlY29nbml6ZWQgdXBkYXRlUGFydGljaXBhbnQgcHJvcGVydHkgXCIuY29uY2F0KG4pKTtpZihyY1tuXS52YWxpZGF0ZSYmIXJjW25dLnZhbGlkYXRlKHRbbl0sdGhpcyx0aGlzLl9wYXJ0aWNpcGFudHNbZV0pKXRocm93IG5ldyBFcnJvcihyY1tuXS5oZWxwKX19fSx7a2V5OlwidXBkYXRlUGFydGljaXBhbnRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9wYXJ0aWNpcGFudHMubG9jYWwmJnRoaXMuX3BhcnRpY2lwYW50cy5sb2NhbC5zZXNzaW9uX2lkPT09ZSYmKGU9XCJsb2NhbFwiKSxlJiZ0JiYodGhpcy52YWxpZGF0ZVBhcnRpY2lwYW50UHJvcGVydGllcyhlLHQpLHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJ1cGRhdGUtcGFydGljaXBhbnRcIixpZDplLHByb3BlcnRpZXM6dH0pKSx0aGlzfX0se2tleTpcInVwZGF0ZVBhcnRpY2lwYW50c1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3BhcnRpY2lwYW50cy5sb2NhbCYmdGhpcy5fcGFydGljaXBhbnRzLmxvY2FsLnNlc3Npb25faWQ7Zm9yKHZhciBuIGluIGUpbj09PXQmJihuPVwibG9jYWxcIiksbiYmZVtuXSYmdGhpcy52YWxpZGF0ZVBhcnRpY2lwYW50UHJvcGVydGllcyhuLGVbbl0pO3JldHVybiB0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwidXBkYXRlLXBhcnRpY2lwYW50c1wiLHBhcnRpY2lwYW50czplfSksdGhpc319LHtrZXk6XCJ1cGRhdGVXYWl0aW5nUGFydGljaXBhbnRcIix2YWx1ZTooWT1wKChmdW5jdGlvbiooKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlwiXCIscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYoZGModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJ1cGRhdGVXYWl0aW5nUGFydGljaXBhbnQoKVwiKSxzYyh0aGlzLl9jYWxsU3RhdGUsXCJ1cGRhdGVXYWl0aW5nUGFydGljaXBhbnQoKVwiKSxcInN0cmluZ1wiIT10eXBlb2YgdHx8XCJvYmplY3RcIiE9PW4ocikpdGhyb3cgbmV3IEVycm9yKFwidXBkYXRlV2FpdGluZ1BhcnRpY2lwYW50KCkgbXVzdCB0YWtlIGFuIGlkIHN0cmluZyBhbmQgYSB1cGRhdGVzIG9iamVjdFwiKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4saSl7ZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImRhaWx5LW1ldGhvZC11cGRhdGUtd2FpdGluZy1wYXJ0aWNpcGFudFwiLGlkOnQsdXBkYXRlczpyfSwoZnVuY3Rpb24oZSl7ZS5lcnJvciYmaShlLmVycm9yKSxlLmlkfHxpKG5ldyBFcnJvcihcInVua25vd24gZXJyb3IgaW4gdXBkYXRlV2FpdGluZ1BhcnRpY2lwYW50KClcIikpLG4oe2lkOmUuaWR9KX0pKX0pKX0pKSxmdW5jdGlvbigpe3JldHVybiBZLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwidXBkYXRlV2FpdGluZ1BhcnRpY2lwYW50c1wiLHZhbHVlOihHPXAoKGZ1bmN0aW9uKigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aWYoZGModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJ1cGRhdGVXYWl0aW5nUGFydGljaXBhbnRzKClcIiksc2ModGhpcy5fY2FsbFN0YXRlLFwidXBkYXRlV2FpdGluZ1BhcnRpY2lwYW50cygpXCIpLFwib2JqZWN0XCIhPT1uKHQpKXRocm93IG5ldyBFcnJvcihcInVwZGF0ZVdhaXRpbmdQYXJ0aWNpcGFudHMoKSBtdXN0IHRha2UgYSBtYXBwaW5nIGJldHdlZW4gaWRzIGFuZCB1cGRhdGUgb2JqZWN0c1wiKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7ZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImRhaWx5LW1ldGhvZC11cGRhdGUtd2FpdGluZy1wYXJ0aWNpcGFudHNcIix1cGRhdGVzQnlJZDp0fSwoZnVuY3Rpb24oZSl7ZS5lcnJvciYmcihlLmVycm9yKSxlLmlkc3x8cihuZXcgRXJyb3IoXCJ1bmtub3duIGVycm9yIGluIHVwZGF0ZVdhaXRpbmdQYXJ0aWNpcGFudHMoKVwiKSksbih7aWRzOmUuaWRzfSl9KSl9KSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gRy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInJlcXVlc3RBY2Nlc3NcIix2YWx1ZTooSD1wKChmdW5jdGlvbiooKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LG49dC5hY2Nlc3Mscj12b2lkIDA9PT1uP3tsZXZlbDpQaX06bixpPXQubmFtZSxvPXZvaWQgMD09PWk/XCJcIjppO3JldHVybiBkYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInJlcXVlc3RBY2Nlc3MoKVwiKSxzYyh0aGlzLl9jYWxsU3RhdGUsXCJyZXF1ZXN0QWNjZXNzKClcIiksbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7ZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImRhaWx5LW1ldGhvZC1yZXF1ZXN0LWFjY2Vzc1wiLGFjY2VzczpyLG5hbWU6b30sKGZ1bmN0aW9uKGUpe2UuZXJyb3ImJm4oZS5lcnJvciksZS5hY2Nlc3N8fG4obmV3IEVycm9yKFwidW5rbm93biBlcnJvciBpbiByZXF1ZXN0QWNjZXNzKClcIikpLHQoe2FjY2VzczplLmFjY2VzcyxncmFudGVkOmUuZ3JhbnRlZH0pfSkpfSkpfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIEguYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJsb2NhbEF1ZGlvXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFydGljaXBhbnRzLmxvY2FsPyFbXCJibG9ja2VkXCIsXCJvZmZcIl0uaW5jbHVkZXModGhpcy5fcGFydGljaXBhbnRzLmxvY2FsLnRyYWNrcy5hdWRpby5zdGF0ZSk6bnVsbH19LHtrZXk6XCJsb2NhbFZpZGVvXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFydGljaXBhbnRzLmxvY2FsPyFbXCJibG9ja2VkXCIsXCJvZmZcIl0uaW5jbHVkZXModGhpcy5fcGFydGljaXBhbnRzLmxvY2FsLnRyYWNrcy52aWRlby5zdGF0ZSk6bnVsbH19LHtrZXk6XCJzZXRMb2NhbEF1ZGlvXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVyblwiZm9yY2VEaXNjYXJkVHJhY2tcImluIHQmJih5cygpPyhjb25zb2xlLndhcm4oXCJmb3JjZURpc2NhcmRUcmFjayBvcHRpb24gbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmU7IGlnbm9yaW5nXCIpLHQ9e30pOmUmJihjb25zb2xlLndhcm4oXCJmb3JjZURpc2NhcmRUcmFjayBvcHRpb24gb25seSBzdXBwb3J0ZWQgd2hlbiBjYWxsaW5nIHNldExvY2FsQXVkaW8oZmFsc2UpOyBpZ25vcmluZ1wiKSx0PXt9KSksdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImxvY2FsLWF1ZGlvXCIsc3RhdGU6ZSxvcHRpb25zOnR9KSx0aGlzfX0se2tleTpcImxvY2FsU2NyZWVuQXVkaW9cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJ0aWNpcGFudHMubG9jYWw/IVtcImJsb2NrZWRcIixcIm9mZlwiXS5pbmNsdWRlcyh0aGlzLl9wYXJ0aWNpcGFudHMubG9jYWwudHJhY2tzLnNjcmVlbkF1ZGlvLnN0YXRlKTpudWxsfX0se2tleTpcImxvY2FsU2NyZWVuVmlkZW9cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJ0aWNpcGFudHMubG9jYWw/IVtcImJsb2NrZWRcIixcIm9mZlwiXS5pbmNsdWRlcyh0aGlzLl9wYXJ0aWNpcGFudHMubG9jYWwudHJhY2tzLnNjcmVlblZpZGVvLnN0YXRlKTpudWxsfX0se2tleTpcInVwZGF0ZVNjcmVlblNoYXJlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5faXNTY3JlZW5TaGFyaW5nKXJldHVybiB0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwibG9jYWwtc2NyZWVuLXVwZGF0ZVwiLG9wdGlvbnM6ZX0pLHRoaXM7Y29uc29sZS53YXJuKFwiVGhlcmUgaXMgbm8gc2NyZWVuIHNoYXJlIGluIHByb2dyZXNzLiBUcnkgY2FsbGluZyBzdGFydFNjcmVlblNoYXJlIGZpcnN0LlwiKX19LHtrZXk6XCJzZXRMb2NhbFZpZGVvXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJsb2NhbC12aWRlb1wiLHN0YXRlOmV9KSx0aGlzfX0se2tleTpcIl9zZXRBbGxvd0xvY2FsQXVkaW9cIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLl9wcmVsb2FkQ2FjaGUuYWxsb3dMb2NhbEF1ZGlvPWUsdGhpcy5fY2FsbE1hY2hpbmVJbml0aWFsaXplZClyZXR1cm4gdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1hbGxvdy1sb2NhbC1hdWRpb1wiLHN0YXRlOmV9KSx0aGlzfX0se2tleTpcIl9zZXRBbGxvd0xvY2FsVmlkZW9cIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLl9wcmVsb2FkQ2FjaGUuYWxsb3dMb2NhbFZpZGVvPWUsdGhpcy5fY2FsbE1hY2hpbmVJbml0aWFsaXplZClyZXR1cm4gdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1hbGxvdy1sb2NhbC12aWRlb1wiLHN0YXRlOmV9KSx0aGlzfX0se2tleTpcImdldFJlY2VpdmVTZXR0aW5nc1wiLHZhbHVlOihXPXAoKGZ1bmN0aW9uKihlKXt2YXIgdD10aGlzLHI9KGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSkuc2hvd0luaGVyaXRlZFZhbHVlcyxpPXZvaWQgMCE9PXImJnI7aWYoZGModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJnZXRSZWNlaXZlU2V0dGluZ3MoKVwiKSwhdGhpcy5fY2FsbE1hY2hpbmVJbml0aWFsaXplZClyZXR1cm4gdGhpcy5fcmVjZWl2ZVNldHRpbmdzO3N3aXRjaChuKGUpKXtjYXNlXCJzdHJpbmdcIjpyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4pe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJnZXQtc2luZ2xlLXBhcnRpY2lwYW50LXJlY2VpdmUtc2V0dGluZ3NcIixpZDplLHNob3dJbmhlcml0ZWRWYWx1ZXM6aX0sKGZ1bmN0aW9uKGUpe24oZS5yZWNlaXZlU2V0dGluZ3MpfSkpfSkpO2Nhc2VcInVuZGVmaW5lZFwiOnJldHVybiB0aGlzLl9yZWNlaXZlU2V0dGluZ3M7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoJ2ZpcnN0IGFyZ3VtZW50IHRvIGdldFJlY2VpdmVTZXR0aW5ncygpIG11c3QgYmUgYSBwYXJ0aWNpcGFudCBpZCAob3IgXCJiYXNlXCIpLCBvciB0aGVyZSBzaG91bGQgYmUgbm8gYXJndW1lbnRzJyl9fSkpLGZ1bmN0aW9uKGUpe3JldHVybiBXLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwidXBkYXRlUmVjZWl2ZVNldHRpbmdzXCIsdmFsdWU6KHo9cCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXM7aWYoZGModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJ1cGRhdGVSZWNlaXZlU2V0dGluZ3MoKVwiKSwhZ2MoZSx7YWxsb3dBbGxQYXJ0aWNpcGFudHNLZXk6ITB9KSl0aHJvdyBuZXcgRXJyb3Ioa2Moe2FsbG93QWxsUGFydGljaXBhbnRzS2V5OiEwfSkpO3JldHVybiBzYyh0aGlzLl9jYWxsU3RhdGUsXCJ1cGRhdGVSZWNlaXZlU2V0dGluZ3MoKVwiLFwiVG8gc3BlY2lmeSByZWNlaXZlIHNldHRpbmdzIGVhcmxpZXIsIHVzZSB0aGUgcmVjZWl2ZVNldHRpbmdzIGNvbmZpZyBwcm9wZXJ0eS5cIiksbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4pe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJ1cGRhdGUtcmVjZWl2ZS1zZXR0aW5nc1wiLHJlY2VpdmVTZXR0aW5nczplfSwoZnVuY3Rpb24oZSl7bih7cmVjZWl2ZVNldHRpbmdzOmUucmVjZWl2ZVNldHRpbmdzfSl9KSl9KSl9KSksZnVuY3Rpb24oZSl7cmV0dXJuIHouYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJfcHJlcElucHV0U2V0dGluZ3NGb3JTaGFyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZihlKXt2YXIgbj17fTtpZihlLmF1ZGlvKXt2YXIgcixpLG87ZS5hdWRpby5zZXR0aW5ncyYmKCFPYmplY3Qua2V5cyhlLmF1ZGlvLnNldHRpbmdzKS5sZW5ndGgmJnR8fChuLmF1ZGlvPXtzZXR0aW5nczpWYSh7fSxlLmF1ZGlvLnNldHRpbmdzKX0pKSx0JiZudWxsIT09KHI9bi5hdWRpbykmJnZvaWQgMCE9PXImJm51bGwhPT0ocj1yLnNldHRpbmdzKSYmdm9pZCAwIT09ciYmci5jdXN0b21UcmFjayYmKG4uYXVkaW8uc2V0dGluZ3M9e2N1c3RvbVRyYWNrOnRoaXMuX3NoYXJlZFRyYWNrcy5hdWRpb1RyYWNrfSk7dmFyIHM9XCJub25lXCI9PT0obnVsbD09PShpPWUuYXVkaW8ucHJvY2Vzc29yKXx8dm9pZCAwPT09aT92b2lkIDA6aS50eXBlKSYmKG51bGw9PT0obz1lLmF1ZGlvLnByb2Nlc3Nvcil8fHZvaWQgMD09PW8/dm9pZCAwOm8uX2lzRGVmYXVsdFdoZW5Ob25lKTtpZihlLmF1ZGlvLnByb2Nlc3NvciYmIXMpe3ZhciBhPVZhKHt9LGUuYXVkaW8ucHJvY2Vzc29yKTtkZWxldGUgYS5faXNEZWZhdWx0V2hlbk5vbmUsbi5hdWRpbz1WYShWYSh7fSxuLmF1ZGlvKSx7fSx7cHJvY2Vzc29yOmF9KX19aWYoZS52aWRlbyl7dmFyIGMsbCx1O2UudmlkZW8uc2V0dGluZ3MmJighT2JqZWN0LmtleXMoZS52aWRlby5zZXR0aW5ncykubGVuZ3RoJiZ0fHwobi52aWRlbz17c2V0dGluZ3M6VmEoe30sZS52aWRlby5zZXR0aW5ncyl9KSksdCYmbnVsbCE9PShjPW4udmlkZW8pJiZ2b2lkIDAhPT1jJiZudWxsIT09KGM9Yy5zZXR0aW5ncykmJnZvaWQgMCE9PWMmJmMuY3VzdG9tVHJhY2smJihuLnZpZGVvLnNldHRpbmdzPXtjdXN0b21UcmFjazp0aGlzLl9zaGFyZWRUcmFja3MudmlkZW9UcmFja30pO3ZhciBkPVwibm9uZVwiPT09KG51bGw9PT0obD1lLnZpZGVvLnByb2Nlc3Nvcil8fHZvaWQgMD09PWw/dm9pZCAwOmwudHlwZSkmJihudWxsPT09KHU9ZS52aWRlby5wcm9jZXNzb3IpfHx2b2lkIDA9PT11P3ZvaWQgMDp1Ll9pc0RlZmF1bHRXaGVuTm9uZSk7aWYoZS52aWRlby5wcm9jZXNzb3ImJiFkKXt2YXIgcD1WYSh7fSxlLnZpZGVvLnByb2Nlc3Nvcik7ZGVsZXRlIHAuX2lzRGVmYXVsdFdoZW5Ob25lLG4udmlkZW89VmEoVmEoe30sbi52aWRlbykse30se3Byb2Nlc3NvcjpwfSl9fXJldHVybiBufX19LHtrZXk6XCJnZXRJbnB1dFNldHRpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBoYygpLG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXt0KGUuX2dldElucHV0U2V0dGluZ3MoKSl9KSl9fSx7a2V5OlwiX2dldElucHV0U2V0dGluZ3NcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQsbixyLGksbyxzPXtwcm9jZXNzb3I6e3R5cGU6XCJub25lXCIsX2lzRGVmYXVsdFdoZW5Ob25lOiEwfX07dGhpcy5faW5wdXRTZXR0aW5ncz8oZT0obnVsbD09PShuPXRoaXMuX2lucHV0U2V0dGluZ3MpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnZpZGVvKXx8cyx0PShudWxsPT09KHI9dGhpcy5faW5wdXRTZXR0aW5ncyl8fHZvaWQgMD09PXI/dm9pZCAwOnIuYXVkaW8pfHxzKTooZT0obnVsbD09PShpPXRoaXMuX3ByZWxvYWRDYWNoZSl8fHZvaWQgMD09PWl8fG51bGw9PT0oaT1pLmlucHV0U2V0dGluZ3MpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnZpZGVvKXx8cyx0PShudWxsPT09KG89dGhpcy5fcHJlbG9hZENhY2hlKXx8dm9pZCAwPT09b3x8bnVsbD09PShvPW8uaW5wdXRTZXR0aW5ncyl8fHZvaWQgMD09PW8/dm9pZCAwOm8uYXVkaW8pfHxzKTt2YXIgYT17YXVkaW86dCx2aWRlbzplfTtyZXR1cm4gdGhpcy5fcHJlcElucHV0U2V0dGluZ3NGb3JTaGFyaW5nKGEsITApfX0se2tleTpcIl91cGRhdGVQcmVsb2FkQ2FjaGVJbnB1dFNldHRpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLl9pbnB1dFNldHRpbmdzfHx7fSxyPXt9O2lmKGUudmlkZW8pe3ZhciBpLG8scztpZihyLnZpZGVvPXt9LGUudmlkZW8uc2V0dGluZ3Mpci52aWRlby5zZXR0aW5ncz17fSx0fHxlLnZpZGVvLnNldHRpbmdzLmN1c3RvbVRyYWNrfHxudWxsPT09KHM9bi52aWRlbyl8fHZvaWQgMD09PXN8fCFzLnNldHRpbmdzP3IudmlkZW8uc2V0dGluZ3M9ZS52aWRlby5zZXR0aW5nczpyLnZpZGVvLnNldHRpbmdzPVZhKFZhKHt9LG4udmlkZW8uc2V0dGluZ3MpLGUudmlkZW8uc2V0dGluZ3MpLE9iamVjdC5rZXlzKHIudmlkZW8uc2V0dGluZ3MpLmxlbmd0aHx8ZGVsZXRlIHIudmlkZW8uc2V0dGluZ3M7ZWxzZSBudWxsIT09KGk9bi52aWRlbykmJnZvaWQgMCE9PWkmJmkuc2V0dGluZ3MmJihyLnZpZGVvLnNldHRpbmdzPW4udmlkZW8uc2V0dGluZ3MpO2UudmlkZW8ucHJvY2Vzc29yP3IudmlkZW8ucHJvY2Vzc29yPWUudmlkZW8ucHJvY2Vzc29yOm51bGwhPT0obz1uLnZpZGVvKSYmdm9pZCAwIT09byYmby5wcm9jZXNzb3ImJihyLnZpZGVvLnByb2Nlc3Nvcj1uLnZpZGVvLnByb2Nlc3Nvcil9ZWxzZSBuLnZpZGVvJiYoci52aWRlbz1uLnZpZGVvKTtpZihlLmF1ZGlvKXt2YXIgYSxjLGw7aWYoci5hdWRpbz17fSxlLmF1ZGlvLnNldHRpbmdzKXIuYXVkaW8uc2V0dGluZ3M9e30sdHx8ZS5hdWRpby5zZXR0aW5ncy5jdXN0b21UcmFja3x8bnVsbD09PShsPW4uYXVkaW8pfHx2b2lkIDA9PT1sfHwhbC5zZXR0aW5ncz9yLmF1ZGlvLnNldHRpbmdzPWUuYXVkaW8uc2V0dGluZ3M6ci5hdWRpby5zZXR0aW5ncz1WYShWYSh7fSxuLmF1ZGlvLnNldHRpbmdzKSxlLmF1ZGlvLnNldHRpbmdzKSxPYmplY3Qua2V5cyhyLmF1ZGlvLnNldHRpbmdzKS5sZW5ndGh8fGRlbGV0ZSByLmF1ZGlvLnNldHRpbmdzO2Vsc2UgbnVsbCE9PShhPW4uYXVkaW8pJiZ2b2lkIDAhPT1hJiZhLnNldHRpbmdzJiYoci5hdWRpby5zZXR0aW5ncz1uLmF1ZGlvLnNldHRpbmdzKTtlLmF1ZGlvLnByb2Nlc3Nvcj9yLmF1ZGlvLnByb2Nlc3Nvcj1lLmF1ZGlvLnByb2Nlc3NvcjpudWxsIT09KGM9bi5hdWRpbykmJnZvaWQgMCE9PWMmJmMucHJvY2Vzc29yJiYoci5hdWRpby5wcm9jZXNzb3I9bi5hdWRpby5wcm9jZXNzb3IpfWVsc2Ugbi5hdWRpbyYmKHIuYXVkaW89bi5hdWRpbyk7dGhpcy5fbWF5YmVVcGRhdGVJbnB1dFNldHRpbmdzKHIpfX0se2tleTpcIl9kZXZpY2VzRnJvbUlucHV0U2V0dGluZ3NcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdCxuLHI9KG51bGw9PWV8fG51bGw9PT0odD1lLnZpZGVvKXx8dm9pZCAwPT09dHx8bnVsbD09PSh0PXQuc2V0dGluZ3MpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmRldmljZUlkKXx8bnVsbCxpPShudWxsPT1lfHxudWxsPT09KG49ZS5hdWRpbyl8fHZvaWQgMD09PW58fG51bGw9PT0obj1uLnNldHRpbmdzKXx8dm9pZCAwPT09bj92b2lkIDA6bi5kZXZpY2VJZCl8fG51bGwsbz10aGlzLl9wcmVsb2FkQ2FjaGUub3V0cHV0RGV2aWNlSWR8fG51bGw7cmV0dXJue2NhbWVyYTpyP3tkZXZpY2VJZDpyfTp7fSxtaWM6aT97ZGV2aWNlSWQ6aX06e30sc3BlYWtlcjpvP3tkZXZpY2VJZDpvfTp7fX19fSx7a2V5OlwidXBkYXRlSW5wdXRTZXR0aW5nc1wiLHZhbHVlOihxPXAoKGZ1bmN0aW9uKihlKXt2YXIgdD10aGlzO3JldHVybiBoYygpLG1jKGUpP2UudmlkZW98fGUuYXVkaW8/KHljKGUsdGhpcy5wcm9wZXJ0aWVzLmRhaWx5Q29uZmlnLHRoaXMuX3NoYXJlZFRyYWNrcyksdGhpcy5fY2FsbE9iamVjdE1vZGUmJiF0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkPyh0aGlzLl91cGRhdGVQcmVsb2FkQ2FjaGVJbnB1dFNldHRpbmdzKGUsITApLHRoaXMuX2dldElucHV0U2V0dGluZ3MoKSk6bmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInVwZGF0ZS1pbnB1dC1zZXR0aW5nc1wiLGlucHV0U2V0dGluZ3M6ZX0sKGZ1bmN0aW9uKGkpe2lmKGkuZXJyb3IpcihpLmVycm9yKTtlbHNle2lmKGkucmV0dXJuUHJlbG9hZENhY2hlKXJldHVybiB0Ll91cGRhdGVQcmVsb2FkQ2FjaGVJbnB1dFNldHRpbmdzKGUsITApLHZvaWQgbih0Ll9nZXRJbnB1dFNldHRpbmdzKCkpO3QuX21heWJlVXBkYXRlSW5wdXRTZXR0aW5ncyhpLmlucHV0U2V0dGluZ3MpLG4odC5fcHJlcElucHV0U2V0dGluZ3NGb3JTaGFyaW5nKGkuaW5wdXRTZXR0aW5ncywhMCkpfX0pKX0pKSk6dGhpcy5fZ2V0SW5wdXRTZXR0aW5ncygpOihjb25zb2xlLmVycm9yKFNjKCkpLFByb21pc2UucmVqZWN0KFNjKCkpKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gcS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInNldEJhbmR3aWR0aFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUua2JzLG49ZS50cmFja0NvbnN0cmFpbnRzO2lmKGhjKCksdGhpcy5fY2FsbE1hY2hpbmVJbml0aWFsaXplZClyZXR1cm4gdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1iYW5kd2lkdGhcIixrYnM6dCx0cmFja0NvbnN0cmFpbnRzOm59KSx0aGlzfX0se2tleTpcImdldERhaWx5TGFuZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZihoYygpLHRoaXMuX2NhbGxNYWNoaW5lSW5pdGlhbGl6ZWQpcmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZ2V0LWRhaWx5LWxhbmdcIn0sKGZ1bmN0aW9uKGUpe2RlbGV0ZSBlLmFjdGlvbixkZWxldGUgZS5jYWxsYmFja1N0YW1wLHQoZSl9KSl9KSl9fSx7a2V5Olwic2V0RGFpbHlMYW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGhjKCksdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1kYWlseS1sYW5nXCIsbGFuZzplfSksdGhpc319LHtrZXk6XCJzZXRQcm94eVVybFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic2V0LXByb3h5LXVybFwiLHByb3h5VXJsOmV9KSx0aGlzfX0se2tleTpcInNldEljZUNvbmZpZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic2V0LWljZS1jb25maWdcIixpY2VDb25maWc6ZX0pLHRoaXN9fSx7a2V5OlwibWVldGluZ1Nlc3Npb25TdW1tYXJ5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5bX2ksd2ldLmluY2x1ZGVzKHRoaXMuX2NhbGxTdGF0ZSk/dGhpcy5fZmluYWxTdW1tYXJ5T2ZQcmV2U2Vzc2lvbjp0aGlzLl9tZWV0aW5nU2Vzc2lvblN1bW1hcnl9fSx7a2V5OlwiZ2V0TWVldGluZ1Nlc3Npb25cIix2YWx1ZTooJD1wKChmdW5jdGlvbiooKXt2YXIgZT10aGlzO3JldHVybiBjb25zb2xlLndhcm4oXCJnZXRNZWV0aW5nU2Vzc2lvbigpIGlzIGRlcHJlY2F0ZWQ6IHVzZSBtZWV0aW5nU2Vzc2lvblN1bW1hcnkoKSwgd2hpY2ggd2lsbCByZXR1cm4gaW1tZWRpYXRlbHlcIiksc2ModGhpcy5fY2FsbFN0YXRlLFwiZ2V0TWVldGluZ1Nlc3Npb24oKVwiKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7ZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImdldC1tZWV0aW5nLXNlc3Npb25cIn0sKGZ1bmN0aW9uKGUpe2RlbGV0ZSBlLmFjdGlvbixkZWxldGUgZS5jYWxsYmFja1N0YW1wLHQoZSl9KSl9KSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gJC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcIm1lZXRpbmdTZXNzaW9uU3RhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBzYyh0aGlzLl9jYWxsU3RhdGUsXCJtZWV0aW5nU2Vzc2lvblN0YXRlXCIpLHRoaXMuX21lZXRpbmdTZXNzaW9uU3RhdGV9fSx7a2V5Olwic2V0TWVldGluZ1Nlc3Npb25EYXRhXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwicmVwbGFjZVwiO2RjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwic2V0TWVldGluZ1Nlc3Npb25EYXRhKClcIiksc2ModGhpcy5fY2FsbFN0YXRlLFwic2V0TWVldGluZ1Nlc3Npb25EYXRhXCIpO3RyeXshZnVuY3Rpb24oZSx0KXtuZXcgV3Moe2RhdGE6ZSxtZXJnZVN0cmF0ZWd5OnR9KX0oZSx0KX1jYXRjaChlKXt0aHJvdyBjb25zb2xlLmVycm9yKGUpLGV9dHJ5e3RoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzZXQtc2Vzc2lvbi1kYXRhXCIsZGF0YTplLG1lcmdlU3RyYXRlZ3k6dH0pfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihcIkVycm9yIHNldHRpbmcgbWVldGluZyBzZXNzaW9uIGRhdGE6IFwiLmNvbmNhdChlKSl9fX0se2tleTpcInNldFVzZXJOYW1lXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aGlzLnByb3BlcnRpZXMudXNlck5hbWU9ZSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocil7bi5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC11c2VyLW5hbWVcIixuYW1lOm51bGwhPWU/ZTpcIlwiLHRoaXNNZWV0aW5nT25seTp5cygpfHwhIXQmJiEhdC50aGlzTWVldGluZ09ubHl9LChmdW5jdGlvbihlKXtkZWxldGUgZS5hY3Rpb24sZGVsZXRlIGUuY2FsbGJhY2tTdGFtcCxyKGUpfSkpfSkpfX0se2tleTpcInNldFVzZXJEYXRhXCIsdmFsdWU6KEo9cCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXM7dHJ5e3ZjKGUpfWNhdGNoKGUpe3Rocm93IGNvbnNvbGUuZXJyb3IoZSksZX1pZih0aGlzLnByb3BlcnRpZXMudXNlckRhdGE9ZSx0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkKXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obil7dHJ5e3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzZXQtdXNlci1kYXRhXCIsdXNlckRhdGE6ZX0sKGZ1bmN0aW9uKGUpe2RlbGV0ZSBlLmFjdGlvbixkZWxldGUgZS5jYWxsYmFja1N0YW1wLG4oZSl9KSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc2V0dGluZyB1c2VyIGRhdGE6IFwiLmNvbmNhdChlKSl9fSkpfSkpLGZ1bmN0aW9uKGUpe3JldHVybiBKLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwidmFsaWRhdGVBdWRpb0xldmVsSW50ZXJ2YWxcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlJiYoZTwxMDB8fFwibnVtYmVyXCIhPXR5cGVvZiBlKSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgaW50ZXJ2YWwgbXVzdCBiZSBhIG51bWJlciBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMTAwIG1pbGxpc2Vjb25kcy5cIil9fSx7a2V5Olwic3RhcnRMb2NhbEF1ZGlvTGV2ZWxPYnNlcnZlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIEF1ZGlvV29ya2xldE5vZGUmJiF5cygpKXRocm93IG5ldyBFcnJvcihcInN0YXJ0TG9jYWxBdWRpb0xldmVsT2JzZXJ2ZXIoKSBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlclwiKTtpZih0aGlzLnZhbGlkYXRlQXVkaW9MZXZlbEludGVydmFsKGUpLHRoaXMuX2NhbGxNYWNoaW5lSW5pdGlhbGl6ZWQpcmV0dXJuIHRoaXMuX2lzTG9jYWxBdWRpb0xldmVsT2JzZXJ2ZXJSdW5uaW5nPSEwLG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzdGFydC1sb2NhbC1hdWRpby1sZXZlbC1vYnNlcnZlclwiLGludGVydmFsOmV9LChmdW5jdGlvbihlKXt0Ll9pc0xvY2FsQXVkaW9MZXZlbE9ic2VydmVyUnVubmluZz0hZS5lcnJvcixlLmVycm9yP3Ioe2Vycm9yOmUuZXJyb3J9KTpuKCl9KSl9KSk7dGhpcy5fcHJlbG9hZENhY2hlLmxvY2FsQXVkaW9MZXZlbE9ic2VydmVyPXtlbmFibGVkOiEwLGludGVydmFsOmV9fX0se2tleTpcImlzTG9jYWxBdWRpb0xldmVsT2JzZXJ2ZXJSdW5uaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNMb2NhbEF1ZGlvTGV2ZWxPYnNlcnZlclJ1bm5pbmd9fSx7a2V5Olwic3RvcExvY2FsQXVkaW9MZXZlbE9ic2VydmVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9wcmVsb2FkQ2FjaGUubG9jYWxBdWRpb0xldmVsT2JzZXJ2ZXI9bnVsbCx0aGlzLl9sb2NhbEF1ZGlvTGV2ZWw9MCx0aGlzLl9pc0xvY2FsQXVkaW9MZXZlbE9ic2VydmVyUnVubmluZz0hMSx0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic3RvcC1sb2NhbC1hdWRpby1sZXZlbC1vYnNlcnZlclwifSl9fSx7a2V5Olwic3RhcnRSZW1vdGVQYXJ0aWNpcGFudHNBdWRpb0xldmVsT2JzZXJ2ZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMudmFsaWRhdGVBdWRpb0xldmVsSW50ZXJ2YWwoZSksdGhpcy5fY2FsbE1hY2hpbmVJbml0aWFsaXplZClyZXR1cm4gdGhpcy5faXNSZW1vdGVQYXJ0aWNpcGFudHNBdWRpb0xldmVsT2JzZXJ2ZXJSdW5uaW5nPSEwLG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzdGFydC1yZW1vdGUtcGFydGljaXBhbnRzLWF1ZGlvLWxldmVsLW9ic2VydmVyXCIsaW50ZXJ2YWw6ZX0sKGZ1bmN0aW9uKGUpe3QuX2lzUmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbE9ic2VydmVyUnVubmluZz0hZS5lcnJvcixlLmVycm9yP3Ioe2Vycm9yOmUuZXJyb3J9KTpuKCl9KSl9KSk7dGhpcy5fcHJlbG9hZENhY2hlLnJlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWxPYnNlcnZlcj17ZW5hYmxlZDohMCxpbnRlcnZhbDplfX19LHtrZXk6XCJpc1JlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWxPYnNlcnZlclJ1bm5pbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1JlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWxPYnNlcnZlclJ1bm5pbmd9fSx7a2V5Olwic3RvcFJlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWxPYnNlcnZlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fcHJlbG9hZENhY2hlLnJlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWxPYnNlcnZlcj1udWxsLHRoaXMuX3JlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWw9e30sdGhpcy5faXNSZW1vdGVQYXJ0aWNpcGFudHNBdWRpb0xldmVsT2JzZXJ2ZXJSdW5uaW5nPSExLHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzdG9wLXJlbW90ZS1wYXJ0aWNpcGFudHMtYXVkaW8tbGV2ZWwtb2JzZXJ2ZXJcIn0pfX0se2tleTpcInN0YXJ0Q2FtZXJhXCIsdmFsdWU6KFY9cCgoZnVuY3Rpb24qKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZihkYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInN0YXJ0Q2FtZXJhKClcIiksY2ModGhpcy5fY2FsbFN0YXRlLHRoaXMuX2lzUHJlcGFyaW5nVG9Kb2luLFwic3RhcnRDYW1lcmEoKVwiLFwiRGlkIHlvdSBtZWFuIHRvIHVzZSBzZXRMb2NhbEF1ZGlvKCkgYW5kL29yIHNldExvY2FsVmlkZW8oKSBpbnN0ZWFkP1wiKSx0aGlzLm5lZWRzTG9hZCgpKXRyeXt5aWVsZCB0aGlzLmxvYWQodCl9Y2F0Y2goZSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGUpfWVsc2V7aWYodGhpcy5fZGlkUHJlQXV0aCl7aWYodC51cmwmJnQudXJsIT09dGhpcy5wcm9wZXJ0aWVzLnVybClyZXR1cm4gY29uc29sZS5lcnJvcihcInVybCBpbiBzdGFydENhbWVyYSgpIGlzIGRpZmZlcmVudCB0aGFuIHRoZSBvbmUgdXNlZCBpbiBwcmVBdXRoKClcIiksUHJvbWlzZS5yZWplY3QoKTtpZih0LnRva2VuJiZ0LnRva2VuIT09dGhpcy5wcm9wZXJ0aWVzLnRva2VuKXJldHVybiBjb25zb2xlLmVycm9yKFwidG9rZW4gaW4gc3RhcnRDYW1lcmEoKSBpcyBkaWZmZXJlbnQgdGhhbiB0aGUgb25lIHVzZWQgaW4gcHJlQXV0aCgpXCIpLFByb21pc2UucmVqZWN0KCl9dGhpcy52YWxpZGF0ZVByb3BlcnRpZXModCksdGhpcy5wcm9wZXJ0aWVzPVZhKFZhKHt9LHRoaXMucHJvcGVydGllcyksdCl9cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtlLl9wcmVsb2FkQ2FjaGUuaW5wdXRTZXR0aW5ncz1lLl9wcmVwSW5wdXRTZXR0aW5nc0ZvclNoYXJpbmcoZS5faW5wdXRTZXR0aW5ncywhMSksZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInN0YXJ0LWNhbWVyYVwiLHByb3BlcnRpZXM6b2MoZS5wcm9wZXJ0aWVzLGUuY2FsbENsaWVudElkKSxwcmVsb2FkQ2FjaGU6b2MoZS5fcHJlbG9hZENhY2hlLGUuY2FsbENsaWVudElkKX0sKGZ1bmN0aW9uKGUpe3Qoe2NhbWVyYTplLmNhbWVyYSxtaWM6ZS5taWMsc3BlYWtlcjplLnNwZWFrZXJ9KX0pKX0pKX0pKSxmdW5jdGlvbigpe3JldHVybiBWLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwidmFsaWRhdGVDdXN0b21UcmFja1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtpZihuJiZuLmxlbmd0aD41MCl0aHJvdyBuZXcgRXJyb3IoXCJDdXN0b20gdHJhY2sgYHRyYWNrTmFtZWAgbXVzdCBub3QgYmUgbW9yZSB0aGFuIDUwIGNoYXJhY3RlcnNcIik7aWYodCYmXCJtdXNpY1wiIT09dCYmXCJzcGVlY2hcIiE9PXQmJiEodCBpbnN0YW5jZW9mIE9iamVjdCkpdGhyb3cgbmV3IEVycm9yKFwiQ3VzdG9tIHRyYWNrIGBtb2RlYCBtdXN0IGJlIGVpdGhlciBgbXVzaWNgIHwgYHNwZWVjaGAgfCBgRGFpbHlNaWNBdWRpb01vZGVTZXR0aW5nc2Agb3IgYHVuZGVmaW5lZGBcIik7aWYoISFuJiZbXCJjYW0tYXVkaW9cIixcImNhbS12aWRlb1wiLFwic2NyZWVuLXZpZGVvXCIsXCJzY3JlZW4tYXVkaW9cIixcInJtcEF1ZGlvXCIsXCJybXBWaWRlb1wiLFwiY3VzdG9tVmlkZW9EZWZhdWx0c1wiXS5pbmNsdWRlcyhuKSl0aHJvdyBuZXcgRXJyb3IoXCJDdXN0b20gdHJhY2sgYHRyYWNrTmFtZWAgbXVzdCBub3QgbWF0Y2ggYSB0cmFjayBuYW1lIGFscmVhZHkgdXNlZCBieSBkYWlseTogY2FtLWF1ZGlvLCBjYW0tdmlkZW8sIGN1c3RvbVZpZGVvRGVmYXVsdHMsIHNjcmVlbi12aWRlbywgc2NyZWVuLWF1ZGlvLCBybXBBdWRpbywgcm1wVmlkZW9cIik7aWYoIShlIGluc3RhbmNlb2YgTWVkaWFTdHJlYW1UcmFjaykpdGhyb3cgbmV3IEVycm9yKFwiQ3VzdG9tIHRyYWNrcyBwcm92aWRlZCBtdXN0IGJlIGluc3RhbmNlcyBvZiBNZWRpYVN0cmVhbVRyYWNrXCIpfX0se2tleTpcInN0YXJ0Q3VzdG9tVHJhY2tcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e3RyYWNrOnRyYWNrLG1vZGU6bW9kZSx0cmFja05hbWU6dHJhY2tOYW1lfTtyZXR1cm4gaGMoKSxzYyh0aGlzLl9jYWxsU3RhdGUsXCJzdGFydEN1c3RvbVRyYWNrKClcIiksdGhpcy52YWxpZGF0ZUN1c3RvbVRyYWNrKHQudHJhY2ssdC5tb2RlLHQudHJhY2tOYW1lKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXtlLl9zaGFyZWRUcmFja3MuY3VzdG9tVHJhY2s9dC50cmFjayx0LnRyYWNrPWxzLGUuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzdGFydC1jdXN0b20tdHJhY2tcIixwcm9wZXJ0aWVzOnR9LChmdW5jdGlvbihlKXtlLmVycm9yP3Ioe2Vycm9yOmUuZXJyb3J9KTpuKGUubWVkaWFUYWcpfSkpfSkpfX0se2tleTpcInN0b3BDdXN0b21UcmFja1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGhjKCksc2ModGhpcy5fY2FsbFN0YXRlLFwic3RvcEN1c3RvbVRyYWNrKClcIiksbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4pe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzdG9wLWN1c3RvbS10cmFja1wiLG1lZGlhVGFnOmV9LChmdW5jdGlvbihlKXtuKGUubWVkaWFUYWcpfSkpfSkpfX0se2tleTpcInNldENhbWVyYVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGZjKCksbGModGhpcy5fY2FsbE1hY2hpbmVJbml0aWFsaXplZCxcInNldENhbWVyYSgpXCIpLG5ldyBQcm9taXNlKChmdW5jdGlvbihuKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic2V0LWNhbWVyYVwiLGNhbWVyYURldmljZUlkOmV9LChmdW5jdGlvbihlKXtuKHtkZXZpY2U6ZS5kZXZpY2V9KX0pKX0pKX19LHtrZXk6XCJzZXRBdWRpb0RldmljZVwiLHZhbHVlOihVPXAoKGZ1bmN0aW9uKihlKXtyZXR1cm4gZmMoKSx0aGlzLm5hdGl2ZVV0aWxzKCkuc2V0QXVkaW9EZXZpY2UoZSkse2RldmljZUlkOnlpZWxkIHRoaXMubmF0aXZlVXRpbHMoKS5nZXRBdWRpb0RldmljZSgpfX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gVS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImN5Y2xlQ2FtZXJhXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obil7ZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImN5Y2xlLWNhbWVyYVwiLHByb3BlcnRpZXM6dH0sKGZ1bmN0aW9uKGUpe24oe2RldmljZTplLmRldmljZX0pfSkpfSkpfX0se2tleTpcImN5Y2xlTWljXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBoYygpLG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiY3ljbGUtbWljXCJ9LChmdW5jdGlvbihlKXt0KHtkZXZpY2U6ZS5kZXZpY2V9KX0pKX0pKX19LHtrZXk6XCJnZXRDYW1lcmFGYWNpbmdNb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmYygpLG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZ2V0LWNhbWVyYS1mYWNpbmctbW9kZVwifSwoZnVuY3Rpb24oZSl7dChlLmZhY2luZ01vZGUpfSkpfSkpfX0se2tleTpcInNldElucHV0RGV2aWNlc0FzeW5jXCIsdmFsdWU6KEI9cCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXMsbj1lLmF1ZGlvRGV2aWNlSWQscj1lLnZpZGVvRGV2aWNlSWQsaT1lLmF1ZGlvU291cmNlLG89ZS52aWRlb1NvdXJjZTtpZihoYygpLHZvaWQgMCE9PWkmJihuPWkpLHZvaWQgMCE9PW8mJihyPW8pLFwiYm9vbGVhblwiPT10eXBlb2YgbiYmKHRoaXMuX3NldEFsbG93TG9jYWxBdWRpbyhuKSxuPXZvaWQgMCksXCJib29sZWFuXCI9PXR5cGVvZiByJiYodGhpcy5fc2V0QWxsb3dMb2NhbFZpZGVvKHIpLHI9dm9pZCAwKSwhbiYmIXIpcmV0dXJuIHlpZWxkIHRoaXMuZ2V0SW5wdXREZXZpY2VzKCk7dmFyIHM9e307cmV0dXJuIG4mJihuIGluc3RhbmNlb2YgTWVkaWFTdHJlYW1UcmFjaz8odGhpcy5fc2hhcmVkVHJhY2tzLmF1ZGlvVHJhY2s9bixuPWxzLHMuYXVkaW89e3NldHRpbmdzOntjdXN0b21UcmFjazpufX0pOihkZWxldGUgdGhpcy5fc2hhcmVkVHJhY2tzLmF1ZGlvVHJhY2sscy5hdWRpbz17c2V0dGluZ3M6e2RldmljZUlkOm59fSkpLHImJihyIGluc3RhbmNlb2YgTWVkaWFTdHJlYW1UcmFjaz8odGhpcy5fc2hhcmVkVHJhY2tzLnZpZGVvVHJhY2s9cixyPWxzLHMudmlkZW89e3NldHRpbmdzOntjdXN0b21UcmFjazpyfX0pOihkZWxldGUgdGhpcy5fc2hhcmVkVHJhY2tzLnZpZGVvVHJhY2sscy52aWRlbz17c2V0dGluZ3M6e2RldmljZUlkOnJ9fSkpLHRoaXMuX2NhbGxPYmplY3RNb2RlJiZ0aGlzLm5lZWRzTG9hZCgpPyh0aGlzLl91cGRhdGVQcmVsb2FkQ2FjaGVJbnB1dFNldHRpbmdzKHMsITEpLHRoaXMuX2RldmljZXNGcm9tSW5wdXRTZXR0aW5ncyh0aGlzLl9pbnB1dFNldHRpbmdzKSk6bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzZXQtaW5wdXQtZGV2aWNlc1wiLGF1ZGlvRGV2aWNlSWQ6bix2aWRlb0RldmljZUlkOnJ9LChmdW5jdGlvbihuKXtpZihkZWxldGUgbi5hY3Rpb24sZGVsZXRlIG4uY2FsbGJhY2tTdGFtcCxuLnJldHVyblByZWxvYWRDYWNoZSlyZXR1cm4gdC5fdXBkYXRlUHJlbG9hZENhY2hlSW5wdXRTZXR0aW5ncyhzLCExKSx2b2lkIGUodC5fZGV2aWNlc0Zyb21JbnB1dFNldHRpbmdzKHQuX2lucHV0U2V0dGluZ3MpKTtlKG4pfSkpfSkpfSkpLGZ1bmN0aW9uKGUpe3JldHVybiBCLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5Olwic2V0T3V0cHV0RGV2aWNlQXN5bmNcIix2YWx1ZTooRj1wKChmdW5jdGlvbiooZSl7dmFyIHQ9dGhpcyxuPWUub3V0cHV0RGV2aWNlSWQ7cmV0dXJuIGhjKCksbiYmKHRoaXMuX3ByZWxvYWRDYWNoZS5vdXRwdXREZXZpY2VJZD1uKSx0aGlzLl9jYWxsT2JqZWN0TW9kZSYmdGhpcy5uZWVkc0xvYWQoKT90aGlzLl9kZXZpY2VzRnJvbUlucHV0U2V0dGluZ3ModGhpcy5faW5wdXRTZXR0aW5ncyk6bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzZXQtb3V0cHV0LWRldmljZVwiLG91dHB1dERldmljZUlkOm59LChmdW5jdGlvbihuKXtkZWxldGUgbi5hY3Rpb24sZGVsZXRlIG4uY2FsbGJhY2tTdGFtcCxuLnJldHVyblByZWxvYWRDYWNoZT9lKHQuX2RldmljZXNGcm9tSW5wdXRTZXR0aW5ncyh0Ll9pbnB1dFNldHRpbmdzKSk6ZShuKX0pKX0pKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gRi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImdldElucHV0RGV2aWNlc1wiLHZhbHVlOihSPXAoKGZ1bmN0aW9uKigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX2NhbGxPYmplY3RNb2RlJiZ0aGlzLm5lZWRzTG9hZCgpP3RoaXMuX2RldmljZXNGcm9tSW5wdXRTZXR0aW5ncyh0aGlzLl9pbnB1dFNldHRpbmdzKTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7ZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImdldC1pbnB1dC1kZXZpY2VzXCJ9LChmdW5jdGlvbihuKXtuLnJldHVyblByZWxvYWRDYWNoZT90KGUuX2RldmljZXNGcm9tSW5wdXRTZXR0aW5ncyhlLl9pbnB1dFNldHRpbmdzKSk6dCh7Y2FtZXJhOm4uY2FtZXJhLG1pYzpuLm1pYyxzcGVha2VyOm4uc3BlYWtlcn0pfSkpfSkpfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIFIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJuYXRpdmVJbkNhbGxBdWRpb01vZGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmYygpLHRoaXMuX25hdGl2ZUluQ2FsbEF1ZGlvTW9kZX19LHtrZXk6XCJzZXROYXRpdmVJbkNhbGxBdWRpb01vZGVcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihmYygpLFtXYSxIYV0uaW5jbHVkZXMoZSkpe2lmKGUhPT10aGlzLl9uYXRpdmVJbkNhbGxBdWRpb01vZGUpcmV0dXJuIHRoaXMuX25hdGl2ZUluQ2FsbEF1ZGlvTW9kZT1lLCF0aGlzLmRpc2FibGVSZWFjdE5hdGl2ZUF1dG9EZXZpY2VNYW5hZ2VtZW50KFwiYXVkaW9cIikmJmFjKHRoaXMuX2NhbGxTdGF0ZSx0aGlzLl9pc1ByZXBhcmluZ1RvSm9pbikmJnRoaXMubmF0aXZlVXRpbHMoKS5zZXRBdWRpb01vZGUodGhpcy5fbmF0aXZlSW5DYWxsQXVkaW9Nb2RlKSx0aGlzfWVsc2UgY29uc29sZS5lcnJvcihcImludmFsaWQgaW4tY2FsbCBhdWRpbyBtb2RlIHNwZWNpZmllZDogXCIsZSl9fSx7a2V5OlwicHJlQXV0aFwiLHZhbHVlOihEPXAoKGZ1bmN0aW9uKigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aWYoZGModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJwcmVBdXRoKClcIiksY2ModGhpcy5fY2FsbFN0YXRlLHRoaXMuX2lzUHJlcGFyaW5nVG9Kb2luLFwicHJlQXV0aCgpXCIpLHRoaXMubmVlZHNMb2FkKCkmJih5aWVsZCB0aGlzLmxvYWQodCkpLCF0LnVybCl0aHJvdyBuZXcgRXJyb3IoXCJwcmVBdXRoKCkgcmVxdWlyZXMgYXQgbGVhc3QgYSB1cmwgdG8gYmUgcHJvdmlkZWRcIik7cmV0dXJuIHRoaXMudmFsaWRhdGVQcm9wZXJ0aWVzKHQpLHRoaXMucHJvcGVydGllcz1WYShWYSh7fSx0aGlzLnByb3BlcnRpZXMpLHQpLG5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe2UuX3ByZWxvYWRDYWNoZS5pbnB1dFNldHRpbmdzPWUuX3ByZXBJbnB1dFNldHRpbmdzRm9yU2hhcmluZyhlLl9pbnB1dFNldHRpbmdzLCExKSxlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXByZWF1dGhcIixwcm9wZXJ0aWVzOm9jKGUucHJvcGVydGllcyxlLmNhbGxDbGllbnRJZCkscHJlbG9hZENhY2hlOm9jKGUuX3ByZWxvYWRDYWNoZSxlLmNhbGxDbGllbnRJZCl9LChmdW5jdGlvbihyKXtyZXR1cm4gci5lcnJvcj9uKHIuZXJyb3IpOnIuYWNjZXNzPyhlLl9kaWRQcmVBdXRoPSEwLHZvaWQgdCh7YWNjZXNzOnIuYWNjZXNzfSkpOm4obmV3IEVycm9yKFwidW5rbm93biBlcnJvciBpbiBwcmVBdXRoKClcIikpfSkpfSkpfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIEQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJsb2FkXCIsdmFsdWU6KEw9cCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5uZWVkc0xvYWQoKSl7aWYodGhpcy5fZGVzdHJveWVkJiYodGhpcy5fbG9nVXNlQWZ0ZXJEZXN0cm95KCksdGhpcy5zdHJpY3RNb2RlKSl0aHJvdyBuZXcgRXJyb3IoXCJVc2UgYWZ0ZXIgZGVzdHJveVwiKTtpZihlJiYodGhpcy52YWxpZGF0ZVByb3BlcnRpZXMoZSksdGhpcy5wcm9wZXJ0aWVzPVZhKFZhKHt9LHRoaXMucHJvcGVydGllcyksZSkpLCF0aGlzLl9jYWxsT2JqZWN0TW9kZSYmIXRoaXMucHJvcGVydGllcy51cmwpdGhyb3cgbmV3IEVycm9yKFwiY2FuJ3QgbG9hZCBpZnJhbWUgbWVldGluZyBiZWNhdXNlIHVybCBwcm9wZXJ0eSBpc24ndCBzZXRcIik7cmV0dXJuIHRoaXMuX3VwZGF0ZUNhbGxTdGF0ZShnaSksdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246dG99KSx0aGlzLl9jYWxsT2JqZWN0TW9kZT9uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxuKXt0Ll9jYWxsT2JqZWN0TG9hZGVyLmNhbmNlbCgpO3ZhciByPURhdGUubm93KCk7dC5fY2FsbE9iamVjdExvYWRlci5sb2FkKHQucHJvcGVydGllcy5kYWlseUNvbmZpZywoZnVuY3Rpb24obil7dC5fYnVuZGxlTG9hZFRpbWU9bj9cIm5vLW9wXCI6RGF0ZS5ub3coKS1yLHQuX3VwZGF0ZUNhbGxTdGF0ZShtaSksbiYmdC5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246cm99KSxlKCl9KSwoZnVuY3Rpb24oZSxyKXtpZih0LmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjpub30pLCFyKXt0Ll91cGRhdGVDYWxsU3RhdGUod2kpLHQucmVzZXRNZWV0aW5nRGVwZW5kZW50VmFycygpO3ZhciBpPXthY3Rpb246bnMsZXJyb3JNc2c6ZS5tc2csZXJyb3I6e3R5cGU6XCJjb25uZWN0aW9uLWVycm9yXCIsbXNnOlwiRmFpbGVkIHRvIGxvYWQgY2FsbCBvYmplY3QgYnVuZGxlLlwiLGRldGFpbHM6e29uOlwibG9hZFwiLHNvdXJjZUVycm9yOmUsYnVuZGxlVXJsOloodC5wcm9wZXJ0aWVzLmRhaWx5Q29uZmlnKX19fTt0Ll9tYXliZVNlbmRUb1NlbnRyeShpKSx0LmVtaXREYWlseUpTRXZlbnQoaSksbihlLm1zZyl9fSkpfSkpOih0aGlzLl9pZnJhbWUuc3JjPVgodGhpcy5hc3NlbWJsZU1lZXRpbmdVcmwoKSx0aGlzLnByb3BlcnRpZXMuZGFpbHlDb25maWcpLG5ldyBQcm9taXNlKChmdW5jdGlvbihlLG4pe3QuX2xvYWRlZENhbGxiYWNrPWZ1bmN0aW9uKHIpe3QuX2NhbGxTdGF0ZSE9PXdpPyh0Ll91cGRhdGVDYWxsU3RhdGUobWkpLCh0LnByb3BlcnRpZXMuY3NzRmlsZXx8dC5wcm9wZXJ0aWVzLmNzc1RleHQpJiZ0LmxvYWRDc3ModC5wcm9wZXJ0aWVzKSxlKCkpOm4ocil9fSkpKX19KSksZnVuY3Rpb24oZSl7cmV0dXJuIEwuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJqb2luXCIsdmFsdWU6KEk9cCgoZnVuY3Rpb24qKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0aGlzLl90ZXN0Q2FsbEluUHJvZ3Jlc3MmJnRoaXMuc3RvcFRlc3RDYWxsUXVhbGl0eSgpO3ZhciBuPSExO2lmKHRoaXMubmVlZHNMb2FkKCkpe3RoaXMudXBkYXRlSXNQcmVwYXJpbmdUb0pvaW4oITApO3RyeXt5aWVsZCB0aGlzLmxvYWQodCl9Y2F0Y2goZSl7cmV0dXJuIHRoaXMudXBkYXRlSXNQcmVwYXJpbmdUb0pvaW4oITEpLFByb21pc2UucmVqZWN0KGUpfX1lbHNle2lmKG49ISghdGhpcy5wcm9wZXJ0aWVzLmNzc0ZpbGUmJiF0aGlzLnByb3BlcnRpZXMuY3NzVGV4dCksdGhpcy5fZGlkUHJlQXV0aCl7aWYodC51cmwmJnQudXJsIT09dGhpcy5wcm9wZXJ0aWVzLnVybClyZXR1cm4gY29uc29sZS5lcnJvcihcInVybCBpbiBqb2luKCkgaXMgZGlmZmVyZW50IHRoYW4gdGhlIG9uZSB1c2VkIGluIHByZUF1dGgoKVwiKSx0aGlzLnVwZGF0ZUlzUHJlcGFyaW5nVG9Kb2luKCExKSxQcm9taXNlLnJlamVjdCgpO2lmKHQudG9rZW4mJnQudG9rZW4hPT10aGlzLnByb3BlcnRpZXMudG9rZW4pcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJ0b2tlbiBpbiBqb2luKCkgaXMgZGlmZmVyZW50IHRoYW4gdGhlIG9uZSB1c2VkIGluIHByZUF1dGgoKVwiKSx0aGlzLnVwZGF0ZUlzUHJlcGFyaW5nVG9Kb2luKCExKSxQcm9taXNlLnJlamVjdCgpfWlmKHQudXJsJiYhdGhpcy5fY2FsbE9iamVjdE1vZGUmJnQudXJsJiZ0LnVybCE9PXRoaXMucHJvcGVydGllcy51cmwpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJ1cmwgaW4gam9pbigpIGlzIGRpZmZlcmVudCB0aGFuIHRoZSBvbmUgdXNlZCBpbiBsb2FkKCkgKFwiLmNvbmNhdCh0aGlzLnByb3BlcnRpZXMudXJsLFwiIC0+IFwiKS5jb25jYXQodC51cmwsXCIpXCIpKSx0aGlzLnVwZGF0ZUlzUHJlcGFyaW5nVG9Kb2luKCExKSxQcm9taXNlLnJlamVjdCgpO3RoaXMudmFsaWRhdGVQcm9wZXJ0aWVzKHQpLHRoaXMucHJvcGVydGllcz1WYShWYSh7fSx0aGlzLnByb3BlcnRpZXMpLHQpfXJldHVybiB2b2lkIDAhPT10LnNob3dMb2NhbFZpZGVvJiYodGhpcy5fY2FsbE9iamVjdE1vZGU/Y29uc29sZS5lcnJvcihcInNob3dMb2NhbFZpZGVvIGlzIG5vdCBhdmFpbGFibGUgaW4gY2FsbE9iamVjdCBtb2RlXCIpOnRoaXMuX3Nob3dMb2NhbFZpZGVvPSEhdC5zaG93TG9jYWxWaWRlbyksdm9pZCAwIT09dC5zaG93UGFydGljaXBhbnRzQmFyJiYodGhpcy5fY2FsbE9iamVjdE1vZGU/Y29uc29sZS5lcnJvcihcInNob3dQYXJ0aWNpcGFudHNCYXIgaXMgbm90IGF2YWlsYWJsZSBpbiBjYWxsT2JqZWN0IG1vZGVcIik6dGhpcy5fc2hvd1BhcnRpY2lwYW50c0Jhcj0hIXQuc2hvd1BhcnRpY2lwYW50c0JhciksdGhpcy5fY2FsbFN0YXRlPT09Yml8fHRoaXMuX2NhbGxTdGF0ZT09PXlpPyhjb25zb2xlLndhcm4oXCJhbHJlYWR5IGpvaW5lZCBtZWV0aW5nLCBjYWxsIGxlYXZlKCkgYmVmb3JlIGpvaW5pbmcgYWdhaW5cIiksdm9pZCB0aGlzLnVwZGF0ZUlzUHJlcGFyaW5nVG9Kb2luKCExKSk6KHRoaXMuX3VwZGF0ZUNhbGxTdGF0ZSh5aSwhMSksdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246c299KSx0aGlzLl9wcmVsb2FkQ2FjaGUuaW5wdXRTZXR0aW5ncz10aGlzLl9wcmVwSW5wdXRTZXR0aW5nc0ZvclNoYXJpbmcodGhpcy5faW5wdXRTZXR0aW5nc3x8e30sITEpLHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJqb2luLW1lZXRpbmdcIixwcm9wZXJ0aWVzOm9jKHRoaXMucHJvcGVydGllcyx0aGlzLmNhbGxDbGllbnRJZCkscHJlbG9hZENhY2hlOm9jKHRoaXMuX3ByZWxvYWRDYWNoZSx0aGlzLmNhbGxDbGllbnRJZCl9KSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxyKXtlLl9qb2luZWRDYWxsYmFjaz1mdW5jdGlvbihpLG8pe2lmKGUuX2NhbGxTdGF0ZSE9PXdpKXtpZihlLl91cGRhdGVDYWxsU3RhdGUoYmkpLGkpZm9yKHZhciBzIGluIGkpe2lmKGUuX2NhbGxPYmplY3RNb2RlKXt2YXIgYT1lLl9jYWxsTWFjaGluZSgpLnN0b3JlO3VhKGlbc10sYSksZGEoaVtzXSxhKSxoYShpW3NdLGUuX3BhcnRpY2lwYW50c1tzXSxhKX1lLl9wYXJ0aWNpcGFudHNbc109VmEoe30saVtzXSksZS50b2dnbGVQYXJ0aWNpcGFudEF1ZGlvQmFzZWRPbk5hdGl2ZUF1ZGlvRm9jdXMoKX1uJiZlLmxvYWRDc3MoZS5wcm9wZXJ0aWVzKSx0KGkpfWVsc2UgcihvKX19KSkpfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIEkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJsZWF2ZVwiLHZhbHVlOihqPXAoKGZ1bmN0aW9uKigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX3Rlc3RDYWxsSW5Qcm9ncmVzcyYmdGhpcy5zdG9wVGVzdENhbGxRdWFsaXR5KCksbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe2UuX2NhbGxTdGF0ZT09PV9pfHxlLl9jYWxsU3RhdGU9PT13aT90KCk6ZS5fY2FsbE9iamVjdExvYWRlciYmIWUuX2NhbGxPYmplY3RMb2FkZXIubG9hZGVkPyhlLl9jYWxsT2JqZWN0TG9hZGVyLmNhbmNlbCgpLGUuX3VwZGF0ZUNhbGxTdGF0ZShfaSksZS5yZXNldE1lZXRpbmdEZXBlbmRlbnRWYXJzKCksZS5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246X2l9KSx0KCkpOihlLl9yZXNvbHZlTGVhdmU9dCxlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwibGVhdmUtbWVldGluZ1wifSkpfSkpfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIGouYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJzdGFydFNjcmVlblNoYXJlXCIsdmFsdWU6KEE9cCgoZnVuY3Rpb24qKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZihsYyh0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkLFwic3RhcnRTY3JlZW5TaGFyZSgpXCIpLHQuc2NyZWVuVmlkZW9TZW5kU2V0dGluZ3MmJnRoaXMuX3ZhbGlkYXRlVmlkZW9TZW5kU2V0dGluZ3MoXCJzY3JlZW5WaWRlb1wiLHQuc2NyZWVuVmlkZW9TZW5kU2V0dGluZ3MpLHQubWVkaWFTdHJlYW0mJih0aGlzLl9zaGFyZWRUcmFja3Muc2NyZWVuTWVkaWFTdHJlYW09dC5tZWRpYVN0cmVhbSx0Lm1lZGlhU3RyZWFtPWxzKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgRGFpbHlOYXRpdmVVdGlscyYmdm9pZCAwIT09RGFpbHlOYXRpdmVVdGlscy5pc0lPUyYmRGFpbHlOYXRpdmVVdGlscy5pc0lPUyl7dmFyIG49dGhpcy5uYXRpdmVVdGlscygpO2lmKHlpZWxkIG4uaXNTY3JlZW5CZWluZ0NhcHR1cmVkKCkpcmV0dXJuIHZvaWQgdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246dHMsdHlwZTpcInNjcmVlbi1zaGFyZS1lcnJvclwiLGVycm9yTXNnOlwiQ291bGQgbm90IHN0YXJ0IHRoZSBzY3JlZW4gc2hhcmluZy4gVGhlIHNjcmVlbiBpcyBhbHJlYWR5IGJlZW4gY2FwdHVyZWQhXCJ9KTtuLnNldFN5c3RlbVNjcmVlbkNhcHR1cmVTdGFydENhbGxiYWNrKChmdW5jdGlvbigpe24uc2V0U3lzdGVtU2NyZWVuQ2FwdHVyZVN0YXJ0Q2FsbGJhY2sobnVsbCksZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpzcyxjYXB0dXJlT3B0aW9uczp0fSl9KSksbi5wcmVzZW50U3lzdGVtU2NyZWVuQ2FwdHVyZVByb21wdCgpfWVsc2UgdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpzcyxjYXB0dXJlT3B0aW9uczp0fSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gQS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInN0b3BTY3JlZW5TaGFyZVwiLHZhbHVlOmZ1bmN0aW9uKCl7bGModGhpcy5fY2FsbE1hY2hpbmVJbml0aWFsaXplZCxcInN0b3BTY3JlZW5TaGFyZSgpXCIpLHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJsb2NhbC1zY3JlZW4tc3RvcFwifSl9fSx7a2V5Olwic3RhcnRSZWNvcmRpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUudHlwZTtpZih0JiZcImNsb3VkXCIhPT10JiZcInJhdy10cmFja3NcIiE9PXQmJlwibG9jYWxcIiE9PXQpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB0eXBlOiBcIi5jb25jYXQodCxcIiwgYWxsb3dlZCB2YWx1ZXMgJ2Nsb3VkJywgJ3Jhdy10cmFja3MnLCBvciAnbG9jYWwnXCIpKTt0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZShWYSh7YWN0aW9uOlwibG9jYWwtcmVjb3JkaW5nLXN0YXJ0XCJ9LGUpKX19LHtrZXk6XCJ1cGRhdGVSZWNvcmRpbmdcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmxheW91dCxuPXZvaWQgMD09PXQ/e3ByZXNldDpcImRlZmF1bHRcIn06dCxyPWUuaW5zdGFuY2VJZDt0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXVwZGF0ZS1yZWNvcmRpbmdcIixsYXlvdXQ6bixpbnN0YW5jZUlkOnJ9KX19LHtrZXk6XCJzdG9wUmVjb3JkaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307dGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoVmEoe2FjdGlvbjpcImxvY2FsLXJlY29yZGluZy1zdG9wXCJ9LGUpKX19LHtrZXk6XCJzdGFydExpdmVTdHJlYW1pbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZShWYSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXN0YXJ0LWxpdmUtc3RyZWFtaW5nXCJ9LGUpKX19LHtrZXk6XCJ1cGRhdGVMaXZlU3RyZWFtaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sYXlvdXQsbj12b2lkIDA9PT10P3twcmVzZXQ6XCJkZWZhdWx0XCJ9OnQscj1lLmluc3RhbmNlSWQ7dGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImRhaWx5LW1ldGhvZC11cGRhdGUtbGl2ZS1zdHJlYW1pbmdcIixsYXlvdXQ6bixpbnN0YW5jZUlkOnJ9KX19LHtrZXk6XCJhZGRMaXZlU3RyZWFtaW5nRW5kcG9pbnRzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5lbmRwb2ludHMsbj1lLmluc3RhbmNlSWQ7dGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjphcyxlbmRwb2ludHNPcDpmcyxlbmRwb2ludHM6dCxpbnN0YW5jZUlkOm59KX19LHtrZXk6XCJyZW1vdmVMaXZlU3RyZWFtaW5nRW5kcG9pbnRzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5lbmRwb2ludHMsbj1lLmluc3RhbmNlSWQ7dGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjphcyxlbmRwb2ludHNPcDp2cyxlbmRwb2ludHM6dCxpbnN0YW5jZUlkOm59KX19LHtrZXk6XCJzdG9wTGl2ZVN0cmVhbWluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3RoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKFZhKHthY3Rpb246XCJkYWlseS1tZXRob2Qtc3RvcC1saXZlLXN0cmVhbWluZ1wifSxlKSl9fSx7a2V5OlwidmFsaWRhdGVEYWlseUNvbmZpZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2UuY2FtU2ltdWxjYXN0RW5jb2RpbmdzJiYoY29uc29sZS53YXJuKFwiY2FtU2ltdWxjYXN0RW5jb2RpbmdzIGlzIGRlcHJlY2F0ZWQuIFVzZSBzZW5kU2V0dGluZ3MsIGZvdW5kIGluIERhaWx5Q2FsbE9wdGlvbnMsIHRvIHByb3ZpZGUgY2FtZXJhIHNpbXVsY2FzdCBzZXR0aW5ncy5cIiksdGhpcy52YWxpZGF0ZVNpbXVsY2FzdEVuY29kaW5ncyhlLmNhbVNpbXVsY2FzdEVuY29kaW5ncykpLGUuc2NyZWVuU2ltdWxjYXN0RW5jb2RpbmdzJiZjb25zb2xlLndhcm4oXCJzY3JlZW5TaW11bGNhc3RFbmNvZGluZ3MgaXMgZGVwcmVjYXRlZC4gVXNlIHNlbmRTZXR0aW5ncywgZm91bmQgaW4gRGFpbHlDYWxsT3B0aW9ucywgdG8gcHJvdmlkZSBzY3JlZW4gc2ltdWxjYXN0IHNldHRpbmdzLlwiKSxFcygpJiZlLm5vQXV0b0RlZmF1bHREZXZpY2VDaGFuZ2UmJmNvbnNvbGUud2FybihcIm5vQXV0b0RlZmF1bHREZXZpY2VDaGFuZ2UgaXMgbm90IHN1cHBvcnRlZCBvbiBBbmRyb2lkLCBhbmQgd2lsbCBiZSBpZ25vcmVkLlwiKX19LHtrZXk6XCJ2YWxpZGF0ZVNpbXVsY2FzdEVuY29kaW5nc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTtpZihlKXtpZighKGUgaW5zdGFuY2VvZiBBcnJheXx8QXJyYXkuaXNBcnJheShlKSkpdGhyb3cgbmV3IEVycm9yKFwiZW5jb2RpbmdzIG11c3QgYmUgYW4gQXJyYXlcIik7aWYoIUFjKGUubGVuZ3RoLDEsMykpdGhyb3cgbmV3IEVycm9yKFwiZW5jb2RpbmdzIG11c3QgYmUgYW4gQXJyYXkgd2l0aCBiZXR3ZWVuIDEgdG8gXCIuY29uY2F0KDMsXCIgbGF5ZXJzXCIpKTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGk9ZVtyXTtmb3IodmFyIG8gaW4gdGhpcy5fdmFsaWRhdGVFbmNvZGluZ0xheWVySGFzVmFsaWRQcm9wZXJ0aWVzKGkpLGkpaWYoWWEuaW5jbHVkZXMobykpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBpW29dKXRocm93IG5ldyBFcnJvcihcIlwiLmNvbmNhdChvLFwiIG11c3QgYmUgYSBudW1iZXJcIikpO2lmKHQpe3ZhciBzPXRbb10sYT1zLm1pbixjPXMubWF4O2lmKCFBYyhpW29dLGEsYykpdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KG8sXCIgdmFsdWUgbm90IGluIHJhbmdlLiB2YWxpZCByYW5nZTogXCIpLmNvbmNhdChhLFwiIHRvIFwiKS5jb25jYXQoYykpfX1lbHNlIGlmKCFbXCJhY3RpdmVcIixcInNjYWxhYmlsaXR5TW9kZVwiXS5pbmNsdWRlcyhvKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGtleSBcIi5jb25jYXQobyxcIiwgdmFsaWQga2V5cyBhcmU6XCIpK09iamVjdC52YWx1ZXMoWWEpKTtpZihuJiYhaS5oYXNPd25Qcm9wZXJ0eShcIm1heEJpdHJhdGVcIikpdGhyb3cgbmV3IEVycm9yKFwibWF4Qml0cmF0ZSBpcyBub3Qgc3BlY2lmaWVkXCIpfX19fSx7a2V5Olwic3RhcnRSZW1vdGVNZWRpYVBsYXllclwiLHZhbHVlOihQPXAoKGZ1bmN0aW9uKihlKXt2YXIgdD10aGlzLG49ZS51cmwscj1lLnNldHRpbmdzLGk9dm9pZCAwPT09cj97c3RhdGU6cHMuUExBWX06cjt0cnl7IWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigndXJsIHBhcmFtZXRlciBtdXN0IGJlIFwic3RyaW5nXCIgdHlwZScpfShuKSxQYyhpKSxmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSlpZighWGEuaW5jbHVkZXModCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBrZXkgXCIuY29uY2F0KHQsXCIsIHZhbGlkIGtleXMgYXJlOiBcIikuY29uY2F0KFhhKSk7ZS5zaW11bGNhc3RFbmNvZGluZ3MmJnRoaXMudmFsaWRhdGVTaW11bGNhc3RFbmNvZGluZ3MoZS5zaW11bGNhc3RFbmNvZGluZ3MsS2EsITApfShpKX1jYXRjaChlKXt0aHJvdyBjb25zb2xlLmVycm9yKFwiaW52YWxpZCBhcmd1bWVudCBFcnJvcjogXCIuY29uY2F0KGUpKSxjb25zb2xlLmVycm9yKCdzdGFydFJlbW90ZU1lZGlhUGxheWVyIGFyZ3VtZW50cyBtdXN0IGJlIG9mIHRoZSBmb3JtOlxcbiAgeyB1cmw6IFwicGxheWJhY2sgdXJsXCIsXFxuICBzZXR0aW5ncz86XFxuICB7c3RhdGU6IFwicGxheVwifFwicGF1c2VcIiwgc2ltdWxjYXN0RW5jb2RpbmdzPzogW3t9XSB9IH0nKSxlfXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxyKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXN0YXJ0LXJlbW90ZS1tZWRpYS1wbGF5ZXJcIix1cmw6bixzZXR0aW5nczppfSwoZnVuY3Rpb24odCl7dC5lcnJvcj9yKHtlcnJvcjp0LmVycm9yLGVycm9yTXNnOnQuZXJyb3JNc2d9KTplKHtzZXNzaW9uX2lkOnQuc2Vzc2lvbl9pZCxyZW1vdGVNZWRpYVBsYXllclN0YXRlOntzdGF0ZTp0LnN0YXRlLHNldHRpbmdzOnQuc2V0dGluZ3N9fSl9KSl9KSl9KSksZnVuY3Rpb24oZSl7cmV0dXJuIFAuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJzdG9wUmVtb3RlTWVkaWFQbGF5ZXJcIix2YWx1ZTooTz1wKChmdW5jdGlvbiooZSl7dmFyIHQ9dGhpcztpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCIgcmVtb3RlUGxheWVySUQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZ1wiKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImRhaWx5LW1ldGhvZC1zdG9wLXJlbW90ZS1tZWRpYS1wbGF5ZXJcIixzZXNzaW9uX2lkOmV9LChmdW5jdGlvbihlKXtlLmVycm9yP3Ioe2Vycm9yOmUuZXJyb3IsZXJyb3JNc2c6ZS5lcnJvck1zZ30pOm4oKX0pKX0pKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gTy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInVwZGF0ZVJlbW90ZU1lZGlhUGxheWVyXCIsdmFsdWU6KFQ9cCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXMsbj1lLnNlc3Npb25faWQscj1lLnNldHRpbmdzO3RyeXtQYyhyKX1jYXRjaChlKXt0aHJvdyBjb25zb2xlLmVycm9yKFwiaW52YWxpZCBhcmd1bWVudCBFcnJvcjogXCIuY29uY2F0KGUpKSxjb25zb2xlLmVycm9yKCd1cGRhdGVSZW1vdGVNZWRpYVBsYXllciBhcmd1bWVudHMgbXVzdCBiZSBvZiB0aGUgZm9ybTpcXG4gIHNlc3Npb25faWQ6IFwicGFydGljaXBhbnQgc2Vzc2lvblwiLFxcbiAgeyBzZXR0aW5ncz86IHtzdGF0ZTogXCJwbGF5XCJ8XCJwYXVzZVwifSB9JyksZX1yZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsaSl7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImRhaWx5LW1ldGhvZC11cGRhdGUtcmVtb3RlLW1lZGlhLXBsYXllclwiLHNlc3Npb25faWQ6bixzZXR0aW5nczpyfSwoZnVuY3Rpb24odCl7dC5lcnJvcj9pKHtlcnJvcjp0LmVycm9yLGVycm9yTXNnOnQuZXJyb3JNc2d9KTplKHtzZXNzaW9uX2lkOnQuc2Vzc2lvbl9pZCxyZW1vdGVNZWRpYVBsYXllclN0YXRlOntzdGF0ZTp0LnN0YXRlLHNldHRpbmdzOnQuc2V0dGluZ3N9fSl9KSl9KSl9KSksZnVuY3Rpb24oZSl7cmV0dXJuIFQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJzdGFydFRyYW5zY3JpcHRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXtzYyh0aGlzLl9jYWxsU3RhdGUsXCJzdGFydFRyYW5zY3JpcHRpb24oKVwiKSx0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZShWYSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXN0YXJ0LXRyYW5zY3JpcHRpb25cIn0sZSkpfX0se2tleTpcInVwZGF0ZVRyYW5zY3JpcHRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXtpZihzYyh0aGlzLl9jYWxsU3RhdGUsXCJ1cGRhdGVUcmFuc2NyaXB0aW9uKClcIiksIWUpdGhyb3cgbmV3IEVycm9yKFwidXBkYXRlVHJhbnNjcmlwdGlvbiBFcnJvcjogb3B0aW9ucyBpcyBtYW5kYXRvcnlcIik7aWYoXCJvYmplY3RcIiE9PW4oZSkpdGhyb3cgbmV3IEVycm9yKFwidXBkYXRlVHJhbnNjcmlwdGlvbiBFcnJvcjogb3B0aW9ucyBtdXN0IGJlIG9iamVjdCB0eXBlXCIpO2lmKGUucGFydGljaXBhbnRzJiYhQXJyYXkuaXNBcnJheShlLnBhcnRpY2lwYW50cykpdGhyb3cgbmV3IEVycm9yKFwidXBkYXRlVHJhbnNjcmlwdGlvbiBFcnJvcjogcGFydGljaXBhbnRzIG11c3QgYmUgYW4gYXJyYXlcIik7dGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoVmEoe2FjdGlvbjpcImRhaWx5LW1ldGhvZC11cGRhdGUtdHJhbnNjcmlwdGlvblwifSxlKSl9fSx7a2V5Olwic3RvcFRyYW5zY3JpcHRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXtpZihzYyh0aGlzLl9jYWxsU3RhdGUsXCJzdG9wVHJhbnNjcmlwdGlvbigpXCIpLGUmJlwib2JqZWN0XCIhPT1uKGUpKXRocm93IG5ldyBFcnJvcihcInN0b3BUcmFuc2NyaXB0aW9uIEVycm9yOiBvcHRpb25zIG11c3QgYmUgb2JqZWN0IHR5cGVcIik7aWYoZSYmIWUuaW5zdGFuY2VJZCl0aHJvdyBuZXcgRXJyb3IoJ1wiaW5zdGFuY2VJZFwiIG5vdCBwcm92aWRlZCcpO3RoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKFZhKHthY3Rpb246XCJkYWlseS1tZXRob2Qtc3RvcC10cmFuc2NyaXB0aW9uXCJ9LGUpKX19LHtrZXk6XCJzdGFydERpYWxPdXRcIix2YWx1ZTooRT1wKChmdW5jdGlvbiooZSl7dmFyIHQ9dGhpcztzYyh0aGlzLl9jYWxsU3RhdGUsXCJzdGFydERpYWxPdXQoKVwiKTt2YXIgbj1mdW5jdGlvbihlKXtpZihlKXtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogYXVkaW8gY29kZWMgbXVzdCBiZSBhbiBhcnJheVwiKTtpZihlLmxlbmd0aDw9MCl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogYXVkaW8gY29kZWMgYXJyYXkgc3BlY2lmaWVkIGJ1dCBlbXB0eVwiKTtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiBhdWRpbyBjb2RlYyBtdXN0IGJlIGEgc3RyaW5nXCIpO2lmKFwiT1BVU1wiIT09ZSYmXCJQQ01VXCIhPT1lJiZcIlBDTUFcIiE9PWUmJlwiRzcyMlwiIT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogYXVkaW8gY29kZWMgbXVzdCBiZSBvbmUgb2YgT1BVUywgUENNVSwgUENNQSwgRzcyMlwiKX0pKX19O2lmKCFlLnNpcFVyaSYmIWUucGhvbmVOdW1iZXIpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IGVpdGhlciBhIHNpcCB1cmkgb3IgcGhvbmUgbnVtYmVyIG11c3QgYmUgcHJvdmlkZWRcIik7aWYoZS5zaXBVcmkmJmUucGhvbmVOdW1iZXIpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IG9ubHkgb25lIG9mIHNpcCB1cmkgb3IgcGhvbmUgbnVtYmVyIG11c3QgYmUgcHJvdmlkZWRcIik7aWYoZS5zaXBVcmkpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlLnNpcFVyaSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogc2lwVXJpIG11c3QgYmUgYSBzdHJpbmdcIik7aWYoIWUuc2lwVXJpLnN0YXJ0c1dpdGgoXCJzaXA6XCIpKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiBJbnZhbGlkIFNJUCBVUkksIG11c3Qgc3RhcnQgd2l0aCAnc2lwOidcIik7aWYoZS52aWRlbyYmXCJib29sZWFuXCIhPXR5cGVvZiBlLnZpZGVvKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiB2aWRlbyBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZVwiKTshZnVuY3Rpb24oZSl7aWYoZSYmKG4oZS5hdWRpbyksZS52aWRlbykpe2lmKCFBcnJheS5pc0FycmF5KGUudmlkZW8pKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiB2aWRlbyBjb2RlYyBtdXN0IGJlIGFuIGFycmF5XCIpO2lmKGUudmlkZW8ubGVuZ3RoPD0wKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiB2aWRlbyBjb2RlYyBhcnJheSBzcGVjaWZpZWQgYnV0IGVtcHR5XCIpO2UudmlkZW8uZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IHZpZGVvIGNvZGVjIG11c3QgYmUgYSBzdHJpbmdcIik7aWYoXCJIMjY0XCIhPT1lJiZcIlZQOFwiIT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogdmlkZW8gY29kZWMgbXVzdCBiZSBIMjY0IG9yIFZQOFwiKX0pKX19KGUuY29kZWNzKX1pZihlLnBob25lTnVtYmVyKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZS5waG9uZU51bWJlcil0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogcGhvbmVOdW1iZXIgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZighL15cXCtcXGR7MSx9JC8udGVzdChlLnBob25lTnVtYmVyKSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogSW52YWxpZCBwaG9uZSBudW1iZXIsIG11c3QgYmUgdmFsaWQgcGhvbmUgbnVtYmVyIGFzIHBlciBFLjE2NFwiKTtlLmNvZGVjcyYmbihlLmNvZGVjcy5hdWRpbyl9aWYoZS5jYWxsZXJJZCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUuY2FsbGVySWQpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IGNhbGxlcklkIG11c3QgYmUgYSBzdHJpbmdcIik7aWYoZS5zaXBVcmkpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IGNhbGxlcklkIG5vdCBhbGxvd2VkIHdpdGggc2lwVXJpXCIpfWlmKGUuZGlzcGxheU5hbWUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlLmRpc3BsYXlOYW1lKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiBkaXNwbGF5TmFtZSBtdXN0IGJlIGEgc3RyaW5nXCIpO2lmKGUuZGlzcGxheU5hbWUubGVuZ3RoPj0yMDApdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IGRpc3BsYXlOYW1lIGxlbmd0aCBtdXN0IGJlIGxlc3MgdGhhbiAyMDBcIil9aWYoZS51c2VySWQpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlLnVzZXJJZCl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogdXNlcklkIG11c3QgYmUgYSBzdHJpbmdcIik7aWYoZS51c2VySWQubGVuZ3RoPjM2KXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiB1c2VySWQgbGVuZ3RoIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDM2XCIpfXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZShWYSh7YWN0aW9uOlwiZGlhbG91dC1zdGFydFwifSxlKSwoZnVuY3Rpb24oZSl7ZS5lcnJvcj9yKGUuZXJyb3IpOm4oZSl9KSl9KSl9KSksZnVuY3Rpb24oZSl7cmV0dXJuIEUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJzdG9wRGlhbE91dFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHNjKHRoaXMuX2NhbGxTdGF0ZSxcInN0b3BEaWFsT3V0KClcIiksbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoVmEoe2FjdGlvbjpcImRpYWxvdXQtc3RvcFwifSxlKSwoZnVuY3Rpb24oZSl7ZS5lcnJvcj9yKGUuZXJyb3IpOm4oZSl9KSl9KSl9fSx7a2V5Olwic2lwQ2FsbFRyYW5zZmVyXCIsdmFsdWU6KEM9cCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXM7aWYoc2ModGhpcy5fY2FsbFN0YXRlLFwic2lwQ2FsbFRyYW5zZmVyKClcIiksIWUpdGhyb3cgbmV3IEVycm9yKFwic2lwQ2FsbFRyYW5zZmVyKCkgcmVxdWlyZXMgYSBzZXNzaW9uSWQgYW5kIHRvRW5kUG9pbnRcIik7cmV0dXJuIGUudXNlU2lwUmVmZXI9ITEsT2MoZSxcInNpcENhbGxUcmFuc2ZlclwiKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZShWYSh7YWN0aW9uOmdzfSxlKSwoZnVuY3Rpb24oZSl7ZS5lcnJvcj9yKGUuZXJyb3IpOm4oZSl9KSl9KSl9KSksZnVuY3Rpb24oZSl7cmV0dXJuIEMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJzaXBSZWZlclwiLHZhbHVlOihNPXAoKGZ1bmN0aW9uKihlKXt2YXIgdD10aGlzO2lmKHNjKHRoaXMuX2NhbGxTdGF0ZSxcInNpcFJlZmVyKClcIiksIWUpdGhyb3cgbmV3IEVycm9yKFwic2Vzc2lvbklkIGFuZCB0b0VuZFBvaW50IGFyZSBtYW5kYXRvcnkgcGFyYW1ldGVyXCIpO3JldHVybiBlLnVzZVNpcFJlZmVyPSEwLE9jKGUsXCJzaXBSZWZlclwiKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZShWYSh7YWN0aW9uOmdzfSxlKSwoZnVuY3Rpb24oZSl7ZS5lcnJvcj9yKGUuZXJyb3IpOm4oZSl9KSl9KSl9KSksZnVuY3Rpb24oZSl7cmV0dXJuIE0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJzZW5kRFRNRlwiLHZhbHVlOihrPXAoKGZ1bmN0aW9uKihlKXt2YXIgdD10aGlzO3JldHVybiBzYyh0aGlzLl9jYWxsU3RhdGUsXCJzZW5kRFRNRigpXCIpLGZ1bmN0aW9uKGUpe3ZhciB0PWUuc2Vzc2lvbklkLG49ZS50b25lcztpZighdHx8IW4pdGhyb3cgbmV3IEVycm9yKFwic2Vzc2lvbklkIGFuZCB0b25lcyBhcmUgbWFuZGF0b3J5IHBhcmFtZXRlclwiKTtpZihcInN0cmluZ1wiIT10eXBlb2YgdHx8XCJzdHJpbmdcIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKFwic2Vzc2lvbklkIGFuZCB0b25lcyBzaG91bGQgYmUgb2Ygc3RyaW5nIHR5cGVcIik7aWYobi5sZW5ndGg+MjApdGhyb3cgbmV3IEVycm9yKFwidG9uZXMgc3RyaW5nIG11c3QgYmUgdXB0byAyMCBjaGFyYWN0ZXJzXCIpO3ZhciByPS9bXjAtOUEtRCojXS9nLGk9bi5tYXRjaChyKTtpZihpJiZpWzBdKXRocm93IG5ldyBFcnJvcihcIlwiLmNvbmNhdChpWzBdLFwiIGlzIG5vdCB2YWxpZCBEVE1GIHRvbmVcIikpfShlKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZShWYSh7YWN0aW9uOlwic2VuZC1kdG1mXCJ9LGUpLChmdW5jdGlvbihlKXtlLmVycm9yP3IoZS5lcnJvcik6bihlKX0pKX0pKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gay5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImdldE5ldHdvcmtTdGF0c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLl9jYWxsU3RhdGUhPT1iaSl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShWYSh7c3RhdHM6e2xhdGVzdDp7fX19LHRoaXMuX25ldHdvcmspKX1yZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe2Uuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJnZXQtY2FsYy1zdGF0c1wifSwoZnVuY3Rpb24obil7dChWYShWYSh7fSxlLl9uZXR3b3JrKSx7fSx7c3RhdHM6bi5zdGF0c30pKX0pKX0pKX19LHtrZXk6XCJ0ZXN0V2Vic29ja2V0Q29ubmVjdGl2aXR5XCIsdmFsdWU6KFM9cCgoZnVuY3Rpb24qKCl7dmFyIGU9dGhpcztpZih1Yyh0aGlzLl90ZXN0Q2FsbEluUHJvZ3Jlc3MsXCJ0ZXN0V2Vic29ja2V0Q29ubmVjdGl2aXR5KClcIiksdGhpcy5uZWVkc0xvYWQoKSl0cnl7eWllbGQgdGhpcy5sb2FkKCl9Y2F0Y2goZSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGUpfXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxuKXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwidGVzdC13ZWJzb2NrZXQtY29ubmVjdGl2aXR5XCJ9LChmdW5jdGlvbihlKXtlLmVycm9yP24oZS5lcnJvcik6dChlLnJlc3VsdHMpfSkpfSkpfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIFMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJhYm9ydFRlc3RXZWJzb2NrZXRDb25uZWN0aXZpdHlcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJhYm9ydC10ZXN0LXdlYnNvY2tldC1jb25uZWN0aXZpdHlcIn0pfX0se2tleTpcIl92YWxpZGF0ZVZpZGVvVHJhY2tGb3JOZXR3b3JrVGVzdHNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT9lIGluc3RhbmNlb2YgTWVkaWFTdHJlYW1UcmFjaz8hIUVhKGUse2lzTG9jYWxTY3JlZW5WaWRlbzohMX0pfHwoY29uc29sZS5lcnJvcihcIlZpZGVvIHRyYWNrIGlzIG5vdCBwbGF5YWJsZS4gVGhpcyB0ZXN0IG5lZWRzIGEgbGl2ZSB2aWRlbyB0cmFjay5cIiksITEpOihjb25zb2xlLmVycm9yKFwiVmlkZW8gdHJhY2sgbmVlZHMgdG8gYmUgb2YgdHlwZSBgTWVkaWFTdHJlYW1UcmFja2AuXCIpLCExKTooY29uc29sZS5lcnJvcihcIk1pc3NpbmcgdmlkZW8gdHJhY2suIFlvdSBtdXN0IHByb3ZpZGUgYSB2aWRlbyB0cmFjayBpbiBvcmRlciB0byBydW4gdGhpcyB0ZXN0LlwiKSwhMSl9fSx7a2V5OlwidGVzdENhbGxRdWFsaXR5XCIsdmFsdWU6KHc9cCgoZnVuY3Rpb24qKCl7dmFyIHQ9dGhpcztoYygpLGRjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwidGVzdENhbGxRdWFsaXR5KClcIiksbGModGhpcy5fY2FsbE1hY2hpbmVJbml0aWFsaXplZCxcInRlc3RDYWxsUXVhbGl0eSgpXCIsbnVsbCwhMCksY2ModGhpcy5fY2FsbFN0YXRlLHRoaXMuX2lzUHJlcGFyaW5nVG9Kb2luLFwidGVzdENhbGxRdWFsaXR5KClcIik7dmFyIG49dGhpcy5fdGVzdENhbGxBbHJlYWR5SW5Qcm9ncmVzcyxyPWZ1bmN0aW9uKGUpe258fCh0Ll90ZXN0Q2FsbEluUHJvZ3Jlc3M9ZSl9O2lmKHIoITApLHRoaXMubmVlZHNMb2FkKCkpdHJ5e3ZhciBpPXRoaXMuX2NhbGxTdGF0ZTt5aWVsZCB0aGlzLmxvYWQoKSx0aGlzLl9jYWxsU3RhdGU9aX1jYXRjaChlKXtyZXR1cm4gcighMSksUHJvbWlzZS5yZWplY3QoZSl9cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwidGVzdC1jYWxsLXF1YWxpdHlcIixkYWlseUpzVmVyc2lvbjp0LnByb3BlcnRpZXMuZGFpbHlKc1ZlcnNpb259LChmdW5jdGlvbihpKXt2YXIgbz1pLnJlc3VsdHMscz1vLnJlc3VsdCxhPWUobyxGYSk7aWYoXCJmYWlsZWRcIj09PXMpe3ZhciBjLGw9VmEoe30sYSk7bnVsbCE9PShjPWEuZXJyb3IpJiZ2b2lkIDAhPT1jJiZjLmRldGFpbHM/KGEuZXJyb3IuZGV0YWlscz1KU09OLnBhcnNlKGEuZXJyb3IuZGV0YWlscyksbC5lcnJvcj1WYShWYSh7fSxsLmVycm9yKSx7fSx7ZGV0YWlsczpWYSh7fSxsLmVycm9yLmRldGFpbHMpfSksbC5lcnJvci5kZXRhaWxzLmR1cmluZ1Rlc3Q9XCJ0ZXN0Q2FsbFF1YWxpdHlcIik6KGwuZXJyb3I9bC5lcnJvcj9WYSh7fSxsLmVycm9yKTp7fSxsLmVycm9yLmRldGFpbHM9e2R1cmluZ1Rlc3Q6XCJ0ZXN0Q2FsbFF1YWxpdHlcIn0pLHQuX21heWJlU2VuZFRvU2VudHJ5KGwpfXIoITEpLG4oVmEoe3Jlc3VsdDpzfSxhKSl9KSl9KSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gdy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInN0b3BUZXN0Q2FsbFF1YWxpdHlcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzdG9wLXRlc3QtY2FsbC1xdWFsaXR5XCJ9KX19LHtrZXk6XCJ0ZXN0Q29ubmVjdGlvblF1YWxpdHlcIix2YWx1ZTooXz1wKChmdW5jdGlvbiooZSl7dmFyIHQ7eXMoKT8oY29uc29sZS53YXJuKFwidGVzdENvbm5lY3Rpb25RdWFsaXR5KCkgaXMgZGVwcmVjYXRlZDogdXNlIHRlc3RQZWVyVG9QZWVyQ2FsbFF1YWxpdHkoKSBpbnN0ZWFkXCIpLHQ9eWllbGQgdGhpcy50ZXN0UGVlclRvUGVlckNhbGxRdWFsaXR5KGUpKTooY29uc29sZS53YXJuKFwidGVzdENvbm5lY3Rpb25RdWFsaXR5KCkgaXMgZGVwcmVjYXRlZDogdXNlIHRlc3RDYWxsUXVhbGl0eSgpIGluc3RlYWRcIiksdD15aWVsZCB0aGlzLnRlc3RDYWxsUXVhbGl0eSgpKTt2YXIgbj17cmVzdWx0OnQucmVzdWx0LHNlY29uZHNFbGFwc2VkOnQuc2Vjb25kc0VsYXBzZWR9O3JldHVybiB0LmRhdGEmJihuLmRhdGE9e21heFJUVDp0LmRhdGEubWF4Um91bmRUcmlwVGltZSxwYWNrZXRMb3NzOnQuZGF0YS5hdmdSZWN2UGFja2V0TG9zc30pLG59KSksZnVuY3Rpb24oZSl7cmV0dXJuIF8uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJ0ZXN0UGVlclRvUGVlckNhbGxRdWFsaXR5XCIsdmFsdWU6KGI9cCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXM7aWYodWModGhpcy5fdGVzdENhbGxJblByb2dyZXNzLFwidGVzdFBlZXJUb1BlZXJDYWxsUXVhbGl0eSgpXCIpLHRoaXMubmVlZHNMb2FkKCkpdHJ5e3lpZWxkIHRoaXMubG9hZCgpfWNhdGNoKGUpe3JldHVybiBQcm9taXNlLnJlamVjdChlKX12YXIgbj1lLnZpZGVvVHJhY2sscj1lLmR1cmF0aW9uO2lmKCF0aGlzLl92YWxpZGF0ZVZpZGVvVHJhY2tGb3JOZXR3b3JrVGVzdHMobikpdGhyb3cgbmV3IEVycm9yKFwiVmlkZW8gdHJhY2sgZXJyb3JcIik7cmV0dXJuIHRoaXMuX3NoYXJlZFRyYWNrcy52aWRlb1RyYWNrRm9yQ29ubmVjdGlvblF1YWxpdHlUZXN0PW4sbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsbil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInRlc3QtcDJwLWNhbGwtcXVhbGl0eVwiLGR1cmF0aW9uOnJ9LChmdW5jdGlvbih0KXt0LmVycm9yP24odC5lcnJvcik6ZSh0LnJlc3VsdHMpfSkpfSkpfSkpLGZ1bmN0aW9uKGUpe3JldHVybiBiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5Olwic3RvcFRlc3RDb25uZWN0aW9uUXVhbGl0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7eXMoKT8oY29uc29sZS53YXJuKFwic3RvcFRlc3RDb25uZWN0aW9uUXVhbGl0eSgpIGlzIGRlcHJlY2F0ZWQ6IHVzZSB0ZXN0UGVlclRvUGVlckNhbGxRdWFsaXR5KCkgYW5kIHN0b3BUZXN0UGVlclRvUGVlckNhbGxRdWFsaXR5KCkgaW5zdGVhZFwiKSx0aGlzLnN0b3BUZXN0UGVlclRvUGVlckNhbGxRdWFsaXR5KCkpOihjb25zb2xlLndhcm4oXCJzdG9wVGVzdENvbm5lY3Rpb25RdWFsaXR5KCkgaXMgZGVwcmVjYXRlZDogdXNlIHRlc3RDYWxsUXVhbGl0eSgpIGFuZCBzdG9wVGVzdENhbGxRdWFsaXR5KCkgaW5zdGVhZFwiKSx0aGlzLnN0b3BUZXN0Q2FsbFF1YWxpdHkoKSl9fSx7a2V5Olwic3RvcFRlc3RQZWVyVG9QZWVyQ2FsbFF1YWxpdHlcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzdG9wLXRlc3QtcDJwLWNhbGwtcXVhbGl0eVwifSl9fSx7a2V5OlwidGVzdE5ldHdvcmtDb25uZWN0aXZpdHlcIix2YWx1ZTooeT1wKChmdW5jdGlvbiooZSl7dmFyIHQ9dGhpcztpZih1Yyh0aGlzLl90ZXN0Q2FsbEluUHJvZ3Jlc3MsXCJ0ZXN0TmV0d29ya0Nvbm5lY3Rpdml0eSgpXCIpLHRoaXMubmVlZHNMb2FkKCkpdHJ5e3lpZWxkIHRoaXMubG9hZCgpfWNhdGNoKGUpe3JldHVybiBQcm9taXNlLnJlamVjdChlKX1pZighdGhpcy5fdmFsaWRhdGVWaWRlb1RyYWNrRm9yTmV0d29ya1Rlc3RzKGUpKXRocm93IG5ldyBFcnJvcihcIlZpZGVvIHRyYWNrIGVycm9yXCIpO3JldHVybiB0aGlzLl9zaGFyZWRUcmFja3MudmlkZW9UcmFja0Zvck5ldHdvcmtDb25uZWN0aXZpdHlUZXN0PWUsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsbil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInRlc3QtbmV0d29yay1jb25uZWN0aXZpdHlcIn0sKGZ1bmN0aW9uKHQpe3QuZXJyb3I/bih0LmVycm9yKTplKHQucmVzdWx0cyl9KSl9KSl9KSksZnVuY3Rpb24oZSl7cmV0dXJuIHkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJhYm9ydFRlc3ROZXR3b3JrQ29ubmVjdGl2aXR5XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiYWJvcnQtdGVzdC1uZXR3b3JrLWNvbm5lY3Rpdml0eVwifSl9fSx7a2V5OlwiZ2V0Q3B1TG9hZFN0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7aWYoZS5fY2FsbFN0YXRlPT09Ymkpe2Uuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJnZXQtY3B1LWxvYWQtc3RhdHNcIn0sKGZ1bmN0aW9uKGUpe3QoZS5jcHVTdGF0cyl9KSl9ZWxzZSB0KHtjcHVMb2FkU3RhdGU6dm9pZCAwLGNwdUxvYWRTdGF0ZVJlYXNvbjp2b2lkIDAsc3RhdHM6e319KX0pKX19LHtrZXk6XCJfdmFsaWRhdGVFbmNvZGluZ0xheWVySGFzVmFsaWRQcm9wZXJ0aWVzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoISgobnVsbD09PSh0PU9iamVjdC5rZXlzKGUpKXx8dm9pZCAwPT09dD92b2lkIDA6dC5sZW5ndGgpPjApKXRocm93IG5ldyBFcnJvcihcIkVtcHR5IGVuY29kaW5nIGlzIG5vdCBhbGxvd2VkLiBBdCBsZWFzdCBvbmUgb2YgdGhlc2UgdmFsaWQga2V5cyBzaG91bGQgYmUgc3BlY2lmaWVkOlwiK09iamVjdC52YWx1ZXMoWWEpKX19LHtrZXk6XCJfdmFsaWRhdGVWaWRlb1NlbmRTZXR0aW5nc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9XCJzY3JlZW5WaWRlb1wiPT09ZT9bXCJkZWZhdWx0LXNjcmVlbi12aWRlb1wiLFwiZGV0YWlsLW9wdGltaXplZFwiLFwibW90aW9uLW9wdGltaXplZFwiLFwibW90aW9uLWFuZC1kZXRhaWwtYmFsYW5jZWRcIl06W1wiZGVmYXVsdC12aWRlb1wiLFwiYmFuZHdpZHRoLW9wdGltaXplZFwiLFwiYmFuZHdpZHRoLWFuZC1xdWFsaXR5LWJhbGFuY2VkXCIsXCJxdWFsaXR5LW9wdGltaXplZFwiLFwiYWRhcHRpdmUtMi1sYXllcnNcIixcImFkYXB0aXZlLTMtbGF5ZXJzXCJdLGk9XCJWaWRlbyBzZW5kIHNldHRpbmdzIHNob3VsZCBiZSBlaXRoZXIgYW4gb2JqZWN0IG9yIG9uZSBvZiB0aGUgc3VwcG9ydGVkIHByZXNldHM6IFwiLmNvbmNhdChyLmpvaW4oKSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKCFyLmluY2x1ZGVzKHQpKXRocm93IG5ldyBFcnJvcihpKX1lbHNle2lmKFwib2JqZWN0XCIhPT1uKHQpKXRocm93IG5ldyBFcnJvcihpKTtpZighdC5tYXhRdWFsaXR5JiYhdC5lbmNvZGluZ3MmJnZvaWQgMD09PXQuYWxsb3dBZGFwdGl2ZUxheWVycyl0aHJvdyBuZXcgRXJyb3IoXCJWaWRlbyBzZW5kIHNldHRpbmdzIG11c3QgY29udGFpbiBhdCBsZWFzdCBtYXhRdWFsaXR5LCBhbGxvd0FkYXB0aXZlTGF5ZXJzIG9yIGVuY29kaW5ncyBhdHRyaWJ1dGVcIik7aWYodC5tYXhRdWFsaXR5JiYtMT09PVtcImxvd1wiLFwibWVkaXVtXCIsXCJoaWdoXCJdLmluZGV4T2YodC5tYXhRdWFsaXR5KSl0aHJvdyBuZXcgRXJyb3IoXCJtYXhRdWFsaXR5IG11c3QgYmUgZWl0aGVyIGxvdywgbWVkaXVtIG9yIGhpZ2hcIik7aWYodC5lbmNvZGluZ3Mpe3ZhciBvPSExO3N3aXRjaChPYmplY3Qua2V5cyh0LmVuY29kaW5ncykubGVuZ3RoKXtjYXNlIDE6bz0hdC5lbmNvZGluZ3MubG93O2JyZWFrO2Nhc2UgMjpvPSF0LmVuY29kaW5ncy5sb3d8fCF0LmVuY29kaW5ncy5tZWRpdW07YnJlYWs7Y2FzZSAzOm89IXQuZW5jb2RpbmdzLmxvd3x8IXQuZW5jb2RpbmdzLm1lZGl1bXx8IXQuZW5jb2RpbmdzLmhpZ2g7YnJlYWs7ZGVmYXVsdDpvPSEwfWlmKG8pdGhyb3cgbmV3IEVycm9yKFwiRW5jb2RpbmdzIG11c3QgYmUgZGVmaW5lZCBhczogbG93LCBsb3cgYW5kIG1lZGl1bSwgb3IgbG93LCBtZWRpdW0gYW5kIGhpZ2guXCIpO3QuZW5jb2RpbmdzLmxvdyYmdGhpcy5fdmFsaWRhdGVFbmNvZGluZ0xheWVySGFzVmFsaWRQcm9wZXJ0aWVzKHQuZW5jb2RpbmdzLmxvdyksdC5lbmNvZGluZ3MubWVkaXVtJiZ0aGlzLl92YWxpZGF0ZUVuY29kaW5nTGF5ZXJIYXNWYWxpZFByb3BlcnRpZXModC5lbmNvZGluZ3MubWVkaXVtKSx0LmVuY29kaW5ncy5oaWdoJiZ0aGlzLl92YWxpZGF0ZUVuY29kaW5nTGF5ZXJIYXNWYWxpZFByb3BlcnRpZXModC5lbmNvZGluZ3MuaGlnaCl9fX19LHtrZXk6XCJ2YWxpZGF0ZVVwZGF0ZVNlbmRTZXR0aW5nc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIWV8fDA9PT1PYmplY3Qua2V5cyhlKS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiU2VuZCBzZXR0aW5ncyBtdXN0IGNvbnRhaW4gYXQgbGVhc3QgaW5mb3JtYXRpb24gZm9yIG9uZSB0cmFjayFcIik7T2JqZWN0LmVudHJpZXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZihlLDIpLHI9blswXSxpPW5bMV07dC5fdmFsaWRhdGVWaWRlb1NlbmRTZXR0aW5ncyhyLGkpfSkpfX0se2tleTpcInVwZGF0ZVNlbmRTZXR0aW5nc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMudmFsaWRhdGVVcGRhdGVTZW5kU2V0dGluZ3MoZSksdGhpcy5uZWVkc0xvYWQoKT8odGhpcy5fcHJlbG9hZENhY2hlLnNlbmRTZXR0aW5ncz1lLHtzZW5kU2V0dGluZ3M6dGhpcy5fcHJlbG9hZENhY2hlLnNlbmRTZXR0aW5nc30pOm5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJ1cGRhdGUtc2VuZC1zZXR0aW5nc1wiLHNlbmRTZXR0aW5nczplfSwoZnVuY3Rpb24oZSl7ZS5lcnJvcj9yKGUuZXJyb3IpOm4oZS5zZW5kU2V0dGluZ3MpfSkpfSkpfX0se2tleTpcImdldFNlbmRTZXR0aW5nc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbmRTZXR0aW5nc3x8dGhpcy5fcHJlbG9hZENhY2hlLnNlbmRTZXR0aW5nc319LHtrZXk6XCJnZXRMb2NhbEF1ZGlvTGV2ZWxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2NhbEF1ZGlvTGV2ZWx9fSx7a2V5OlwiZ2V0UmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWx9fSx7a2V5OlwiZ2V0QWN0aXZlU3BlYWtlclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGhjKCksdGhpcy5fYWN0aXZlU3BlYWtlcn19LHtrZXk6XCJzZXRBY3RpdmVTcGVha2VyTW9kZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBoYygpLHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzZXQtYWN0aXZlLXNwZWFrZXItbW9kZVwiLGVuYWJsZWQ6ZX0pLHRoaXN9fSx7a2V5OlwiYWN0aXZlU3BlYWtlck1vZGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBoYygpLHRoaXMuX2FjdGl2ZVNwZWFrZXJNb2RlfX0se2tleTpcInN1YnNjcmliZVRvVHJhY2tzQXV0b21hdGljYWxseVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ByZWxvYWRDYWNoZS5zdWJzY3JpYmVUb1RyYWNrc0F1dG9tYXRpY2FsbHl9fSx7a2V5Olwic2V0U3Vic2NyaWJlVG9UcmFja3NBdXRvbWF0aWNhbGx5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHNjKHRoaXMuX2NhbGxTdGF0ZSxcInNldFN1YnNjcmliZVRvVHJhY2tzQXV0b21hdGljYWxseSgpXCIsXCJVc2UgdGhlIHN1YnNjcmliZVRvVHJhY2tzQXV0b21hdGljYWxseSBjb25maWd1cmF0aW9uIHByb3BlcnR5LlwiKSx0aGlzLl9wcmVsb2FkQ2FjaGUuc3Vic2NyaWJlVG9UcmFja3NBdXRvbWF0aWNhbGx5PWUsdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImRhaWx5LW1ldGhvZC1zdWJzY3JpYmUtdG8tdHJhY2tzLWF1dG9tYXRpY2FsbHlcIixlbmFibGVkOmV9KSx0aGlzfX0se2tleTpcImVudW1lcmF0ZURldmljZXNcIix2YWx1ZToobT1wKChmdW5jdGlvbiooKXt2YXIgZT10aGlzO2lmKHRoaXMuX2NhbGxPYmplY3RNb2RlKXt2YXIgdD15aWVsZCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKTtyZXR1cm5cIkZpcmVmb3hcIj09PU9zKCkmJlBzKCkubWFqb3I+MTE1JiZQcygpLm1ham9yPDEyMyYmKHQ9dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwiYXVkaW9vdXRwdXRcIiE9PWUua2luZH0pKSkse2RldmljZXM6dC5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpO2lmKCF5cygpJiZcInZpZGVvaW5wdXRcIj09PWUua2luZCYmZS5nZXRDYXBhYmlsaXRpZXMpe3ZhciBuLHI9ZS5nZXRDYXBhYmlsaXRpZXMoKTt0LmZhY2luZz0obnVsbD09cnx8bnVsbD09PShuPXIuZmFjaW5nTW9kZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4ubGVuZ3RoKT49MT9yLmZhY2luZ01vZGVbMF06dm9pZCAwfXJldHVybiB0fSkpfX1yZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe2Uuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJlbnVtZXJhdGUtZGV2aWNlc1wifSwoZnVuY3Rpb24oZSl7dCh7ZGV2aWNlczplLmRldmljZXN9KX0pKX0pKX0pKSxmdW5jdGlvbigpe3JldHVybiBtLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5Olwic2VuZEFwcE1lc3NhZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCIqXCI7aWYoc2ModGhpcy5fY2FsbFN0YXRlLFwic2VuZEFwcE1lc3NhZ2UoKVwiKSxKU09OLnN0cmluZ2lmeShlKS5sZW5ndGg+dGhpcy5fbWF4QXBwTWVzc2FnZVNpemUpdGhyb3cgbmV3IEVycm9yKFwiTWVzc2FnZSBkYXRhIHRvbyBsYXJnZS4gTWF4IHNpemUgaXMgXCIrdGhpcy5fbWF4QXBwTWVzc2FnZVNpemUpO3JldHVybiB0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiYXBwLW1zZ1wiLGRhdGE6ZSx0bzp0fSksdGhpc319LHtrZXk6XCJhZGRGYWtlUGFydGljaXBhbnRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gaGMoKSxzYyh0aGlzLl9jYWxsU3RhdGUsXCJhZGRGYWtlUGFydGljaXBhbnQoKVwiKSx0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZShWYSh7YWN0aW9uOlwiYWRkLWZha2UtcGFydGljaXBhbnRcIn0sZSkpLHRoaXN9fSx7a2V5Olwic2V0U2hvd05hbWVzTW9kZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBwYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInNldFNob3dOYW1lc01vZGUoKVwiKSxoYygpLGUmJlwiYWx3YXlzXCIhPT1lJiZcIm5ldmVyXCIhPT1lPyhjb25zb2xlLmVycm9yKCdzZXRTaG93TmFtZXNNb2RlIGFyZ3VtZW50IHNob3VsZCBiZSBcImFsd2F5c1wiLCBcIm5ldmVyXCIsIG9yIGZhbHNlJyksdGhpcyk6KHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzZXQtc2hvdy1uYW1lc1wiLG1vZGU6ZX0pLHRoaXMpfX0se2tleTpcInNldFNob3dMb2NhbFZpZGVvXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO3JldHVybiBwYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInNldFNob3dMb2NhbFZpZGVvKClcIiksaGMoKSxzYyh0aGlzLl9jYWxsU3RhdGUsXCJzZXRTaG93TG9jYWxWaWRlbygpXCIpLFwiYm9vbGVhblwiIT10eXBlb2YgZT8oY29uc29sZS5lcnJvcihcInNldFNob3dMb2NhbFZpZGVvIG9ubHkgYWNjZXB0cyBhIGJvb2xlYW4gdmFsdWVcIiksdGhpcyk6KHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzZXQtc2hvdy1sb2NhbC12aWRlb1wiLHNob3c6ZX0pLHRoaXMuX3Nob3dMb2NhbFZpZGVvPWUsdGhpcyl9fSx7a2V5Olwic2hvd0xvY2FsVmlkZW9cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBwYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInNob3dMb2NhbFZpZGVvKClcIiksaGMoKSx0aGlzLl9zaG93TG9jYWxWaWRlb319LHtrZXk6XCJzZXRTaG93UGFydGljaXBhbnRzQmFyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO3JldHVybiBwYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInNldFNob3dQYXJ0aWNpcGFudHNCYXIoKVwiKSxoYygpLHNjKHRoaXMuX2NhbGxTdGF0ZSxcInNldFNob3dQYXJ0aWNpcGFudHNCYXIoKVwiKSxcImJvb2xlYW5cIiE9dHlwZW9mIGU/KGNvbnNvbGUuZXJyb3IoXCJzZXRTaG93UGFydGljaXBhbnRzQmFyIG9ubHkgYWNjZXB0cyBhIGJvb2xlYW4gdmFsdWVcIiksdGhpcyk6KHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzZXQtc2hvdy1wYXJ0aWNpcGFudHMtYmFyXCIsc2hvdzplfSksdGhpcy5fc2hvd1BhcnRpY2lwYW50c0Jhcj1lLHRoaXMpfX0se2tleTpcInNob3dQYXJ0aWNpcGFudHNCYXJcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBwYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInNob3dQYXJ0aWNpcGFudHNCYXIoKVwiKSxoYygpLHRoaXMuX3Nob3dQYXJ0aWNpcGFudHNCYXJ9fSx7a2V5OlwiY3VzdG9tSW50ZWdyYXRpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gaGMoKSxwYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcImN1c3RvbUludGVncmF0aW9ucygpXCIpLHRoaXMuX2N1c3RvbUludGVncmF0aW9uc319LHtrZXk6XCJzZXRDdXN0b21JbnRlZ3JhdGlvbnNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gaGMoKSxwYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInNldEN1c3RvbUludGVncmF0aW9ucygpXCIpLHNjKHRoaXMuX2NhbGxTdGF0ZSxcInNldEN1c3RvbUludGVncmF0aW9ucygpXCIpLEVjKGUpPyh0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic2V0LWN1c3RvbS1pbnRlZ3JhdGlvbnNcIixpbnRlZ3JhdGlvbnM6ZX0pLHRoaXMuX2N1c3RvbUludGVncmF0aW9ucz1lLHRoaXMpOnRoaXN9fSx7a2V5Olwic3RhcnRDdXN0b21JbnRlZ3JhdGlvbnNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKGhjKCkscGModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJzdGFydEN1c3RvbUludGVncmF0aW9ucygpXCIpLHNjKHRoaXMuX2NhbGxTdGF0ZSxcInN0YXJ0Q3VzdG9tSW50ZWdyYXRpb25zKClcIiksQXJyYXkuaXNBcnJheShlKSYmZS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgZX0pKXx8IUFycmF5LmlzQXJyYXkoZSkmJlwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiBjb25zb2xlLmVycm9yKFwic3RhcnRDdXN0b21JbnRlZ3JhdGlvbnMoKSBvbmx5IGFjY2VwdHMgc3RyaW5nIHwgc3RyaW5nW11cIiksdGhpczt2YXIgbj1cInN0cmluZ1wiPT10eXBlb2YgZT9bZV06ZSxyPW4uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hKGUgaW4gdC5fY3VzdG9tSW50ZWdyYXRpb25zKX0pKTtyZXR1cm4gci5sZW5ndGg/KGNvbnNvbGUuZXJyb3IoXCJDYW4ndCBmaW5kIGN1c3RvbSBpbnRlZ3JhdGlvbihzKTogXFxcIlwiLmNvbmNhdChyLmpvaW4oXCIsIFwiKSwnXCInKSksdGhpcyk6KHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzdGFydC1jdXN0b20taW50ZWdyYXRpb25zXCIsaWRzOm59KSx0aGlzKX19LHtrZXk6XCJzdG9wQ3VzdG9tSW50ZWdyYXRpb25zXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihoYygpLHBjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwic3RvcEN1c3RvbUludGVncmF0aW9ucygpXCIpLHNjKHRoaXMuX2NhbGxTdGF0ZSxcInN0b3BDdXN0b21JbnRlZ3JhdGlvbnMoKVwiKSxBcnJheS5pc0FycmF5KGUpJiZlLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlfSkpfHwhQXJyYXkuaXNBcnJheShlKSYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJzdG9wQ3VzdG9tSW50ZWdyYXRpb25zKCkgb25seSBhY2NlcHRzIHN0cmluZyB8IHN0cmluZ1tdXCIpLHRoaXM7dmFyIG49XCJzdHJpbmdcIj09dHlwZW9mIGU/W2VdOmUscj1uLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIShlIGluIHQuX2N1c3RvbUludGVncmF0aW9ucyl9KSk7cmV0dXJuIHIubGVuZ3RoPyhjb25zb2xlLmVycm9yKFwiQ2FuJ3QgZmluZCBjdXN0b20gaW50ZWdyYXRpb24ocyk6IFxcXCJcIi5jb25jYXQoci5qb2luKFwiLCBcIiksJ1wiJykpLHRoaXMpOih0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic3RvcC1jdXN0b20taW50ZWdyYXRpb25zXCIsaWRzOm59KSx0aGlzKX19LHtrZXk6XCJjdXN0b21UcmF5QnV0dG9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHBjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwiY3VzdG9tVHJheUJ1dHRvbnMoKVwiKSxoYygpLHRoaXMuX2N1c3RvbVRyYXlCdXR0b25zfX0se2tleTpcInVwZGF0ZUN1c3RvbVRyYXlCdXR0b25zXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHBjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwidXBkYXRlQ3VzdG9tVHJheUJ1dHRvbnMoKVwiKSxoYygpLHNjKHRoaXMuX2NhbGxTdGF0ZSxcInVwZGF0ZUN1c3RvbVRyYXlCdXR0b25zKClcIiksQ2MoZSk/KHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJ1cGRhdGUtY3VzdG9tLXRyYXktYnV0dG9uc1wiLGJ0bnM6ZX0pLHRoaXMuX2N1c3RvbVRyYXlCdXR0b25zPWUsdGhpcyk6KGNvbnNvbGUuZXJyb3IoXCJ1cGRhdGVDdXN0b21UcmF5QnV0dG9ucyBvbmx5IGFjY2VwdHMgYSBkaWN0aW9uYXJ5IG9mIHRoZSB0eXBlIFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShlYykpKSx0aGlzKX19LHtrZXk6XCJ0aGVtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHBjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwidGhlbWUoKVwiKSx0aGlzLnByb3BlcnRpZXMudGhlbWV9fSx7a2V5Olwic2V0VGhlbWVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBwYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInNldFRoZW1lKClcIiksbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dHJ5e3QudmFsaWRhdGVQcm9wZXJ0aWVzKHt0aGVtZTplfSksdC5wcm9wZXJ0aWVzLnRoZW1lPVZhKHt9LGUpLHQuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzZXQtdGhlbWVcIix0aGVtZTp0LnByb3BlcnRpZXMudGhlbWV9KTt0cnl7dC5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246ZW8sdGhlbWU6dC5wcm9wZXJ0aWVzLnRoZW1lfSl9Y2F0Y2goZSl7Y29uc29sZS5sb2coXCJjb3VsZCBub3QgZW1pdCAndGhlbWUtdXBkYXRlZCdcIixlKX1uKHQucHJvcGVydGllcy50aGVtZSl9Y2F0Y2goZSl7cihlKX19KSl9fSx7a2V5OlwicmVxdWVzdEZ1bGxzY3JlZW5cIix2YWx1ZTooZz1wKChmdW5jdGlvbiooKXtpZihoYygpLHRoaXMuX2lmcmFtZSYmIWRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50JiZ3cygpKXRyeXsoeWllbGQgdGhpcy5faWZyYW1lLnJlcXVlc3RGdWxsc2NyZWVuKT90aGlzLl9pZnJhbWUucmVxdWVzdEZ1bGxzY3JlZW4oKTp0aGlzLl9pZnJhbWUud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKX1jYXRjaChlKXtjb25zb2xlLmxvZyhcImNvdWxkIG5vdCBtYWtlIHZpZGVvIGNhbGwgZnVsbHNjcmVlblwiLGUpfX0pKSxmdW5jdGlvbigpe3JldHVybiBnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiZXhpdEZ1bGxzY3JlZW5cIix2YWx1ZTpmdW5jdGlvbigpe2hjKCksZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQ/ZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTpkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCYmZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4oKX19LHtrZXk6XCJnZXRTaWRlYmFyVmlld1wiLHZhbHVlOih2PXAoKGZ1bmN0aW9uKigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX2NhbGxPYmplY3RNb2RlPyhjb25zb2xlLmVycm9yKFwiZ2V0U2lkZWJhclZpZXcgaXMgbm90IGF2YWlsYWJsZSBpbiBjYWxsT2JqZWN0IG1vZGVcIiksUHJvbWlzZS5yZXNvbHZlKG51bGwpKTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7ZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImdldC1zaWRlYmFyLXZpZXdcIn0sKGZ1bmN0aW9uKGUpe3QoZS52aWV3KX0pKX0pKX0pKSxmdW5jdGlvbigpe3JldHVybiB2LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5Olwic2V0U2lkZWJhclZpZXdcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY2FsbE9iamVjdE1vZGU/KGNvbnNvbGUuZXJyb3IoXCJzZXRTaWRlYmFyVmlldyBpcyBub3QgYXZhaWxhYmxlIGluIGNhbGxPYmplY3QgbW9kZVwiKSx0aGlzKToodGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1zaWRlYmFyLXZpZXdcIix2aWV3OmV9KSx0aGlzKX19LHtrZXk6XCJyb29tXCIsdmFsdWU6KGg9cCgoZnVuY3Rpb24qKCl7dmFyIGU9dGhpcyx0PShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30pLmluY2x1ZGVSb29tQ29uZmlnRGVmYXVsdHMsbj12b2lkIDA9PT10fHx0O3JldHVybiB0aGlzLl9hY2Nlc3NTdGF0ZS5hY2Nlc3M9PT1PaXx8dGhpcy5uZWVkc0xvYWQoKT90aGlzLnByb3BlcnRpZXMudXJsP3tyb29tVXJsUGVuZGluZ0pvaW46dGhpcy5wcm9wZXJ0aWVzLnVybH06bnVsbDpuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7ZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImxpYi1yb29tLWluZm9cIixpbmNsdWRlUm9vbUNvbmZpZ0RlZmF1bHRzOm59LChmdW5jdGlvbihlKXtkZWxldGUgZS5hY3Rpb24sZGVsZXRlIGUuY2FsbGJhY2tTdGFtcCx0KGUpfSkpfSkpfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIGguYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJnZW9cIix2YWx1ZTooZD1wKChmdW5jdGlvbiooKXt0cnl7dmFyIGU9eWllbGQgZmV0Y2goXCJodHRwczovL2dzLmRhaWx5LmNvL19rc18veC1zd3NsLzpcIik7cmV0dXJue2N1cnJlbnQ6KHlpZWxkIGUuanNvbigpKS5nZW99fWNhdGNoKGUpe3JldHVybiBjb25zb2xlLmVycm9yKFwiZ2VvIGxvb2t1cCBmYWlsZWRcIixlKSx7Y3VycmVudDpcIlwifX19KSksZnVuY3Rpb24oKXtyZXR1cm4gZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInNldE5ldHdvcmtUb3BvbG9neVwiLHZhbHVlOihjPXAoKGZ1bmN0aW9uKihlKXt2YXIgdD10aGlzO3JldHVybiBoYygpLHNjKHRoaXMuX2NhbGxTdGF0ZSxcInNldE5ldHdvcmtUb3BvbG9neSgpXCIpLG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzZXQtbmV0d29yay10b3BvbG9neVwiLG9wdHM6ZX0sKGZ1bmN0aW9uKGUpe2UuZXJyb3I/cih7ZXJyb3I6ZS5lcnJvcn0pOm4oe3dvcmtlcklkOmUud29ya2VySWR9KX0pKX0pKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gYy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImdldE5ldHdvcmtUb3BvbG9neVwiLHZhbHVlOihpPXAoKGZ1bmN0aW9uKigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe2UubmVlZHNMb2FkKCkmJnQoe3RvcG9sb2d5Olwibm9uZVwifSksZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImdldC1uZXR3b3JrLXRvcG9sb2d5XCJ9LChmdW5jdGlvbihlKXtlLmVycm9yP24oe2Vycm9yOmUuZXJyb3J9KTp0KHt0b3BvbG9neTplLnRvcG9sb2d5fSl9KSl9KSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInNldFBsYXlOZXdQYXJ0aWNpcGFudFNvdW5kXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoaGMoKSxcIm51bWJlclwiIT10eXBlb2YgZSYmITAhPT1lJiYhMSE9PWUpdGhyb3cgbmV3IEVycm9yKFwiYXJndW1lbnQgdG8gc2V0U2hvdWxkUGxheU5ld1BhcnRpY2lwYW50U291bmQgc2hvdWxkIGJlIHRydWUsIGZhbHNlLCBvciBhIG51bWJlciwgYnV0IGlzIFwiLmNvbmNhdChlKSk7dGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImRhaWx5LW1ldGhvZC1zZXQtcGxheS1kaW5nXCIsYXJnOmV9KX19LHtrZXk6XCJvblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHgucHJvdG90eXBlLm9uLmNhbGwodGhpcyxlLHQpfX0se2tleTpcIm9uY2VcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB4LnByb3RvdHlwZS5vbmNlLmNhbGwodGhpcyxlLHQpfX0se2tleTpcIm9mZlwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHgucHJvdG90eXBlLm9mZi5jYWxsKHRoaXMsZSx0KX19LHtrZXk6XCJ2YWxpZGF0ZVByb3BlcnRpZXNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdCxuO2lmKG51bGwhPWUmJm51bGwhPT0odD1lLmRhaWx5Q29uZmlnKSYmdm9pZCAwIT09dCYmdC51c2VyTWVkaWFBdWRpb0NvbnN0cmFpbnRzKXt2YXIgcixpO3lzKCl8fGNvbnNvbGUud2FybihcInVzZXJNZWRpYUF1ZGlvQ29uc3RyYWludHMgaXMgZGVwcmVjYXRlZC4gWW91IGNhbiBvdmVycmlkZSBjb25zdHJhaW50cyB3aXRoIGlucHV0U2V0dGluZ3MuYXVkaW8uc2V0dGluZ3MsIGZvdW5kIGluIERhaWx5Q2FsbE9wdGlvbnMuXCIpO3ZhciBvPWUuaW5wdXRTZXR0aW5nc3x8e307by5hdWRpbz0obnVsbD09PShyPWUuaW5wdXRTZXR0aW5ncyl8fHZvaWQgMD09PXI/dm9pZCAwOnIuYXVkaW8pfHx7fSxvLmF1ZGlvLnNldHRpbmdzPShudWxsPT09KGk9ZS5pbnB1dFNldHRpbmdzKXx8dm9pZCAwPT09aXx8bnVsbD09PShpPWkuYXVkaW8pfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnNldHRpbmdzKXx8e30sby5hdWRpby5zZXR0aW5ncz1WYShWYSh7fSxvLmF1ZGlvLnNldHRpbmdzKSxlLmRhaWx5Q29uZmlnLnVzZXJNZWRpYUF1ZGlvQ29uc3RyYWludHMpLGUuaW5wdXRTZXR0aW5ncz1vLGRlbGV0ZSBlLmRhaWx5Q29uZmlnLnVzZXJNZWRpYUF1ZGlvQ29uc3RyYWludHN9aWYobnVsbCE9ZSYmbnVsbCE9PShuPWUuZGFpbHlDb25maWcpJiZ2b2lkIDAhPT1uJiZuLnVzZXJNZWRpYVZpZGVvQ29uc3RyYWludHMpe3ZhciBzLGE7eXMoKXx8Y29uc29sZS53YXJuKFwidXNlck1lZGlhVmlkZW9Db25zdHJhaW50cyBpcyBkZXByZWNhdGVkLiBZb3UgY2FuIG92ZXJyaWRlIGNvbnN0cmFpbnRzIHdpdGggaW5wdXRTZXR0aW5ncy52aWRlby5zZXR0aW5ncywgZm91bmQgaW4gRGFpbHlDYWxsT3B0aW9ucy5cIik7dmFyIGM9ZS5pbnB1dFNldHRpbmdzfHx7fTtjLnZpZGVvPShudWxsPT09KHM9ZS5pbnB1dFNldHRpbmdzKXx8dm9pZCAwPT09cz92b2lkIDA6cy52aWRlbyl8fHt9LGMudmlkZW8uc2V0dGluZ3M9KG51bGw9PT0oYT1lLmlucHV0U2V0dGluZ3MpfHx2b2lkIDA9PT1hfHxudWxsPT09KGE9YS52aWRlbyl8fHZvaWQgMD09PWE/dm9pZCAwOmEuc2V0dGluZ3MpfHx7fSxjLnZpZGVvLnNldHRpbmdzPVZhKFZhKHt9LGMudmlkZW8uc2V0dGluZ3MpLGUuZGFpbHlDb25maWcudXNlck1lZGlhVmlkZW9Db25zdHJhaW50cyksZS5pbnB1dFNldHRpbmdzPWMsZGVsZXRlIGUuZGFpbHlDb25maWcudXNlck1lZGlhVmlkZW9Db25zdHJhaW50c31mb3IodmFyIGwgaW4gZSl7aWYoIW5jW2xdKXRocm93IG5ldyBFcnJvcihcInVucmVjb2duaXplZCBwcm9wZXJ0eSAnXCIuY29uY2F0KGwsXCInXCIpKTtpZihuY1tsXS52YWxpZGF0ZSYmIW5jW2xdLnZhbGlkYXRlKGVbbF0sdGhpcykpdGhyb3cgbmV3IEVycm9yKFwicHJvcGVydHkgJ1wiLmNvbmNhdChsLFwiJzogXCIpLmNvbmNhdChuY1tsXS5oZWxwKSl9fX0se2tleTpcImFzc2VtYmxlTWVldGluZ1VybFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdCxuPVZhKFZhKHt9LHRoaXMucHJvcGVydGllcykse30se2VtYjp0aGlzLmNhbGxDbGllbnRJZCxlbWJIcmVmOmVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZikscHJveHk6bnVsbCE9PShlPXRoaXMucHJvcGVydGllcy5kYWlseUNvbmZpZykmJnZvaWQgMCE9PWUmJmUucHJveHlVcmw/ZW5jb2RlVVJJQ29tcG9uZW50KG51bGw9PT0odD10aGlzLnByb3BlcnRpZXMuZGFpbHlDb25maWcpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnByb3h5VXJsKTp2b2lkIDB9KSxyPW4udXJsLm1hdGNoKC9cXD8vKT9cIiZcIjpcIj9cIjtyZXR1cm4gbi51cmwrcitPYmplY3Qua2V5cyhuYykuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbmNbZV0ucXVlcnlTdHJpbmcmJnZvaWQgMCE9PW5bZV19KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm5cIlwiLmNvbmNhdChuY1tlXS5xdWVyeVN0cmluZyxcIj1cIikuY29uY2F0KG5bZV0pfSkpLmpvaW4oXCImXCIpfX0se2tleTpcIm5lZWRzTG9hZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuW3ZpLGdpLF9pLHdpXS5pbmNsdWRlcyh0aGlzLl9jYWxsU3RhdGUpfX0se2tleTpcInNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYodGhpcy5fZGVzdHJveWVkJiYodGhpcy5fbG9nVXNlQWZ0ZXJEZXN0cm95KCksdGhpcy5zdHJpY3RNb2RlKSl0aHJvdyBuZXcgRXJyb3IoXCJVc2UgYWZ0ZXIgZGVzdHJveVwiKTt0aGlzLl9tZXNzYWdlQ2hhbm5lbC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoZSx0LHRoaXMuY2FsbENsaWVudElkLHRoaXMuX2lmcmFtZSl9fSx7a2V5OlwiZm9yd2FyZFBhY2thZ2VkTWVzc2FnZVRvQ2FsbE1hY2hpbmVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9tZXNzYWdlQ2hhbm5lbC5mb3J3YXJkUGFja2FnZWRNZXNzYWdlVG9DYWxsTWFjaGluZShlLHRoaXMuX2lmcmFtZSx0aGlzLmNhbGxDbGllbnRJZCl9fSx7a2V5OlwiYWRkTGlzdGVuZXJGb3JQYWNrYWdlZE1lc3NhZ2VzRnJvbUNhbGxNYWNoaW5lXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX21lc3NhZ2VDaGFubmVsLmFkZExpc3RlbmVyRm9yUGFja2FnZWRNZXNzYWdlc0Zyb21DYWxsTWFjaGluZShlLHRoaXMuY2FsbENsaWVudElkKX19LHtrZXk6XCJyZW1vdmVMaXN0ZW5lckZvclBhY2thZ2VkTWVzc2FnZXNGcm9tQ2FsbE1hY2hpbmVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9tZXNzYWdlQ2hhbm5lbC5yZW1vdmVMaXN0ZW5lckZvclBhY2thZ2VkTWVzc2FnZXNGcm9tQ2FsbE1hY2hpbmUoZSl9fSx7a2V5OlwiaGFuZGxlTWVzc2FnZUZyb21DYWxsTWFjaGluZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3N3aXRjaCh0LmFjdGlvbil7Y2FzZSBYaTp0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZShWYSh7YWN0aW9uOlppfSx0aGlzLnByb3BlcnRpZXMpKTticmVhaztjYXNlXCJjYWxsLW1hY2hpbmUtaW5pdGlhbGl6ZWRcIjp0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkPSEwO3ZhciBuPXthY3Rpb246Y3MsbGV2ZWw6XCJsb2dcIixjb2RlOjEwMTEsc3RhdHM6e2V2ZW50OlwiYnVuZGxlIGxvYWRcIix0aW1lOlwibm8tb3BcIj09PXRoaXMuX2J1bmRsZUxvYWRUaW1lPzA6dGhpcy5fYnVuZGxlTG9hZFRpbWUscHJlTG9hZGVkOlwibm8tb3BcIj09PXRoaXMuX2J1bmRsZUxvYWRUaW1lLHVybDpaKHRoaXMucHJvcGVydGllcy5kYWlseUNvbmZpZyl9fTt0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZShuKSx0aGlzLl9kZWxheUR1cGxpY2F0ZUluc3RhbmNlTG9nJiZ0aGlzLl9sb2dEdXBsaWNhdGVJbnN0YW5jZUF0dGVtcHQoKTticmVhaztjYXNlIHJvOnRoaXMuX2xvYWRlZENhbGxiYWNrJiYodGhpcy5fbG9hZGVkQ2FsbGJhY2soKSx0aGlzLl9sb2FkZWRDYWxsYmFjaz1udWxsKSx0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7YnJlYWs7Y2FzZSBhbzp2YXIgcixpPVZhKHt9LHQpO2RlbGV0ZSBpLmludGVybmFsLHRoaXMuX21heEFwcE1lc3NhZ2VTaXplPShudWxsPT09KHI9dC5pbnRlcm5hbCl8fHZvaWQgMD09PXI/dm9pZCAwOnIuX21heEFwcE1lc3NhZ2VTaXplKXx8cnMsdGhpcy5fam9pbmVkQ2FsbGJhY2smJih0aGlzLl9qb2luZWRDYWxsYmFjayh0LnBhcnRpY2lwYW50cyksdGhpcy5fam9pbmVkQ2FsbGJhY2s9bnVsbCksdGhpcy5lbWl0RGFpbHlKU0V2ZW50KGkpO2JyZWFrO2Nhc2UgbG86Y2FzZSB1bzppZih0aGlzLl9jYWxsU3RhdGU9PT1faSlyZXR1cm47aWYodC5wYXJ0aWNpcGFudCYmdC5wYXJ0aWNpcGFudC5zZXNzaW9uX2lkKXt2YXIgbz10LnBhcnRpY2lwYW50LmxvY2FsP1wibG9jYWxcIjp0LnBhcnRpY2lwYW50LnNlc3Npb25faWQ7aWYodGhpcy5fY2FsbE9iamVjdE1vZGUpe3ZhciBzPXRoaXMuX2NhbGxNYWNoaW5lKCkuc3RvcmU7dWEodC5wYXJ0aWNpcGFudCxzKSxkYSh0LnBhcnRpY2lwYW50LHMpLGhhKHQucGFydGljaXBhbnQsdGhpcy5fcGFydGljaXBhbnRzW29dLHMpfXRyeXt0aGlzLm1heWJlUGFydGljaXBhbnRUcmFja3NTdG9wcGVkKHRoaXMuX3BhcnRpY2lwYW50c1tvXSx0LnBhcnRpY2lwYW50KSx0aGlzLm1heWJlUGFydGljaXBhbnRUcmFja3NTdGFydGVkKHRoaXMuX3BhcnRpY2lwYW50c1tvXSx0LnBhcnRpY2lwYW50KSx0aGlzLm1heWJlRXZlbnRSZWNvcmRpbmdTdG9wcGVkKHRoaXMuX3BhcnRpY2lwYW50c1tvXSx0LnBhcnRpY2lwYW50KSx0aGlzLm1heWJlRXZlbnRSZWNvcmRpbmdTdGFydGVkKHRoaXMuX3BhcnRpY2lwYW50c1tvXSx0LnBhcnRpY2lwYW50KX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwidHJhY2sgZXZlbnRzIGVycm9yXCIsZSl9dGhpcy5jb21wYXJlRXF1YWxGb3JQYXJ0aWNpcGFudFVwZGF0ZUV2ZW50KHQucGFydGljaXBhbnQsdGhpcy5fcGFydGljaXBhbnRzW29dKXx8KHRoaXMuX3BhcnRpY2lwYW50c1tvXT1WYSh7fSx0LnBhcnRpY2lwYW50KSx0aGlzLnRvZ2dsZVBhcnRpY2lwYW50QXVkaW9CYXNlZE9uTmF0aXZlQXVkaW9Gb2N1cygpLHRoaXMuZW1pdERhaWx5SlNFdmVudCh0KSl9YnJlYWs7Y2FzZSBwbzppZih0LnBhcnRpY2lwYW50JiZ0LnBhcnRpY2lwYW50LnNlc3Npb25faWQpe3ZhciBhPXRoaXMuX3BhcnRpY2lwYW50c1t0LnBhcnRpY2lwYW50LnNlc3Npb25faWRdO2EmJnRoaXMubWF5YmVQYXJ0aWNpcGFudFRyYWNrc1N0b3BwZWQoYSxudWxsKSxkZWxldGUgdGhpcy5fcGFydGljaXBhbnRzW3QucGFydGljaXBhbnQuc2Vzc2lvbl9pZF0sdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpfWJyZWFrO2Nhc2UgaG86Tih0aGlzLl9wYXJ0aWNpcGFudENvdW50cyx0LnBhcnRpY2lwYW50Q291bnRzKXx8KHRoaXMuX3BhcnRpY2lwYW50Q291bnRzPXQucGFydGljaXBhbnRDb3VudHMsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpKTticmVhaztjYXNlIGZvOnZhciBjPXthY2Nlc3M6dC5hY2Nlc3N9O3QuYXdhaXRpbmdBY2Nlc3MmJihjLmF3YWl0aW5nQWNjZXNzPXQuYXdhaXRpbmdBY2Nlc3MpLE4odGhpcy5fYWNjZXNzU3RhdGUsYyl8fCh0aGlzLl9hY2Nlc3NTdGF0ZT1jLHRoaXMuZW1pdERhaWx5SlNFdmVudCh0KSk7YnJlYWs7Y2FzZSB2bzppZih0Lm1lZXRpbmdTZXNzaW9uKXt0aGlzLl9tZWV0aW5nU2Vzc2lvblN1bW1hcnk9dC5tZWV0aW5nU2Vzc2lvbix0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7dmFyIGw9VmEoVmEoe30sdCkse30se2FjdGlvbjpcIm1lZXRpbmctc2Vzc2lvbi11cGRhdGVkXCJ9KTt0aGlzLmVtaXREYWlseUpTRXZlbnQobCl9YnJlYWs7Y2FzZSBuczp2YXIgdTt0aGlzLl9pZnJhbWUmJiF0LnByZXNlcnZlSWZyYW1lJiYodGhpcy5faWZyYW1lLnNyYz1cIlwiKSx0aGlzLl91cGRhdGVDYWxsU3RhdGUod2kpLHRoaXMucmVzZXRNZWV0aW5nRGVwZW5kZW50VmFycygpLHRoaXMuX2xvYWRlZENhbGxiYWNrJiYodGhpcy5fbG9hZGVkQ2FsbGJhY2sodC5lcnJvck1zZyksdGhpcy5fbG9hZGVkQ2FsbGJhY2s9bnVsbCksdC5wcmVzZXJ2ZUlmcmFtZTt2YXIgZD1lKHQsQmEpO251bGwhPWQmJm51bGwhPT0odT1kLmVycm9yKSYmdm9pZCAwIT09dSYmdS5kZXRhaWxzJiYoZC5lcnJvci5kZXRhaWxzPUpTT04ucGFyc2UoZC5lcnJvci5kZXRhaWxzKSksdGhpcy5fbWF5YmVTZW5kVG9TZW50cnkodCksdGhpcy5fam9pbmVkQ2FsbGJhY2smJih0aGlzLl9qb2luZWRDYWxsYmFjayhudWxsLGQpLHRoaXMuX2pvaW5lZENhbGxiYWNrPW51bGwpLHRoaXMuZW1pdERhaWx5SlNFdmVudChkKTticmVhaztjYXNlIGNvOnRoaXMuX2NhbGxTdGF0ZSE9PXdpJiZ0aGlzLl91cGRhdGVDYWxsU3RhdGUoX2kpLHRoaXMucmVzZXRNZWV0aW5nRGVwZW5kZW50VmFycygpLHRoaXMuX3Jlc29sdmVMZWF2ZSYmKHRoaXMuX3Jlc29sdmVMZWF2ZSgpLHRoaXMuX3Jlc29sdmVMZWF2ZT1udWxsKSx0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7YnJlYWs7Y2FzZVwic2VsZWN0ZWQtZGV2aWNlcy11cGRhdGVkXCI6dC5kZXZpY2VzJiZ0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7YnJlYWs7Y2FzZSBKbzp2YXIgcD10LnN0YXRlLGg9dC50aHJlc2hvbGQsZj10LnF1YWxpdHksdj1wLnN0YXRlLGc9cC5yZWFzb25zO3Y9PT10aGlzLl9uZXR3b3JrLm5ldHdvcmtTdGF0ZSYmTihnLHRoaXMuX25ldHdvcmsubmV0d29ya1N0YXRlUmVhc29ucykmJmg9PT10aGlzLl9uZXR3b3JrLnRocmVzaG9sZCYmZj09PXRoaXMuX25ldHdvcmsucXVhbGl0eXx8KHRoaXMuX25ldHdvcmsubmV0d29ya1N0YXRlPXYsdGhpcy5fbmV0d29yay5uZXR3b3JrU3RhdGVSZWFzb25zPWcsdGhpcy5fbmV0d29yay5xdWFsaXR5PWYsdGhpcy5fbmV0d29yay50aHJlc2hvbGQ9aCx0Lm5ldHdvcmtTdGF0ZT12LGcubGVuZ3RoJiYodC5uZXR3b3JrU3RhdGVSZWFzb25zPWcpLGRlbGV0ZSB0LnN0YXRlLHRoaXMuZW1pdERhaWx5SlNFdmVudCh0KSk7YnJlYWs7Y2FzZSBxbzp0JiZ0LmNwdUxvYWRTdGF0ZSYmdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpO2JyZWFrO2Nhc2Ugem86dCYmdm9pZCAwIT09dC5mYWNlQ291bnRzJiZ0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7YnJlYWs7Y2FzZSBVbzp2YXIgbT10LmFjdGl2ZVNwZWFrZXI7dGhpcy5fYWN0aXZlU3BlYWtlci5wZWVySWQhPT1tLnBlZXJJZCYmKHRoaXMuX2FjdGl2ZVNwZWFrZXIucGVlcklkPW0ucGVlcklkLHRoaXMuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOnQuYWN0aW9uLGFjdGl2ZVNwZWFrZXI6dGhpcy5fYWN0aXZlU3BlYWtlcn0pKTticmVhaztjYXNlXCJzaG93LWxvY2FsLXZpZGVvLWNoYW5nZWRcIjppZih0aGlzLl9jYWxsT2JqZWN0TW9kZSlyZXR1cm47dmFyIHk9dC5zaG93O3RoaXMuX3Nob3dMb2NhbFZpZGVvPXksdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246dC5hY3Rpb24sc2hvdzp5fSk7YnJlYWs7Y2FzZSBWbzp2YXIgYj10LmVuYWJsZWQ7dGhpcy5fYWN0aXZlU3BlYWtlck1vZGUhPT1iJiYodGhpcy5fYWN0aXZlU3BlYWtlck1vZGU9Yix0aGlzLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjp0LmFjdGlvbixlbmFibGVkOnRoaXMuX2FjdGl2ZVNwZWFrZXJNb2RlfSkpO2JyZWFrO2Nhc2UgeW86Y2FzZSBibzpjYXNlIF9vOnRoaXMuX3dhaXRpbmdQYXJ0aWNpcGFudHM9dC5hbGxXYWl0aW5nUGFydGljaXBhbnRzLHRoaXMuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOnQuYWN0aW9uLHBhcnRpY2lwYW50OnQucGFydGljaXBhbnR9KTticmVhaztjYXNlIFpvOk4odGhpcy5fcmVjZWl2ZVNldHRpbmdzLHQucmVjZWl2ZVNldHRpbmdzKXx8KHRoaXMuX3JlY2VpdmVTZXR0aW5ncz10LnJlY2VpdmVTZXR0aW5ncyx0aGlzLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjp0LmFjdGlvbixyZWNlaXZlU2V0dGluZ3M6dC5yZWNlaXZlU2V0dGluZ3N9KSk7YnJlYWs7Y2FzZSBlczp0aGlzLl9tYXliZVVwZGF0ZUlucHV0U2V0dGluZ3ModC5pbnB1dFNldHRpbmdzKTticmVhaztjYXNlXCJzZW5kLXNldHRpbmdzLXVwZGF0ZWRcIjpOKHRoaXMuX3NlbmRTZXR0aW5ncyx0LnNlbmRTZXR0aW5ncyl8fCh0aGlzLl9zZW5kU2V0dGluZ3M9dC5zZW5kU2V0dGluZ3MsdGhpcy5fcHJlbG9hZENhY2hlLnNlbmRTZXR0aW5ncz1udWxsLHRoaXMuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOnQuYWN0aW9uLHNlbmRTZXR0aW5nczp0LnNlbmRTZXR0aW5nc30pKTticmVhaztjYXNlXCJsb2NhbC1hdWRpby1sZXZlbFwiOnRoaXMuX2xvY2FsQXVkaW9MZXZlbD10LmF1ZGlvTGV2ZWwsdGhpcy5fcHJlbG9hZENhY2hlLmxvY2FsQXVkaW9MZXZlbE9ic2VydmVyPW51bGwsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpO2JyZWFrO2Nhc2VcInJlbW90ZS1wYXJ0aWNpcGFudHMtYXVkaW8tbGV2ZWxcIjp0aGlzLl9yZW1vdGVQYXJ0aWNpcGFudHNBdWRpb0xldmVsPXQucGFydGljaXBhbnRzQXVkaW9MZXZlbCx0aGlzLl9wcmVsb2FkQ2FjaGUucmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbE9ic2VydmVyPW51bGwsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpO2JyZWFrO2Nhc2UgTG86dmFyIF89dC5zZXNzaW9uX2lkO3RoaXMuX3JtcFBsYXllclN0YXRlW19dPXQucGxheWVyU3RhdGUsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpO2JyZWFrO2Nhc2UgTm86ZGVsZXRlIHRoaXMuX3JtcFBsYXllclN0YXRlW3Quc2Vzc2lvbl9pZF0sdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpO2JyZWFrO2Nhc2UgRG86dmFyIHc9dC5zZXNzaW9uX2lkLFM9dGhpcy5fcm1wUGxheWVyU3RhdGVbd107UyYmdGhpcy5jb21wYXJlRXF1YWxGb3JSTVBVcGRhdGVFdmVudChTLHQucmVtb3RlTWVkaWFQbGF5ZXJTdGF0ZSl8fCh0aGlzLl9ybXBQbGF5ZXJTdGF0ZVt3XT10LnJlbW90ZU1lZGlhUGxheWVyU3RhdGUsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpKTticmVhaztjYXNlXCJjdXN0b20tYnV0dG9uLWNsaWNrXCI6Y2FzZVwic2lkZWJhci12aWV3LWNoYW5nZWRcIjp0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7YnJlYWs7Y2FzZSBnbzp2YXIgaz10aGlzLl9tZWV0aW5nU2Vzc2lvblN0YXRlLnRvcG9sb2d5IT09KHQubWVldGluZ1Nlc3Npb25TdGF0ZSYmdC5tZWV0aW5nU2Vzc2lvblN0YXRlLnRvcG9sb2d5KTt0aGlzLl9tZWV0aW5nU2Vzc2lvblN0YXRlPWpjKHQubWVldGluZ1Nlc3Npb25TdGF0ZSx0aGlzLl9jYWxsT2JqZWN0TW9kZSksKHRoaXMuX2NhbGxPYmplY3RNb2RlfHxrKSYmdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpO2JyZWFrO2Nhc2UgUm86dGhpcy5faXNTY3JlZW5TaGFyaW5nPSEwLHRoaXMuZW1pdERhaWx5SlNFdmVudCh0KTticmVhaztjYXNlIEZvOmNhc2UgQm86dGhpcy5faXNTY3JlZW5TaGFyaW5nPSExLHRoaXMuZW1pdERhaWx5SlNFdmVudCh0KTticmVhaztjYXNlIEVvOmNhc2UgVG86Y2FzZSBPbzpjYXNlIFBvOmNhc2UgQW86Y2FzZSBrbzpjYXNlIE1vOmNhc2UgQ286Y2FzZSBpbzpjYXNlIG9vOmNhc2UgSW86Y2FzZSB4bzpjYXNlXCJ0ZXN0LWNvbXBsZXRlZFwiOmNhc2UgJG86Y2FzZSBqbzpjYXNlIEdvOmNhc2UgUW86Y2FzZSBLbzpjYXNlIFlvOmNhc2UgdHM6Y2FzZSBYbzpjYXNlXCJkaWFsaW4tcmVhZHlcIjpjYXNlXCJkaWFsaW4tY29ubmVjdGVkXCI6Y2FzZVwiZGlhbGluLWVycm9yXCI6Y2FzZVwiZGlhbGluLXN0b3BwZWRcIjpjYXNlXCJkaWFsaW4td2FybmluZ1wiOmNhc2VcImRpYWxvdXQtY29ubmVjdGVkXCI6Y2FzZVwiZGlhbG91dC1hbnN3ZXJlZFwiOmNhc2VcImRpYWxvdXQtZXJyb3JcIjpjYXNlXCJkaWFsb3V0LXN0b3BwZWRcIjpjYXNlXCJkaWFsb3V0LXdhcm5pbmdcIjp0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7YnJlYWs7Y2FzZVwicmVxdWVzdC1mdWxsc2NyZWVuXCI6dGhpcy5yZXF1ZXN0RnVsbHNjcmVlbigpO2JyZWFrO2Nhc2VcInJlcXVlc3QtZXhpdC1mdWxsc2NyZWVuXCI6dGhpcy5leGl0RnVsbHNjcmVlbigpfX19LHtrZXk6XCJtYXliZUV2ZW50UmVjb3JkaW5nU3RvcHBlZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49XCJyZWNvcmRcIjtlJiYodC5sb2NhbHx8ITEhPT10W25dfHxlW25dPT09dFtuXXx8dGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246VG99KSl9fSx7a2V5OlwibWF5YmVFdmVudFJlY29yZGluZ1N0YXJ0ZWRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPVwicmVjb3JkXCI7ZSYmKHQubG9jYWx8fCEwIT09dFtuXXx8ZVtuXT09PXRbbl18fHRoaXMuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOkVvfSkpfX0se2tleTpcIl90cmFja1N0YXRlUGxheWFibGVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4hKCFlfHxlLnN0YXRlIT09VGkpfX0se2tleTpcIl90cmFja0NoYW5nZWRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiEoKG51bGw9PWU/dm9pZCAwOmUuaWQpPT09KG51bGw9PXQ/dm9pZCAwOnQuaWQpKX19LHtrZXk6XCJtYXliZUV2ZW50VHJhY2tTdG9wcGVkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz1udWxsIT09KHI9bnVsbD09dD92b2lkIDA6dC50cmFja3NbZV0pJiZ2b2lkIDAhPT1yP3I6bnVsbCxzPW51bGwhPT0oaT1udWxsPT1uP3ZvaWQgMDpuLnRyYWNrc1tlXSkmJnZvaWQgMCE9PWk/aTpudWxsLGE9bnVsbD09bz92b2lkIDA6by50cmFjaztpZihhKXt2YXIgYz10aGlzLl90cmFja1N0YXRlUGxheWFibGUobyksbD10aGlzLl90cmFja1N0YXRlUGxheWFibGUocyksdT10aGlzLl90cmFja0NoYW5nZWQoYSxudWxsPT1zP3ZvaWQgMDpzLnRyYWNrKTtjJiYobCYmIXV8fHRoaXMuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOlNvLHRyYWNrOmEscGFydGljaXBhbnQ6bnVsbCE9bj9uOnQsdHlwZTplfSkpfX19LHtrZXk6XCJtYXliZUV2ZW50VHJhY2tTdGFydGVkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz1udWxsIT09KHI9bnVsbD09dD92b2lkIDA6dC50cmFja3NbZV0pJiZ2b2lkIDAhPT1yP3I6bnVsbCxzPW51bGwhPT0oaT1udWxsPT1uP3ZvaWQgMDpuLnRyYWNrc1tlXSkmJnZvaWQgMCE9PWk/aTpudWxsLGE9bnVsbD09cz92b2lkIDA6cy50cmFjaztpZihhKXt2YXIgYz10aGlzLl90cmFja1N0YXRlUGxheWFibGUobyksbD10aGlzLl90cmFja1N0YXRlUGxheWFibGUocyksdT10aGlzLl90cmFja0NoYW5nZWQobnVsbD09bz92b2lkIDA6by50cmFjayxhKTtsJiYoYyYmIXV8fHRoaXMuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOndvLHRyYWNrOmEscGFydGljaXBhbnQ6bix0eXBlOmV9KSl9fX0se2tleTpcIm1heWJlUGFydGljaXBhbnRUcmFja3NTdG9wcGVkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZihlKWZvcih2YXIgbiBpbiBlLnRyYWNrcyl0aGlzLm1heWJlRXZlbnRUcmFja1N0b3BwZWQobixlLHQpfX0se2tleTpcIm1heWJlUGFydGljaXBhbnRUcmFja3NTdGFydGVkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0KWZvcih2YXIgbiBpbiB0LnRyYWNrcyl0aGlzLm1heWJlRXZlbnRUcmFja1N0YXJ0ZWQobixlLHQpfX0se2tleTpcImNvbXBhcmVFcXVhbEZvclJNUFVwZGF0ZUV2ZW50XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbixyO3JldHVybiBlLnN0YXRlPT09dC5zdGF0ZSYmKG51bGw9PT0obj1lLnNldHRpbmdzKXx8dm9pZCAwPT09bj92b2lkIDA6bi52b2x1bWUpPT09KG51bGw9PT0ocj10LnNldHRpbmdzKXx8dm9pZCAwPT09cj92b2lkIDA6ci52b2x1bWUpfX0se2tleTpcImVtaXREYWlseUpTRXZlbnRcIix2YWx1ZTpmdW5jdGlvbihlKXt0cnl7ZS5jYWxsQ2xpZW50SWQ9dGhpcy5jYWxsQ2xpZW50SWQsdGhpcy5lbWl0KGUuYWN0aW9uLGUpfWNhdGNoKHQpe2NvbnNvbGUubG9nKFwiY291bGQgbm90IGVtaXRcIixlLHQpfX19LHtrZXk6XCJjb21wYXJlRXF1YWxGb3JQYXJ0aWNpcGFudFVwZGF0ZUV2ZW50XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIU4oZSx0KSYmKCghZS52aWRlb1RyYWNrfHwhdC52aWRlb1RyYWNrfHxlLnZpZGVvVHJhY2suaWQ9PT10LnZpZGVvVHJhY2suaWQmJmUudmlkZW9UcmFjay5tdXRlZD09PXQudmlkZW9UcmFjay5tdXRlZCYmZS52aWRlb1RyYWNrLmVuYWJsZWQ9PT10LnZpZGVvVHJhY2suZW5hYmxlZCkmJighZS5hdWRpb1RyYWNrfHwhdC5hdWRpb1RyYWNrfHxlLmF1ZGlvVHJhY2suaWQ9PT10LmF1ZGlvVHJhY2suaWQmJmUuYXVkaW9UcmFjay5tdXRlZD09PXQuYXVkaW9UcmFjay5tdXRlZCYmZS5hdWRpb1RyYWNrLmVuYWJsZWQ9PT10LmF1ZGlvVHJhY2suZW5hYmxlZCkpfX0se2tleTpcIm5hdGl2ZVV0aWxzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4geXMoKT9cInVuZGVmaW5lZFwiPT10eXBlb2YgRGFpbHlOYXRpdmVVdGlscz8oY29uc29sZS53YXJuKFwiaW4gUmVhY3QgTmF0aXZlLCBEYWlseU5hdGl2ZVV0aWxzIGlzIGV4cGVjdGVkIHRvIGJlIGF2YWlsYWJsZVwiKSxudWxsKTpEYWlseU5hdGl2ZVV0aWxzOm51bGx9fSx7a2V5OlwidXBkYXRlSXNQcmVwYXJpbmdUb0pvaW5cIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl91cGRhdGVDYWxsU3RhdGUodGhpcy5fY2FsbFN0YXRlLGUpfX0se2tleTpcIl91cGRhdGVDYWxsU3RhdGVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5faXNQcmVwYXJpbmdUb0pvaW47aWYoZSE9PXRoaXMuX2NhbGxTdGF0ZXx8dCE9PXRoaXMuX2lzUHJlcGFyaW5nVG9Kb2luKXt2YXIgbj10aGlzLl9jYWxsU3RhdGUscj10aGlzLl9pc1ByZXBhcmluZ1RvSm9pbjt0aGlzLl9jYWxsU3RhdGU9ZSx0aGlzLl9pc1ByZXBhcmluZ1RvSm9pbj10O3ZhciBpPXRoaXMuX2NhbGxTdGF0ZT09PWJpO3RoaXMudXBkYXRlU2hvd0FuZHJvaWRPbmdvaW5nTWVldGluZ05vdGlmaWNhdGlvbihpKTt2YXIgbz1hYyhuLHIpLHM9YWModGhpcy5fY2FsbFN0YXRlLHRoaXMuX2lzUHJlcGFyaW5nVG9Kb2luKTtvIT09cyYmKHRoaXMudXBkYXRlS2VlcERldmljZUF3YWtlKHMpLHRoaXMudXBkYXRlRGV2aWNlQXVkaW9Nb2RlKHMpLHRoaXMudXBkYXRlTm9PcFJlY29yZGluZ0Vuc3VyaW5nQmFja2dyb3VuZENvbnRpbnVpdHkocykpfX19LHtrZXk6XCJyZXNldE1lZXRpbmdEZXBlbmRlbnRWYXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9wYXJ0aWNpcGFudHM9e30sdGhpcy5fcGFydGljaXBhbnRDb3VudHM9UWEsdGhpcy5fd2FpdGluZ1BhcnRpY2lwYW50cz17fSx0aGlzLl9hY3RpdmVTcGVha2VyPXt9LHRoaXMuX2FjdGl2ZVNwZWFrZXJNb2RlPSExLHRoaXMuX2RpZFByZUF1dGg9ITEsdGhpcy5fYWNjZXNzU3RhdGU9e2FjY2VzczpPaX0sdGhpcy5fZmluYWxTdW1tYXJ5T2ZQcmV2U2Vzc2lvbj10aGlzLl9tZWV0aW5nU2Vzc2lvblN1bW1hcnksdGhpcy5fbWVldGluZ1Nlc3Npb25TdW1tYXJ5PXt9LHRoaXMuX21lZXRpbmdTZXNzaW9uU3RhdGU9amMoR2EsdGhpcy5fY2FsbE9iamVjdE1vZGUpLHRoaXMuX2lzU2NyZWVuU2hhcmluZz0hMSx0aGlzLl9yZWNlaXZlU2V0dGluZ3M9e30sdGhpcy5faW5wdXRTZXR0aW5ncz12b2lkIDAsdGhpcy5fc2VuZFNldHRpbmdzPXt9LHRoaXMuX2xvY2FsQXVkaW9MZXZlbD0wLHRoaXMuX2lzTG9jYWxBdWRpb0xldmVsT2JzZXJ2ZXJSdW5uaW5nPSExLHRoaXMuX3JlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWw9e30sdGhpcy5faXNSZW1vdGVQYXJ0aWNpcGFudHNBdWRpb0xldmVsT2JzZXJ2ZXJSdW5uaW5nPSExLHRoaXMuX21heEFwcE1lc3NhZ2VTaXplPXJzLHRoaXMuX2NhbGxNYWNoaW5lSW5pdGlhbGl6ZWQ9ITEsdGhpcy5fYnVuZGxlTG9hZFRpbWU9dm9pZCAwLHRoaXMuX3ByZWxvYWRDYWNoZX19LHtrZXk6XCJ1cGRhdGVLZWVwRGV2aWNlQXdha2VcIix2YWx1ZTpmdW5jdGlvbihlKXt5cygpJiZ0aGlzLm5hdGl2ZVV0aWxzKCkuc2V0S2VlcERldmljZUF3YWtlKGUsdGhpcy5jYWxsQ2xpZW50SWQpfX0se2tleTpcInVwZGF0ZURldmljZUF1ZGlvTW9kZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHlzKCkmJiF0aGlzLmRpc2FibGVSZWFjdE5hdGl2ZUF1dG9EZXZpY2VNYW5hZ2VtZW50KFwiYXVkaW9cIikpe3ZhciB0PWU/dGhpcy5fbmF0aXZlSW5DYWxsQXVkaW9Nb2RlOlwiaWRsZVwiO3RoaXMubmF0aXZlVXRpbHMoKS5zZXRBdWRpb01vZGUodCl9fX0se2tleTpcInVwZGF0ZVNob3dBbmRyb2lkT25nb2luZ01lZXRpbmdOb3RpZmljYXRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXtpZih5cygpJiZ0aGlzLm5hdGl2ZVV0aWxzKCkuc2V0U2hvd09uZ29pbmdNZWV0aW5nTm90aWZpY2F0aW9uKXt2YXIgdCxuLHIsaTtpZih0aGlzLnByb3BlcnRpZXMucmVhY3ROYXRpdmVDb25maWcmJnRoaXMucHJvcGVydGllcy5yZWFjdE5hdGl2ZUNvbmZpZy5hbmRyb2lkSW5DYWxsTm90aWZpY2F0aW9uKXt2YXIgbz10aGlzLnByb3BlcnRpZXMucmVhY3ROYXRpdmVDb25maWcuYW5kcm9pZEluQ2FsbE5vdGlmaWNhdGlvbjt0PW8udGl0bGUsbj1vLnN1YnRpdGxlLHI9by5pY29uTmFtZSxpPW8uZGlzYWJsZUZvckN1c3RvbU92ZXJyaWRlfWkmJihlPSExKSx0aGlzLm5hdGl2ZVV0aWxzKCkuc2V0U2hvd09uZ29pbmdNZWV0aW5nTm90aWZpY2F0aW9uKGUsdCxuLHIsdGhpcy5jYWxsQ2xpZW50SWQpfX19LHtrZXk6XCJ1cGRhdGVOb09wUmVjb3JkaW5nRW5zdXJpbmdCYWNrZ3JvdW5kQ29udGludWl0eVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3lzKCkmJnRoaXMubmF0aXZlVXRpbHMoKS5lbmFibGVOb09wUmVjb3JkaW5nRW5zdXJpbmdCYWNrZ3JvdW5kQ29udGludWl0eSYmdGhpcy5uYXRpdmVVdGlscygpLmVuYWJsZU5vT3BSZWNvcmRpbmdFbnN1cmluZ0JhY2tncm91bmRDb250aW51aXR5KGUpfX0se2tleTpcInRvZ2dsZVBhcnRpY2lwYW50QXVkaW9CYXNlZE9uTmF0aXZlQXVkaW9Gb2N1c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU7aWYoeXMoKSl7dmFyIHQ9bnVsbD09PShlPXRoaXMuX2NhbGxNYWNoaW5lKCkpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5zdG9yZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0U3RhdGUoKTtmb3IodmFyIG4gaW4gbnVsbD09dD92b2lkIDA6dC5zdHJlYW1zKXt2YXIgcj10LnN0cmVhbXNbbl07ciYmci5wZW5kaW5nVHJhY2smJlwiYXVkaW9cIj09PXIucGVuZGluZ1RyYWNrLmtpbmQmJihyLnBlbmRpbmdUcmFjay5lbmFibGVkPXRoaXMuX2hhc05hdGl2ZUF1ZGlvRm9jdXMpfX19fSx7a2V5OlwiZGlzYWJsZVJlYWN0TmF0aXZlQXV0b0RldmljZU1hbmFnZW1lbnRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wcm9wZXJ0aWVzLnJlYWN0TmF0aXZlQ29uZmlnJiZ0aGlzLnByb3BlcnRpZXMucmVhY3ROYXRpdmVDb25maWcuZGlzYWJsZUF1dG9EZXZpY2VNYW5hZ2VtZW50JiZ0aGlzLnByb3BlcnRpZXMucmVhY3ROYXRpdmVDb25maWcuZGlzYWJsZUF1dG9EZXZpY2VNYW5hZ2VtZW50W2VdfX0se2tleTpcImFic29sdXRlVXJsXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7cmV0dXJuIHQuaHJlZj1lLHQuaHJlZn19fSx7a2V5Olwic2F5SGVsbG9cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPVwiaGVsbG8sIHdvcmxkLlwiO3JldHVybiBjb25zb2xlLmxvZyhlKSxlfX0se2tleTpcIl9sb2dVc2VBZnRlckRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPU9iamVjdC52YWx1ZXMoemEpWzBdO2lmKHRoaXMubmVlZHNMb2FkKCkpe2lmKGUmJiFlLm5lZWRzTG9hZCgpKXt2YXIgdD17YWN0aW9uOmNzLGxldmVsOlwiZXJyb3JcIixjb2RlOnRoaXMuc3RyaWN0TW9kZT85OTk1Ojk5OTd9O2Uuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHQpfWVsc2UgaWYoIXRoaXMuc3RyaWN0TW9kZSl7Y29uc29sZS5lcnJvcihcIllvdSBhcmUgYXJlIGF0dGVtcHRpbmcgdG8gdXNlIGEgY2FsbCBpbnN0YW5jZSB0aGF0IHdhcyBwcmV2aW91c2x5IGRlc3Ryb3llZCwgd2hpY2ggaXMgdW5zdXBwb3J0ZWQuIFBsZWFzZSByZW1vdmUgYHN0cmljdE1vZGU6IGZhbHNlYCBmcm9tIHlvdXIgY29uc3RydWN0b3IgcHJvcGVydGllcyB0byBlbmFibGUgc3RyaWN0IG1vZGUgdG8gdHJhY2sgZG93biBhbmQgZml4IHRoaXMgdW5zdXBwb3J0ZWQgdXNhZ2UuXCIpfX1lbHNle3ZhciBuPXthY3Rpb246Y3MsbGV2ZWw6XCJlcnJvclwiLGNvZGU6dGhpcy5zdHJpY3RNb2RlPzk5OTU6OTk5N307dGhpcy5fbWVzc2FnZUNoYW5uZWwuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKG4sbnVsbCx0aGlzLmNhbGxDbGllbnRJZCx0aGlzLl9pZnJhbWUpfX19LHtrZXk6XCJfbG9nRHVwbGljYXRlSW5zdGFuY2VBdHRlbXB0XCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PU9iamVjdC52YWx1ZXMoemEpO2U8dC5sZW5ndGg7ZSsrKXt2YXIgbj10W2VdO24uX2NhbGxNYWNoaW5lSW5pdGlhbGl6ZWQ/KG4uc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246Y3MsbGV2ZWw6XCJ3YXJuXCIsY29kZTp0aGlzLmFsbG93TXVsdGlwbGVDYWxsSW5zdGFuY2VzPzk5OTM6OTk5Mn0pLG4uX2RlbGF5RHVwbGljYXRlSW5zdGFuY2VMb2c9ITEpOm4uX2RlbGF5RHVwbGljYXRlSW5zdGFuY2VMb2c9ITB9fX0se2tleTpcIl9tYXliZVNlbmRUb1NlbnRyeVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LG4saSxvO2lmKG51bGwhPT0odD1lLmVycm9yKSYmdm9pZCAwIT09dCYmdC50eXBlKXtpZighWyRpLFZpLEJpXS5pbmNsdWRlcyhlLmVycm9yLnR5cGUpKXJldHVybjtpZihlLmVycm9yLnR5cGU9PT1CaSYmZS5lcnJvci5tc2cuaW5jbHVkZXMoXCJkZWxldGVkXCIpKXJldHVybn12YXIgcz1udWxsIT09KG49dGhpcy5wcm9wZXJ0aWVzKSYmdm9pZCAwIT09biYmbi51cmw/bmV3IFVSTCh0aGlzLnByb3BlcnRpZXMudXJsKTp2b2lkIDAsYT1cInByb2R1Y3Rpb25cIjtzJiZzLmhvc3QuaW5jbHVkZXMoXCIuc3RhZ2luZy5kYWlseVwiKSYmKGE9XCJzdGFnaW5nXCIpO3ZhciBjLGwsdSxkLHAsaD1mdW5jdGlvbihlKXtjb25zdCB0PVtHbigpLFduKCksaWkoKSxuaSgpLHVpKCksZmkoKSxycigpLGhpKCldO3JldHVybiExIT09ZS5hdXRvU2Vzc2lvblRyYWNraW5nJiZ0LnB1c2gobGkoKSksdH0oe30pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIVtcIkJyb3dzZXJBcGlFcnJvcnNcIixcIkJyZWFkY3J1bWJzXCIsXCJHbG9iYWxIYW5kbGVyc1wiXS5pbmNsdWRlcyhlLm5hbWUpfSkpLGY9bmV3IGpyKHtkc246XCJodHRwczovL2YxMGYxYzgxZTVkNDRhNDA5ODQxNmMwODY3YThiNzQwQG83NzkwNi5pbmdlc3Quc2VudHJ5LmlvLzE2ODg0NFwiLHRyYW5zcG9ydDpXcixzdGFja1BhcnNlcjpacixpbnRlZ3JhdGlvbnM6aCxlbnZpcm9ubWVudDphfSksdj1uZXcgTXQ7aWYodi5zZXRDbGllbnQoZiksZi5pbml0KCksdGhpcy5zZXNzaW9uX2lkJiZ2LnNldEV4dHJhKFwic2Vzc2lvbklkXCIsdGhpcy5zZXNzaW9uX2lkKSx0aGlzLnByb3BlcnRpZXMpe3ZhciBnPVZhKHt9LHRoaXMucHJvcGVydGllcyk7Zy51c2VyTmFtZT1nLnVzZXJOYW1lP1wiW0ZpbHRlcmVkXVwiOnZvaWQgMCxnLnVzZXJEYXRhPWcudXNlckRhdGE/XCJbRmlsdGVyZWRdXCI6dm9pZCAwLGcudG9rZW49Zy50b2tlbj9cIltGaWx0ZXJlZF1cIjp2b2lkIDAsdi5zZXRFeHRyYShcInByb3BlcnRpZXNcIixnKX1pZihzKXt2YXIgbT1zLnNlYXJjaFBhcmFtcy5nZXQoXCJkb21haW5cIik7aWYoIW0pe3ZhciB5PXMuaG9zdC5tYXRjaCgvKC4qPylcXC4vKTttPXkmJnlbMV18fFwiXCJ9bSYmdi5zZXRUYWcoXCJkb21haW5cIixtKX1lLmVycm9yJiYodi5zZXRUYWcoXCJmYXRhbEVycm9yVHlwZVwiLGUuZXJyb3IudHlwZSksdi5zZXRFeHRyYShcImVycm9yRGV0YWlsc1wiLGUuZXJyb3IuZGV0YWlscyksKG51bGw9PT0oYz1lLmVycm9yLmRldGFpbHMpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLnVyaSkmJnYuc2V0VGFnKFwic2VydmVyQWRkcmVzc1wiLGUuZXJyb3IuZGV0YWlscy51cmkpLChudWxsPT09KGw9ZS5lcnJvci5kZXRhaWxzKXx8dm9pZCAwPT09bD92b2lkIDA6bC53b3JrZXJHcm91cCkmJnYuc2V0VGFnKFwid29ya2VyR3JvdXBcIixlLmVycm9yLmRldGFpbHMud29ya2VyR3JvdXApLChudWxsPT09KHU9ZS5lcnJvci5kZXRhaWxzKXx8dm9pZCAwPT09dT92b2lkIDA6dS5nZW9Hcm91cCkmJnYuc2V0VGFnKFwiZ2VvR3JvdXBcIixlLmVycm9yLmRldGFpbHMuZ2VvR3JvdXApLChudWxsPT09KGQ9ZS5lcnJvci5kZXRhaWxzKXx8dm9pZCAwPT09ZD92b2lkIDA6ZC5vbikmJnYuc2V0VGFnKFwiY29ubmVjdGlvbkF0dGVtcHRcIixlLmVycm9yLmRldGFpbHMub24pLG51bGwhPT0ocD1lLmVycm9yLmRldGFpbHMpJiZ2b2lkIDAhPT1wJiZwLmJ1bmRsZVVybCYmKHYuc2V0VGFnKFwiYnVuZGxlVXJsXCIsZS5lcnJvci5kZXRhaWxzLmJ1bmRsZVVybCksdi5zZXRUYWcoXCJidW5kbGVFcnJvclwiLGUuZXJyb3IuZGV0YWlscy5zb3VyY2VFcnJvci50eXBlKSkpO3Yuc2V0VGFncyh7Y2FsbE1vZGU6dGhpcy5fY2FsbE9iamVjdE1vZGU/eXMoKT9cInJlYWN0TmF0aXZlXCI6bnVsbCE9PShpPXRoaXMucHJvcGVydGllcykmJnZvaWQgMCE9PWkmJm51bGwhPT0oaT1pLmRhaWx5Q29uZmlnKSYmdm9pZCAwIT09aSYmbnVsbCE9PShpPWkuY2FsbE1vZGUpJiZ2b2lkIDAhPT1pJiZpLmluY2x1ZGVzKFwicHJlYnVpbHRcIik/dGhpcy5wcm9wZXJ0aWVzLmRhaWx5Q29uZmlnLmNhbGxNb2RlOlwiY3VzdG9tXCI6XCJwcmVidWlsdC1mcmFtZVwiLHZlcnNpb246ci52ZXJzaW9uKCl9KTt2YXIgYj0obnVsbD09PShvPWUuZXJyb3IpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLm1zZyl8fGUuZXJyb3JNc2c7di5jYXB0dXJlRXhjZXB0aW9uKG5ldyBFcnJvcihiKSl9fSx7a2V5OlwiX2NhbGxNYWNoaW5lXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gbnVsbD09PShlPXdpbmRvdy5fZGFpbHkpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5pbnN0YW5jZXMpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZVt0aGlzLmNhbGxDbGllbnRJZF0pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNhbGxNYWNoaW5lfX0se2tleTpcIl9tYXliZVVwZGF0ZUlucHV0U2V0dGluZ3NcIix2YWx1ZTpmdW5jdGlvbihlKXtpZighTih0aGlzLl9pbnB1dFNldHRpbmdzLGUpKXt2YXIgdD10aGlzLl9nZXRJbnB1dFNldHRpbmdzKCk7dGhpcy5faW5wdXRTZXR0aW5ncz1lO3ZhciBuPXRoaXMuX2dldElucHV0U2V0dGluZ3MoKTtOKHQsbil8fHRoaXMuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOmVzLGlucHV0U2V0dGluZ3M6bn0pfX19XSxbe2tleTpcInN1cHBvcnRlZEJyb3dzZXJcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHlzKCkpcmV0dXJue3N1cHBvcnRlZDohMCxtb2JpbGU6ITAsbmFtZTpcIlJlYWN0IE5hdGl2ZVwiLHZlcnNpb246bnVsbCxzdXBwb3J0c1NjcmVlblNoYXJlOiEwLHN1cHBvcnRzU2Z1OiEwLHN1cHBvcnRzVmlkZW9Qcm9jZXNzaW5nOiExLHN1cHBvcnRzQXVkaW9Qcm9jZXNzaW5nOiExfTt2YXIgZT1RLmdldFBhcnNlcihtcygpKTtyZXR1cm57c3VwcG9ydGVkOiEhQ3MoKSxtb2JpbGU6XCJtb2JpbGVcIj09PWUuZ2V0UGxhdGZvcm1UeXBlKCksbmFtZTplLmdldEJyb3dzZXJOYW1lKCksdmVyc2lvbjplLmdldEJyb3dzZXJWZXJzaW9uKCksc3VwcG9ydHNGdWxsc2NyZWVuOiEhd3MoKSxzdXBwb3J0c1NjcmVlblNoYXJlOiEhX3MoKSxzdXBwb3J0c1NmdTohIUNzKCksc3VwcG9ydHNWaWRlb1Byb2Nlc3Npbmc6a3MoKSxzdXBwb3J0c0F1ZGlvUHJvY2Vzc2luZzpNcygpfX19LHtrZXk6XCJ2ZXJzaW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIjAuNzcuMFwifX0se2tleTpcImNyZWF0ZUNhbGxPYmplY3RcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gZS5sYXlvdXQ9XCJub25lXCIsbmV3IHIobnVsbCxlKX19LHtrZXk6XCJ3cmFwXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKGhjKCksIWV8fCFlLmNvbnRlbnRXaW5kb3d8fFwic3RyaW5nXCIhPXR5cGVvZiBlLnNyYyl0aHJvdyBuZXcgRXJyb3IoXCJEYWlseUlmcmFtZTo6V3JhcCBuZWVkcyBhbiBpZnJhbWUtbGlrZSBmaXJzdCBhcmd1bWVudFwiKTtyZXR1cm4gdC5sYXlvdXR8fCh0LmN1c3RvbUxheW91dD90LmxheW91dD1cImN1c3RvbS12MVwiOnQubGF5b3V0PVwiYnJvd3NlclwiKSxuZXcgcihlLHQpfX0se2tleTpcImNyZWF0ZUZyYW1lXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbixpO2hjKCksZSYmdD8obj1lLGk9dCk6ZSYmZS5hcHBlbmQ/KG49ZSxpPXt9KToobj1kb2N1bWVudC5ib2R5LGk9ZXx8e30pO3ZhciBvPWkuaWZyYW1lU3R5bGU7b3x8KG89bj09PWRvY3VtZW50LmJvZHk/e3Bvc2l0aW9uOlwiZml4ZWRcIixib3JkZXI6XCIxcHggc29saWQgYmxhY2tcIixiYWNrZ3JvdW5kQ29sb3I6XCJ3aGl0ZVwiLHdpZHRoOlwiMzc1cHhcIixoZWlnaHQ6XCI0NTBweFwiLHJpZ2h0OlwiMWVtXCIsYm90dG9tOlwiMWVtXCJ9Ontib3JkZXI6MCx3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCJ9KTt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO3dpbmRvdy5uYXZpZ2F0b3ImJndpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWVcXC82MVxcLi8pP3MuYWxsb3c9XCJtaWNyb3Bob25lLCBjYW1lcmFcIjpzLmFsbG93PVwibWljcm9waG9uZTsgY2FtZXJhOyBhdXRvcGxheTsgZGlzcGxheS1jYXB0dXJlOyBzY3JlZW4td2FrZS1sb2NrXCIscy5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsbi5hcHBlbmRDaGlsZChzKSxzLnN0eWxlLnZpc2liaWxpdHk9bnVsbCxPYmplY3Qua2V5cyhvKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gcy5zdHlsZVtlXT1vW2VdfSkpLGkubGF5b3V0fHwoaS5jdXN0b21MYXlvdXQ/aS5sYXlvdXQ9XCJjdXN0b20tdjFcIjppLmxheW91dD1cImJyb3dzZXJcIik7dHJ5e3JldHVybiBuZXcgcihzLGkpfWNhdGNoKGUpe3Rocm93IG4ucmVtb3ZlQ2hpbGQocyksZX19fSx7a2V5OlwiY3JlYXRlVHJhbnNwYXJlbnRGcmFtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2hjKCk7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtyZXR1cm4gdC5hbGxvdz1cIm1pY3JvcGhvbmU7IGNhbWVyYTsgYXV0b3BsYXlcIix0LnN0eWxlLmNzc1RleHQ9XCJcXG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XFxuICAgICAgdG9wOiAwO1xcbiAgICAgIGxlZnQ6IDA7XFxuICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgIGJvcmRlcjogMDtcXG4gICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG4gICAgXCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KSxlLmxheW91dHx8KGUubGF5b3V0PVwiY3VzdG9tLXYxXCIpLHIud3JhcCh0LGUpfX0se2tleTpcImdldENhbGxJbnN0YW5jZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnZvaWQgMDtyZXR1cm4gZT96YVtlXTpPYmplY3QudmFsdWVzKHphKVswXX19XSk7dmFyIGksYyxkLGgsdixnLG0seSxiLF8sdyxTLGssTSxDLEUsVCxPLFAsQSxqLEksTCxELFIsRixCLFUsVixKLCQscSx6LFcsSCxHLFksZWV9KCk7ZnVuY3Rpb24gb2MoZSx0KXt2YXIgbj17fTtmb3IodmFyIHIgaW4gZSlpZihlW3JdaW5zdGFuY2VvZiBNZWRpYVN0cmVhbVRyYWNrKWNvbnNvbGUud2FybihcIk1lZGlhU3RyZWFtVHJhY2sgZm91bmQgaW4gcHJvcHMgb3IgY2FjaGUuXCIsciksbltyXT1scztlbHNlIGlmKFwiZGFpbHlDb25maWdcIj09PXIpe2lmKGVbcl0ubW9kaWZ5TG9jYWxTZHBIb29rKXt2YXIgaT13aW5kb3cuX2RhaWx5Lmluc3RhbmNlc1t0XS5jdXN0b21DYWxsYmFja3N8fHt9O2kubW9kaWZ5TG9jYWxTZHBIb29rPWVbcl0ubW9kaWZ5TG9jYWxTZHBIb29rLHdpbmRvdy5fZGFpbHkuaW5zdGFuY2VzW3RdLmN1c3RvbUNhbGxiYWNrcz1pLGRlbGV0ZSBlW3JdLm1vZGlmeUxvY2FsU2RwSG9va31pZihlW3JdLm1vZGlmeVJlbW90ZVNkcEhvb2spe3ZhciBvPXdpbmRvdy5fZGFpbHkuaW5zdGFuY2VzW3RdLmN1c3RvbUNhbGxiYWNrc3x8e307by5tb2RpZnlSZW1vdGVTZHBIb29rPWVbcl0ubW9kaWZ5UmVtb3RlU2RwSG9vayx3aW5kb3cuX2RhaWx5Lmluc3RhbmNlc1t0XS5jdXN0b21DYWxsYmFja3M9byxkZWxldGUgZVtyXS5tb2RpZnlSZW1vdGVTZHBIb29rfW5bcl09ZVtyXX1lbHNlIG5bcl09ZVtyXTtyZXR1cm4gbn1mdW5jdGlvbiBzYyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDtpZihlIT09Ymkpe3ZhciBuPVwiXCIuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIlRoaXMgZGFpbHktanMgbWV0aG9kXCIsXCIgb25seSBzdXBwb3J0ZWQgYWZ0ZXIgam9pbi5cIik7dGhyb3cgdCYmKG4rPVwiIFwiLmNvbmNhdCh0KSksY29uc29sZS5lcnJvcihuKSxuZXcgRXJyb3Iobil9fWZ1bmN0aW9uIGFjKGUsdCl7cmV0dXJuW3lpLGJpXS5pbmNsdWRlcyhlKXx8dH1mdW5jdGlvbiBjYyhlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpcIlRoaXMgZGFpbHktanMgbWV0aG9kXCIscj1hcmd1bWVudHMubGVuZ3RoPjM/YXJndW1lbnRzWzNdOnZvaWQgMDtpZihhYyhlLHQpKXt2YXIgaT1cIlwiLmNvbmNhdChuLFwiIG5vdCBzdXBwb3J0ZWQgYWZ0ZXIgam9pbmluZyBhIG1lZXRpbmcuXCIpO3Rocm93IHImJihpKz1cIiBcIi5jb25jYXQocikpLGNvbnNvbGUuZXJyb3IoaSksbmV3IEVycm9yKGkpfX1mdW5jdGlvbiBsYyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJUaGlzIGRhaWx5LWpzIG1ldGhvZFwiLG49YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7aWYoIWUpe3ZhciByPVwiXCIuY29uY2F0KHQsYXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXT9cIiByZXF1aXJlcyBwcmVBdXRoKCkgb3Igc3RhcnRDYW1lcmEoKSB0byBpbml0aWFsaXplIGNhbGwgc3RhdGUuXCI6XCIgcmVxdWlyZXMgcHJlQXV0aCgpLCBzdGFydENhbWVyYSgpLCBvciBqb2luKCkgdG8gaW5pdGlhbGl6ZSBjYWxsIHN0YXRlLlwiKTt0aHJvdyBuJiYocis9XCIgXCIuY29uY2F0KG4pKSxjb25zb2xlLmVycm9yKHIpLG5ldyBFcnJvcihyKX19ZnVuY3Rpb24gdWMoZSl7aWYoZSl7dmFyIHQ9XCJBIHByZS1jYWxsIHF1YWxpdHkgdGVzdCBpcyBpbiBwcm9ncmVzcy4gUGxlYXNlIHRyeSBcIi5jb25jYXQoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiVGhpcyBkYWlseS1qcyBtZXRob2RcIixcIiBhZ2FpbiBvbmNlIHRlc3RpbmcgaGFzIGNvbXBsZXRlZC4gVXNlIHN0b3BUZXN0Q2FsbFF1YWxpdHkoKSB0byBlbmQgaXQgZWFybHkuXCIpO3Rocm93IGNvbnNvbGUuZXJyb3IodCksbmV3IEVycm9yKHQpfX1mdW5jdGlvbiBkYyhlKXtpZighZSl7dmFyIHQ9XCJcIi5jb25jYXQoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiVGhpcyBkYWlseS1qcyBtZXRob2RcIixcIiBpcyBvbmx5IHN1cHBvcnRlZCBvbiBjdXN0b20gY2FsbE9iamVjdCBpbnN0YW5jZXNcIik7dGhyb3cgY29uc29sZS5lcnJvcih0KSxuZXcgRXJyb3IodCl9fWZ1bmN0aW9uIHBjKGUpe2lmKGUpe3ZhciB0PVwiXCIuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIlRoaXMgZGFpbHktanMgbWV0aG9kXCIsXCIgaXMgb25seSBzdXBwb3J0ZWQgYXMgcGFydCBvZiBEYWlseSdzIFByZWJ1aWx0XCIpO3Rocm93IGNvbnNvbGUuZXJyb3IodCksbmV3IEVycm9yKHQpfX1mdW5jdGlvbiBoYygpe2lmKHlzKCkpdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBkYWlseS1qcyBtZXRob2QgaXMgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXCIpfWZ1bmN0aW9uIGZjKCl7aWYoIXlzKCkpdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBkYWlseS1qcyBtZXRob2QgaXMgb25seSBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXCIpfWZ1bmN0aW9uIHZjKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuITA7dmFyIHQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpdD1lO2Vsc2UgdHJ5e3Q9SlNPTi5zdHJpbmdpZnkoZSksTihKU09OLnBhcnNlKHQpLGUpfHxjb25zb2xlLndhcm4oXCJUaGUgdXNlckRhdGEgcHJvdmlkZWQgd2lsbCBiZSBtb2RpZmllZCB3aGVuIHNlcmlhbGl6ZWQuXCIpfWNhdGNoKGUpe3Rocm93IEVycm9yKFwidXNlckRhdGEgbXVzdCBiZSBzZXJpYWxpemFibGUgdG8gSlNPTjogXCIuY29uY2F0KGUpKX1pZih0Lmxlbmd0aD40MDk2KXRocm93IEVycm9yKFwidXNlckRhdGEgaXMgdG9vIGxhcmdlIChcIi5jb25jYXQodC5sZW5ndGgsXCIgY2hhcmFjdGVycykuIE1heGltdW0gc2l6ZSBzdXBwcG9ydGVkIGlzIFwiKS5jb25jYXQoNDA5NixcIi5cIikpO3JldHVybiEwfWZ1bmN0aW9uIGdjKGUsdCl7Zm9yKHZhciBuPXQuYWxsb3dBbGxQYXJ0aWNpcGFudHNLZXkscj1mdW5jdGlvbihlKXt2YXIgdD1bXCJsb2NhbFwiXTtyZXR1cm4gbnx8dC5wdXNoKFwiKlwiKSxlJiYhdC5pbmNsdWRlcyhlKX0saT1mdW5jdGlvbihlKXtyZXR1cm4hISh2b2lkIDA9PT1lLmxheWVyfHxOdW1iZXIuaXNJbnRlZ2VyKGUubGF5ZXIpJiZlLmxheWVyPj0wfHxcImluaGVyaXRcIj09PWUubGF5ZXIpfSxvPWZ1bmN0aW9uKGUpe3JldHVybiEhZSYmKCEoZS52aWRlbyYmIWkoZS52aWRlbykpJiYhKGUuc2NyZWVuVmlkZW8mJiFpKGUuc2NyZWVuVmlkZW8pKSl9LHM9MCxhPU9iamVjdC5lbnRyaWVzKGUpO3M8YS5sZW5ndGg7cysrKXt2YXIgYz1mKGFbc10sMiksbD1jWzBdLHU9Y1sxXTtpZighcihsKXx8IW8odSkpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gbWMoZSl7aWYoXCJvYmplY3RcIiE9PW4oZSkpcmV0dXJuITE7Zm9yKHZhciB0PTAscj1PYmplY3QuZW50cmllcyhlKTt0PHIubGVuZ3RoO3QrKyl7dmFyIGk9ZihyW3RdLDIpLG89aVswXSxzPWlbMV07c3dpdGNoKG8pe2Nhc2VcInZpZGVvXCI6aWYoXCJvYmplY3RcIiE9PW4ocykpcmV0dXJuITE7Zm9yKHZhciBhPTAsYz1PYmplY3QuZW50cmllcyhzKTthPGMubGVuZ3RoO2ErKyl7dmFyIGw9ZihjW2FdLDIpLHU9bFswXSxkPWxbMV07c3dpdGNoKHUpe2Nhc2VcInByb2Nlc3NvclwiOmlmKCFfYyhkKSlyZXR1cm4hMTticmVhaztjYXNlXCJzZXR0aW5nc1wiOmlmKCF3YyhkKSlyZXR1cm4hMTticmVhaztkZWZhdWx0OnJldHVybiExfX1icmVhaztjYXNlXCJhdWRpb1wiOmlmKFwib2JqZWN0XCIhPT1uKHMpKXJldHVybiExO2Zvcih2YXIgcD0wLGg9T2JqZWN0LmVudHJpZXMocyk7cDxoLmxlbmd0aDtwKyspe3ZhciB2PWYoaFtwXSwyKSxnPXZbMF0sbT12WzFdO3N3aXRjaChnKXtjYXNlXCJwcm9jZXNzb3JcIjppZighYmMobSkpcmV0dXJuITE7YnJlYWs7Y2FzZVwic2V0dGluZ3NcIjppZighd2MobSkpcmV0dXJuITE7YnJlYWs7ZGVmYXVsdDpyZXR1cm4hMX19YnJlYWs7ZGVmYXVsdDpyZXR1cm4hMX19cmV0dXJuITB9ZnVuY3Rpb24geWMoZSx0LG4pe3ZhciByLGk9W107ZS52aWRlbyYmZS52aWRlby5wcm9jZXNzb3ImJihrcyhudWxsIT09KHI9bnVsbD09dD92b2lkIDA6dC51c2VMZWdhY3lWaWRlb1Byb2Nlc3NvcikmJnZvaWQgMCE9PXImJnIpfHwoZS52aWRlby5zZXR0aW5ncz9kZWxldGUgZS52aWRlby5wcm9jZXNzb3I6ZGVsZXRlIGUudmlkZW8saS5wdXNoKFwidmlkZW9cIikpKTtlLmF1ZGlvJiZlLmF1ZGlvLnByb2Nlc3NvciYmKE1zKCl8fChlLmF1ZGlvLnNldHRpbmdzP2RlbGV0ZSBlLmF1ZGlvLnByb2Nlc3NvcjpkZWxldGUgZS5hdWRpbyxpLnB1c2goXCJhdWRpb1wiKSkpLGkubGVuZ3RoPjAmJmNvbnNvbGUuZXJyb3IoXCJJZ25vcmluZyBzZXR0aW5ncyBmb3IgYnJvd3Nlci0gb3IgcGxhdGZvcm0tdW5zdXBwb3J0ZWQgaW5wdXQgcHJvY2Vzc29yKHMpOiBcIi5jb25jYXQoaS5qb2luKFwiLCBcIikpKSxlLmF1ZGlvJiZlLmF1ZGlvLnNldHRpbmdzJiYoZS5hdWRpby5zZXR0aW5ncy5jdXN0b21UcmFjaz8obi5hdWRpb1RyYWNrPWUuYXVkaW8uc2V0dGluZ3MuY3VzdG9tVHJhY2ssZS5hdWRpby5zZXR0aW5ncz17Y3VzdG9tVHJhY2s6bHN9KTpkZWxldGUgbi5hdWRpb1RyYWNrKSxlLnZpZGVvJiZlLnZpZGVvLnNldHRpbmdzJiYoZS52aWRlby5zZXR0aW5ncy5jdXN0b21UcmFjaz8obi52aWRlb1RyYWNrPWUudmlkZW8uc2V0dGluZ3MuY3VzdG9tVHJhY2ssZS52aWRlby5zZXR0aW5ncz17Y3VzdG9tVHJhY2s6bHN9KTpkZWxldGUgbi52aWRlb1RyYWNrKX1mdW5jdGlvbiBiYyhlKXtpZih5cygpKXJldHVybiBjb25zb2xlLndhcm4oXCJWaWRlbyBwcm9jZXNzaW5nIGlzIG5vdCB5ZXQgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZVwiKSwhMTt2YXIgdD1bXCJ0eXBlXCJdO3JldHVybiEhZSYmKFwib2JqZWN0XCI9PT1uKGUpJiYoT2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hdC5pbmNsdWRlcyhlKX0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oXCJpbnZhbGlkIGtleSBpbnB1dFNldHRpbmdzIC0+IGF1ZGlvIC0+IHByb2Nlc3NvciA6IFwiLmNvbmNhdCh0KSksZGVsZXRlIGVbdF19KSksISFmdW5jdGlvbihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4hMTtpZighT2JqZWN0LnZhbHVlcyhkcykuaW5jbHVkZXMoZSkpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJpbnB1dFNldHRpbmdzIGF1ZGlvIHByb2Nlc3NvciB0eXBlIGludmFsaWRcIiksITE7cmV0dXJuITB9KGUudHlwZSkpKX1mdW5jdGlvbiBfYyhlKXtpZih5cygpKXJldHVybiBjb25zb2xlLndhcm4oXCJWaWRlbyBwcm9jZXNzaW5nIGlzIG5vdCB5ZXQgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZVwiKSwhMTt2YXIgdD1bXCJ0eXBlXCIsXCJjb25maWdcIl07aWYoIWUpcmV0dXJuITE7aWYoXCJvYmplY3RcIiE9PW4oZSkpcmV0dXJuITE7aWYoIWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiExO2lmKCFPYmplY3QudmFsdWVzKHVzKS5pbmNsdWRlcyhlKSlyZXR1cm4gY29uc29sZS5lcnJvcihcImlucHV0U2V0dGluZ3MgdmlkZW8gcHJvY2Vzc29yIHR5cGUgaW52YWxpZFwiKSwhMTtyZXR1cm4hMH0oZS50eXBlKSlyZXR1cm4hMTtpZihlLmNvbmZpZyl7aWYoXCJvYmplY3RcIiE9PW4oZS5jb25maWcpKXJldHVybiExO2lmKCFmdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKDA9PT1uLmxlbmd0aClyZXR1cm4hMDt2YXIgcj1cImludmFsaWQgb2JqZWN0IGluIGlucHV0U2V0dGluZ3MgLT4gdmlkZW8gLT4gcHJvY2Vzc29yIC0+IGNvbmZpZ1wiO3N3aXRjaChlKXtjYXNlIHVzLkJHQkxVUjpyZXR1cm4gbi5sZW5ndGg+MXx8XCJzdHJlbmd0aFwiIT09blswXT8oY29uc29sZS5lcnJvcihyKSwhMSk6IShcIm51bWJlclwiIT10eXBlb2YgdC5zdHJlbmd0aHx8dC5zdHJlbmd0aDw9MHx8dC5zdHJlbmd0aD4xfHxpc05hTih0LnN0cmVuZ3RoKSl8fChjb25zb2xlLmVycm9yKFwiXCIuY29uY2F0KHIsXCI7IGV4cGVjdGVkOiB7MCA8IHN0cmVuZ3RoIDw9IDF9LCBnb3Q6IFwiKS5jb25jYXQodC5zdHJlbmd0aCkpLCExKTtjYXNlIHVzLkJHSU1BR0U6cmV0dXJuISh2b2lkIDAhPT10LnNvdXJjZSYmIWZ1bmN0aW9uKGUpe2lmKFwiZGVmYXVsdFwiPT09ZS5zb3VyY2UpcmV0dXJuIGUudHlwZT1cImRlZmF1bHRcIiwhMDtpZihlLnNvdXJjZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiEwO2lmKGVlKGUuc291cmNlKSlyZXR1cm4gZS50eXBlPVwidXJsXCIsISFmdW5jdGlvbihlKXt2YXIgdD1uZXcgVVJMKGUpLG49dC5wYXRobmFtZTtpZihcImRhdGE6XCI9PT10LnByb3RvY29sKXRyeXt2YXIgcj1uLnN1YnN0cmluZyhuLmluZGV4T2YoXCI6XCIpKzEsbi5pbmRleE9mKFwiO1wiKSkuc3BsaXQoXCIvXCIpWzFdO3JldHVybiBocy5pbmNsdWRlcyhyKX1jYXRjaChlKXtyZXR1cm4gY29uc29sZS5lcnJvcihcImZhaWxlZCB0byBkZWR1Y2UgYmxvYiBjb250ZW50IHR5cGVcIixlKSwhMX12YXIgaT1uLnNwbGl0KFwiLlwiKS5hdCgtMSkudG9Mb3dlckNhc2UoKS50cmltKCk7cmV0dXJuIGhzLmluY2x1ZGVzKGkpfShlLnNvdXJjZSl8fChjb25zb2xlLmVycm9yKFwiaW52YWxpZCBpbWFnZSB0eXBlOyBzdXBwb3J0ZWQgdHlwZXM6IFtcIi5jb25jYXQoaHMuam9pbihcIiwgXCIpLFwiXVwiKSksITEpO3JldHVybiB0PWUuc291cmNlLG49TnVtYmVyKHQpLGlzTmFOKG4pfHwhTnVtYmVyLmlzSW50ZWdlcihuKXx8bjw9MHx8bj4xMD8oY29uc29sZS5lcnJvcihcImludmFsaWQgaW1hZ2Ugc2VsZWN0aW9uOyBtdXN0IGJlIGFuIGludCwgPiAwLCA8PSBcIi5jb25jYXQoMTApKSwhMSk6KGUudHlwZT1cImRhaWx5LXByZXNlbGVjdFwiLCEwKTt2YXIgdCxufSh0KSk7ZGVmYXVsdDpyZXR1cm4hMH19KGUudHlwZSxlLmNvbmZpZykpcmV0dXJuITF9cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIXQuaW5jbHVkZXMoZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKFwiaW52YWxpZCBrZXkgaW5wdXRTZXR0aW5ncyAtPiB2aWRlbyAtPiBwcm9jZXNzb3IgOiBcIi5jb25jYXQodCkpLGRlbGV0ZSBlW3RdfSkpLCEwfWZ1bmN0aW9uIHdjKGUpe3JldHVyblwib2JqZWN0XCI9PT1uKGUpJiYoIWUuY3VzdG9tVHJhY2t8fGUuY3VzdG9tVHJhY2sgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbVRyYWNrKX1mdW5jdGlvbiBTYygpe3ZhciBlPU9iamVjdC52YWx1ZXModXMpLmpvaW4oXCIgfCBcIiksdD1PYmplY3QudmFsdWVzKGRzKS5qb2luKFwiIHwgXCIpO3JldHVyblwiaW5wdXRTZXR0aW5ncyBtdXN0IGJlIG9mIHRoZSBmb3JtOiB7IHZpZGVvPzogeyBwcm9jZXNzb3I/OiB7IHR5cGU6IFsgXCIuY29uY2F0KGUsXCIgXSwgY29uZmlnPzoge30gfSB9LCBhdWRpbz86IHsgcHJvY2Vzc29yOiB7dHlwZTogWyBcIikuY29uY2F0KHQsXCIgXSB9IH0gfVwiKX1mdW5jdGlvbiBrYyhlKXt2YXIgdD1lLmFsbG93QWxsUGFydGljaXBhbnRzS2V5O3JldHVyblwicmVjZWl2ZVNldHRpbmdzIG11c3QgYmUgb2YgdGhlIGZvcm0geyBbPHJlbW90ZSBwYXJ0aWNpcGFudCBpZD4gfCBcIi5jb25jYXQoSWkpLmNvbmNhdCh0PycgfCBcIicuY29uY2F0KFwiKlwiLCdcIicpOlwiXCIsXCJdOiBcIikrJ3sgW3ZpZGVvOiBbeyBsYXllcjogWzxub24tbmVnYXRpdmUgaW50ZWdlcj4gfCBcImluaGVyaXRcIl0gfSB8IFwiaW5oZXJpdFwiXV0sIFtzY3JlZW5WaWRlbzogW3sgbGF5ZXI6IFs8bm9uLW5lZ2F0aXZlIGludGVnZXI+IHwgXCJpbmhlcml0XCJdIH0gfCBcImluaGVyaXRcIl1dIH19fSd9ZnVuY3Rpb24gTWMoKXtyZXR1cm5cImN1c3RvbUludGVncmF0aW9ucyBzaG91bGQgYmUgYW4gb2JqZWN0IG9mIHR5cGUgXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHRjKSxcIi5cIil9ZnVuY3Rpb24gQ2MoZSl7aWYoZSYmXCJvYmplY3RcIiE9PW4oZSl8fEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJjdXN0b21UcmF5QnV0dG9ucyBzaG91bGQgYmUgYW4gT2JqZWN0IG9mIHRoZSB0eXBlIFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShlYyksXCIuXCIpKSwhMTtpZihlKWZvcih2YXIgdD0wLHI9T2JqZWN0LmVudHJpZXMoZSk7dDxyLmxlbmd0aDt0KyspZm9yKHZhciBpPWYoclt0XSwxKVswXSxvPTAscz1PYmplY3QuZW50cmllcyhlW2ldKTtvPHMubGVuZ3RoO28rKyl7dmFyIGE9ZihzW29dLDIpLGM9YVswXSxsPWFbMV0sdT1lYy5pZFtjXTtpZighdSlyZXR1cm4gY29uc29sZS5lcnJvcihcImN1c3RvbVRyYXlCdXR0b24gZG9lcyBub3Qgc3VwcG9ydCBrZXkgXCIuY29uY2F0KGMpKSwhMTtzd2l0Y2goYyl7Y2FzZVwiaWNvblBhdGhcIjpjYXNlXCJpY29uUGF0aERhcmtNb2RlXCI6aWYoIWVlKGwpKXJldHVybiBjb25zb2xlLmVycm9yKFwiY3VzdG9tVHJheUJ1dHRvbiBcIi5jb25jYXQoYyxcIiBzaG91bGQgYmUgYSB1cmwuXCIpKSwhMTticmVhaztjYXNlXCJ2aXN1YWxTdGF0ZVwiOmlmKCFbXCJkZWZhdWx0XCIsXCJzaWRlYmFyLW9wZW5cIixcImFjdGl2ZVwiXS5pbmNsdWRlcyhsKSlyZXR1cm4gY29uc29sZS5lcnJvcihcImN1c3RvbVRyYXlCdXR0b24gXCIuY29uY2F0KGMsXCIgc2hvdWxkIGJlIFwiKS5jb25jYXQodSxcIi4gR290OiBcIikuY29uY2F0KGwpKSwhMTticmVhaztkZWZhdWx0OmlmKG4obCkhPT11KXJldHVybiBjb25zb2xlLmVycm9yKFwiY3VzdG9tVHJheUJ1dHRvbiBcIi5jb25jYXQoYyxcIiBzaG91bGQgYmUgYSBcIikuY29uY2F0KHUsXCIuXCIpKSwhMX19cmV0dXJuITB9ZnVuY3Rpb24gRWMoZSl7aWYoIWV8fGUmJlwib2JqZWN0XCIhPT1uKGUpfHxBcnJheS5pc0FycmF5KGUpKXJldHVybiBjb25zb2xlLmVycm9yKE1jKCkpLCExO2Zvcih2YXIgdD1mdW5jdGlvbihlKXtyZXR1cm5cIlwiLmNvbmNhdChlLFwiIHNob3VsZCBiZSBcIikuY29uY2F0KHRjLmlkW2VdKX0scj1mdW5jdGlvbihlLHQpe3JldHVybiBjb25zb2xlLmVycm9yKFwiY3VzdG9tSW50ZWdyYXRpb24gXCIuY29uY2F0KGUsXCI6IFwiKS5jb25jYXQodCkpfSxpPTAsbz1PYmplY3QuZW50cmllcyhlKTtpPG8ubGVuZ3RoO2krKyl7dmFyIHM9ZihvW2ldLDEpWzBdO2lmKCEoXCJsYWJlbFwiaW4gZVtzXSkpcmV0dXJuIHIocyxcImxhYmVsIGlzIHJlcXVpcmVkXCIpLCExO2lmKCEoXCJsb2NhdGlvblwiaW4gZVtzXSkpcmV0dXJuIHIocyxcImxvY2F0aW9uIGlzIHJlcXVpcmVkXCIpLCExO2lmKCEoXCJzcmNcImluIGVbc10pJiYhKFwic3JjZG9jXCJpbiBlW3NdKSlyZXR1cm4gcihzLFwic3JjIG9yIHNyY2RvYyBpcyByZXF1aXJlZFwiKSwhMTtmb3IodmFyIGE9MCxjPU9iamVjdC5lbnRyaWVzKGVbc10pO2E8Yy5sZW5ndGg7YSsrKXt2YXIgbD1mKGNbYV0sMiksdT1sWzBdLGQ9bFsxXTtzd2l0Y2godSl7Y2FzZVwiYWxsb3dcIjpjYXNlXCJjc3BcIjpjYXNlXCJuYW1lXCI6Y2FzZVwicmVmZXJyZXJQb2xpY3lcIjpjYXNlXCJzYW5kYm94XCI6aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGQpcmV0dXJuIHIocyx0KHUpKSwhMTticmVhaztjYXNlXCJpY29uVVJMXCI6aWYoIWVlKGQpKXJldHVybiByKHMsXCJcIi5jb25jYXQodSxcIiBzaG91bGQgYmUgYSB1cmxcIikpLCExO2JyZWFrO2Nhc2VcInNyY1wiOmlmKFwic3JjZG9jXCJpbiBlW3NdKXJldHVybiByKHMsXCJjYW5ub3QgaGF2ZSBib3RoIHNyYyBhbmQgc3JjZG9jXCIpLCExO2lmKCFlZShkKSlyZXR1cm4gcihzLCdzcmMgXCInLmNvbmNhdChkLCdcIiBpcyBub3QgYSB2YWxpZCBVUkwnKSksITE7YnJlYWs7Y2FzZVwic3JjZG9jXCI6aWYoXCJzcmNcImluIGVbc10pcmV0dXJuIHIocyxcImNhbm5vdCBoYXZlIGJvdGggc3JjIGFuZCBzcmNkb2NcIiksITE7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGQpcmV0dXJuIHIocyx0KHUpKSwhMTticmVhaztjYXNlXCJsb2NhdGlvblwiOmlmKCFbXCJtYWluXCIsXCJzaWRlYmFyXCJdLmluY2x1ZGVzKGQpKXJldHVybiByKHMsdCh1KSksITE7YnJlYWs7Y2FzZVwiY29udHJvbGxlZEJ5XCI6aWYoXCIqXCIhPT1kJiZcIm93bmVyc1wiIT09ZCYmKCFBcnJheS5pc0FycmF5KGQpfHxkLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlfSkpKSlyZXR1cm4gcihzLHQodSkpLCExO2JyZWFrO2Nhc2VcInNoYXJlZFwiOmlmKCghQXJyYXkuaXNBcnJheShkKXx8ZC5zb21lKChmdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgZX0pKSkmJlwib3duZXJzXCIhPT1kJiZcImJvb2xlYW5cIiE9dHlwZW9mIGQpcmV0dXJuIHIocyx0KHUpKSwhMTticmVhaztkZWZhdWx0OmlmKCF0Yy5pZFt1XSlyZXR1cm4gY29uc29sZS5lcnJvcihcImN1c3RvbUludGVncmF0aW9uIGRvZXMgbm90IHN1cHBvcnQga2V5IFwiLmNvbmNhdCh1KSksITF9fX1yZXR1cm4hMH1mdW5jdGlvbiBUYyhlLHQpe2lmKHZvaWQgMD09PXQpcmV0dXJuITE7c3dpdGNoKG4odCkpe2Nhc2VcInN0cmluZ1wiOnJldHVybiBuKGUpPT09dDtjYXNlXCJvYmplY3RcIjppZihcIm9iamVjdFwiIT09bihlKSlyZXR1cm4hMTtmb3IodmFyIHIgaW4gZSlpZighVGMoZVtyXSx0W3JdKSlyZXR1cm4hMTtyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBPYyhlLHQpe3ZhciBuPWUuc2Vzc2lvbklkLHI9ZS50b0VuZFBvaW50LGk9ZS5jYWxsZXJJZCxvPWUudXNlU2lwUmVmZXI7aWYoIW58fCFyKXRocm93IG5ldyBFcnJvcihcIlwiLmNvbmNhdCh0LFwiKCkgcmVxdWlyZXMgYSBzZXNzaW9uSWQgYW5kIHRvRW5kUG9pbnRcIikpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBufHxcInN0cmluZ1wiIT10eXBlb2Ygcil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhcmFtYXRlcjogc2Vzc2lvbklkIGFuZCB0b0VuZFBvaW50IG11c3QgYmUgb2YgdHlwZSBzdHJpbmdcIik7aWYobyYmIXIuc3RhcnRzV2l0aChcInNpcDpcIikpdGhyb3cgbmV3IEVycm9yKCdcInRvRW5kUG9pbnRcIiBtdXN0IGJlIGEgXCJzaXBcIiBhZGRyZXNzJyk7aWYoIXIuc3RhcnRzV2l0aChcInNpcDpcIikmJiFyLnN0YXJ0c1dpdGgoXCIrXCIpKXRocm93IG5ldyBFcnJvcihcInRvRW5kUG9pbnQ6IFwiLmNvbmNhdChyLCcgbXVzdCBzdGFydHMgd2l0aCBlaXRoZXIgXCJzaXA6XCIgb3IgXCIrXCInKSk7aWYoaSYmXCJzdHJpbmdcIiE9dHlwZW9mIGkpdGhyb3cgbmV3IEVycm9yKFwiY2FsbGVySWQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZ1wiKTtpZihpJiYhci5zdGFydHNXaXRoKFwiK1wiKSl0aHJvdyBuZXcgRXJyb3IoXCJjYWxsZXJJZCBpcyBvbmx5IHZhbGlkIHdoZW4gdHJhbnNmZXJyaW5nIHRvIGEgUFNUTiBudW1iZXJcIil9ZnVuY3Rpb24gUGMoZSl7aWYoXCJvYmplY3RcIiE9PW4oZSkpdGhyb3cgbmV3IEVycm9yKCdSZW1vdGVNZWRpYVBsYXllclNldHRpbmdzOiBtdXN0IGJlIFwib2JqZWN0XCIgdHlwZScpO2lmKGUuc3RhdGUmJiFPYmplY3QudmFsdWVzKHBzKS5pbmNsdWRlcyhlLnN0YXRlKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBSZW1vdGVNZWRpYVBsYXllclNldHRpbmdzLnN0YXRlLCB2YWxpZCB2YWx1ZXMgYXJlOiBcIitKU09OLnN0cmluZ2lmeShwcykpO2lmKGUudm9sdW1lKXtpZihcIm51bWJlclwiIT10eXBlb2YgZS52b2x1bWUpdGhyb3cgbmV3IEVycm9yKCdSZW1vdGVNZWRpYVBsYXllclNldHRpbmdzLnZvbHVtZTogbXVzdCBiZSBcIm51bWJlclwiIHR5cGUnKTtpZihlLnZvbHVtZTwwfHxlLnZvbHVtZT4yKXRocm93IG5ldyBFcnJvcihcIlJlbW90ZU1lZGlhUGxheWVyU2V0dGluZ3Mudm9sdW1lOiBtdXN0IGJlIGJldHdlZW4gMC4wIC0gMi4wXCIpfX1mdW5jdGlvbiBBYyhlLHQsbil7cmV0dXJuIShcIm51bWJlclwiIT10eXBlb2YgZXx8ZTx0fHxlPm4pfWZ1bmN0aW9uIGpjKGUsdCl7cmV0dXJuIGUmJiF0JiZkZWxldGUgZS5kYXRhLGV9ZXhwb3J0e1BpIGFzIERBSUxZX0FDQ0VTU19MRVZFTF9GVUxMLEFpIGFzIERBSUxZX0FDQ0VTU19MRVZFTF9MT0JCWSxqaSBhcyBEQUlMWV9BQ0NFU1NfTEVWRUxfTk9ORSxPaSBhcyBEQUlMWV9BQ0NFU1NfVU5LTk9XTixXaSBhcyBEQUlMWV9DQU1FUkFfRVJST1JfQ0FNX0FORF9NSUNfSU5fVVNFLHFpIGFzIERBSUxZX0NBTUVSQV9FUlJPUl9DQU1fSU5fVVNFLEtpIGFzIERBSUxZX0NBTUVSQV9FUlJPUl9DT05TVFJBSU5UUyx6aSBhcyBEQUlMWV9DQU1FUkFfRVJST1JfTUlDX0lOX1VTRSxRaSBhcyBEQUlMWV9DQU1FUkFfRVJST1JfTk9UX0ZPVU5ELEhpIGFzIERBSUxZX0NBTUVSQV9FUlJPUl9QRVJNSVNTSU9OUyxHaSBhcyBEQUlMWV9DQU1FUkFfRVJST1JfVU5ERUZfTUVESUFERVZJQ0VTLFlpIGFzIERBSUxZX0NBTUVSQV9FUlJPUl9VTktOT1dOLGZvIGFzIERBSUxZX0VWRU5UX0FDQ0VTU19TVEFURV9VUERBVEVELFVvIGFzIERBSUxZX0VWRU5UX0FDVElWRV9TUEVBS0VSX0NIQU5HRSxWbyBhcyBEQUlMWV9FVkVOVF9BQ1RJVkVfU1BFQUtFUl9NT0RFX0NIQU5HRSxJbyBhcyBEQUlMWV9FVkVOVF9BUFBfTVNHLG9vIGFzIERBSUxZX0VWRU5UX0NBTUVSQV9FUlJPUixxbyBhcyBEQUlMWV9FVkVOVF9DUFVfTE9BRF9DSEFOR0UsbnMgYXMgREFJTFlfRVZFTlRfRVJST1IsSG8gYXMgREFJTFlfRVZFTlRfRVhJVF9GVUxMU0NSRUVOLHpvIGFzIERBSUxZX0VWRU5UX0ZBQ0VfQ09VTlRTX1VQREFURUQsV28gYXMgREFJTFlfRVZFTlRfRlVMTFNDUkVFTixaaSBhcyBEQUlMWV9FVkVOVF9JRlJBTUVfTEFVTkNIX0NPTkZJRyxYaSBhcyBEQUlMWV9FVkVOVF9JRlJBTUVfUkVBRFlfRk9SX0xBVU5DSF9DT05GSUcsZXMgYXMgREFJTFlfRVZFTlRfSU5QVVRfU0VUVElOR1NfVVBEQVRFRCxhbyBhcyBEQUlMWV9FVkVOVF9KT0lORURfTUVFVElORyxzbyBhcyBEQUlMWV9FVkVOVF9KT0lOSU5HX01FRVRJTkcsWG8gYXMgREFJTFlfRVZFTlRfTEFOR19VUERBVEVELGNvIGFzIERBSUxZX0VWRU5UX0xFRlRfTUVFVElORyxZbyBhcyBEQUlMWV9FVkVOVF9MSVZFX1NUUkVBTUlOR19FUlJPUixHbyBhcyBEQUlMWV9FVkVOVF9MSVZFX1NUUkVBTUlOR19TVEFSVEVELEtvIGFzIERBSUxZX0VWRU5UX0xJVkVfU1RSRUFNSU5HX1NUT1BQRUQsUW8gYXMgREFJTFlfRVZFTlRfTElWRV9TVFJFQU1JTkdfVVBEQVRFRCxybyBhcyBEQUlMWV9FVkVOVF9MT0FERUQsdG8gYXMgREFJTFlfRVZFTlRfTE9BRElORyxubyBhcyBEQUlMWV9FVkVOVF9MT0FEX0FUVEVNUFRfRkFJTEVELEJvIGFzIERBSUxZX0VWRU5UX0xPQ0FMX1NDUkVFTl9TSEFSRV9DQU5DRUxFRCxSbyBhcyBEQUlMWV9FVkVOVF9MT0NBTF9TQ1JFRU5fU0hBUkVfU1RBUlRFRCxGbyBhcyBEQUlMWV9FVkVOVF9MT0NBTF9TQ1JFRU5fU0hBUkVfU1RPUFBFRCxtbyBhcyBEQUlMWV9FVkVOVF9NRUVUSU5HX1NFU1NJT05fREFUQV9FUlJPUixnbyBhcyBEQUlMWV9FVkVOVF9NRUVUSU5HX1NFU1NJT05fU1RBVEVfVVBEQVRFRCx2byBhcyBEQUlMWV9FVkVOVF9NRUVUSU5HX1NFU1NJT05fU1VNTUFSWV9VUERBVEVELCRvIGFzIERBSUxZX0VWRU5UX05FVFdPUktfQ09OTkVDVElPTixKbyBhcyBEQUlMWV9FVkVOVF9ORVRXT1JLX1FVQUxJVFlfQ0hBTkdFLHRzIGFzIERBSUxZX0VWRU5UX05PTkZBVEFMX0VSUk9SLGhvIGFzIERBSUxZX0VWRU5UX1BBUlRJQ0lQQU5UX0NPVU5UU19VUERBVEVELGxvIGFzIERBSUxZX0VWRU5UX1BBUlRJQ0lQQU5UX0pPSU5FRCxwbyBhcyBEQUlMWV9FVkVOVF9QQVJUSUNJUEFOVF9MRUZULHVvIGFzIERBSUxZX0VWRU5UX1BBUlRJQ0lQQU5UX1VQREFURUQsWm8gYXMgREFJTFlfRVZFTlRfUkVDRUlWRV9TRVRUSU5HU19VUERBVEVELGpvIGFzIERBSUxZX0VWRU5UX1JFQ09SRElOR19EQVRBLFBvIGFzIERBSUxZX0VWRU5UX1JFQ09SRElOR19FUlJPUixFbyBhcyBEQUlMWV9FVkVOVF9SRUNPUkRJTkdfU1RBUlRFRCxPbyBhcyBEQUlMWV9FVkVOVF9SRUNPUkRJTkdfU1RBVFMsVG8gYXMgREFJTFlfRVZFTlRfUkVDT1JESU5HX1NUT1BQRUQsQW8gYXMgREFJTFlfRVZFTlRfUkVDT1JESU5HX1VQTE9BRF9DT01QTEVURUQsTG8gYXMgREFJTFlfRVZFTlRfUkVNT1RFX01FRElBX1BMQVlFUl9TVEFSVEVELE5vIGFzIERBSUxZX0VWRU5UX1JFTU9URV9NRURJQV9QTEFZRVJfU1RPUFBFRCxEbyBhcyBEQUlMWV9FVkVOVF9SRU1PVEVfTUVESUFfUExBWUVSX1VQREFURUQsaW8gYXMgREFJTFlfRVZFTlRfU1RBUlRFRF9DQU1FUkEsZW8gYXMgREFJTFlfRVZFTlRfVEhFTUVfVVBEQVRFRCx3byBhcyBEQUlMWV9FVkVOVF9UUkFDS19TVEFSVEVELFNvIGFzIERBSUxZX0VWRU5UX1RSQUNLX1NUT1BQRUQsQ28gYXMgREFJTFlfRVZFTlRfVFJBTlNDUklQVElPTl9FUlJPUix4byBhcyBEQUlMWV9FVkVOVF9UUkFOU0NSSVBUSU9OX01TRyxrbyBhcyBEQUlMWV9FVkVOVF9UUkFOU0NSSVBUSU9OX1NUQVJURUQsTW8gYXMgREFJTFlfRVZFTlRfVFJBTlNDUklQVElPTl9TVE9QUEVELHlvIGFzIERBSUxZX0VWRU5UX1dBSVRJTkdfUEFSVElDSVBBTlRfQURERUQsX28gYXMgREFJTFlfRVZFTlRfV0FJVElOR19QQVJUSUNJUEFOVF9SRU1PVkVELGJvIGFzIERBSUxZX0VWRU5UX1dBSVRJTkdfUEFSVElDSVBBTlRfVVBEQVRFRCwkaSBhcyBEQUlMWV9GQVRBTF9FUlJPUl9DT05ORUNUSU9OLExpIGFzIERBSUxZX0ZBVEFMX0VSUk9SX0VKRUNURUQsVmkgYXMgREFJTFlfRkFUQUxfRVJST1JfRU9MLFJpIGFzIERBSUxZX0ZBVEFMX0VSUk9SX0VYUF9ST09NLEZpIGFzIERBSUxZX0ZBVEFMX0VSUk9SX0VYUF9UT0tFTixVaSBhcyBEQUlMWV9GQVRBTF9FUlJPUl9NRUVUSU5HX0ZVTEwsRGkgYXMgREFJTFlfRkFUQUxfRVJST1JfTkJGX1JPT00sTmkgYXMgREFJTFlfRkFUQUxfRVJST1JfTkJGX1RPS0VOLEppIGFzIERBSUxZX0ZBVEFMX0VSUk9SX05PVF9BTExPV0VELEJpIGFzIERBSUxZX0ZBVEFMX0VSUk9SX05PX1JPT00seGkgYXMgREFJTFlfUkVDRUlWRV9TRVRUSU5HU19BTExfUEFSVElDSVBBTlRTX0tFWSxJaSBhcyBEQUlMWV9SRUNFSVZFX1NFVFRJTkdTX0JBU0VfS0VZLHdpIGFzIERBSUxZX1NUQVRFX0VSUk9SLGJpIGFzIERBSUxZX1NUQVRFX0pPSU5FRCx5aSBhcyBEQUlMWV9TVEFURV9KT0lOSU5HLF9pIGFzIERBSUxZX1NUQVRFX0xFRlQsdmkgYXMgREFJTFlfU1RBVEVfTkVXLFNpIGFzIERBSUxZX1RSQUNLX1NUQVRFX0JMT0NLRUQsRWkgYXMgREFJTFlfVFJBQ0tfU1RBVEVfSU5URVJSVVBURUQsQ2kgYXMgREFJTFlfVFJBQ0tfU1RBVEVfTE9BRElORyxraSBhcyBEQUlMWV9UUkFDS19TVEFURV9PRkYsVGkgYXMgREFJTFlfVFJBQ0tfU1RBVEVfUExBWUFCTEUsTWkgYXMgREFJTFlfVFJBQ0tfU1RBVEVfU0VOREFCTEUsaWMgYXMgZGVmYXVsdH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@pipecat-ai/daily-transport/node_modules/@daily-co/daily-js/dist/daily-esm.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@pipecat-ai/small-webrtc-transport/dist/index.module.js":
/*!**********************************************************************************!*\
  !*** ../../node_modules/@pipecat-ai/small-webrtc-transport/dist/index.module.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SmallWebRTCTransport: () => (/* binding */ $b31644dc78dca54a$export$62043589d053a879)\n/* harmony export */ });\n/* harmony import */ var _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pipecat-ai/client-js */ \"(ssr)/../../node_modules/@pipecat-ai/client-js/dist/index.module.js\");\n/* harmony import */ var _daily_co_daily_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @daily-co/daily-js */ \"(ssr)/../../node_modules/@pipecat-ai/small-webrtc-transport/node_modules/@daily-co/daily-js/dist/daily-esm.js\");\n\n\n\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\nvar $b31644dc78dca54a$exports = {};\n\n$parcel$export($b31644dc78dca54a$exports, \"SmallWebRTCTransport\", () => $b31644dc78dca54a$export$62043589d053a879);\n\n/**\n * Raw wav audio file contents\n * @typedef {Object} WavPackerAudioType\n * @property {Blob} blob\n * @property {string} url\n * @property {number} channelCount\n * @property {number} sampleRate\n * @property {number} duration\n */ /**\n * Utility class for assembling PCM16 \"audio/wav\" data\n * @class\n */ class $6d4b7449a1e1544a$export$13afda237b1c9846 {\n    /**\n   * Converts Float32Array of amplitude data to ArrayBuffer in Int16Array format\n   * @param {Float32Array} float32Array\n   * @returns {ArrayBuffer}\n   */ static floatTo16BitPCM(float32Array) {\n        const buffer = new ArrayBuffer(float32Array.length * 2);\n        const view = new DataView(buffer);\n        let offset = 0;\n        for(let i = 0; i < float32Array.length; i++, offset += 2){\n            let s = Math.max(-1, Math.min(1, float32Array[i]));\n            view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);\n        }\n        return buffer;\n    }\n    /**\n   * Concatenates two ArrayBuffers\n   * @param {ArrayBuffer} leftBuffer\n   * @param {ArrayBuffer} rightBuffer\n   * @returns {ArrayBuffer}\n   */ static mergeBuffers(leftBuffer, rightBuffer) {\n        const tmpArray = new Uint8Array(leftBuffer.byteLength + rightBuffer.byteLength);\n        tmpArray.set(new Uint8Array(leftBuffer), 0);\n        tmpArray.set(new Uint8Array(rightBuffer), leftBuffer.byteLength);\n        return tmpArray.buffer;\n    }\n    /**\n   * Packs data into an Int16 format\n   * @private\n   * @param {number} size 0 = 1x Int16, 1 = 2x Int16\n   * @param {number} arg value to pack\n   * @returns\n   */ _packData(size, arg) {\n        return [\n            new Uint8Array([\n                arg,\n                arg >> 8\n            ]),\n            new Uint8Array([\n                arg,\n                arg >> 8,\n                arg >> 16,\n                arg >> 24\n            ])\n        ][size];\n    }\n    /**\n   * Packs audio into \"audio/wav\" Blob\n   * @param {number} sampleRate\n   * @param {{bitsPerSample: number, channels: Array<Float32Array>, data: Int16Array}} audio\n   * @returns {WavPackerAudioType}\n   */ pack(sampleRate, audio) {\n        if (!audio?.bitsPerSample) throw new Error(`Missing \"bitsPerSample\"`);\n        else if (!audio?.channels) throw new Error(`Missing \"channels\"`);\n        else if (!audio?.data) throw new Error(`Missing \"data\"`);\n        const { bitsPerSample: bitsPerSample, channels: channels, data: data } = audio;\n        const output = [\n            // Header\n            'RIFF',\n            this._packData(1, 52),\n            'WAVE',\n            // chunk 1\n            'fmt ',\n            this._packData(1, 16),\n            this._packData(0, 1),\n            this._packData(0, channels.length),\n            this._packData(1, sampleRate),\n            this._packData(1, sampleRate * channels.length * bitsPerSample / 8),\n            this._packData(0, channels.length * bitsPerSample / 8),\n            this._packData(0, bitsPerSample),\n            // chunk 2\n            'data',\n            this._packData(1, channels[0].length * channels.length * bitsPerSample / 8),\n            data\n        ];\n        const blob = new Blob(output, {\n            type: 'audio/mpeg'\n        });\n        const url = URL.createObjectURL(blob);\n        return {\n            blob: blob,\n            url: url,\n            channelCount: channels.length,\n            sampleRate: sampleRate,\n            duration: data.byteLength / (channels.length * sampleRate * 2)\n        };\n    }\n}\nglobalThis.WavPacker = $6d4b7449a1e1544a$export$13afda237b1c9846;\n\n\n/**\n * Constants for help with visualization\n * Helps map frequency ranges from Fast Fourier Transform\n * to human-interpretable ranges, notably music ranges and\n * human vocal ranges.\n */ // Eighth octave frequencies\nconst $03f71ce85e00ada6$var$octave8Frequencies = [\n    4186.01,\n    4434.92,\n    4698.63,\n    4978.03,\n    5274.04,\n    5587.65,\n    5919.91,\n    6271.93,\n    6644.88,\n    7040.0,\n    7458.62,\n    7902.13\n];\n// Labels for each of the above frequencies\nconst $03f71ce85e00ada6$var$octave8FrequencyLabels = [\n    'C',\n    'C#',\n    'D',\n    'D#',\n    'E',\n    'F',\n    'F#',\n    'G',\n    'G#',\n    'A',\n    'A#',\n    'B'\n];\nconst $03f71ce85e00ada6$export$776c63898ae5b636 = [];\nconst $03f71ce85e00ada6$export$facd167cc27ea9b0 = [];\nfor(let i = 1; i <= 8; i++)for(let f = 0; f < $03f71ce85e00ada6$var$octave8Frequencies.length; f++){\n    const freq = $03f71ce85e00ada6$var$octave8Frequencies[f];\n    $03f71ce85e00ada6$export$776c63898ae5b636.push(freq / Math.pow(2, 8 - i));\n    $03f71ce85e00ada6$export$facd167cc27ea9b0.push($03f71ce85e00ada6$var$octave8FrequencyLabels[f] + i);\n}\n/**\n * Subset of the note frequencies between 32 and 2000 Hz\n * 6 octave range: C1 to B6\n */ const $03f71ce85e00ada6$var$voiceFrequencyRange = [\n    32.0,\n    2000.0\n];\nconst $03f71ce85e00ada6$export$dbc1581ed2cfa183 = $03f71ce85e00ada6$export$776c63898ae5b636.filter((_, i)=>{\n    return $03f71ce85e00ada6$export$776c63898ae5b636[i] > $03f71ce85e00ada6$var$voiceFrequencyRange[0] && $03f71ce85e00ada6$export$776c63898ae5b636[i] < $03f71ce85e00ada6$var$voiceFrequencyRange[1];\n});\nconst $03f71ce85e00ada6$export$30a6f2881311088f = $03f71ce85e00ada6$export$facd167cc27ea9b0.filter((_, i)=>{\n    return $03f71ce85e00ada6$export$776c63898ae5b636[i] > $03f71ce85e00ada6$var$voiceFrequencyRange[0] && $03f71ce85e00ada6$export$776c63898ae5b636[i] < $03f71ce85e00ada6$var$voiceFrequencyRange[1];\n});\n\n\nclass $f32f064564ee62f6$export$2c3136da0bf130f9 {\n    /**\n   * Retrieves frequency domain data from an AnalyserNode adjusted to a decibel range\n   * returns human-readable formatting and labels\n   * @param {AnalyserNode} analyser\n   * @param {number} sampleRate\n   * @param {Float32Array} [fftResult]\n   * @param {\"frequency\"|\"music\"|\"voice\"} [analysisType]\n   * @param {number} [minDecibels] default -100\n   * @param {number} [maxDecibels] default -30\n   * @returns {AudioAnalysisOutputType}\n   */ static getFrequencies(analyser, sampleRate, fftResult, analysisType = 'frequency', minDecibels = -100, maxDecibels = -30) {\n        if (!fftResult) {\n            fftResult = new Float32Array(analyser.frequencyBinCount);\n            analyser.getFloatFrequencyData(fftResult);\n        }\n        const nyquistFrequency = sampleRate / 2;\n        const frequencyStep = 1 / fftResult.length * nyquistFrequency;\n        let outputValues;\n        let frequencies;\n        let labels;\n        if (analysisType === 'music' || analysisType === 'voice') {\n            const useFrequencies = analysisType === 'voice' ? (0, $03f71ce85e00ada6$export$dbc1581ed2cfa183) : (0, $03f71ce85e00ada6$export$776c63898ae5b636);\n            const aggregateOutput = Array(useFrequencies.length).fill(minDecibels);\n            for(let i = 0; i < fftResult.length; i++){\n                const frequency = i * frequencyStep;\n                const amplitude = fftResult[i];\n                for(let n = useFrequencies.length - 1; n >= 0; n--)if (frequency > useFrequencies[n]) {\n                    aggregateOutput[n] = Math.max(aggregateOutput[n], amplitude);\n                    break;\n                }\n            }\n            outputValues = aggregateOutput;\n            frequencies = analysisType === 'voice' ? (0, $03f71ce85e00ada6$export$dbc1581ed2cfa183) : (0, $03f71ce85e00ada6$export$776c63898ae5b636);\n            labels = analysisType === 'voice' ? (0, $03f71ce85e00ada6$export$30a6f2881311088f) : (0, $03f71ce85e00ada6$export$facd167cc27ea9b0);\n        } else {\n            outputValues = Array.from(fftResult);\n            frequencies = outputValues.map((_, i)=>frequencyStep * i);\n            labels = frequencies.map((f)=>`${f.toFixed(2)} Hz`);\n        }\n        // We normalize to {0, 1}\n        const normalizedOutput = outputValues.map((v)=>{\n            return Math.max(0, Math.min((v - minDecibels) / (maxDecibels - minDecibels), 1));\n        });\n        const values = new Float32Array(normalizedOutput);\n        return {\n            values: values,\n            frequencies: frequencies,\n            labels: labels\n        };\n    }\n    /**\n   * Creates a new AudioAnalysis instance for an HTMLAudioElement\n   * @param {HTMLAudioElement} audioElement\n   * @param {AudioBuffer|null} [audioBuffer] If provided, will cache all frequency domain data from the buffer\n   * @returns {AudioAnalysis}\n   */ constructor(audioElement, audioBuffer = null){\n        this.fftResults = [];\n        if (audioBuffer) {\n            /**\n       * Modified from\n       * https://stackoverflow.com/questions/75063715/using-the-web-audio-api-to-analyze-a-song-without-playing\n       *\n       * We do this to populate FFT values for the audio if provided an `audioBuffer`\n       * The reason to do this is that Safari fails when using `createMediaElementSource`\n       * This has a non-zero RAM cost so we only opt-in to run it on Safari, Chrome is better\n       */ const { length: length, sampleRate: sampleRate } = audioBuffer;\n            const offlineAudioContext = new OfflineAudioContext({\n                length: length,\n                sampleRate: sampleRate\n            });\n            const source = offlineAudioContext.createBufferSource();\n            source.buffer = audioBuffer;\n            const analyser = offlineAudioContext.createAnalyser();\n            analyser.fftSize = 8192;\n            analyser.smoothingTimeConstant = 0.1;\n            source.connect(analyser);\n            // limit is :: 128 / sampleRate;\n            // but we just want 60fps - cuts ~1s from 6MB to 1MB of RAM\n            const renderQuantumInSeconds = 1 / 60;\n            const durationInSeconds = length / sampleRate;\n            const analyze = (index)=>{\n                const suspendTime = renderQuantumInSeconds * index;\n                if (suspendTime < durationInSeconds) offlineAudioContext.suspend(suspendTime).then(()=>{\n                    const fftResult = new Float32Array(analyser.frequencyBinCount);\n                    analyser.getFloatFrequencyData(fftResult);\n                    this.fftResults.push(fftResult);\n                    analyze(index + 1);\n                });\n                if (index === 1) offlineAudioContext.startRendering();\n                else offlineAudioContext.resume();\n            };\n            source.start(0);\n            analyze(1);\n            this.audio = audioElement;\n            this.context = offlineAudioContext;\n            this.analyser = analyser;\n            this.sampleRate = sampleRate;\n            this.audioBuffer = audioBuffer;\n        } else {\n            const audioContext = new AudioContext();\n            const track = audioContext.createMediaElementSource(audioElement);\n            const analyser = audioContext.createAnalyser();\n            analyser.fftSize = 8192;\n            analyser.smoothingTimeConstant = 0.1;\n            track.connect(analyser);\n            analyser.connect(audioContext.destination);\n            this.audio = audioElement;\n            this.context = audioContext;\n            this.analyser = analyser;\n            this.sampleRate = this.context.sampleRate;\n            this.audioBuffer = null;\n        }\n    }\n    /**\n   * Gets the current frequency domain data from the playing audio track\n   * @param {\"frequency\"|\"music\"|\"voice\"} [analysisType]\n   * @param {number} [minDecibels] default -100\n   * @param {number} [maxDecibels] default -30\n   * @returns {AudioAnalysisOutputType}\n   */ getFrequencies(analysisType = 'frequency', minDecibels = -100, maxDecibels = -30) {\n        let fftResult = null;\n        if (this.audioBuffer && this.fftResults.length) {\n            const pct = this.audio.currentTime / this.audio.duration;\n            const index = Math.min(pct * this.fftResults.length | 0, this.fftResults.length - 1);\n            fftResult = this.fftResults[index];\n        }\n        return $f32f064564ee62f6$export$2c3136da0bf130f9.getFrequencies(this.analyser, this.sampleRate, fftResult, analysisType, minDecibels, maxDecibels);\n    }\n    /**\n   * Resume the internal AudioContext if it was suspended due to the lack of\n   * user interaction when the AudioAnalysis was instantiated.\n   * @returns {Promise<true>}\n   */ async resumeIfSuspended() {\n        if (this.context.state === 'suspended') await this.context.resume();\n        return true;\n    }\n}\nglobalThis.AudioAnalysis = $f32f064564ee62f6$export$2c3136da0bf130f9;\n\n\nconst $29a8a70a9466b14f$export$50b76700e2b15e9 = `\nclass StreamProcessor extends AudioWorkletProcessor {\n  constructor() {\n    super();\n    this.hasStarted = false;\n    this.hasInterrupted = false;\n    this.outputBuffers = [];\n    this.bufferLength = 128;\n    this.write = { buffer: new Float32Array(this.bufferLength), trackId: null };\n    this.writeOffset = 0;\n    this.trackSampleOffsets = {};\n    this.port.onmessage = (event) => {\n      if (event.data) {\n        const payload = event.data;\n        if (payload.event === 'write') {\n          const int16Array = payload.buffer;\n          const float32Array = new Float32Array(int16Array.length);\n          for (let i = 0; i < int16Array.length; i++) {\n            float32Array[i] = int16Array[i] / 0x8000; // Convert Int16 to Float32\n          }\n          this.writeData(float32Array, payload.trackId);\n        } else if (\n          payload.event === 'offset' ||\n          payload.event === 'interrupt'\n        ) {\n          const requestId = payload.requestId;\n          const trackId = this.write.trackId;\n          const offset = this.trackSampleOffsets[trackId] || 0;\n          this.port.postMessage({\n            event: 'offset',\n            requestId,\n            trackId,\n            offset,\n          });\n          if (payload.event === 'interrupt') {\n            this.hasInterrupted = true;\n          }\n        } else {\n          throw new Error(\\`Unhandled event \"\\${payload.event}\"\\`);\n        }\n      }\n    };\n  }\n\n  writeData(float32Array, trackId = null) {\n    let { buffer } = this.write;\n    let offset = this.writeOffset;\n    for (let i = 0; i < float32Array.length; i++) {\n      buffer[offset++] = float32Array[i];\n      if (offset >= buffer.length) {\n        this.outputBuffers.push(this.write);\n        this.write = { buffer: new Float32Array(this.bufferLength), trackId };\n        buffer = this.write.buffer;\n        offset = 0;\n      }\n    }\n    this.writeOffset = offset;\n    return true;\n  }\n\n  process(inputs, outputs, parameters) {\n    const output = outputs[0];\n    const outputChannelData = output[0];\n    const outputBuffers = this.outputBuffers;\n    if (this.hasInterrupted) {\n      this.port.postMessage({ event: 'stop' });\n      return false;\n    } else if (outputBuffers.length) {\n      this.hasStarted = true;\n      const { buffer, trackId } = outputBuffers.shift();\n      for (let i = 0; i < outputChannelData.length; i++) {\n        outputChannelData[i] = buffer[i] || 0;\n      }\n      if (trackId) {\n        this.trackSampleOffsets[trackId] =\n          this.trackSampleOffsets[trackId] || 0;\n        this.trackSampleOffsets[trackId] += buffer.length;\n      }\n      return true;\n    } else if (this.hasStarted) {\n      this.port.postMessage({ event: 'stop' });\n      return false;\n    } else {\n      return true;\n    }\n  }\n}\n\nregisterProcessor('stream_processor', StreamProcessor);\n`;\nconst $29a8a70a9466b14f$var$script = new Blob([\n    $29a8a70a9466b14f$export$50b76700e2b15e9\n], {\n    type: 'application/javascript'\n});\nconst $29a8a70a9466b14f$var$src = URL.createObjectURL($29a8a70a9466b14f$var$script);\nconst $29a8a70a9466b14f$export$bfa8c596114d74df = $29a8a70a9466b14f$var$src;\n\n\n\nclass $d0a969833958d9e7$export$9698d62c78b8f366 {\n    /**\n   * Creates a new WavStreamPlayer instance\n   * @param {{sampleRate?: number}} options\n   * @returns {WavStreamPlayer}\n   */ constructor({ sampleRate: sampleRate = 44100 } = {}){\n        this.scriptSrc = (0, $29a8a70a9466b14f$export$bfa8c596114d74df);\n        this.sampleRate = sampleRate;\n        this.context = null;\n        this.stream = null;\n        this.analyser = null;\n        this.trackSampleOffsets = {};\n        this.interruptedTrackIds = {};\n    }\n    /**\n   * Connects the audio context and enables output to speakers\n   * @returns {Promise<true>}\n   */ async connect() {\n        this.context = new AudioContext({\n            sampleRate: this.sampleRate\n        });\n        if (this._speakerID) this.context.setSinkId(this._speakerID);\n        if (this.context.state === \"suspended\") await this.context.resume();\n        try {\n            await this.context.audioWorklet.addModule(this.scriptSrc);\n        } catch (e) {\n            console.error(e);\n            throw new Error(`Could not add audioWorklet module: ${this.scriptSrc}`);\n        }\n        const analyser = this.context.createAnalyser();\n        analyser.fftSize = 8192;\n        analyser.smoothingTimeConstant = 0.1;\n        this.analyser = analyser;\n        return true;\n    }\n    /**\n   * Gets the current frequency domain data from the playing track\n   * @param {\"frequency\"|\"music\"|\"voice\"} [analysisType]\n   * @param {number} [minDecibels] default -100\n   * @param {number} [maxDecibels] default -30\n   * @returns {import('./analysis/audio_analysis.js').AudioAnalysisOutputType}\n   */ getFrequencies(analysisType = \"frequency\", minDecibels = -100, maxDecibels = -30) {\n        if (!this.analyser) throw new Error(\"Not connected, please call .connect() first\");\n        return (0, $f32f064564ee62f6$export$2c3136da0bf130f9).getFrequencies(this.analyser, this.sampleRate, null, analysisType, minDecibels, maxDecibels);\n    }\n    /**\n   * @param {string} speaker deviceId\n   */ async updateSpeaker(speaker) {\n        const _prevSpeaker = this._speakerID;\n        this._speakerID = speaker;\n        if (this.context) try {\n            if (speaker === \"default\") await this.context.setSinkId();\n            else await this.context.setSinkId(speaker);\n        } catch (e) {\n            console.error(`Could not set sinkId to ${speaker}: ${e}`);\n            this._speakerID = _prevSpeaker;\n        }\n    }\n    /**\n   * Starts audio streaming\n   * @private\n   * @returns {Promise<true>}\n   */ _start() {\n        const streamNode = new AudioWorkletNode(this.context, \"stream_processor\");\n        streamNode.connect(this.context.destination);\n        streamNode.port.onmessage = (e)=>{\n            const { event: event } = e.data;\n            if (event === \"stop\") {\n                streamNode.disconnect();\n                this.stream = null;\n            } else if (event === \"offset\") {\n                const { requestId: requestId, trackId: trackId, offset: offset } = e.data;\n                const currentTime = offset / this.sampleRate;\n                this.trackSampleOffsets[requestId] = {\n                    trackId: trackId,\n                    offset: offset,\n                    currentTime: currentTime\n                };\n            }\n        };\n        this.analyser.disconnect();\n        streamNode.connect(this.analyser);\n        this.stream = streamNode;\n        return true;\n    }\n    /**\n   * Adds 16BitPCM data to the currently playing audio stream\n   * You can add chunks beyond the current play point and they will be queued for play\n   * @param {ArrayBuffer|Int16Array} arrayBuffer\n   * @param {string} [trackId]\n   * @returns {Int16Array}\n   */ add16BitPCM(arrayBuffer, trackId = \"default\") {\n        if (typeof trackId !== \"string\") throw new Error(`trackId must be a string`);\n        else if (this.interruptedTrackIds[trackId]) return;\n        if (!this.stream) this._start();\n        let buffer;\n        if (arrayBuffer instanceof Int16Array) buffer = arrayBuffer;\n        else if (arrayBuffer instanceof ArrayBuffer) buffer = new Int16Array(arrayBuffer);\n        else throw new Error(`argument must be Int16Array or ArrayBuffer`);\n        this.stream.port.postMessage({\n            event: \"write\",\n            buffer: buffer,\n            trackId: trackId\n        });\n        return buffer;\n    }\n    /**\n   * Gets the offset (sample count) of the currently playing stream\n   * @param {boolean} [interrupt]\n   * @returns {{trackId: string|null, offset: number, currentTime: number}}\n   */ async getTrackSampleOffset(interrupt = false) {\n        if (!this.stream) return null;\n        const requestId = crypto.randomUUID();\n        this.stream.port.postMessage({\n            event: interrupt ? \"interrupt\" : \"offset\",\n            requestId: requestId\n        });\n        let trackSampleOffset;\n        while(!trackSampleOffset){\n            trackSampleOffset = this.trackSampleOffsets[requestId];\n            await new Promise((r)=>setTimeout(()=>r(), 1));\n        }\n        const { trackId: trackId } = trackSampleOffset;\n        if (interrupt && trackId) this.interruptedTrackIds[trackId] = true;\n        return trackSampleOffset;\n    }\n    /**\n   * Strips the current stream and returns the sample offset of the audio\n   * @param {boolean} [interrupt]\n   * @returns {{trackId: string|null, offset: number, currentTime: number}}\n   */ async interrupt() {\n        return this.getTrackSampleOffset(true);\n    }\n}\nglobalThis.WavStreamPlayer = $d0a969833958d9e7$export$9698d62c78b8f366;\n\n\nconst $8e1d1e6ff08f6fb5$var$AudioProcessorWorklet = `\nclass AudioProcessor extends AudioWorkletProcessor {\n\n  constructor() {\n    super();\n    this.port.onmessage = this.receive.bind(this);\n    this.initialize();\n  }\n\n  initialize() {\n    this.foundAudio = false;\n    this.recording = false;\n    this.chunks = [];\n  }\n\n  /**\n   * Concatenates sampled chunks into channels\n   * Format is chunk[Left[], Right[]]\n   */\n  readChannelData(chunks, channel = -1, maxChannels = 9) {\n    let channelLimit;\n    if (channel !== -1) {\n      if (chunks[0] && chunks[0].length - 1 < channel) {\n        throw new Error(\n          \\`Channel \\${channel} out of range: max \\${chunks[0].length}\\`\n        );\n      }\n      channelLimit = channel + 1;\n    } else {\n      channel = 0;\n      channelLimit = Math.min(chunks[0] ? chunks[0].length : 1, maxChannels);\n    }\n    const channels = [];\n    for (let n = channel; n < channelLimit; n++) {\n      const length = chunks.reduce((sum, chunk) => {\n        return sum + chunk[n].length;\n      }, 0);\n      const buffers = chunks.map((chunk) => chunk[n]);\n      const result = new Float32Array(length);\n      let offset = 0;\n      for (let i = 0; i < buffers.length; i++) {\n        result.set(buffers[i], offset);\n        offset += buffers[i].length;\n      }\n      channels[n] = result;\n    }\n    return channels;\n  }\n\n  /**\n   * Combines parallel audio data into correct format,\n   * channels[Left[], Right[]] to float32Array[LRLRLRLR...]\n   */\n  formatAudioData(channels) {\n    if (channels.length === 1) {\n      // Simple case is only one channel\n      const float32Array = channels[0].slice();\n      const meanValues = channels[0].slice();\n      return { float32Array, meanValues };\n    } else {\n      const float32Array = new Float32Array(\n        channels[0].length * channels.length\n      );\n      const meanValues = new Float32Array(channels[0].length);\n      for (let i = 0; i < channels[0].length; i++) {\n        const offset = i * channels.length;\n        let meanValue = 0;\n        for (let n = 0; n < channels.length; n++) {\n          float32Array[offset + n] = channels[n][i];\n          meanValue += channels[n][i];\n        }\n        meanValues[i] = meanValue / channels.length;\n      }\n      return { float32Array, meanValues };\n    }\n  }\n\n  /**\n   * Converts 32-bit float data to 16-bit integers\n   */\n  floatTo16BitPCM(float32Array) {\n    const buffer = new ArrayBuffer(float32Array.length * 2);\n    const view = new DataView(buffer);\n    let offset = 0;\n    for (let i = 0; i < float32Array.length; i++, offset += 2) {\n      let s = Math.max(-1, Math.min(1, float32Array[i]));\n      view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);\n    }\n    return buffer;\n  }\n\n  /**\n   * Retrieves the most recent amplitude values from the audio stream\n   * @param {number} channel\n   */\n  getValues(channel = -1) {\n    const channels = this.readChannelData(this.chunks, channel);\n    const { meanValues } = this.formatAudioData(channels);\n    return { meanValues, channels };\n  }\n\n  /**\n   * Exports chunks as an audio/wav file\n   */\n  export() {\n    const channels = this.readChannelData(this.chunks);\n    const { float32Array, meanValues } = this.formatAudioData(channels);\n    const audioData = this.floatTo16BitPCM(float32Array);\n    return {\n      meanValues: meanValues,\n      audio: {\n        bitsPerSample: 16,\n        channels: channels,\n        data: audioData,\n      },\n    };\n  }\n\n  receive(e) {\n    const { event, id } = e.data;\n    let receiptData = {};\n    switch (event) {\n      case 'start':\n        this.recording = true;\n        break;\n      case 'stop':\n        this.recording = false;\n        break;\n      case 'clear':\n        this.initialize();\n        break;\n      case 'export':\n        receiptData = this.export();\n        break;\n      case 'read':\n        receiptData = this.getValues();\n        break;\n      default:\n        break;\n    }\n    // Always send back receipt\n    this.port.postMessage({ event: 'receipt', id, data: receiptData });\n  }\n\n  sendChunk(chunk) {\n    const channels = this.readChannelData([chunk]);\n    const { float32Array, meanValues } = this.formatAudioData(channels);\n    const rawAudioData = this.floatTo16BitPCM(float32Array);\n    const monoAudioData = this.floatTo16BitPCM(meanValues);\n    this.port.postMessage({\n      event: 'chunk',\n      data: {\n        mono: monoAudioData,\n        raw: rawAudioData,\n      },\n    });\n  }\n\n  process(inputList, outputList, parameters) {\n    // Copy input to output (e.g. speakers)\n    // Note that this creates choppy sounds with Mac products\n    const sourceLimit = Math.min(inputList.length, outputList.length);\n    for (let inputNum = 0; inputNum < sourceLimit; inputNum++) {\n      const input = inputList[inputNum];\n      const output = outputList[inputNum];\n      const channelCount = Math.min(input.length, output.length);\n      for (let channelNum = 0; channelNum < channelCount; channelNum++) {\n        input[channelNum].forEach((sample, i) => {\n          output[channelNum][i] = sample;\n        });\n      }\n    }\n    const inputs = inputList[0];\n    // There's latency at the beginning of a stream before recording starts\n    // Make sure we actually receive audio data before we start storing chunks\n    let sliceIndex = 0;\n    if (!this.foundAudio) {\n      for (const channel of inputs) {\n        sliceIndex = 0; // reset for each channel\n        if (this.foundAudio) {\n          break;\n        }\n        if (channel) {\n          for (const value of channel) {\n            if (value !== 0) {\n              // find only one non-zero entry in any channel\n              this.foundAudio = true;\n              break;\n            } else {\n              sliceIndex++;\n            }\n          }\n        }\n      }\n    }\n    if (inputs && inputs[0] && this.foundAudio && this.recording) {\n      // We need to copy the TypedArray, because the \\`process\\`\n      // internals will reuse the same buffer to hold each input\n      const chunk = inputs.map((input) => input.slice(sliceIndex));\n      this.chunks.push(chunk);\n      this.sendChunk(chunk);\n    }\n    return true;\n  }\n}\n\nregisterProcessor('audio_processor', AudioProcessor);\n`;\nconst $8e1d1e6ff08f6fb5$var$script = new Blob([\n    $8e1d1e6ff08f6fb5$var$AudioProcessorWorklet\n], {\n    type: 'application/javascript'\n});\nconst $8e1d1e6ff08f6fb5$var$src = URL.createObjectURL($8e1d1e6ff08f6fb5$var$script);\nconst $8e1d1e6ff08f6fb5$export$1f65f50a8cbff43c = $8e1d1e6ff08f6fb5$var$src;\n\n\n\n\nclass $62bc376044a05513$export$439b217ca659a877 {\n    /**\n   * Create a new WavRecorder instance\n   * @param {{sampleRate?: number, outputToSpeakers?: boolean, debug?: boolean}} [options]\n   * @returns {WavRecorder}\n   */ constructor({ sampleRate: sampleRate = 44100, outputToSpeakers: outputToSpeakers = false, debug: debug = false } = {}){\n        // Script source\n        this.scriptSrc = (0, $8e1d1e6ff08f6fb5$export$1f65f50a8cbff43c);\n        // Config\n        this.sampleRate = sampleRate;\n        this.outputToSpeakers = outputToSpeakers;\n        this.debug = !!debug;\n        this._deviceChangeCallback = null;\n        this._devices = [];\n        this.deviceSelection = null;\n        // State variables\n        this.stream = null;\n        this.processor = null;\n        this.source = null;\n        this.node = null;\n        this.recording = false;\n        // Event handling with AudioWorklet\n        this._lastEventId = 0;\n        this.eventReceipts = {};\n        this.eventTimeout = 5000;\n        // Process chunks of audio\n        this._chunkProcessor = ()=>{};\n        this._chunkProcessorSize = void 0;\n        this._chunkProcessorBuffer = {\n            raw: new ArrayBuffer(0),\n            mono: new ArrayBuffer(0)\n        };\n    }\n    /**\n   * Decodes audio data from multiple formats to a Blob, url, Float32Array and AudioBuffer\n   * @param {Blob|Float32Array|Int16Array|ArrayBuffer|number[]} audioData\n   * @param {number} sampleRate\n   * @param {number} fromSampleRate\n   * @returns {Promise<DecodedAudioType>}\n   */ static async decode(audioData, sampleRate = 44100, fromSampleRate = -1) {\n        const context = new AudioContext({\n            sampleRate: sampleRate\n        });\n        let arrayBuffer;\n        let blob;\n        if (audioData instanceof Blob) {\n            if (fromSampleRate !== -1) throw new Error(`Can not specify \"fromSampleRate\" when reading from Blob`);\n            blob = audioData;\n            arrayBuffer = await blob.arrayBuffer();\n        } else if (audioData instanceof ArrayBuffer) {\n            if (fromSampleRate !== -1) throw new Error(`Can not specify \"fromSampleRate\" when reading from ArrayBuffer`);\n            arrayBuffer = audioData;\n            blob = new Blob([\n                arrayBuffer\n            ], {\n                type: 'audio/wav'\n            });\n        } else {\n            let float32Array;\n            let data;\n            if (audioData instanceof Int16Array) {\n                data = audioData;\n                float32Array = new Float32Array(audioData.length);\n                for(let i = 0; i < audioData.length; i++)float32Array[i] = audioData[i] / 0x8000;\n            } else if (audioData instanceof Float32Array) float32Array = audioData;\n            else if (audioData instanceof Array) float32Array = new Float32Array(audioData);\n            else throw new Error(`\"audioData\" must be one of: Blob, Float32Arrray, Int16Array, ArrayBuffer, Array<number>`);\n            if (fromSampleRate === -1) throw new Error(`Must specify \"fromSampleRate\" when reading from Float32Array, In16Array or Array`);\n            else if (fromSampleRate < 3000) throw new Error(`Minimum \"fromSampleRate\" is 3000 (3kHz)`);\n            if (!data) data = (0, $6d4b7449a1e1544a$export$13afda237b1c9846).floatTo16BitPCM(float32Array);\n            const audio = {\n                bitsPerSample: 16,\n                channels: [\n                    float32Array\n                ],\n                data: data\n            };\n            const packer = new (0, $6d4b7449a1e1544a$export$13afda237b1c9846)();\n            const result = packer.pack(fromSampleRate, audio);\n            blob = result.blob;\n            arrayBuffer = await blob.arrayBuffer();\n        }\n        const audioBuffer = await context.decodeAudioData(arrayBuffer);\n        const values = audioBuffer.getChannelData(0);\n        const url = URL.createObjectURL(blob);\n        return {\n            blob: blob,\n            url: url,\n            values: values,\n            audioBuffer: audioBuffer\n        };\n    }\n    /**\n   * Logs data in debug mode\n   * @param {...any} arguments\n   * @returns {true}\n   */ log() {\n        if (this.debug) this.log(...arguments);\n        return true;\n    }\n    /**\n   * Retrieves the current sampleRate for the recorder\n   * @returns {number}\n   */ getSampleRate() {\n        return this.sampleRate;\n    }\n    /**\n   * Retrieves the current status of the recording\n   * @returns {\"ended\"|\"paused\"|\"recording\"}\n   */ getStatus() {\n        if (!this.processor) return 'ended';\n        else if (!this.recording) return 'paused';\n        else return 'recording';\n    }\n    /**\n   * Sends an event to the AudioWorklet\n   * @private\n   * @param {string} name\n   * @param {{[key: string]: any}} data\n   * @param {AudioWorkletNode} [_processor]\n   * @returns {Promise<{[key: string]: any}>}\n   */ async _event(name, data = {}, _processor = null) {\n        _processor = _processor || this.processor;\n        if (!_processor) throw new Error('Can not send events without recording first');\n        const message = {\n            event: name,\n            id: this._lastEventId++,\n            data: data\n        };\n        _processor.port.postMessage(message);\n        const t0 = new Date().valueOf();\n        while(!this.eventReceipts[message.id]){\n            if (new Date().valueOf() - t0 > this.eventTimeout) throw new Error(`Timeout waiting for \"${name}\" event`);\n            await new Promise((res)=>setTimeout(()=>res(true), 1));\n        }\n        const payload = this.eventReceipts[message.id];\n        delete this.eventReceipts[message.id];\n        return payload;\n    }\n    /**\n   * Sets device change callback, remove if callback provided is `null`\n   * @param {(Array<MediaDeviceInfo & {default: boolean}>): void|null} callback\n   * @returns {true}\n   */ listenForDeviceChange(callback) {\n        if (callback === null && this._deviceChangeCallback) {\n            navigator.mediaDevices.removeEventListener('devicechange', this._deviceChangeCallback);\n            this._deviceChangeCallback = null;\n        } else if (callback !== null) {\n            // Basically a debounce; we only want this called once when devices change\n            // And we only want the most recent callback() to be executed\n            // if a few are operating at the same time\n            let lastId = 0;\n            let lastDevices = [];\n            const serializeDevices = (devices)=>devices.map((d)=>d.deviceId).sort().join(',');\n            const cb = async ()=>{\n                let id = ++lastId;\n                const devices = await this.listDevices();\n                if (id === lastId) {\n                    if (serializeDevices(lastDevices) !== serializeDevices(devices)) {\n                        lastDevices = devices;\n                        callback(devices.slice());\n                    }\n                }\n            };\n            navigator.mediaDevices.addEventListener('devicechange', cb);\n            cb();\n            this._deviceChangeCallback = cb;\n        }\n        return true;\n    }\n    /**\n   * Manually request permission to use the microphone\n   * @returns {Promise<true>}\n   */ async requestPermission() {\n        const permissionStatus = await navigator.permissions.query({\n            name: 'microphone'\n        });\n        if (permissionStatus.state === 'denied') window.alert('You must grant microphone access to use this feature.');\n        else if (permissionStatus.state === 'prompt') try {\n            const stream = await navigator.mediaDevices.getUserMedia({\n                audio: true\n            });\n            const tracks = stream.getTracks();\n            tracks.forEach((track)=>track.stop());\n        } catch (e) {\n            window.alert('You must grant microphone access to use this feature.');\n        }\n        return true;\n    }\n    /**\n   * List all eligible devices for recording, will request permission to use microphone\n   * @returns {Promise<Array<MediaDeviceInfo & {default: boolean}>>}\n   */ async listDevices() {\n        if (!navigator.mediaDevices || !('enumerateDevices' in navigator.mediaDevices)) throw new Error('Could not request user devices');\n        await this.requestPermission();\n        const devices = await navigator.mediaDevices.enumerateDevices();\n        const audioDevices = devices.filter((device)=>device.kind === 'audioinput');\n        return audioDevices;\n    // const defaultDeviceIndex = audioDevices.findIndex(\n    //   (device) => device.deviceId === 'default'\n    // );\n    // const deviceList = [];\n    // if (defaultDeviceIndex !== -1) {\n    //   let defaultDevice = audioDevices.splice(defaultDeviceIndex, 1)[0];\n    //   let existingIndex = audioDevices.findIndex(\n    //     (device) => device.groupId === defaultDevice.groupId\n    //   );\n    //   if (existingIndex !== -1) {\n    //     defaultDevice = audioDevices.splice(existingIndex, 1)[0];\n    //   }\n    //   defaultDevice.default = true;\n    //   deviceList.push(defaultDevice);\n    // }\n    // return deviceList.concat(audioDevices);\n    }\n    /**\n   * Begins a recording session and requests microphone permissions if not already granted\n   * Microphone recording indicator will appear on browser tab but status will be \"paused\"\n   * @param {string} [deviceId] if no device provided, default device will be used\n   * @returns {Promise<true>}\n   */ async begin(deviceId) {\n        if (this.processor) throw new Error(`Already connected: please call .end() to start a new session`);\n        if (!navigator.mediaDevices || !('getUserMedia' in navigator.mediaDevices)) throw new Error('Could not request user media');\n        deviceId = deviceId ?? this.deviceSelection?.deviceId;\n        try {\n            const config = {\n                audio: true\n            };\n            if (deviceId) config.audio = {\n                deviceId: {\n                    exact: deviceId\n                }\n            };\n            this.stream = await navigator.mediaDevices.getUserMedia(config);\n        } catch (err) {\n            throw new Error('Could not start media stream');\n        }\n        this.listDevices().then((devices)=>{\n            deviceId = this.stream.getAudioTracks()[0].getSettings().deviceId;\n            console.log('find current device', devices, deviceId, this.stream.getAudioTracks()[0].getSettings());\n            this.deviceSelection = devices.find((d)=>d.deviceId === deviceId);\n            console.log('current device', this.deviceSelection);\n        });\n        const context = new AudioContext({\n            sampleRate: this.sampleRate\n        });\n        const source = context.createMediaStreamSource(this.stream);\n        // Load and execute the module script.\n        try {\n            await context.audioWorklet.addModule(this.scriptSrc);\n        } catch (e) {\n            console.error(e);\n            throw new Error(`Could not add audioWorklet module: ${this.scriptSrc}`);\n        }\n        const processor = new AudioWorkletNode(context, 'audio_processor');\n        processor.port.onmessage = (e)=>{\n            const { event: event, id: id, data: data } = e.data;\n            if (event === 'receipt') this.eventReceipts[id] = data;\n            else if (event === 'chunk') {\n                if (this._chunkProcessorSize) {\n                    const buffer = this._chunkProcessorBuffer;\n                    this._chunkProcessorBuffer = {\n                        raw: (0, $6d4b7449a1e1544a$export$13afda237b1c9846).mergeBuffers(buffer.raw, data.raw),\n                        mono: (0, $6d4b7449a1e1544a$export$13afda237b1c9846).mergeBuffers(buffer.mono, data.mono)\n                    };\n                    if (this._chunkProcessorBuffer.mono.byteLength >= this._chunkProcessorSize) {\n                        this._chunkProcessor(this._chunkProcessorBuffer);\n                        this._chunkProcessorBuffer = {\n                            raw: new ArrayBuffer(0),\n                            mono: new ArrayBuffer(0)\n                        };\n                    }\n                } else this._chunkProcessor(data);\n            }\n        };\n        const node = source.connect(processor);\n        const analyser = context.createAnalyser();\n        analyser.fftSize = 8192;\n        analyser.smoothingTimeConstant = 0.1;\n        node.connect(analyser);\n        if (this.outputToSpeakers) {\n            // eslint-disable-next-line no-console\n            console.warn(\"Warning: Output to speakers may affect sound quality,\\nespecially due to system audio feedback preventative measures.\\nuse only for debugging\");\n            analyser.connect(context.destination);\n        }\n        this.source = source;\n        this.node = node;\n        this.analyser = analyser;\n        this.processor = processor;\n        console.log('begin completed');\n        return true;\n    }\n    /**\n   * Gets the current frequency domain data from the recording track\n   * @param {\"frequency\"|\"music\"|\"voice\"} [analysisType]\n   * @param {number} [minDecibels] default -100\n   * @param {number} [maxDecibels] default -30\n   * @returns {import('./analysis/audio_analysis.js').AudioAnalysisOutputType}\n   */ getFrequencies(analysisType = 'frequency', minDecibels = -100, maxDecibels = -30) {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        return (0, $f32f064564ee62f6$export$2c3136da0bf130f9).getFrequencies(this.analyser, this.sampleRate, null, analysisType, minDecibels, maxDecibels);\n    }\n    /**\n   * Pauses the recording\n   * Keeps microphone stream open but halts storage of audio\n   * @returns {Promise<true>}\n   */ async pause() {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        else if (!this.recording) throw new Error('Already paused: please call .record() first');\n        if (this._chunkProcessorBuffer.raw.byteLength) this._chunkProcessor(this._chunkProcessorBuffer);\n        this.log('Pausing ...');\n        await this._event('stop');\n        this.recording = false;\n        return true;\n    }\n    /**\n   * Start recording stream and storing to memory from the connected audio source\n   * @param {(data: { mono: Int16Array; raw: Int16Array }) => any} [chunkProcessor]\n   * @param {number} [chunkSize] chunkProcessor will not be triggered until this size threshold met in mono audio\n   * @returns {Promise<true>}\n   */ async record(chunkProcessor = ()=>{}, chunkSize = 8192) {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        else if (this.recording) throw new Error('Already recording: please call .pause() first');\n        else if (typeof chunkProcessor !== 'function') throw new Error(`chunkProcessor must be a function`);\n        this._chunkProcessor = chunkProcessor;\n        this._chunkProcessorSize = chunkSize;\n        this._chunkProcessorBuffer = {\n            raw: new ArrayBuffer(0),\n            mono: new ArrayBuffer(0)\n        };\n        this.log('Recording ...');\n        await this._event('start');\n        this.recording = true;\n        return true;\n    }\n    /**\n   * Clears the audio buffer, empties stored recording\n   * @returns {Promise<true>}\n   */ async clear() {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        await this._event('clear');\n        return true;\n    }\n    /**\n   * Reads the current audio stream data\n   * @returns {Promise<{meanValues: Float32Array, channels: Array<Float32Array>}>}\n   */ async read() {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        this.log('Reading ...');\n        const result = await this._event('read');\n        return result;\n    }\n    /**\n   * Saves the current audio stream to a file\n   * @param {boolean} [force] Force saving while still recording\n   * @returns {Promise<import('./wav_packer.js').WavPackerAudioType>}\n   */ async save(force = false) {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        if (!force && this.recording) throw new Error('Currently recording: please call .pause() first, or call .save(true) to force');\n        this.log('Exporting ...');\n        const exportData = await this._event('export');\n        const packer = new (0, $6d4b7449a1e1544a$export$13afda237b1c9846)();\n        const result = packer.pack(this.sampleRate, exportData.audio);\n        return result;\n    }\n    /**\n   * Ends the current recording session and saves the result\n   * @returns {Promise<import('./wav_packer.js').WavPackerAudioType>}\n   */ async end() {\n        if (!this.processor) throw new Error('Session ended: please call .begin() first');\n        const _processor = this.processor;\n        this.log('Stopping ...');\n        await this._event('stop');\n        this.recording = false;\n        const tracks = this.stream.getTracks();\n        tracks.forEach((track)=>track.stop());\n        this.log('Exporting ...');\n        const exportData = await this._event('export', {}, _processor);\n        this.processor.disconnect();\n        this.source.disconnect();\n        this.node.disconnect();\n        this.analyser.disconnect();\n        this.stream = null;\n        this.processor = null;\n        this.source = null;\n        this.node = null;\n        const packer = new (0, $6d4b7449a1e1544a$export$13afda237b1c9846)();\n        const result = packer.pack(this.sampleRate, exportData.audio);\n        return result;\n    }\n    /**\n   * Performs a full cleanup of WavRecorder instance\n   * Stops actively listening via microphone and removes existing listeners\n   * @returns {Promise<true>}\n   */ async quit() {\n        this.listenForDeviceChange(null);\n        // we do not reset this on end so that selections persist across starts\n        this.deviceSelection = null;\n        if (this.processor) await this.end();\n        return true;\n    }\n}\nglobalThis.WavRecorder = $62bc376044a05513$export$439b217ca659a877;\n\n\n\n\n\nclass $5fc11d7bc0d20724$export$2934cf2d25c67a48 {\n    /**\n   * Create a new MediaStreamRecorder instance\n   * @param {{sampleRate?: number, outputToSpeakers?: boolean, debug?: boolean}} [options]\n   * @returns {MediaStreamRecorder}\n   */ constructor({ sampleRate: sampleRate = 44100, outputToSpeakers: outputToSpeakers = false, debug: debug = false } = {}){\n        // Script source\n        this.scriptSrc = (0, $8e1d1e6ff08f6fb5$export$1f65f50a8cbff43c);\n        // Config\n        this.sampleRate = sampleRate;\n        this.outputToSpeakers = outputToSpeakers;\n        this.debug = !!debug;\n        // State variables\n        this.stream = null;\n        this.processor = null;\n        this.source = null;\n        this.node = null;\n        this.recording = false;\n        // Event handling with AudioWorklet\n        this._lastEventId = 0;\n        this.eventReceipts = {};\n        this.eventTimeout = 5000;\n        // Process chunks of audio\n        this._chunkProcessor = ()=>{};\n        this._chunkProcessorSize = void 0;\n        this._chunkProcessorBuffer = {\n            raw: new ArrayBuffer(0),\n            mono: new ArrayBuffer(0)\n        };\n    }\n    /**\n   * Logs data in debug mode\n   * @param {...any} arguments\n   * @returns {true}\n   */ log() {\n        if (this.debug) this.log(...arguments);\n        return true;\n    }\n    /**\n   * Retrieves the current sampleRate for the recorder\n   * @returns {number}\n   */ getSampleRate() {\n        return this.sampleRate;\n    }\n    /**\n   * Retrieves the current status of the recording\n   * @returns {\"ended\"|\"paused\"|\"recording\"}\n   */ getStatus() {\n        if (!this.processor) return \"ended\";\n        else if (!this.recording) return \"paused\";\n        else return \"recording\";\n    }\n    /**\n   * Sends an event to the AudioWorklet\n   * @private\n   * @param {string} name\n   * @param {{[key: string]: any}} data\n   * @param {AudioWorkletNode} [_processor]\n   * @returns {Promise<{[key: string]: any}>}\n   */ async _event(name, data = {}, _processor = null) {\n        _processor = _processor || this.processor;\n        if (!_processor) throw new Error(\"Can not send events without recording first\");\n        const message = {\n            event: name,\n            id: this._lastEventId++,\n            data: data\n        };\n        _processor.port.postMessage(message);\n        const t0 = new Date().valueOf();\n        while(!this.eventReceipts[message.id]){\n            if (new Date().valueOf() - t0 > this.eventTimeout) throw new Error(`Timeout waiting for \"${name}\" event`);\n            await new Promise((res)=>setTimeout(()=>res(true), 1));\n        }\n        const payload = this.eventReceipts[message.id];\n        delete this.eventReceipts[message.id];\n        return payload;\n    }\n    /**\n   * Begins a recording session for the given audioTrack\n   * Microphone recording indicator will appear on browser tab but status will be \"paused\"\n   * @param {MediaStreamTrack} [audioTrack] if no device provided, default device will be used\n   * @returns {Promise<true>}\n   */ async begin(audioTrack) {\n        if (this.processor) throw new Error(`Already connected: please call .end() to start a new session`);\n        if (!audioTrack || audioTrack.kind !== \"audio\") throw new Error(\"No audio track provided\");\n        this.stream = new MediaStream([\n            audioTrack\n        ]);\n        const context = new AudioContext({\n            sampleRate: this.sampleRate\n        });\n        const source = context.createMediaStreamSource(this.stream);\n        // Load and execute the module script.\n        try {\n            await context.audioWorklet.addModule(this.scriptSrc);\n        } catch (e) {\n            console.error(e);\n            throw new Error(`Could not add audioWorklet module: ${this.scriptSrc}`);\n        }\n        const processor = new AudioWorkletNode(context, \"audio_processor\");\n        processor.port.onmessage = (e)=>{\n            const { event: event, id: id, data: data } = e.data;\n            if (event === \"receipt\") this.eventReceipts[id] = data;\n            else if (event === \"chunk\") {\n                if (this._chunkProcessorSize) {\n                    const buffer = this._chunkProcessorBuffer;\n                    this._chunkProcessorBuffer = {\n                        raw: (0, $6d4b7449a1e1544a$export$13afda237b1c9846).mergeBuffers(buffer.raw, data.raw),\n                        mono: (0, $6d4b7449a1e1544a$export$13afda237b1c9846).mergeBuffers(buffer.mono, data.mono)\n                    };\n                    if (this._chunkProcessorBuffer.mono.byteLength >= this._chunkProcessorSize) {\n                        this._chunkProcessor(this._chunkProcessorBuffer);\n                        this._chunkProcessorBuffer = {\n                            raw: new ArrayBuffer(0),\n                            mono: new ArrayBuffer(0)\n                        };\n                    }\n                } else this._chunkProcessor(data);\n            }\n        };\n        const node = source.connect(processor);\n        const analyser = context.createAnalyser();\n        analyser.fftSize = 8192;\n        analyser.smoothingTimeConstant = 0.1;\n        node.connect(analyser);\n        if (this.outputToSpeakers) {\n            // eslint-disable-next-line no-console\n            console.warn(\"Warning: Output to speakers may affect sound quality,\\nespecially due to system audio feedback preventative measures.\\nuse only for debugging\");\n            analyser.connect(context.destination);\n        }\n        this.source = source;\n        this.node = node;\n        this.analyser = analyser;\n        this.processor = processor;\n        return true;\n    }\n    /**\n   * Gets the current frequency domain data from the recording track\n   * @param {\"frequency\"|\"music\"|\"voice\"} [analysisType]\n   * @param {number} [minDecibels] default -100\n   * @param {number} [maxDecibels] default -30\n   * @returns {import('./analysis/audio_analysis.js').AudioAnalysisOutputType}\n   */ getFrequencies(analysisType = \"frequency\", minDecibels = -100, maxDecibels = -30) {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        return (0, $f32f064564ee62f6$export$2c3136da0bf130f9).getFrequencies(this.analyser, this.sampleRate, null, analysisType, minDecibels, maxDecibels);\n    }\n    /**\n   * Pauses the recording\n   * Keeps microphone stream open but halts storage of audio\n   * @returns {Promise<true>}\n   */ async pause() {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        else if (!this.recording) throw new Error(\"Already paused: please call .record() first\");\n        if (this._chunkProcessorBuffer.raw.byteLength) this._chunkProcessor(this._chunkProcessorBuffer);\n        this.log(\"Pausing ...\");\n        await this._event(\"stop\");\n        this.recording = false;\n        return true;\n    }\n    /**\n   * Start recording stream and storing to memory from the connected audio source\n   * @param {(data: { mono: Int16Array; raw: Int16Array }) => any} [chunkProcessor]\n   * @param {number} [chunkSize] chunkProcessor will not be triggered until this size threshold met in mono audio\n   * @returns {Promise<true>}\n   */ async record(chunkProcessor = ()=>{}, chunkSize = 8192) {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        else if (this.recording) throw new Error(\"Already recording: HELLO please call .pause() first\");\n        else if (typeof chunkProcessor !== \"function\") throw new Error(`chunkProcessor must be a function`);\n        this._chunkProcessor = chunkProcessor;\n        this._chunkProcessorSize = chunkSize;\n        this._chunkProcessorBuffer = {\n            raw: new ArrayBuffer(0),\n            mono: new ArrayBuffer(0)\n        };\n        this.log(\"Recording ...\");\n        await this._event(\"start\");\n        this.recording = true;\n        return true;\n    }\n    /**\n   * Clears the audio buffer, empties stored recording\n   * @returns {Promise<true>}\n   */ async clear() {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        await this._event(\"clear\");\n        return true;\n    }\n    /**\n   * Reads the current audio stream data\n   * @returns {Promise<{meanValues: Float32Array, channels: Array<Float32Array>}>}\n   */ async read() {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        this.log(\"Reading ...\");\n        const result = await this._event(\"read\");\n        return result;\n    }\n    /**\n   * Saves the current audio stream to a file\n   * @param {boolean} [force] Force saving while still recording\n   * @returns {Promise<import('./wav_packer.js').WavPackerAudioType>}\n   */ async save(force = false) {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        if (!force && this.recording) throw new Error(\"Currently recording: please call .pause() first, or call .save(true) to force\");\n        this.log(\"Exporting ...\");\n        const exportData = await this._event(\"export\");\n        const packer = new (0, $6d4b7449a1e1544a$export$13afda237b1c9846)();\n        const result = packer.pack(this.sampleRate, exportData.audio);\n        return result;\n    }\n    /**\n   * Ends the current recording session and saves the result\n   * @returns {Promise<import('./wav_packer.js').WavPackerAudioType>}\n   */ async end() {\n        if (!this.processor) throw new Error(\"Session ended: please call .begin() first\");\n        const _processor = this.processor;\n        this.log(\"Stopping ...\");\n        await this._event(\"stop\");\n        this.recording = false;\n        this.log(\"Exporting ...\");\n        const exportData = await this._event(\"export\", {}, _processor);\n        this.processor.disconnect();\n        this.source.disconnect();\n        this.node.disconnect();\n        this.analyser.disconnect();\n        this.stream = null;\n        this.processor = null;\n        this.source = null;\n        this.node = null;\n        const packer = new (0, $6d4b7449a1e1544a$export$13afda237b1c9846)();\n        const result = packer.pack(this.sampleRate, exportData.audio);\n        return result;\n    }\n    /**\n   * Performs a full cleanup of WavRecorder instance\n   * Stops actively listening via microphone and removes existing listeners\n   * @returns {Promise<true>}\n   */ async quit() {\n        this.listenForDeviceChange(null);\n        if (this.processor) await this.end();\n        return true;\n    }\n}\nglobalThis.WavRecorder = WavRecorder;\n\n\n\n\nvar $fc49a56cd8739127$var$__extends =  false || function() {\n    var extendStatics = function(d, b) {\n        extendStatics = Object.setPrototypeOf || ({\n            __proto__: []\n        }) instanceof Array && function(d, b) {\n            d.__proto__ = b;\n        } || function(d, b) {\n            for(var p in b)if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n        };\n        return extendStatics(d, b);\n    };\n    return function(d, b) {\n        if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nvar $fc49a56cd8739127$var$__awaiter =  false || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar $fc49a56cd8739127$var$__generator =  false || function(thisArg, body) {\n    var _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(g && (g = 0, op[0] && (_ = 0)), _)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n};\nvar $fc49a56cd8739127$export$4a0c46dbbe2ddb67 = /** @class */ function() {\n    function MediaManager() {\n        this._callbacks = {};\n        this._micEnabled = true;\n        this._camEnabled = false;\n    }\n    MediaManager.prototype.setUserAudioCallback = function(userAudioCallback) {\n        this._userAudioCallback = userAudioCallback;\n    };\n    MediaManager.prototype.setClientOptions = function(options, override) {\n        var _a, _b, _c;\n        if (override === void 0) override = false;\n        if (this._options && !override) return;\n        this._options = options;\n        this._callbacks = (_a = options.callbacks) !== null && _a !== void 0 ? _a : {};\n        this._micEnabled = (_b = options.enableMic) !== null && _b !== void 0 ? _b : true;\n        this._camEnabled = (_c = options.enableCam) !== null && _c !== void 0 ? _c : false;\n    };\n    return MediaManager;\n}();\nvar $fc49a56cd8739127$export$45c5b9bfba2f6304 = /** @class */ function(_super) {\n    $fc49a56cd8739127$var$__extends(WavMediaManager, _super);\n    function WavMediaManager(recorderChunkSize, recorderSampleRate) {\n        if (recorderChunkSize === void 0) recorderChunkSize = undefined;\n        if (recorderSampleRate === void 0) recorderSampleRate = 24000;\n        var _this = _super.call(this) || this;\n        _this._initialized = false;\n        _this._recorderChunkSize = undefined;\n        _this._recorderChunkSize = recorderChunkSize;\n        _this._wavRecorder = new (0, $62bc376044a05513$export$439b217ca659a877)({\n            sampleRate: recorderSampleRate\n        });\n        _this._wavStreamPlayer = new (0, $d0a969833958d9e7$export$9698d62c78b8f366)({\n            sampleRate: 24000\n        });\n        return _this;\n    }\n    WavMediaManager.prototype.initialize = function() {\n        return $fc49a56cd8739127$var$__awaiter(this, void 0, Promise, function() {\n            return $fc49a56cd8739127$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        return [\n                            4 /*yield*/ ,\n                            this._wavRecorder.begin()\n                        ];\n                    case 1:\n                        _a.sent();\n                        this._wavRecorder.listenForDeviceChange(null);\n                        this._wavRecorder.listenForDeviceChange(this._handleAvailableDevicesUpdated.bind(this));\n                        return [\n                            4 /*yield*/ ,\n                            this._wavStreamPlayer.connect()\n                        ];\n                    case 2:\n                        _a.sent();\n                        this._initialized = true;\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    WavMediaManager.prototype.connect = function() {\n        return $fc49a56cd8739127$var$__awaiter(this, void 0, Promise, function() {\n            var isAlreadyRecording;\n            return $fc49a56cd8739127$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        if (!!this._initialized) return [\n                            3 /*break*/ ,\n                            2\n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            this.initialize()\n                        ];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        isAlreadyRecording = this._wavRecorder.getStatus() == \"recording\";\n                        if (!(this._micEnabled && !isAlreadyRecording)) return [\n                            3 /*break*/ ,\n                            4\n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            this._startRecording()\n                        ];\n                    case 3:\n                        _a.sent();\n                        _a.label = 4;\n                    case 4:\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    WavMediaManager.prototype.disconnect = function() {\n        return $fc49a56cd8739127$var$__awaiter(this, void 0, Promise, function() {\n            return $fc49a56cd8739127$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        if (!this._initialized) return [\n                            2 /*return*/ \n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            this._wavRecorder.end()\n                        ];\n                    case 1:\n                        _a.sent();\n                        return [\n                            4 /*yield*/ ,\n                            this._wavStreamPlayer.interrupt()\n                        ];\n                    case 2:\n                        _a.sent();\n                        this._initialized = false;\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    WavMediaManager.prototype.userStartedSpeaking = function() {\n        return $fc49a56cd8739127$var$__awaiter(this, void 0, Promise, function() {\n            return $fc49a56cd8739127$var$__generator(this, function(_a) {\n                return [\n                    2 /*return*/ ,\n                    this._wavStreamPlayer.interrupt()\n                ];\n            });\n        });\n    };\n    WavMediaManager.prototype.bufferBotAudio = function(data, id) {\n        return this._wavStreamPlayer.add16BitPCM(data, id);\n    };\n    WavMediaManager.prototype.getAllMics = function() {\n        return this._wavRecorder.listDevices();\n    };\n    WavMediaManager.prototype.getAllCams = function() {\n        // TODO: Video not supported yet\n        return Promise.resolve([]);\n    };\n    WavMediaManager.prototype.getAllSpeakers = function() {\n        // TODO: Implement speaker support\n        return Promise.resolve([]);\n    };\n    WavMediaManager.prototype.updateMic = function(micId) {\n        return $fc49a56cd8739127$var$__awaiter(this, void 0, Promise, function() {\n            var prevMic, curMic;\n            var _a, _b;\n            return $fc49a56cd8739127$var$__generator(this, function(_c) {\n                switch(_c.label){\n                    case 0:\n                        prevMic = this._wavRecorder.deviceSelection;\n                        return [\n                            4 /*yield*/ ,\n                            this._wavRecorder.end()\n                        ];\n                    case 1:\n                        _c.sent();\n                        return [\n                            4 /*yield*/ ,\n                            this._wavRecorder.begin(micId)\n                        ];\n                    case 2:\n                        _c.sent();\n                        if (!this._micEnabled) return [\n                            3 /*break*/ ,\n                            4\n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            this._startRecording()\n                        ];\n                    case 3:\n                        _c.sent();\n                        _c.label = 4;\n                    case 4:\n                        curMic = this._wavRecorder.deviceSelection;\n                        if (curMic && prevMic && prevMic.label !== curMic.label) (_b = (_a = this._callbacks).onMicUpdated) === null || _b === void 0 || _b.call(_a, curMic);\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    WavMediaManager.prototype.updateCam = function(camId) {\n    // TODO: Video not supported yet\n    };\n    WavMediaManager.prototype.updateSpeaker = function(speakerId) {\n    // TODO: Implement speaker support\n    };\n    Object.defineProperty(WavMediaManager.prototype, \"selectedMic\", {\n        get: function() {\n            var _a;\n            return (_a = this._wavRecorder.deviceSelection) !== null && _a !== void 0 ? _a : {};\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WavMediaManager.prototype, \"selectedCam\", {\n        get: function() {\n            // TODO: Video not supported yet\n            return {};\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WavMediaManager.prototype, \"selectedSpeaker\", {\n        get: function() {\n            // TODO: Implement speaker support\n            return {};\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WavMediaManager.prototype.enableMic = function(enable) {\n        return $fc49a56cd8739127$var$__awaiter(this, void 0, Promise, function() {\n            var _this = this;\n            return $fc49a56cd8739127$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        this._micEnabled = enable;\n                        if (!this._wavRecorder.stream) return [\n                            2 /*return*/ \n                        ];\n                        this._wavRecorder.stream.getAudioTracks().forEach(function(track) {\n                            var _a, _b;\n                            track.enabled = enable;\n                            if (!enable) (_b = (_a = _this._callbacks).onTrackStopped) === null || _b === void 0 || _b.call(_a, track, $fc49a56cd8739127$var$localParticipant());\n                        });\n                        if (!enable) return [\n                            3 /*break*/ ,\n                            2\n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            this._startRecording()\n                        ];\n                    case 1:\n                        _a.sent();\n                        return [\n                            3 /*break*/ ,\n                            4\n                        ];\n                    case 2:\n                        return [\n                            4 /*yield*/ ,\n                            this._wavRecorder.pause()\n                        ];\n                    case 3:\n                        _a.sent();\n                        _a.label = 4;\n                    case 4:\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    WavMediaManager.prototype.enableCam = function(enable) {\n    // TODO: Video not supported yet\n    };\n    Object.defineProperty(WavMediaManager.prototype, \"isCamEnabled\", {\n        get: function() {\n            // TODO: Video not supported yet\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WavMediaManager.prototype, \"isMicEnabled\", {\n        get: function() {\n            return this._micEnabled;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WavMediaManager.prototype.tracks = function() {\n        var _a;\n        var tracks = (_a = this._wavRecorder.stream) === null || _a === void 0 ? void 0 : _a.getTracks()[0];\n        return {\n            local: tracks ? {\n                audio: tracks\n            } : {}\n        };\n    };\n    WavMediaManager.prototype._startRecording = function() {\n        return $fc49a56cd8739127$var$__awaiter(this, void 0, void 0, function() {\n            var track;\n            var _this = this;\n            var _a, _b, _c;\n            return $fc49a56cd8739127$var$__generator(this, function(_d) {\n                switch(_d.label){\n                    case 0:\n                        return [\n                            4 /*yield*/ ,\n                            this._wavRecorder.record(function(data) {\n                                _this._userAudioCallback(data.mono);\n                            }, this._recorderChunkSize)\n                        ];\n                    case 1:\n                        _d.sent();\n                        track = (_a = this._wavRecorder.stream) === null || _a === void 0 ? void 0 : _a.getAudioTracks()[0];\n                        if (track) (_c = (_b = this._callbacks).onTrackStarted) === null || _c === void 0 || _c.call(_b, track, $fc49a56cd8739127$var$localParticipant());\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    WavMediaManager.prototype._handleAvailableDevicesUpdated = function(devices) {\n        var _a, _b, _c, _d;\n        (_b = (_a = this._callbacks).onAvailableCamsUpdated) === null || _b === void 0 || _b.call(_a, devices.filter(function(d) {\n            return d.kind === \"videoinput\";\n        }));\n        (_d = (_c = this._callbacks).onAvailableMicsUpdated) === null || _d === void 0 || _d.call(_c, devices.filter(function(d) {\n            return d.kind === \"audioinput\";\n        }));\n        // if the current device went away or we're using the default and\n        // the default changed, reset the mic.\n        var defaultDevice = devices.find(function(d) {\n            return d.deviceId === \"default\";\n        });\n        var currentDevice = this._wavRecorder.deviceSelection;\n        if (currentDevice && (!devices.some(function(d) {\n            return d.deviceId === currentDevice.deviceId;\n        }) || currentDevice.deviceId === \"default\" && currentDevice.label !== (defaultDevice === null || defaultDevice === void 0 ? void 0 : defaultDevice.label))) this.updateMic(\"\");\n    };\n    return WavMediaManager;\n}($fc49a56cd8739127$export$4a0c46dbbe2ddb67);\nvar $fc49a56cd8739127$var$localParticipant = function() {\n    return {\n        id: \"local\",\n        name: \"\",\n        local: true\n    };\n};\n\n\n\n\nvar $22ece045290c996a$var$__extends =  false || function() {\n    var extendStatics = function(d, b) {\n        extendStatics = Object.setPrototypeOf || ({\n            __proto__: []\n        }) instanceof Array && function(d, b) {\n            d.__proto__ = b;\n        } || function(d, b) {\n            for(var p in b)if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n        };\n        return extendStatics(d, b);\n    };\n    return function(d, b) {\n        if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nvar $22ece045290c996a$var$__awaiter =  false || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar $22ece045290c996a$var$__generator =  false || function(thisArg, body) {\n    var _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(g && (g = 0, op[0] && (_ = 0)), _)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n};\nvar $22ece045290c996a$export$c95c65abc5f47125 = /** @class */ function(_super) {\n    $22ece045290c996a$var$__extends(DailyMediaManager, _super);\n    function DailyMediaManager(enablePlayer, enableRecording, onTrackStartedCallback, onTrackStoppedCallback, recorderChunkSize, recorderSampleRate, playerSampleRate) {\n        if (enablePlayer === void 0) enablePlayer = true;\n        if (enableRecording === void 0) enableRecording = true;\n        if (recorderChunkSize === void 0) recorderChunkSize = undefined;\n        if (recorderSampleRate === void 0) recorderSampleRate = 24000;\n        if (playerSampleRate === void 0) playerSampleRate = 24000;\n        var _a;\n        var _this = _super.call(this) || this;\n        _this._selectedCam = {};\n        _this._selectedMic = {};\n        _this._selectedSpeaker = {};\n        _this._remoteAudioLevelInterval = null;\n        _this._recorderChunkSize = undefined;\n        _this._initialized = false;\n        _this._connected = false;\n        _this._currentAudioTrack = null;\n        _this._connectResolve = null;\n        _this.onTrackStartedCallback = onTrackStartedCallback;\n        _this.onTrackStoppedCallback = onTrackStoppedCallback;\n        _this._recorderChunkSize = recorderChunkSize;\n        _this._daily = (_a = (0, _daily_co_daily_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]).getCallInstance()) !== null && _a !== void 0 ? _a : (0, _daily_co_daily_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]).createCallObject();\n        if (enableRecording) _this._mediaStreamRecorder = new (0, $5fc11d7bc0d20724$export$2934cf2d25c67a48)({\n            sampleRate: recorderSampleRate\n        });\n        if (enablePlayer) _this._wavStreamPlayer = new (0, $d0a969833958d9e7$export$9698d62c78b8f366)({\n            sampleRate: playerSampleRate\n        });\n        _this._daily.on(\"track-started\", _this.handleTrackStarted.bind(_this));\n        _this._daily.on(\"track-stopped\", _this.handleTrackStopped.bind(_this));\n        _this._daily.on(\"available-devices-updated\", _this._handleAvailableDevicesUpdated.bind(_this));\n        _this._daily.on(\"selected-devices-updated\", _this._handleSelectedDevicesUpdated.bind(_this));\n        _this._daily.on(\"local-audio-level\", _this._handleLocalAudioLevel.bind(_this));\n        return _this;\n    }\n    DailyMediaManager.prototype.initialize = function() {\n        return $22ece045290c996a$var$__awaiter(this, void 0, Promise, function() {\n            var infos, devices, cams, mics, speakers;\n            var _this = this;\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n            return $22ece045290c996a$var$__generator(this, function(_o) {\n                switch(_o.label){\n                    case 0:\n                        if (this._initialized) {\n                            console.warn(\"DailyMediaManager already initialized\");\n                            return [\n                                2 /*return*/ \n                            ];\n                        }\n                        return [\n                            4 /*yield*/ ,\n                            this._daily.startCamera({\n                                startVideoOff: !this._camEnabled,\n                                startAudioOff: !this._micEnabled\n                            })\n                        ];\n                    case 1:\n                        infos = _o.sent();\n                        return [\n                            4 /*yield*/ ,\n                            this._daily.enumerateDevices()\n                        ];\n                    case 2:\n                        devices = _o.sent().devices;\n                        cams = devices.filter(function(d) {\n                            return d.kind === \"videoinput\";\n                        });\n                        mics = devices.filter(function(d) {\n                            return d.kind === \"audioinput\";\n                        });\n                        speakers = devices.filter(function(d) {\n                            return d.kind === \"audiooutput\";\n                        });\n                        (_b = (_a = this._callbacks).onAvailableCamsUpdated) === null || _b === void 0 || _b.call(_a, cams);\n                        (_d = (_c = this._callbacks).onAvailableMicsUpdated) === null || _d === void 0 || _d.call(_c, mics);\n                        (_f = (_e = this._callbacks).onAvailableSpeakersUpdated) === null || _f === void 0 || _f.call(_e, speakers);\n                        this._selectedCam = infos.camera;\n                        (_h = (_g = this._callbacks).onCamUpdated) === null || _h === void 0 || _h.call(_g, infos.camera);\n                        this._selectedMic = infos.mic;\n                        (_k = (_j = this._callbacks).onMicUpdated) === null || _k === void 0 || _k.call(_j, infos.mic);\n                        this._selectedSpeaker = infos.speaker;\n                        (_m = (_l = this._callbacks).onSpeakerUpdated) === null || _m === void 0 || _m.call(_l, infos.speaker);\n                        if (!!this._daily.isLocalAudioLevelObserverRunning()) return [\n                            3 /*break*/ ,\n                            4\n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            this._daily.startLocalAudioLevelObserver(100)\n                        ];\n                    case 3:\n                        _o.sent();\n                        _o.label = 4;\n                    case 4:\n                        if (!this._wavStreamPlayer) return [\n                            3 /*break*/ ,\n                            6\n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            this._wavStreamPlayer.connect()\n                        ];\n                    case 5:\n                        _o.sent();\n                        if (!this._remoteAudioLevelInterval) this._remoteAudioLevelInterval = setInterval(function() {\n                            var _a;\n                            var frequencies = _this._wavStreamPlayer.getFrequencies();\n                            var aveVal = 0;\n                            if ((_a = frequencies.values) === null || _a === void 0 ? void 0 : _a.length) aveVal = frequencies.values.reduce(function(a, c) {\n                                return a + c;\n                            }, 0) / frequencies.values.length;\n                            _this._handleRemoteAudioLevel(aveVal);\n                        }, 100);\n                        _o.label = 6;\n                    case 6:\n                        this._initialized = true;\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    DailyMediaManager.prototype.connect = function() {\n        return $22ece045290c996a$var$__awaiter(this, void 0, Promise, function() {\n            var _this = this;\n            return $22ece045290c996a$var$__generator(this, function(_a) {\n                if (this._connected) {\n                    console.warn(\"DailyMediaManager already connected\");\n                    return [\n                        2 /*return*/ \n                    ];\n                }\n                this._connected = true;\n                if (!this._initialized) return [\n                    2 /*return*/ ,\n                    new Promise(function(resolve) {\n                        (function() {\n                            return $22ece045290c996a$var$__awaiter(_this, void 0, void 0, function() {\n                                return $22ece045290c996a$var$__generator(this, function(_a) {\n                                    switch(_a.label){\n                                        case 0:\n                                            this._connectResolve = resolve;\n                                            return [\n                                                4 /*yield*/ ,\n                                                this.initialize()\n                                            ];\n                                        case 1:\n                                            _a.sent();\n                                            return [\n                                                2 /*return*/ \n                                            ];\n                                    }\n                                });\n                            });\n                        })();\n                    })\n                ];\n                if (this._micEnabled) this._startRecording();\n                return [\n                    2 /*return*/ \n                ];\n            });\n        });\n    };\n    DailyMediaManager.prototype.disconnect = function() {\n        return $22ece045290c996a$var$__awaiter(this, void 0, Promise, function() {\n            var _a, _b;\n            return $22ece045290c996a$var$__generator(this, function(_c) {\n                switch(_c.label){\n                    case 0:\n                        if (this._remoteAudioLevelInterval) clearInterval(this._remoteAudioLevelInterval);\n                        this._remoteAudioLevelInterval = null;\n                        this._daily.leave();\n                        this._currentAudioTrack = null;\n                        return [\n                            4 /*yield*/ ,\n                            (_a = this._mediaStreamRecorder) === null || _a === void 0 ? void 0 : _a.end()\n                        ];\n                    case 1:\n                        _c.sent();\n                        (_b = this._wavStreamPlayer) === null || _b === void 0 || _b.interrupt();\n                        this._initialized = false;\n                        this._connected = false;\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    DailyMediaManager.prototype.userStartedSpeaking = function() {\n        return $22ece045290c996a$var$__awaiter(this, void 0, Promise, function() {\n            var _a;\n            return $22ece045290c996a$var$__generator(this, function(_b) {\n                return [\n                    2 /*return*/ ,\n                    (_a = this._wavStreamPlayer) === null || _a === void 0 ? void 0 : _a.interrupt()\n                ];\n            });\n        });\n    };\n    DailyMediaManager.prototype.bufferBotAudio = function(data, id) {\n        var _a;\n        return (_a = this._wavStreamPlayer) === null || _a === void 0 ? void 0 : _a.add16BitPCM(data, id);\n    };\n    DailyMediaManager.prototype.getAllMics = function() {\n        return $22ece045290c996a$var$__awaiter(this, void 0, Promise, function() {\n            var devices;\n            return $22ece045290c996a$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        return [\n                            4 /*yield*/ ,\n                            this._daily.enumerateDevices()\n                        ];\n                    case 1:\n                        devices = _a.sent().devices;\n                        return [\n                            2 /*return*/ ,\n                            devices.filter(function(device) {\n                                return device.kind === \"audioinput\";\n                            })\n                        ];\n                }\n            });\n        });\n    };\n    DailyMediaManager.prototype.getAllCams = function() {\n        return $22ece045290c996a$var$__awaiter(this, void 0, Promise, function() {\n            var devices;\n            return $22ece045290c996a$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        return [\n                            4 /*yield*/ ,\n                            this._daily.enumerateDevices()\n                        ];\n                    case 1:\n                        devices = _a.sent().devices;\n                        return [\n                            2 /*return*/ ,\n                            devices.filter(function(device) {\n                                return device.kind === \"videoinput\";\n                            })\n                        ];\n                }\n            });\n        });\n    };\n    DailyMediaManager.prototype.getAllSpeakers = function() {\n        return $22ece045290c996a$var$__awaiter(this, void 0, Promise, function() {\n            var devices;\n            return $22ece045290c996a$var$__generator(this, function(_a) {\n                switch(_a.label){\n                    case 0:\n                        return [\n                            4 /*yield*/ ,\n                            this._daily.enumerateDevices()\n                        ];\n                    case 1:\n                        devices = _a.sent().devices;\n                        return [\n                            2 /*return*/ ,\n                            devices.filter(function(device) {\n                                return device.kind === \"audiooutput\";\n                            })\n                        ];\n                }\n            });\n        });\n    };\n    DailyMediaManager.prototype.updateMic = function(micId) {\n        var _this = this;\n        this._daily.setInputDevicesAsync({\n            audioDeviceId: micId\n        }).then(function(deviceInfo) {\n            _this._selectedMic = deviceInfo.mic;\n        });\n    };\n    DailyMediaManager.prototype.updateCam = function(camId) {\n        var _this = this;\n        this._daily.setInputDevicesAsync({\n            videoDeviceId: camId\n        }).then(function(deviceInfo) {\n            _this._selectedCam = deviceInfo.camera;\n        });\n    };\n    DailyMediaManager.prototype.updateSpeaker = function(speakerId) {\n        return $22ece045290c996a$var$__awaiter(this, void 0, Promise, function() {\n            var sID, speakers, defaultSpeaker_1, defaultSpeakerCp;\n            var _this = this;\n            var _a, _b;\n            return $22ece045290c996a$var$__generator(this, function(_c) {\n                switch(_c.label){\n                    case 0:\n                        if (speakerId !== \"default\" && this._selectedSpeaker.deviceId === speakerId) return [\n                            2 /*return*/ \n                        ];\n                        sID = speakerId;\n                        if (!(sID === \"default\")) return [\n                            3 /*break*/ ,\n                            2\n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            this.getAllSpeakers()\n                        ];\n                    case 1:\n                        speakers = _c.sent();\n                        defaultSpeaker_1 = speakers.find(function(s) {\n                            return s.deviceId === \"default\";\n                        });\n                        if (!defaultSpeaker_1) {\n                            console.warn(\"No default speaker found\");\n                            return [\n                                2 /*return*/ \n                            ];\n                        }\n                        speakers.splice(speakers.indexOf(defaultSpeaker_1), 1);\n                        defaultSpeakerCp = speakers.find(function(s) {\n                            return defaultSpeaker_1.label.includes(s.label);\n                        });\n                        sID = (_a = defaultSpeakerCp === null || defaultSpeakerCp === void 0 ? void 0 : defaultSpeakerCp.deviceId) !== null && _a !== void 0 ? _a : speakerId;\n                        _c.label = 2;\n                    case 2:\n                        (_b = this._wavStreamPlayer) === null || _b === void 0 || _b.updateSpeaker(sID).then(function() {\n                            var _a, _b;\n                            _this._selectedSpeaker = {\n                                deviceId: speakerId\n                            };\n                            (_b = (_a = _this._callbacks).onSpeakerUpdated) === null || _b === void 0 || _b.call(_a, _this._selectedSpeaker);\n                        });\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    Object.defineProperty(DailyMediaManager.prototype, \"selectedMic\", {\n        get: function() {\n            return this._selectedMic;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DailyMediaManager.prototype, \"selectedCam\", {\n        get: function() {\n            return this._selectedCam;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DailyMediaManager.prototype, \"selectedSpeaker\", {\n        get: function() {\n            return this._selectedSpeaker;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DailyMediaManager.prototype.enableMic = function(enable) {\n        return $22ece045290c996a$var$__awaiter(this, void 0, Promise, function() {\n            var _a;\n            return $22ece045290c996a$var$__generator(this, function(_b) {\n                this._micEnabled = enable;\n                if (!((_a = this._daily.participants()) === null || _a === void 0 ? void 0 : _a.local)) return [\n                    2 /*return*/ \n                ];\n                this._daily.setLocalAudio(enable);\n                if (this._mediaStreamRecorder) {\n                    if (enable) {\n                        if (this._mediaStreamRecorder.getStatus() === \"paused\") this._startRecording();\n                         // else, we'll record on the track-started event\n                    } else if (this._mediaStreamRecorder.getStatus() === \"recording\") this._mediaStreamRecorder.pause();\n                }\n                return [\n                    2 /*return*/ \n                ];\n            });\n        });\n    };\n    DailyMediaManager.prototype.enableCam = function(enable) {\n        this._camEnabled = enable;\n        this._daily.setLocalVideo(enable);\n    };\n    Object.defineProperty(DailyMediaManager.prototype, \"isCamEnabled\", {\n        get: function() {\n            return this._daily.localVideo();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DailyMediaManager.prototype, \"isMicEnabled\", {\n        get: function() {\n            return this._daily.localAudio();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DailyMediaManager.prototype.tracks = function() {\n        var _a, _b, _c, _d, _e, _f;\n        var participants = this._daily.participants();\n        return {\n            local: {\n                audio: (_c = (_b = (_a = participants === null || participants === void 0 ? void 0 : participants.local) === null || _a === void 0 ? void 0 : _a.tracks) === null || _b === void 0 ? void 0 : _b.audio) === null || _c === void 0 ? void 0 : _c.persistentTrack,\n                video: (_f = (_e = (_d = participants === null || participants === void 0 ? void 0 : participants.local) === null || _d === void 0 ? void 0 : _d.tracks) === null || _e === void 0 ? void 0 : _e.video) === null || _f === void 0 ? void 0 : _f.persistentTrack\n            }\n        };\n    };\n    DailyMediaManager.prototype._startRecording = function() {\n        var _this = this;\n        if (!this._connected || !this._mediaStreamRecorder) return;\n        try {\n            this._mediaStreamRecorder.record(function(data) {\n                _this._userAudioCallback(data.mono);\n            }, this._recorderChunkSize);\n        } catch (e) {\n            var err = e;\n            if (!err.message.includes(\"Already recording\")) console.error(\"Error starting recording\", e);\n        }\n    };\n    DailyMediaManager.prototype._handleAvailableDevicesUpdated = function(event) {\n        var _a, _b, _c, _d, _e, _f;\n        (_b = (_a = this._callbacks).onAvailableCamsUpdated) === null || _b === void 0 || _b.call(_a, event.availableDevices.filter(function(d) {\n            return d.kind === \"videoinput\";\n        }));\n        (_d = (_c = this._callbacks).onAvailableMicsUpdated) === null || _d === void 0 || _d.call(_c, event.availableDevices.filter(function(d) {\n            return d.kind === \"audioinput\";\n        }));\n        (_f = (_e = this._callbacks).onAvailableSpeakersUpdated) === null || _f === void 0 || _f.call(_e, event.availableDevices.filter(function(d) {\n            return d.kind === \"audiooutput\";\n        }));\n        if (this._selectedSpeaker.deviceId === \"default\") this.updateSpeaker(\"default\");\n    };\n    DailyMediaManager.prototype._handleSelectedDevicesUpdated = function(event) {\n        var _a, _b, _c, _d, _e, _f;\n        if (((_a = this._selectedCam) === null || _a === void 0 ? void 0 : _a.deviceId) !== event.devices.camera) {\n            this._selectedCam = event.devices.camera;\n            (_c = (_b = this._callbacks).onCamUpdated) === null || _c === void 0 || _c.call(_b, event.devices.camera);\n        }\n        if (((_d = this._selectedMic) === null || _d === void 0 ? void 0 : _d.deviceId) !== event.devices.mic) {\n            this._selectedMic = event.devices.mic;\n            (_f = (_e = this._callbacks).onMicUpdated) === null || _f === void 0 || _f.call(_e, event.devices.mic);\n        }\n    };\n    DailyMediaManager.prototype._handleLocalAudioLevel = function(ev) {\n        var _a, _b;\n        (_b = (_a = this._callbacks).onLocalAudioLevel) === null || _b === void 0 || _b.call(_a, ev.audioLevel);\n    };\n    DailyMediaManager.prototype._handleRemoteAudioLevel = function(audioLevel) {\n        var _a, _b;\n        (_b = (_a = this._callbacks).onRemoteAudioLevel) === null || _b === void 0 || _b.call(_a, audioLevel, $22ece045290c996a$var$botParticipant());\n    };\n    DailyMediaManager.prototype.handleTrackStarted = function(event) {\n        return $22ece045290c996a$var$__awaiter(this, void 0, void 0, function() {\n            var status, _a;\n            var _b, _c, _d, _e;\n            return $22ece045290c996a$var$__generator(this, function(_f) {\n                switch(_f.label){\n                    case 0:\n                        if (!((_b = event.participant) === null || _b === void 0 ? void 0 : _b.local)) return [\n                            2 /*return*/ \n                        ];\n                        if (!(event.track.kind === \"audio\")) return [\n                            3 /*break*/ ,\n                            10\n                        ];\n                        if (!this._mediaStreamRecorder) return [\n                            3 /*break*/ ,\n                            9\n                        ];\n                        status = this._mediaStreamRecorder.getStatus();\n                        _a = status;\n                        switch(_a){\n                            case \"ended\":\n                                return [\n                                    3 /*break*/ ,\n                                    1\n                                ];\n                            case \"paused\":\n                                return [\n                                    3 /*break*/ ,\n                                    3\n                                ];\n                            case \"recording\":\n                                return [\n                                    3 /*break*/ ,\n                                    4\n                                ];\n                        }\n                        return [\n                            3 /*break*/ ,\n                            4\n                        ];\n                    case 1:\n                        return [\n                            4 /*yield*/ ,\n                            this._mediaStreamRecorder.begin(event.track)\n                        ];\n                    case 2:\n                        _f.sent();\n                        if (this._connected) {\n                            this._startRecording();\n                            if (this._connectResolve) {\n                                this._connectResolve();\n                                this._connectResolve = null;\n                            }\n                        }\n                        return [\n                            3 /*break*/ ,\n                            9\n                        ];\n                    case 3:\n                        this._startRecording();\n                        return [\n                            3 /*break*/ ,\n                            9\n                        ];\n                    case 4:\n                        if (!(this._currentAudioTrack !== event.track)) return [\n                            3 /*break*/ ,\n                            7\n                        ];\n                        return [\n                            4 /*yield*/ ,\n                            this._mediaStreamRecorder.end()\n                        ];\n                    case 5:\n                        _f.sent();\n                        return [\n                            4 /*yield*/ ,\n                            this._mediaStreamRecorder.begin(event.track)\n                        ];\n                    case 6:\n                        _f.sent();\n                        this._startRecording();\n                        return [\n                            3 /*break*/ ,\n                            8\n                        ];\n                    case 7:\n                        console.warn(\"track-started event received for current track and already recording\");\n                        _f.label = 8;\n                    case 8:\n                        return [\n                            3 /*break*/ ,\n                            9\n                        ];\n                    case 9:\n                        this._currentAudioTrack = event.track;\n                        _f.label = 10;\n                    case 10:\n                        (_d = (_c = this._callbacks).onTrackStarted) === null || _d === void 0 || _d.call(_c, event.track, event.participant ? $22ece045290c996a$var$dailyParticipantToParticipant(event.participant) : undefined);\n                        (_e = this.onTrackStartedCallback) === null || _e === void 0 || _e.call(this, event);\n                        return [\n                            2 /*return*/ \n                        ];\n                }\n            });\n        });\n    };\n    DailyMediaManager.prototype.handleTrackStopped = function(event) {\n        var _a, _b, _c, _d;\n        if (!((_a = event.participant) === null || _a === void 0 ? void 0 : _a.local)) return;\n        if (event.track.kind === \"audio\") {\n            if (this._mediaStreamRecorder && this._mediaStreamRecorder.getStatus() === \"recording\") this._mediaStreamRecorder.pause();\n        }\n        (_c = (_b = this._callbacks).onTrackStopped) === null || _c === void 0 || _c.call(_b, event.track, event.participant ? $22ece045290c996a$var$dailyParticipantToParticipant(event.participant) : undefined);\n        (_d = this.onTrackStoppedCallback) === null || _d === void 0 || _d.call(this, event);\n    };\n    return DailyMediaManager;\n}((0, $fc49a56cd8739127$export$4a0c46dbbe2ddb67));\nvar $22ece045290c996a$var$dailyParticipantToParticipant = function(p) {\n    return {\n        id: p.user_id,\n        local: p.local,\n        name: p.user_name\n    };\n};\nvar $22ece045290c996a$var$botParticipant = function() {\n    return {\n        id: \"bot\",\n        local: false,\n        name: \"Bot\"\n    };\n};\n\n\nclass $b31644dc78dca54a$var$TrackStatusMessage {\n    constructor(receiver_index, enabled){\n        this.type = \"trackStatus\";\n        this.receiver_index = receiver_index;\n        this.enabled = enabled;\n    }\n}\nconst $b31644dc78dca54a$var$RENEGOTIATE_TYPE = \"renegotiate\";\nclass $b31644dc78dca54a$var$RenegotiateMessage {\n    constructor(){\n        this.type = $b31644dc78dca54a$var$RENEGOTIATE_TYPE;\n    }\n}\nconst $b31644dc78dca54a$var$PEER_LEFT_TYPE = \"peerLeft\";\nclass $b31644dc78dca54a$var$PeerLeftMessageMessage {\n    constructor(){\n        this.type = $b31644dc78dca54a$var$PEER_LEFT_TYPE;\n    }\n}\n// Interface for the structure of the signalling message\nconst $b31644dc78dca54a$var$SIGNALLING_TYPE = \"signalling\";\nclass $b31644dc78dca54a$var$SignallingMessageObject {\n    constructor(message){\n        this.type = $b31644dc78dca54a$var$SIGNALLING_TYPE;\n        this.message = message;\n    }\n}\nconst $b31644dc78dca54a$var$AUDIO_TRANSCEIVER_INDEX = 0;\nconst $b31644dc78dca54a$var$VIDEO_TRANSCEIVER_INDEX = 1;\nclass $b31644dc78dca54a$export$62043589d053a879 extends (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.Transport) {\n    constructor(opts = {}){\n        super();\n        this._connectionUrl = null;\n        // Trigger when the peer connection is finally ready or in case it has failed all the attempts to connect\n        this._connectResolved = null;\n        this._connectFailed = null;\n        this.pc = null;\n        this.dc = null;\n        this.audioCodec = null;\n        this.videoCodec = null;\n        this.pc_id = null;\n        this.reconnectionAttempts = 0;\n        this.maxReconnectionAttempts = 3;\n        this.isReconnecting = false;\n        this.keepAliveInterval = null;\n        this._iceServers = [];\n        this._iceServers = opts.iceServers || [];\n        this._waitForICEGathering = opts.waitForICEGathering || false;\n        this._connectionUrl = opts.connectionUrl || null;\n        this.audioCodec = opts.audioCodec || null;\n        this.videoCodec = opts.videoCodec || null;\n        this.mediaManager = new (0, $22ece045290c996a$export$c95c65abc5f47125)(false, false, async (event)=>{\n            if (!this.pc) return;\n            if (event.type == \"audio\") {\n                (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).info(\"SmallWebRTCMediaManager replacing audio track\");\n                await this.getAudioTransceiver().sender.replaceTrack(event.track);\n            } else if (event.type == \"video\") {\n                (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).info(\"SmallWebRTCMediaManager replacing video track\");\n                await this.getVideoTransceiver().sender.replaceTrack(event.track);\n            }\n        }, (event)=>(0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(\"SmallWebRTCMediaManager Track stopped:\", event));\n    }\n    initialize(options, messageHandler) {\n        this._options = options;\n        this._callbacks = options.callbacks ?? {};\n        this._onMessage = messageHandler;\n        this.mediaManager.setClientOptions(options);\n        this.state = \"disconnected\";\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(\"[RTVI Transport] Initialized\");\n    }\n    async initDevices() {\n        this.state = \"initializing\";\n        await this.mediaManager.initialize();\n        this.state = \"initialized\";\n    }\n    setAudioCodec(audioCodec) {\n        this.audioCodec = audioCodec;\n    }\n    setVideoCodec(videoCodec) {\n        this.videoCodec = videoCodec;\n    }\n    _validateConnectionParams(connectParams) {\n        if (connectParams === undefined || connectParams === null) return undefined;\n        if (typeof connectParams !== \"object\") throw new (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.RTVIError)(\"Invalid connection parameters\");\n        for (const [key, val] of Object.entries(connectParams)){\n            if (key !== \"connectionUrl\") throw new (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.RTVIError)(`Unrecognized connection parameter: ${key}. Only 'connectionUrl' is allowed.`);\n            else if (typeof val !== \"string\") throw new (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.RTVIError)(`Invalid type for connectionUrl: expected string, got ${typeof val}`);\n        }\n        return connectParams;\n    }\n    async _connect(connectParams) {\n        if (this._abortController?.signal.aborted) return;\n        this.state = \"connecting\";\n        this._connectionUrl = connectParams?.connectionUrl ?? this._connectionUrl;\n        if (!this._connectionUrl) {\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).error(\"No url provided for connection\");\n            this.state = \"error\";\n            throw new (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.TransportStartError)();\n        }\n        await this.mediaManager.connect();\n        await this.startNewPeerConnection();\n        if (this._abortController?.signal.aborted) return;\n        // Wait until we are actually connected and the data channel is ready\n        await new Promise((resolve, reject)=>{\n            this._connectResolved = resolve;\n            this._connectFailed = reject;\n        });\n        this.state = \"connected\";\n        this._callbacks.onConnected?.();\n    }\n    syncTrackStatus() {\n        // Sending the current status from the tracks to Pipecat\n        this.sendSignallingMessage(new $b31644dc78dca54a$var$TrackStatusMessage($b31644dc78dca54a$var$AUDIO_TRANSCEIVER_INDEX, this.mediaManager.isMicEnabled));\n        this.sendSignallingMessage(new $b31644dc78dca54a$var$TrackStatusMessage($b31644dc78dca54a$var$VIDEO_TRANSCEIVER_INDEX, this.mediaManager.isCamEnabled));\n    }\n    sendReadyMessage() {\n        this.state = \"ready\";\n        // Sending message that the client is ready, just for testing\n        //this.dc?.send(JSON.stringify({id: 'clientReady', label: 'rtvi-ai', type:'client-ready'}))\n        this.sendMessage((0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.RTVIMessage).clientReady());\n    }\n    sendMessage(message) {\n        if (!this.dc || this.dc.readyState !== \"open\") {\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).warn(`Datachannel is not ready. Message not sent: ${message}`);\n            return;\n        }\n        this.dc?.send(JSON.stringify(message));\n    }\n    sendSignallingMessage(message) {\n        if (!this.dc || this.dc.readyState !== \"open\") {\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).warn(`Datachannel is not ready. Message not sent: ${message}`);\n            return;\n        }\n        const signallingMessage = new $b31644dc78dca54a$var$SignallingMessageObject(message);\n        this.dc?.send(JSON.stringify(signallingMessage));\n    }\n    async _disconnect() {\n        this.state = \"disconnecting\";\n        await this.stop();\n        this.state = \"disconnected\";\n    }\n    createPeerConnection() {\n        const config = {\n            iceServers: this._iceServers\n        };\n        let pc = new RTCPeerConnection(config);\n        pc.addEventListener(\"icegatheringstatechange\", ()=>{\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(`iceGatheringState: ${this.pc.iceGatheringState}`);\n        });\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(`iceGatheringState: ${pc.iceGatheringState}`);\n        pc.addEventListener(\"iceconnectionstatechange\", ()=>this.handleICEConnectionStateChange());\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(`iceConnectionState: ${pc.iceConnectionState}`);\n        pc.addEventListener(\"signalingstatechange\", ()=>{\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(`signalingState: ${this.pc.signalingState}`);\n            if (this.pc.signalingState == \"stable\") this.handleReconnectionCompleted();\n        });\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(`signalingState: ${pc.signalingState}`);\n        pc.addEventListener(\"track\", (evt)=>{\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(`Received new track ${evt.track.kind}`);\n            this._callbacks.onTrackStarted?.(evt.track);\n        });\n        return pc;\n    }\n    handleICEConnectionStateChange() {\n        if (!this.pc) return;\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(`ICE Connection State: ${this.pc.iceConnectionState}`);\n        if (this.pc.iceConnectionState === \"failed\") {\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(\"ICE connection failed, attempting restart.\");\n            this.attemptReconnection(true);\n        } else if (this.pc.iceConnectionState === \"disconnected\") // Waiting before trying to reconnect to see if it handles it automatically\n        setTimeout(()=>{\n            if (this.pc?.iceConnectionState === \"disconnected\") {\n                (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(\"Still disconnected, attempting reconnection.\");\n                this.attemptReconnection(true);\n            }\n        }, 5000);\n    }\n    handleReconnectionCompleted() {\n        this.reconnectionAttempts = 0;\n        this.isReconnecting = false;\n    }\n    async attemptReconnection(recreatePeerConnection = false) {\n        if (this.isReconnecting) {\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(\"Reconnection already in progress, skipping.\");\n            return;\n        }\n        if (this.reconnectionAttempts >= this.maxReconnectionAttempts) {\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(\"Max reconnection attempts reached. Stopping transport.\");\n            await this.stop();\n            return;\n        }\n        this.isReconnecting = true;\n        this.reconnectionAttempts++;\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(`Reconnection attempt ${this.reconnectionAttempts}...`);\n        // aiortc does not seem to work when just trying to restart the ice\n        // so for this case we create a new peer connection on both sides\n        if (recreatePeerConnection) {\n            const oldPC = this.pc;\n            await this.startNewPeerConnection(recreatePeerConnection);\n            if (oldPC) {\n                (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(\"closing old peer connection\");\n                this.closePeerConnection(oldPC);\n            }\n        } else await this.negotiate();\n    }\n    async negotiate(recreatePeerConnection = false) {\n        if (!this.pc) return Promise.reject(\"Peer connection is not initialized\");\n        try {\n            // Create offer\n            const offer = await this.pc.createOffer();\n            await this.pc.setLocalDescription(offer);\n            // Wait for ICE gathering to complete\n            if (this._waitForICEGathering) await new Promise((resolve)=>{\n                if (this.pc.iceGatheringState === \"complete\") resolve();\n                else {\n                    const checkState = ()=>{\n                        if (this.pc.iceGatheringState === \"complete\") {\n                            this.pc.removeEventListener(\"icegatheringstatechange\", checkState);\n                            resolve();\n                        }\n                    };\n                    this.pc.addEventListener(\"icegatheringstatechange\", checkState);\n                }\n            });\n            let offerSdp = this.pc.localDescription;\n            // Filter audio codec\n            if (this.audioCodec && this.audioCodec !== \"default\") // @ts-ignore\n            offerSdp.sdp = this.sdpFilterCodec(\"audio\", this.audioCodec, offerSdp.sdp);\n            // Filter video codec\n            if (this.videoCodec && this.videoCodec !== \"default\") // @ts-ignore\n            offerSdp.sdp = this.sdpFilterCodec(\"video\", this.videoCodec, offerSdp.sdp);\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(`Will create offer for peerId: ${this.pc_id}`);\n            // Send offer to server\n            const response = await fetch(this._connectionUrl, {\n                body: JSON.stringify({\n                    sdp: offerSdp.sdp,\n                    type: offerSdp.type,\n                    pc_id: this.pc_id,\n                    restart_pc: recreatePeerConnection\n                }),\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                method: \"POST\"\n            });\n            const answer = await response.json();\n            // @ts-ignore\n            this.pc_id = answer.pc_id;\n            // @ts-ignore\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(`Received answer for peer connection id ${answer.pc_id}`);\n            await this.pc.setRemoteDescription(answer);\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(`Remote candidate supports trickle ice: ${this.pc.canTrickleIceCandidates}`);\n        } catch (e) {\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(`Reconnection attempt ${this.reconnectionAttempts} failed: ${e}`);\n            this.isReconnecting = false;\n            setTimeout(()=>this.attemptReconnection(true), 2000);\n        }\n    }\n    addInitialTransceivers() {\n        // Transceivers always appear in creation-order for both peers\n        // For now we are only considering that we are going to have 02 transceivers,\n        // one for audio and one for video\n        this.pc.addTransceiver(\"audio\", {\n            direction: \"sendrecv\"\n        });\n        this.pc.addTransceiver(\"video\", {\n            direction: \"sendrecv\"\n        });\n    }\n    getAudioTransceiver() {\n        // Transceivers always appear in creation-order for both peers\n        // Look at addInitialTransceivers\n        return this.pc.getTransceivers()[$b31644dc78dca54a$var$AUDIO_TRANSCEIVER_INDEX];\n    }\n    getVideoTransceiver() {\n        // Transceivers always appear in creation-order for both peers\n        // Look at addInitialTransceivers\n        return this.pc.getTransceivers()[$b31644dc78dca54a$var$VIDEO_TRANSCEIVER_INDEX];\n    }\n    async startNewPeerConnection(recreatePeerConnection = false) {\n        this.pc = this.createPeerConnection();\n        this.addInitialTransceivers();\n        this.dc = this.createDataChannel(\"chat\", {\n            ordered: true\n        });\n        await this.addUserMedia();\n        await this.negotiate(recreatePeerConnection);\n    }\n    async addUserMedia() {\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(`addUserMedia this.tracks(): ${this.tracks()}`);\n        let audioTrack = this.tracks().local.audio;\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(`addUserMedia audioTrack: ${audioTrack}`);\n        if (audioTrack) await this.getAudioTransceiver().sender.replaceTrack(audioTrack);\n        let videoTrack = this.tracks().local.video;\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(`addUserMedia videoTrack: ${videoTrack}`);\n        if (videoTrack) await this.getVideoTransceiver().sender.replaceTrack(videoTrack);\n    }\n    // Method to handle a general message (this can be expanded for other types of messages)\n    handleMessage(message) {\n        try {\n            const messageObj = JSON.parse(message); // Type is `any` initially\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(\"received message:\", messageObj);\n            // Check if it's a signalling message\n            if (messageObj.type === $b31644dc78dca54a$var$SIGNALLING_TYPE) this.handleSignallingMessage(messageObj); // Delegate to handleSignallingMessage\n            else // Bubble any messages with rtvi-ai label\n            if (messageObj.label === \"rtvi-ai\") this._onMessage({\n                id: messageObj.id,\n                type: messageObj.type,\n                data: messageObj.data\n            });\n        } catch (error) {\n            console.error(\"Failed to parse JSON message:\", error);\n        }\n    }\n    // Method to handle signalling messages specifically\n    async handleSignallingMessage(messageObj) {\n        // Cast the object to the correct type after verification\n        const signallingMessage = messageObj;\n        // Handle different signalling message types\n        switch(signallingMessage.message.type){\n            case $b31644dc78dca54a$var$RENEGOTIATE_TYPE:\n                this.attemptReconnection(false);\n                break;\n            case $b31644dc78dca54a$var$PEER_LEFT_TYPE:\n                this.disconnect();\n                break;\n            default:\n                console.warn(\"Unknown signalling message:\", signallingMessage.message);\n        }\n    }\n    createDataChannel(label, options) {\n        const dc = this.pc.createDataChannel(label, options);\n        dc.addEventListener(\"close\", ()=>{\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(\"datachannel closed\");\n            if (this.keepAliveInterval) {\n                clearInterval(this.keepAliveInterval);\n                this.keepAliveInterval = null;\n            }\n        });\n        dc.addEventListener(\"open\", ()=>{\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(\"datachannel opened\");\n            if (this._connectResolved) {\n                this.syncTrackStatus();\n                this._connectResolved();\n                this._connectResolved = null;\n                this._connectFailed = null;\n            }\n            // @ts-ignore\n            this.keepAliveInterval = setInterval(()=>{\n                const message = \"ping: \" + new Date().getTime();\n                dc.send(message);\n            }, 1000);\n        });\n        dc.addEventListener(\"message\", (evt)=>{\n            let message = evt.data;\n            this.handleMessage(message);\n        });\n        return dc;\n    }\n    closePeerConnection(pc) {\n        pc.getTransceivers().forEach((transceiver)=>{\n            if (transceiver.stop) transceiver.stop();\n        });\n        pc.getSenders().forEach((sender)=>{\n            sender.track?.stop();\n        });\n        pc.close();\n    }\n    async stop() {\n        if (!this.pc) {\n            (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).debug(\"Peer connection is already closed or null.\");\n            return;\n        }\n        if (this.dc) this.dc.close();\n        this.closePeerConnection(this.pc);\n        this.pc = null;\n        await this.mediaManager.disconnect();\n        // For some reason after we close the peer connection, it is not triggering the listeners\n        this.pc_id = null;\n        this.reconnectionAttempts = 0;\n        this.isReconnecting = false;\n        this._callbacks.onDisconnected?.();\n        if (this._connectFailed) this._connectFailed();\n        this._connectFailed = null;\n        this._connectResolved = null;\n    }\n    getAllMics() {\n        return this.mediaManager.getAllMics();\n    }\n    getAllCams() {\n        return this.mediaManager.getAllCams();\n    }\n    getAllSpeakers() {\n        return this.mediaManager.getAllSpeakers();\n    }\n    async updateMic(micId) {\n        return this.mediaManager.updateMic(micId);\n    }\n    updateCam(camId) {\n        return this.mediaManager.updateCam(camId);\n    }\n    updateSpeaker(speakerId) {\n        return this.mediaManager.updateSpeaker(speakerId);\n    }\n    get selectedMic() {\n        return this.mediaManager.selectedMic;\n    }\n    get selectedCam() {\n        return this.mediaManager.selectedCam;\n    }\n    get selectedSpeaker() {\n        return this.mediaManager.selectedSpeaker;\n    }\n    set iceServers(iceServers) {\n        this._iceServers = iceServers;\n    }\n    get iceServers() {\n        return this._iceServers;\n    }\n    enableMic(enable) {\n        this.mediaManager.enableMic(enable);\n        this.sendSignallingMessage(new $b31644dc78dca54a$var$TrackStatusMessage($b31644dc78dca54a$var$AUDIO_TRANSCEIVER_INDEX, enable));\n    }\n    enableCam(enable) {\n        this.mediaManager.enableCam(enable);\n        this.sendSignallingMessage(new $b31644dc78dca54a$var$TrackStatusMessage($b31644dc78dca54a$var$VIDEO_TRANSCEIVER_INDEX, enable));\n    }\n    get isCamEnabled() {\n        return this.mediaManager.isCamEnabled;\n    }\n    get isMicEnabled() {\n        return this.mediaManager.isMicEnabled;\n    }\n    get state() {\n        return this._state;\n    }\n    set state(state) {\n        if (this._state === state) return;\n        this._state = state;\n        this._callbacks.onTransportStateChanged?.(state);\n    }\n    tracks() {\n        return this.mediaManager.tracks();\n    }\n    // Not implemented\n    enableScreenShare(enable) {\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).error(\"startScreenShare not implemented for SmallWebRTCTransport\");\n        throw new Error(\"Not implemented\");\n    }\n    get isSharingScreen() {\n        (0, _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_0__.logger).error(\"isSharingScreen not implemented for SmallWebRTCTransport\");\n        return false;\n    }\n    sdpFilterCodec(kind, codec, realSdp) {\n        const allowed = [];\n        const rtxRegex = new RegExp(\"a=fmtp:(\\\\d+) apt=(\\\\d+)\\\\r$\");\n        const codecRegex = new RegExp(\"a=rtpmap:([0-9]+) \" + this.escapeRegExp(codec));\n        const videoRegex = new RegExp(\"(m=\" + kind + \" .*?)( ([0-9]+))*\\\\s*$\");\n        const lines = realSdp.split(\"\\n\");\n        let isKind = false;\n        for(let i = 0; i < lines.length; i++){\n            if (lines[i].startsWith(\"m=\" + kind + \" \")) isKind = true;\n            else if (lines[i].startsWith(\"m=\")) isKind = false;\n            if (isKind) {\n                const match = lines[i].match(codecRegex);\n                if (match) allowed.push(parseInt(match[1]));\n                const matchRtx = lines[i].match(rtxRegex);\n                if (matchRtx && allowed.includes(parseInt(matchRtx[2]))) allowed.push(parseInt(matchRtx[1]));\n            }\n        }\n        const skipRegex = \"a=(fmtp|rtcp-fb|rtpmap):([0-9]+)\";\n        let sdp = \"\";\n        isKind = false;\n        for(let i = 0; i < lines.length; i++){\n            if (lines[i].startsWith(\"m=\" + kind + \" \")) isKind = true;\n            else if (lines[i].startsWith(\"m=\")) isKind = false;\n            if (isKind) {\n                const skipMatch = lines[i].match(skipRegex);\n                if (skipMatch && !allowed.includes(parseInt(skipMatch[2]))) continue;\n                else if (lines[i].match(videoRegex)) sdp += lines[i].replace(videoRegex, \"$1 \" + allowed.join(\" \")) + \"\\n\";\n                else sdp += lines[i] + \"\\n\";\n            } else sdp += lines[i] + \"\\n\";\n        }\n        return sdp;\n    }\n    escapeRegExp(string) {\n        return string.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n    }\n}\n$b31644dc78dca54a$export$62043589d053a879.SERVICE_NAME = \"small-webrtc-transport\";\n\n\n\n\n\n//# sourceMappingURL=index.module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BwaXBlY2F0LWFpL3NtYWxsLXdlYnJ0Yy10cmFuc3BvcnQvZGlzdC9pbmRleC5tb2R1bGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtOO0FBQzNKOzs7QUFHdkQ7QUFDQSwrQkFBK0IscURBQXFEO0FBQ3BGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixjQUFjLE1BQU07QUFDcEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsY0FBYztBQUMzQixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIseUJBQXlCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxhQUFhO0FBQzFCLGFBQWEsYUFBYTtBQUMxQixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGNBQWMseUVBQXlFO0FBQ3ZGLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwrREFBK0Q7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQSxzQ0FBc0MsTUFBZ0M7QUFDdEU7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxzQ0FBc0MsTUFBZ0M7QUFDdEU7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esd0NBQXdDLE1BQWtDO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0Esc0NBQXNDLE1BQWdDO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsc0NBQXNDLE1BQWdDO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHdDQUF3QyxNQUFrQztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELDREQUFnQjtBQUM1RSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx5REFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxZQUFZLHlEQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixrQkFBa0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtCQUFrQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7Ozs7O0FBSzJFO0FBQzNFIiwic291cmNlcyI6WyIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9ub2RlX21vZHVsZXMvQHBpcGVjYXQtYWkvc21hbGwtd2VicnRjLXRyYW5zcG9ydC9kaXN0L2luZGV4Lm1vZHVsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2xvZ2dlciBhcyAkOTl3VFYkbG9nZ2VyLCBSVFZJRXJyb3IgYXMgJDk5d1RWJFJUVklFcnJvciwgVHJhbnNwb3J0U3RhcnRFcnJvciBhcyAkOTl3VFYkVHJhbnNwb3J0U3RhcnRFcnJvciwgUlRWSU1lc3NhZ2UgYXMgJDk5d1RWJFJUVklNZXNzYWdlLCBUcmFuc3BvcnQgYXMgJDk5d1RWJFRyYW5zcG9ydH0gZnJvbSBcIkBwaXBlY2F0LWFpL2NsaWVudC1qc1wiO1xuaW1wb3J0ICQ5OXdUViRkYWlseWNvZGFpbHlqcyBmcm9tIFwiQGRhaWx5LWNvL2RhaWx5LWpzXCI7XG5cblxuZnVuY3Rpb24gJHBhcmNlbCRleHBvcnQoZSwgbiwgdiwgcykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgbiwge2dldDogdiwgc2V0OiBzLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9KTtcbn1cbnZhciAkYjMxNjQ0ZGM3OGRjYTU0YSRleHBvcnRzID0ge307XG5cbiRwYXJjZWwkZXhwb3J0KCRiMzE2NDRkYzc4ZGNhNTRhJGV4cG9ydHMsIFwiU21hbGxXZWJSVENUcmFuc3BvcnRcIiwgKCkgPT4gJGIzMTY0NGRjNzhkY2E1NGEkZXhwb3J0JDYyMDQzNTg5ZDA1M2E4NzkpO1xuXG4vKipcbiAqIFJhdyB3YXYgYXVkaW8gZmlsZSBjb250ZW50c1xuICogQHR5cGVkZWYge09iamVjdH0gV2F2UGFja2VyQXVkaW9UeXBlXG4gKiBAcHJvcGVydHkge0Jsb2J9IGJsb2JcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB1cmxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjaGFubmVsQ291bnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzYW1wbGVSYXRlXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHVyYXRpb25cbiAqLyAvKipcbiAqIFV0aWxpdHkgY2xhc3MgZm9yIGFzc2VtYmxpbmcgUENNMTYgXCJhdWRpby93YXZcIiBkYXRhXG4gKiBAY2xhc3NcbiAqLyBjbGFzcyAkNmQ0Yjc0NDlhMWUxNTQ0YSRleHBvcnQkMTNhZmRhMjM3YjFjOTg0NiB7XG4gICAgLyoqXG4gICAqIENvbnZlcnRzIEZsb2F0MzJBcnJheSBvZiBhbXBsaXR1ZGUgZGF0YSB0byBBcnJheUJ1ZmZlciBpbiBJbnQxNkFycmF5IGZvcm1hdFxuICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gZmxvYXQzMkFycmF5XG4gICAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn1cbiAgICovIHN0YXRpYyBmbG9hdFRvMTZCaXRQQ00oZmxvYXQzMkFycmF5KSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihmbG9hdDMyQXJyYXkubGVuZ3RoICogMik7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyKTtcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBmbG9hdDMyQXJyYXkubGVuZ3RoOyBpKyssIG9mZnNldCArPSAyKXtcbiAgICAgICAgICAgIGxldCBzID0gTWF0aC5tYXgoLTEsIE1hdGgubWluKDEsIGZsb2F0MzJBcnJheVtpXSkpO1xuICAgICAgICAgICAgdmlldy5zZXRJbnQxNihvZmZzZXQsIHMgPCAwID8gcyAqIDB4ODAwMCA6IHMgKiAweDdmZmYsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfVxuICAgIC8qKlxuICAgKiBDb25jYXRlbmF0ZXMgdHdvIEFycmF5QnVmZmVyc1xuICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBsZWZ0QnVmZmVyXG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IHJpZ2h0QnVmZmVyXG4gICAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn1cbiAgICovIHN0YXRpYyBtZXJnZUJ1ZmZlcnMobGVmdEJ1ZmZlciwgcmlnaHRCdWZmZXIpIHtcbiAgICAgICAgY29uc3QgdG1wQXJyYXkgPSBuZXcgVWludDhBcnJheShsZWZ0QnVmZmVyLmJ5dGVMZW5ndGggKyByaWdodEJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgICAgICAgdG1wQXJyYXkuc2V0KG5ldyBVaW50OEFycmF5KGxlZnRCdWZmZXIpLCAwKTtcbiAgICAgICAgdG1wQXJyYXkuc2V0KG5ldyBVaW50OEFycmF5KHJpZ2h0QnVmZmVyKSwgbGVmdEJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHRtcEFycmF5LmJ1ZmZlcjtcbiAgICB9XG4gICAgLyoqXG4gICAqIFBhY2tzIGRhdGEgaW50byBhbiBJbnQxNiBmb3JtYXRcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgMCA9IDF4IEludDE2LCAxID0gMnggSW50MTZcbiAgICogQHBhcmFtIHtudW1iZXJ9IGFyZyB2YWx1ZSB0byBwYWNrXG4gICAqIEByZXR1cm5zXG4gICAqLyBfcGFja0RhdGEoc2l6ZSwgYXJnKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAgICAgYXJnLFxuICAgICAgICAgICAgICAgIGFyZyA+PiA4XG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgICAgICBhcmcsXG4gICAgICAgICAgICAgICAgYXJnID4+IDgsXG4gICAgICAgICAgICAgICAgYXJnID4+IDE2LFxuICAgICAgICAgICAgICAgIGFyZyA+PiAyNFxuICAgICAgICAgICAgXSlcbiAgICAgICAgXVtzaXplXTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFBhY2tzIGF1ZGlvIGludG8gXCJhdWRpby93YXZcIiBCbG9iXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzYW1wbGVSYXRlXG4gICAqIEBwYXJhbSB7e2JpdHNQZXJTYW1wbGU6IG51bWJlciwgY2hhbm5lbHM6IEFycmF5PEZsb2F0MzJBcnJheT4sIGRhdGE6IEludDE2QXJyYXl9fSBhdWRpb1xuICAgKiBAcmV0dXJucyB7V2F2UGFja2VyQXVkaW9UeXBlfVxuICAgKi8gcGFjayhzYW1wbGVSYXRlLCBhdWRpbykge1xuICAgICAgICBpZiAoIWF1ZGlvPy5iaXRzUGVyU2FtcGxlKSB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgXCJiaXRzUGVyU2FtcGxlXCJgKTtcbiAgICAgICAgZWxzZSBpZiAoIWF1ZGlvPy5jaGFubmVscykgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIFwiY2hhbm5lbHNcImApO1xuICAgICAgICBlbHNlIGlmICghYXVkaW8/LmRhdGEpIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBcImRhdGFcImApO1xuICAgICAgICBjb25zdCB7IGJpdHNQZXJTYW1wbGU6IGJpdHNQZXJTYW1wbGUsIGNoYW5uZWxzOiBjaGFubmVscywgZGF0YTogZGF0YSB9ID0gYXVkaW87XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IFtcbiAgICAgICAgICAgIC8vIEhlYWRlclxuICAgICAgICAgICAgJ1JJRkYnLFxuICAgICAgICAgICAgdGhpcy5fcGFja0RhdGEoMSwgNTIpLFxuICAgICAgICAgICAgJ1dBVkUnLFxuICAgICAgICAgICAgLy8gY2h1bmsgMVxuICAgICAgICAgICAgJ2ZtdCAnLFxuICAgICAgICAgICAgdGhpcy5fcGFja0RhdGEoMSwgMTYpLFxuICAgICAgICAgICAgdGhpcy5fcGFja0RhdGEoMCwgMSksXG4gICAgICAgICAgICB0aGlzLl9wYWNrRGF0YSgwLCBjaGFubmVscy5sZW5ndGgpLFxuICAgICAgICAgICAgdGhpcy5fcGFja0RhdGEoMSwgc2FtcGxlUmF0ZSksXG4gICAgICAgICAgICB0aGlzLl9wYWNrRGF0YSgxLCBzYW1wbGVSYXRlICogY2hhbm5lbHMubGVuZ3RoICogYml0c1BlclNhbXBsZSAvIDgpLFxuICAgICAgICAgICAgdGhpcy5fcGFja0RhdGEoMCwgY2hhbm5lbHMubGVuZ3RoICogYml0c1BlclNhbXBsZSAvIDgpLFxuICAgICAgICAgICAgdGhpcy5fcGFja0RhdGEoMCwgYml0c1BlclNhbXBsZSksXG4gICAgICAgICAgICAvLyBjaHVuayAyXG4gICAgICAgICAgICAnZGF0YScsXG4gICAgICAgICAgICB0aGlzLl9wYWNrRGF0YSgxLCBjaGFubmVsc1swXS5sZW5ndGggKiBjaGFubmVscy5sZW5ndGggKiBiaXRzUGVyU2FtcGxlIC8gOCksXG4gICAgICAgICAgICBkYXRhXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihvdXRwdXQsIHtcbiAgICAgICAgICAgIHR5cGU6ICdhdWRpby9tcGVnJ1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJsb2I6IGJsb2IsXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudDogY2hhbm5lbHMubGVuZ3RoLFxuICAgICAgICAgICAgc2FtcGxlUmF0ZTogc2FtcGxlUmF0ZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBkYXRhLmJ5dGVMZW5ndGggLyAoY2hhbm5lbHMubGVuZ3RoICogc2FtcGxlUmF0ZSAqIDIpXG4gICAgICAgIH07XG4gICAgfVxufVxuZ2xvYmFsVGhpcy5XYXZQYWNrZXIgPSAkNmQ0Yjc0NDlhMWUxNTQ0YSRleHBvcnQkMTNhZmRhMjM3YjFjOTg0NjtcblxuXG4vKipcbiAqIENvbnN0YW50cyBmb3IgaGVscCB3aXRoIHZpc3VhbGl6YXRpb25cbiAqIEhlbHBzIG1hcCBmcmVxdWVuY3kgcmFuZ2VzIGZyb20gRmFzdCBGb3VyaWVyIFRyYW5zZm9ybVxuICogdG8gaHVtYW4taW50ZXJwcmV0YWJsZSByYW5nZXMsIG5vdGFibHkgbXVzaWMgcmFuZ2VzIGFuZFxuICogaHVtYW4gdm9jYWwgcmFuZ2VzLlxuICovIC8vIEVpZ2h0aCBvY3RhdmUgZnJlcXVlbmNpZXNcbmNvbnN0ICQwM2Y3MWNlODVlMDBhZGE2JHZhciRvY3RhdmU4RnJlcXVlbmNpZXMgPSBbXG4gICAgNDE4Ni4wMSxcbiAgICA0NDM0LjkyLFxuICAgIDQ2OTguNjMsXG4gICAgNDk3OC4wMyxcbiAgICA1Mjc0LjA0LFxuICAgIDU1ODcuNjUsXG4gICAgNTkxOS45MSxcbiAgICA2MjcxLjkzLFxuICAgIDY2NDQuODgsXG4gICAgNzA0MC4wLFxuICAgIDc0NTguNjIsXG4gICAgNzkwMi4xM1xuXTtcbi8vIExhYmVscyBmb3IgZWFjaCBvZiB0aGUgYWJvdmUgZnJlcXVlbmNpZXNcbmNvbnN0ICQwM2Y3MWNlODVlMDBhZGE2JHZhciRvY3RhdmU4RnJlcXVlbmN5TGFiZWxzID0gW1xuICAgICdDJyxcbiAgICAnQyMnLFxuICAgICdEJyxcbiAgICAnRCMnLFxuICAgICdFJyxcbiAgICAnRicsXG4gICAgJ0YjJyxcbiAgICAnRycsXG4gICAgJ0cjJyxcbiAgICAnQScsXG4gICAgJ0EjJyxcbiAgICAnQidcbl07XG5jb25zdCAkMDNmNzFjZTg1ZTAwYWRhNiRleHBvcnQkNzc2YzYzODk4YWU1YjYzNiA9IFtdO1xuY29uc3QgJDAzZjcxY2U4NWUwMGFkYTYkZXhwb3J0JGZhY2QxNjdjYzI3ZWE5YjAgPSBbXTtcbmZvcihsZXQgaSA9IDE7IGkgPD0gODsgaSsrKWZvcihsZXQgZiA9IDA7IGYgPCAkMDNmNzFjZTg1ZTAwYWRhNiR2YXIkb2N0YXZlOEZyZXF1ZW5jaWVzLmxlbmd0aDsgZisrKXtcbiAgICBjb25zdCBmcmVxID0gJDAzZjcxY2U4NWUwMGFkYTYkdmFyJG9jdGF2ZThGcmVxdWVuY2llc1tmXTtcbiAgICAkMDNmNzFjZTg1ZTAwYWRhNiRleHBvcnQkNzc2YzYzODk4YWU1YjYzNi5wdXNoKGZyZXEgLyBNYXRoLnBvdygyLCA4IC0gaSkpO1xuICAgICQwM2Y3MWNlODVlMDBhZGE2JGV4cG9ydCRmYWNkMTY3Y2MyN2VhOWIwLnB1c2goJDAzZjcxY2U4NWUwMGFkYTYkdmFyJG9jdGF2ZThGcmVxdWVuY3lMYWJlbHNbZl0gKyBpKTtcbn1cbi8qKlxuICogU3Vic2V0IG9mIHRoZSBub3RlIGZyZXF1ZW5jaWVzIGJldHdlZW4gMzIgYW5kIDIwMDAgSHpcbiAqIDYgb2N0YXZlIHJhbmdlOiBDMSB0byBCNlxuICovIGNvbnN0ICQwM2Y3MWNlODVlMDBhZGE2JHZhciR2b2ljZUZyZXF1ZW5jeVJhbmdlID0gW1xuICAgIDMyLjAsXG4gICAgMjAwMC4wXG5dO1xuY29uc3QgJDAzZjcxY2U4NWUwMGFkYTYkZXhwb3J0JGRiYzE1ODFlZDJjZmExODMgPSAkMDNmNzFjZTg1ZTAwYWRhNiRleHBvcnQkNzc2YzYzODk4YWU1YjYzNi5maWx0ZXIoKF8sIGkpPT57XG4gICAgcmV0dXJuICQwM2Y3MWNlODVlMDBhZGE2JGV4cG9ydCQ3NzZjNjM4OThhZTViNjM2W2ldID4gJDAzZjcxY2U4NWUwMGFkYTYkdmFyJHZvaWNlRnJlcXVlbmN5UmFuZ2VbMF0gJiYgJDAzZjcxY2U4NWUwMGFkYTYkZXhwb3J0JDc3NmM2Mzg5OGFlNWI2MzZbaV0gPCAkMDNmNzFjZTg1ZTAwYWRhNiR2YXIkdm9pY2VGcmVxdWVuY3lSYW5nZVsxXTtcbn0pO1xuY29uc3QgJDAzZjcxY2U4NWUwMGFkYTYkZXhwb3J0JDMwYTZmMjg4MTMxMTA4OGYgPSAkMDNmNzFjZTg1ZTAwYWRhNiRleHBvcnQkZmFjZDE2N2NjMjdlYTliMC5maWx0ZXIoKF8sIGkpPT57XG4gICAgcmV0dXJuICQwM2Y3MWNlODVlMDBhZGE2JGV4cG9ydCQ3NzZjNjM4OThhZTViNjM2W2ldID4gJDAzZjcxY2U4NWUwMGFkYTYkdmFyJHZvaWNlRnJlcXVlbmN5UmFuZ2VbMF0gJiYgJDAzZjcxY2U4NWUwMGFkYTYkZXhwb3J0JDc3NmM2Mzg5OGFlNWI2MzZbaV0gPCAkMDNmNzFjZTg1ZTAwYWRhNiR2YXIkdm9pY2VGcmVxdWVuY3lSYW5nZVsxXTtcbn0pO1xuXG5cbmNsYXNzICRmMzJmMDY0NTY0ZWU2MmY2JGV4cG9ydCQyYzMxMzZkYTBiZjEzMGY5IHtcbiAgICAvKipcbiAgICogUmV0cmlldmVzIGZyZXF1ZW5jeSBkb21haW4gZGF0YSBmcm9tIGFuIEFuYWx5c2VyTm9kZSBhZGp1c3RlZCB0byBhIGRlY2liZWwgcmFuZ2VcbiAgICogcmV0dXJucyBodW1hbi1yZWFkYWJsZSBmb3JtYXR0aW5nIGFuZCBsYWJlbHNcbiAgICogQHBhcmFtIHtBbmFseXNlck5vZGV9IGFuYWx5c2VyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzYW1wbGVSYXRlXG4gICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbZmZ0UmVzdWx0XVxuICAgKiBAcGFyYW0ge1wiZnJlcXVlbmN5XCJ8XCJtdXNpY1wifFwidm9pY2VcIn0gW2FuYWx5c2lzVHlwZV1cbiAgICogQHBhcmFtIHtudW1iZXJ9IFttaW5EZWNpYmVsc10gZGVmYXVsdCAtMTAwXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4RGVjaWJlbHNdIGRlZmF1bHQgLTMwXG4gICAqIEByZXR1cm5zIHtBdWRpb0FuYWx5c2lzT3V0cHV0VHlwZX1cbiAgICovIHN0YXRpYyBnZXRGcmVxdWVuY2llcyhhbmFseXNlciwgc2FtcGxlUmF0ZSwgZmZ0UmVzdWx0LCBhbmFseXNpc1R5cGUgPSAnZnJlcXVlbmN5JywgbWluRGVjaWJlbHMgPSAtMTAwLCBtYXhEZWNpYmVscyA9IC0zMCkge1xuICAgICAgICBpZiAoIWZmdFJlc3VsdCkge1xuICAgICAgICAgICAgZmZ0UmVzdWx0ID0gbmV3IEZsb2F0MzJBcnJheShhbmFseXNlci5mcmVxdWVuY3lCaW5Db3VudCk7XG4gICAgICAgICAgICBhbmFseXNlci5nZXRGbG9hdEZyZXF1ZW5jeURhdGEoZmZ0UmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBueXF1aXN0RnJlcXVlbmN5ID0gc2FtcGxlUmF0ZSAvIDI7XG4gICAgICAgIGNvbnN0IGZyZXF1ZW5jeVN0ZXAgPSAxIC8gZmZ0UmVzdWx0Lmxlbmd0aCAqIG55cXVpc3RGcmVxdWVuY3k7XG4gICAgICAgIGxldCBvdXRwdXRWYWx1ZXM7XG4gICAgICAgIGxldCBmcmVxdWVuY2llcztcbiAgICAgICAgbGV0IGxhYmVscztcbiAgICAgICAgaWYgKGFuYWx5c2lzVHlwZSA9PT0gJ211c2ljJyB8fCBhbmFseXNpc1R5cGUgPT09ICd2b2ljZScpIHtcbiAgICAgICAgICAgIGNvbnN0IHVzZUZyZXF1ZW5jaWVzID0gYW5hbHlzaXNUeXBlID09PSAndm9pY2UnID8gKDAsICQwM2Y3MWNlODVlMDBhZGE2JGV4cG9ydCRkYmMxNTgxZWQyY2ZhMTgzKSA6ICgwLCAkMDNmNzFjZTg1ZTAwYWRhNiRleHBvcnQkNzc2YzYzODk4YWU1YjYzNik7XG4gICAgICAgICAgICBjb25zdCBhZ2dyZWdhdGVPdXRwdXQgPSBBcnJheSh1c2VGcmVxdWVuY2llcy5sZW5ndGgpLmZpbGwobWluRGVjaWJlbHMpO1xuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGZmdFJlc3VsdC5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgY29uc3QgZnJlcXVlbmN5ID0gaSAqIGZyZXF1ZW5jeVN0ZXA7XG4gICAgICAgICAgICAgICAgY29uc3QgYW1wbGl0dWRlID0gZmZ0UmVzdWx0W2ldO1xuICAgICAgICAgICAgICAgIGZvcihsZXQgbiA9IHVzZUZyZXF1ZW5jaWVzLmxlbmd0aCAtIDE7IG4gPj0gMDsgbi0tKWlmIChmcmVxdWVuY3kgPiB1c2VGcmVxdWVuY2llc1tuXSkge1xuICAgICAgICAgICAgICAgICAgICBhZ2dyZWdhdGVPdXRwdXRbbl0gPSBNYXRoLm1heChhZ2dyZWdhdGVPdXRwdXRbbl0sIGFtcGxpdHVkZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dHB1dFZhbHVlcyA9IGFnZ3JlZ2F0ZU91dHB1dDtcbiAgICAgICAgICAgIGZyZXF1ZW5jaWVzID0gYW5hbHlzaXNUeXBlID09PSAndm9pY2UnID8gKDAsICQwM2Y3MWNlODVlMDBhZGE2JGV4cG9ydCRkYmMxNTgxZWQyY2ZhMTgzKSA6ICgwLCAkMDNmNzFjZTg1ZTAwYWRhNiRleHBvcnQkNzc2YzYzODk4YWU1YjYzNik7XG4gICAgICAgICAgICBsYWJlbHMgPSBhbmFseXNpc1R5cGUgPT09ICd2b2ljZScgPyAoMCwgJDAzZjcxY2U4NWUwMGFkYTYkZXhwb3J0JDMwYTZmMjg4MTMxMTA4OGYpIDogKDAsICQwM2Y3MWNlODVlMDBhZGE2JGV4cG9ydCRmYWNkMTY3Y2MyN2VhOWIwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG91dHB1dFZhbHVlcyA9IEFycmF5LmZyb20oZmZ0UmVzdWx0KTtcbiAgICAgICAgICAgIGZyZXF1ZW5jaWVzID0gb3V0cHV0VmFsdWVzLm1hcCgoXywgaSk9PmZyZXF1ZW5jeVN0ZXAgKiBpKTtcbiAgICAgICAgICAgIGxhYmVscyA9IGZyZXF1ZW5jaWVzLm1hcCgoZik9PmAke2YudG9GaXhlZCgyKX0gSHpgKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBub3JtYWxpemUgdG8gezAsIDF9XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRPdXRwdXQgPSBvdXRwdXRWYWx1ZXMubWFwKCh2KT0+e1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKCh2IC0gbWluRGVjaWJlbHMpIC8gKG1heERlY2liZWxzIC0gbWluRGVjaWJlbHMpLCAxKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBuZXcgRmxvYXQzMkFycmF5KG5vcm1hbGl6ZWRPdXRwdXQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICAgICAgICBmcmVxdWVuY2llczogZnJlcXVlbmNpZXMsXG4gICAgICAgICAgICBsYWJlbHM6IGxhYmVsc1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBBdWRpb0FuYWx5c2lzIGluc3RhbmNlIGZvciBhbiBIVE1MQXVkaW9FbGVtZW50XG4gICAqIEBwYXJhbSB7SFRNTEF1ZGlvRWxlbWVudH0gYXVkaW9FbGVtZW50XG4gICAqIEBwYXJhbSB7QXVkaW9CdWZmZXJ8bnVsbH0gW2F1ZGlvQnVmZmVyXSBJZiBwcm92aWRlZCwgd2lsbCBjYWNoZSBhbGwgZnJlcXVlbmN5IGRvbWFpbiBkYXRhIGZyb20gdGhlIGJ1ZmZlclxuICAgKiBAcmV0dXJucyB7QXVkaW9BbmFseXNpc31cbiAgICovIGNvbnN0cnVjdG9yKGF1ZGlvRWxlbWVudCwgYXVkaW9CdWZmZXIgPSBudWxsKXtcbiAgICAgICAgdGhpcy5mZnRSZXN1bHRzID0gW107XG4gICAgICAgIGlmIChhdWRpb0J1ZmZlcikge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgKiBNb2RpZmllZCBmcm9tXG4gICAgICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83NTA2MzcxNS91c2luZy10aGUtd2ViLWF1ZGlvLWFwaS10by1hbmFseXplLWEtc29uZy13aXRob3V0LXBsYXlpbmdcbiAgICAgICAqXG4gICAgICAgKiBXZSBkbyB0aGlzIHRvIHBvcHVsYXRlIEZGVCB2YWx1ZXMgZm9yIHRoZSBhdWRpbyBpZiBwcm92aWRlZCBhbiBgYXVkaW9CdWZmZXJgXG4gICAgICAgKiBUaGUgcmVhc29uIHRvIGRvIHRoaXMgaXMgdGhhdCBTYWZhcmkgZmFpbHMgd2hlbiB1c2luZyBgY3JlYXRlTWVkaWFFbGVtZW50U291cmNlYFxuICAgICAgICogVGhpcyBoYXMgYSBub24temVybyBSQU0gY29zdCBzbyB3ZSBvbmx5IG9wdC1pbiB0byBydW4gaXQgb24gU2FmYXJpLCBDaHJvbWUgaXMgYmV0dGVyXG4gICAgICAgKi8gY29uc3QgeyBsZW5ndGg6IGxlbmd0aCwgc2FtcGxlUmF0ZTogc2FtcGxlUmF0ZSB9ID0gYXVkaW9CdWZmZXI7XG4gICAgICAgICAgICBjb25zdCBvZmZsaW5lQXVkaW9Db250ZXh0ID0gbmV3IE9mZmxpbmVBdWRpb0NvbnRleHQoe1xuICAgICAgICAgICAgICAgIGxlbmd0aDogbGVuZ3RoLFxuICAgICAgICAgICAgICAgIHNhbXBsZVJhdGU6IHNhbXBsZVJhdGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gb2ZmbGluZUF1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICAgICAgICAgIHNvdXJjZS5idWZmZXIgPSBhdWRpb0J1ZmZlcjtcbiAgICAgICAgICAgIGNvbnN0IGFuYWx5c2VyID0gb2ZmbGluZUF1ZGlvQ29udGV4dC5jcmVhdGVBbmFseXNlcigpO1xuICAgICAgICAgICAgYW5hbHlzZXIuZmZ0U2l6ZSA9IDgxOTI7XG4gICAgICAgICAgICBhbmFseXNlci5zbW9vdGhpbmdUaW1lQ29uc3RhbnQgPSAwLjE7XG4gICAgICAgICAgICBzb3VyY2UuY29ubmVjdChhbmFseXNlcik7XG4gICAgICAgICAgICAvLyBsaW1pdCBpcyA6OiAxMjggLyBzYW1wbGVSYXRlO1xuICAgICAgICAgICAgLy8gYnV0IHdlIGp1c3Qgd2FudCA2MGZwcyAtIGN1dHMgfjFzIGZyb20gNk1CIHRvIDFNQiBvZiBSQU1cbiAgICAgICAgICAgIGNvbnN0IHJlbmRlclF1YW50dW1JblNlY29uZHMgPSAxIC8gNjA7XG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvbkluU2Vjb25kcyA9IGxlbmd0aCAvIHNhbXBsZVJhdGU7XG4gICAgICAgICAgICBjb25zdCBhbmFseXplID0gKGluZGV4KT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1c3BlbmRUaW1lID0gcmVuZGVyUXVhbnR1bUluU2Vjb25kcyAqIGluZGV4O1xuICAgICAgICAgICAgICAgIGlmIChzdXNwZW5kVGltZSA8IGR1cmF0aW9uSW5TZWNvbmRzKSBvZmZsaW5lQXVkaW9Db250ZXh0LnN1c3BlbmQoc3VzcGVuZFRpbWUpLnRoZW4oKCk9PntcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmZ0UmVzdWx0ID0gbmV3IEZsb2F0MzJBcnJheShhbmFseXNlci5mcmVxdWVuY3lCaW5Db3VudCk7XG4gICAgICAgICAgICAgICAgICAgIGFuYWx5c2VyLmdldEZsb2F0RnJlcXVlbmN5RGF0YShmZnRSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZmdFJlc3VsdHMucHVzaChmZnRSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICBhbmFseXplKGluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAxKSBvZmZsaW5lQXVkaW9Db250ZXh0LnN0YXJ0UmVuZGVyaW5nKCk7XG4gICAgICAgICAgICAgICAgZWxzZSBvZmZsaW5lQXVkaW9Db250ZXh0LnJlc3VtZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNvdXJjZS5zdGFydCgwKTtcbiAgICAgICAgICAgIGFuYWx5emUoMSk7XG4gICAgICAgICAgICB0aGlzLmF1ZGlvID0gYXVkaW9FbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gb2ZmbGluZUF1ZGlvQ29udGV4dDtcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXIgPSBhbmFseXNlcjtcbiAgICAgICAgICAgIHRoaXMuc2FtcGxlUmF0ZSA9IHNhbXBsZVJhdGU7XG4gICAgICAgICAgICB0aGlzLmF1ZGlvQnVmZmVyID0gYXVkaW9CdWZmZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBhdWRpb0NvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gICAgICAgICAgICBjb25zdCB0cmFjayA9IGF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UoYXVkaW9FbGVtZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGFuYWx5c2VyID0gYXVkaW9Db250ZXh0LmNyZWF0ZUFuYWx5c2VyKCk7XG4gICAgICAgICAgICBhbmFseXNlci5mZnRTaXplID0gODE5MjtcbiAgICAgICAgICAgIGFuYWx5c2VyLnNtb290aGluZ1RpbWVDb25zdGFudCA9IDAuMTtcbiAgICAgICAgICAgIHRyYWNrLmNvbm5lY3QoYW5hbHlzZXIpO1xuICAgICAgICAgICAgYW5hbHlzZXIuY29ubmVjdChhdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgdGhpcy5hdWRpbyA9IGF1ZGlvRWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IGF1ZGlvQ29udGV4dDtcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXIgPSBhbmFseXNlcjtcbiAgICAgICAgICAgIHRoaXMuc2FtcGxlUmF0ZSA9IHRoaXMuY29udGV4dC5zYW1wbGVSYXRlO1xuICAgICAgICAgICAgdGhpcy5hdWRpb0J1ZmZlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgZnJlcXVlbmN5IGRvbWFpbiBkYXRhIGZyb20gdGhlIHBsYXlpbmcgYXVkaW8gdHJhY2tcbiAgICogQHBhcmFtIHtcImZyZXF1ZW5jeVwifFwibXVzaWNcInxcInZvaWNlXCJ9IFthbmFseXNpc1R5cGVdXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWluRGVjaWJlbHNdIGRlZmF1bHQgLTEwMFxuICAgKiBAcGFyYW0ge251bWJlcn0gW21heERlY2liZWxzXSBkZWZhdWx0IC0zMFxuICAgKiBAcmV0dXJucyB7QXVkaW9BbmFseXNpc091dHB1dFR5cGV9XG4gICAqLyBnZXRGcmVxdWVuY2llcyhhbmFseXNpc1R5cGUgPSAnZnJlcXVlbmN5JywgbWluRGVjaWJlbHMgPSAtMTAwLCBtYXhEZWNpYmVscyA9IC0zMCkge1xuICAgICAgICBsZXQgZmZ0UmVzdWx0ID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9CdWZmZXIgJiYgdGhpcy5mZnRSZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgcGN0ID0gdGhpcy5hdWRpby5jdXJyZW50VGltZSAvIHRoaXMuYXVkaW8uZHVyYXRpb247XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IE1hdGgubWluKHBjdCAqIHRoaXMuZmZ0UmVzdWx0cy5sZW5ndGggfCAwLCB0aGlzLmZmdFJlc3VsdHMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBmZnRSZXN1bHQgPSB0aGlzLmZmdFJlc3VsdHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkZjMyZjA2NDU2NGVlNjJmNiRleHBvcnQkMmMzMTM2ZGEwYmYxMzBmOS5nZXRGcmVxdWVuY2llcyh0aGlzLmFuYWx5c2VyLCB0aGlzLnNhbXBsZVJhdGUsIGZmdFJlc3VsdCwgYW5hbHlzaXNUeXBlLCBtaW5EZWNpYmVscywgbWF4RGVjaWJlbHMpO1xuICAgIH1cbiAgICAvKipcbiAgICogUmVzdW1lIHRoZSBpbnRlcm5hbCBBdWRpb0NvbnRleHQgaWYgaXQgd2FzIHN1c3BlbmRlZCBkdWUgdG8gdGhlIGxhY2sgb2ZcbiAgICogdXNlciBpbnRlcmFjdGlvbiB3aGVuIHRoZSBBdWRpb0FuYWx5c2lzIHdhcyBpbnN0YW50aWF0ZWQuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHRydWU+fVxuICAgKi8gYXN5bmMgcmVzdW1lSWZTdXNwZW5kZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQuc3RhdGUgPT09ICdzdXNwZW5kZWQnKSBhd2FpdCB0aGlzLmNvbnRleHQucmVzdW1lKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbmdsb2JhbFRoaXMuQXVkaW9BbmFseXNpcyA9ICRmMzJmMDY0NTY0ZWU2MmY2JGV4cG9ydCQyYzMxMzZkYTBiZjEzMGY5O1xuXG5cbmNvbnN0ICQyOWE4YTcwYTk0NjZiMTRmJGV4cG9ydCQ1MGI3NjcwMGUyYjE1ZTkgPSBgXG5jbGFzcyBTdHJlYW1Qcm9jZXNzb3IgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaGFzU3RhcnRlZCA9IGZhbHNlO1xuICAgIHRoaXMuaGFzSW50ZXJydXB0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLm91dHB1dEJ1ZmZlcnMgPSBbXTtcbiAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IDEyODtcbiAgICB0aGlzLndyaXRlID0geyBidWZmZXI6IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5idWZmZXJMZW5ndGgpLCB0cmFja0lkOiBudWxsIH07XG4gICAgdGhpcy53cml0ZU9mZnNldCA9IDA7XG4gICAgdGhpcy50cmFja1NhbXBsZU9mZnNldHMgPSB7fTtcbiAgICB0aGlzLnBvcnQub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZGF0YSkge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gZXZlbnQuZGF0YTtcbiAgICAgICAgaWYgKHBheWxvYWQuZXZlbnQgPT09ICd3cml0ZScpIHtcbiAgICAgICAgICBjb25zdCBpbnQxNkFycmF5ID0gcGF5bG9hZC5idWZmZXI7XG4gICAgICAgICAgY29uc3QgZmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShpbnQxNkFycmF5Lmxlbmd0aCk7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnQxNkFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmbG9hdDMyQXJyYXlbaV0gPSBpbnQxNkFycmF5W2ldIC8gMHg4MDAwOyAvLyBDb252ZXJ0IEludDE2IHRvIEZsb2F0MzJcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy53cml0ZURhdGEoZmxvYXQzMkFycmF5LCBwYXlsb2FkLnRyYWNrSWQpO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHBheWxvYWQuZXZlbnQgPT09ICdvZmZzZXQnIHx8XG4gICAgICAgICAgcGF5bG9hZC5ldmVudCA9PT0gJ2ludGVycnVwdCdcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgcmVxdWVzdElkID0gcGF5bG9hZC5yZXF1ZXN0SWQ7XG4gICAgICAgICAgY29uc3QgdHJhY2tJZCA9IHRoaXMud3JpdGUudHJhY2tJZDtcbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLnRyYWNrU2FtcGxlT2Zmc2V0c1t0cmFja0lkXSB8fCAwO1xuICAgICAgICAgIHRoaXMucG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBldmVudDogJ29mZnNldCcsXG4gICAgICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgICAgICB0cmFja0lkLFxuICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChwYXlsb2FkLmV2ZW50ID09PSAnaW50ZXJydXB0Jykge1xuICAgICAgICAgICAgdGhpcy5oYXNJbnRlcnJ1cHRlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcXGBVbmhhbmRsZWQgZXZlbnQgXCJcXCR7cGF5bG9hZC5ldmVudH1cIlxcYCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgd3JpdGVEYXRhKGZsb2F0MzJBcnJheSwgdHJhY2tJZCA9IG51bGwpIHtcbiAgICBsZXQgeyBidWZmZXIgfSA9IHRoaXMud3JpdGU7XG4gICAgbGV0IG9mZnNldCA9IHRoaXMud3JpdGVPZmZzZXQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbG9hdDMyQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBmbG9hdDMyQXJyYXlbaV07XG4gICAgICBpZiAob2Zmc2V0ID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5vdXRwdXRCdWZmZXJzLnB1c2godGhpcy53cml0ZSk7XG4gICAgICAgIHRoaXMud3JpdGUgPSB7IGJ1ZmZlcjogbmV3IEZsb2F0MzJBcnJheSh0aGlzLmJ1ZmZlckxlbmd0aCksIHRyYWNrSWQgfTtcbiAgICAgICAgYnVmZmVyID0gdGhpcy53cml0ZS5idWZmZXI7XG4gICAgICAgIG9mZnNldCA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMud3JpdGVPZmZzZXQgPSBvZmZzZXQ7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBwcm9jZXNzKGlucHV0cywgb3V0cHV0cywgcGFyYW1ldGVycykge1xuICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07XG4gICAgY29uc3Qgb3V0cHV0Q2hhbm5lbERhdGEgPSBvdXRwdXRbMF07XG4gICAgY29uc3Qgb3V0cHV0QnVmZmVycyA9IHRoaXMub3V0cHV0QnVmZmVycztcbiAgICBpZiAodGhpcy5oYXNJbnRlcnJ1cHRlZCkge1xuICAgICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKHsgZXZlbnQ6ICdzdG9wJyB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKG91dHB1dEJ1ZmZlcnMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmhhc1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgY29uc3QgeyBidWZmZXIsIHRyYWNrSWQgfSA9IG91dHB1dEJ1ZmZlcnMuc2hpZnQoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0cHV0Q2hhbm5lbERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgb3V0cHV0Q2hhbm5lbERhdGFbaV0gPSBidWZmZXJbaV0gfHwgMDtcbiAgICAgIH1cbiAgICAgIGlmICh0cmFja0lkKSB7XG4gICAgICAgIHRoaXMudHJhY2tTYW1wbGVPZmZzZXRzW3RyYWNrSWRdID1cbiAgICAgICAgICB0aGlzLnRyYWNrU2FtcGxlT2Zmc2V0c1t0cmFja0lkXSB8fCAwO1xuICAgICAgICB0aGlzLnRyYWNrU2FtcGxlT2Zmc2V0c1t0cmFja0lkXSArPSBidWZmZXIubGVuZ3RoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLmhhc1N0YXJ0ZWQpIHtcbiAgICAgIHRoaXMucG9ydC5wb3N0TWVzc2FnZSh7IGV2ZW50OiAnc3RvcCcgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5yZWdpc3RlclByb2Nlc3Nvcignc3RyZWFtX3Byb2Nlc3NvcicsIFN0cmVhbVByb2Nlc3Nvcik7XG5gO1xuY29uc3QgJDI5YThhNzBhOTQ2NmIxNGYkdmFyJHNjcmlwdCA9IG5ldyBCbG9iKFtcbiAgICAkMjlhOGE3MGE5NDY2YjE0ZiRleHBvcnQkNTBiNzY3MDBlMmIxNWU5XG5dLCB7XG4gICAgdHlwZTogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnXG59KTtcbmNvbnN0ICQyOWE4YTcwYTk0NjZiMTRmJHZhciRzcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKCQyOWE4YTcwYTk0NjZiMTRmJHZhciRzY3JpcHQpO1xuY29uc3QgJDI5YThhNzBhOTQ2NmIxNGYkZXhwb3J0JGJmYThjNTk2MTE0ZDc0ZGYgPSAkMjlhOGE3MGE5NDY2YjE0ZiR2YXIkc3JjO1xuXG5cblxuY2xhc3MgJGQwYTk2OTgzMzk1OGQ5ZTckZXhwb3J0JDk2OThkNjJjNzhiOGYzNjYge1xuICAgIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFdhdlN0cmVhbVBsYXllciBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge3tzYW1wbGVSYXRlPzogbnVtYmVyfX0gb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7V2F2U3RyZWFtUGxheWVyfVxuICAgKi8gY29uc3RydWN0b3IoeyBzYW1wbGVSYXRlOiBzYW1wbGVSYXRlID0gNDQxMDAgfSA9IHt9KXtcbiAgICAgICAgdGhpcy5zY3JpcHRTcmMgPSAoMCwgJDI5YThhNzBhOTQ2NmIxNGYkZXhwb3J0JGJmYThjNTk2MTE0ZDc0ZGYpO1xuICAgICAgICB0aGlzLnNhbXBsZVJhdGUgPSBzYW1wbGVSYXRlO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLnN0cmVhbSA9IG51bGw7XG4gICAgICAgIHRoaXMuYW5hbHlzZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnRyYWNrU2FtcGxlT2Zmc2V0cyA9IHt9O1xuICAgICAgICB0aGlzLmludGVycnVwdGVkVHJhY2tJZHMgPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAqIENvbm5lY3RzIHRoZSBhdWRpbyBjb250ZXh0IGFuZCBlbmFibGVzIG91dHB1dCB0byBzcGVha2Vyc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx0cnVlPn1cbiAgICovIGFzeW5jIGNvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoe1xuICAgICAgICAgICAgc2FtcGxlUmF0ZTogdGhpcy5zYW1wbGVSYXRlXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGhpcy5fc3BlYWtlcklEKSB0aGlzLmNvbnRleHQuc2V0U2lua0lkKHRoaXMuX3NwZWFrZXJJRCk7XG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQuc3RhdGUgPT09IFwic3VzcGVuZGVkXCIpIGF3YWl0IHRoaXMuY29udGV4dC5yZXN1bWUoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY29udGV4dC5hdWRpb1dvcmtsZXQuYWRkTW9kdWxlKHRoaXMuc2NyaXB0U3JjKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGFkZCBhdWRpb1dvcmtsZXQgbW9kdWxlOiAke3RoaXMuc2NyaXB0U3JjfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFuYWx5c2VyID0gdGhpcy5jb250ZXh0LmNyZWF0ZUFuYWx5c2VyKCk7XG4gICAgICAgIGFuYWx5c2VyLmZmdFNpemUgPSA4MTkyO1xuICAgICAgICBhbmFseXNlci5zbW9vdGhpbmdUaW1lQ29uc3RhbnQgPSAwLjE7XG4gICAgICAgIHRoaXMuYW5hbHlzZXIgPSBhbmFseXNlcjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IGZyZXF1ZW5jeSBkb21haW4gZGF0YSBmcm9tIHRoZSBwbGF5aW5nIHRyYWNrXG4gICAqIEBwYXJhbSB7XCJmcmVxdWVuY3lcInxcIm11c2ljXCJ8XCJ2b2ljZVwifSBbYW5hbHlzaXNUeXBlXVxuICAgKiBAcGFyYW0ge251bWJlcn0gW21pbkRlY2liZWxzXSBkZWZhdWx0IC0xMDBcbiAgICogQHBhcmFtIHtudW1iZXJ9IFttYXhEZWNpYmVsc10gZGVmYXVsdCAtMzBcbiAgICogQHJldHVybnMge2ltcG9ydCgnLi9hbmFseXNpcy9hdWRpb19hbmFseXNpcy5qcycpLkF1ZGlvQW5hbHlzaXNPdXRwdXRUeXBlfVxuICAgKi8gZ2V0RnJlcXVlbmNpZXMoYW5hbHlzaXNUeXBlID0gXCJmcmVxdWVuY3lcIiwgbWluRGVjaWJlbHMgPSAtMTAwLCBtYXhEZWNpYmVscyA9IC0zMCkge1xuICAgICAgICBpZiAoIXRoaXMuYW5hbHlzZXIpIHRocm93IG5ldyBFcnJvcihcIk5vdCBjb25uZWN0ZWQsIHBsZWFzZSBjYWxsIC5jb25uZWN0KCkgZmlyc3RcIik7XG4gICAgICAgIHJldHVybiAoMCwgJGYzMmYwNjQ1NjRlZTYyZjYkZXhwb3J0JDJjMzEzNmRhMGJmMTMwZjkpLmdldEZyZXF1ZW5jaWVzKHRoaXMuYW5hbHlzZXIsIHRoaXMuc2FtcGxlUmF0ZSwgbnVsbCwgYW5hbHlzaXNUeXBlLCBtaW5EZWNpYmVscywgbWF4RGVjaWJlbHMpO1xuICAgIH1cbiAgICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNwZWFrZXIgZGV2aWNlSWRcbiAgICovIGFzeW5jIHVwZGF0ZVNwZWFrZXIoc3BlYWtlcikge1xuICAgICAgICBjb25zdCBfcHJldlNwZWFrZXIgPSB0aGlzLl9zcGVha2VySUQ7XG4gICAgICAgIHRoaXMuX3NwZWFrZXJJRCA9IHNwZWFrZXI7XG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQpIHRyeSB7XG4gICAgICAgICAgICBpZiAoc3BlYWtlciA9PT0gXCJkZWZhdWx0XCIpIGF3YWl0IHRoaXMuY29udGV4dC5zZXRTaW5rSWQoKTtcbiAgICAgICAgICAgIGVsc2UgYXdhaXQgdGhpcy5jb250ZXh0LnNldFNpbmtJZChzcGVha2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IHNldCBzaW5rSWQgdG8gJHtzcGVha2VyfTogJHtlfWApO1xuICAgICAgICAgICAgdGhpcy5fc3BlYWtlcklEID0gX3ByZXZTcGVha2VyO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgKiBTdGFydHMgYXVkaW8gc3RyZWFtaW5nXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHRydWU+fVxuICAgKi8gX3N0YXJ0KCkge1xuICAgICAgICBjb25zdCBzdHJlYW1Ob2RlID0gbmV3IEF1ZGlvV29ya2xldE5vZGUodGhpcy5jb250ZXh0LCBcInN0cmVhbV9wcm9jZXNzb3JcIik7XG4gICAgICAgIHN0cmVhbU5vZGUuY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICBzdHJlYW1Ob2RlLnBvcnQub25tZXNzYWdlID0gKGUpPT57XG4gICAgICAgICAgICBjb25zdCB7IGV2ZW50OiBldmVudCB9ID0gZS5kYXRhO1xuICAgICAgICAgICAgaWYgKGV2ZW50ID09PSBcInN0b3BcIikge1xuICAgICAgICAgICAgICAgIHN0cmVhbU5vZGUuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09IFwib2Zmc2V0XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHJlcXVlc3RJZDogcmVxdWVzdElkLCB0cmFja0lkOiB0cmFja0lkLCBvZmZzZXQ6IG9mZnNldCB9ID0gZS5kYXRhO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gb2Zmc2V0IC8gdGhpcy5zYW1wbGVSYXRlO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2tTYW1wbGVPZmZzZXRzW3JlcXVlc3RJZF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrSWQ6IHRyYWNrSWQsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGltZTogY3VycmVudFRpbWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFuYWx5c2VyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgc3RyZWFtTm9kZS5jb25uZWN0KHRoaXMuYW5hbHlzZXIpO1xuICAgICAgICB0aGlzLnN0cmVhbSA9IHN0cmVhbU5vZGU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICogQWRkcyAxNkJpdFBDTSBkYXRhIHRvIHRoZSBjdXJyZW50bHkgcGxheWluZyBhdWRpbyBzdHJlYW1cbiAgICogWW91IGNhbiBhZGQgY2h1bmtzIGJleW9uZCB0aGUgY3VycmVudCBwbGF5IHBvaW50IGFuZCB0aGV5IHdpbGwgYmUgcXVldWVkIGZvciBwbGF5XG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ8SW50MTZBcnJheX0gYXJyYXlCdWZmZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt0cmFja0lkXVxuICAgKiBAcmV0dXJucyB7SW50MTZBcnJheX1cbiAgICovIGFkZDE2Qml0UENNKGFycmF5QnVmZmVyLCB0cmFja0lkID0gXCJkZWZhdWx0XCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0cmFja0lkICE9PSBcInN0cmluZ1wiKSB0aHJvdyBuZXcgRXJyb3IoYHRyYWNrSWQgbXVzdCBiZSBhIHN0cmluZ2ApO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmludGVycnVwdGVkVHJhY2tJZHNbdHJhY2tJZF0pIHJldHVybjtcbiAgICAgICAgaWYgKCF0aGlzLnN0cmVhbSkgdGhpcy5fc3RhcnQoKTtcbiAgICAgICAgbGV0IGJ1ZmZlcjtcbiAgICAgICAgaWYgKGFycmF5QnVmZmVyIGluc3RhbmNlb2YgSW50MTZBcnJheSkgYnVmZmVyID0gYXJyYXlCdWZmZXI7XG4gICAgICAgIGVsc2UgaWYgKGFycmF5QnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIGJ1ZmZlciA9IG5ldyBJbnQxNkFycmF5KGFycmF5QnVmZmVyKTtcbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoYGFyZ3VtZW50IG11c3QgYmUgSW50MTZBcnJheSBvciBBcnJheUJ1ZmZlcmApO1xuICAgICAgICB0aGlzLnN0cmVhbS5wb3J0LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGV2ZW50OiBcIndyaXRlXCIsXG4gICAgICAgICAgICBidWZmZXI6IGJ1ZmZlcixcbiAgICAgICAgICAgIHRyYWNrSWQ6IHRyYWNrSWRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfVxuICAgIC8qKlxuICAgKiBHZXRzIHRoZSBvZmZzZXQgKHNhbXBsZSBjb3VudCkgb2YgdGhlIGN1cnJlbnRseSBwbGF5aW5nIHN0cmVhbVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbnRlcnJ1cHRdXG4gICAqIEByZXR1cm5zIHt7dHJhY2tJZDogc3RyaW5nfG51bGwsIG9mZnNldDogbnVtYmVyLCBjdXJyZW50VGltZTogbnVtYmVyfX1cbiAgICovIGFzeW5jIGdldFRyYWNrU2FtcGxlT2Zmc2V0KGludGVycnVwdCA9IGZhbHNlKSB7XG4gICAgICAgIGlmICghdGhpcy5zdHJlYW0pIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCByZXF1ZXN0SWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICAgICAgICB0aGlzLnN0cmVhbS5wb3J0LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGV2ZW50OiBpbnRlcnJ1cHQgPyBcImludGVycnVwdFwiIDogXCJvZmZzZXRcIixcbiAgICAgICAgICAgIHJlcXVlc3RJZDogcmVxdWVzdElkXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgdHJhY2tTYW1wbGVPZmZzZXQ7XG4gICAgICAgIHdoaWxlKCF0cmFja1NhbXBsZU9mZnNldCl7XG4gICAgICAgICAgICB0cmFja1NhbXBsZU9mZnNldCA9IHRoaXMudHJhY2tTYW1wbGVPZmZzZXRzW3JlcXVlc3RJZF07XG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocik9PnNldFRpbWVvdXQoKCk9PnIoKSwgMSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgdHJhY2tJZDogdHJhY2tJZCB9ID0gdHJhY2tTYW1wbGVPZmZzZXQ7XG4gICAgICAgIGlmIChpbnRlcnJ1cHQgJiYgdHJhY2tJZCkgdGhpcy5pbnRlcnJ1cHRlZFRyYWNrSWRzW3RyYWNrSWRdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRyYWNrU2FtcGxlT2Zmc2V0O1xuICAgIH1cbiAgICAvKipcbiAgICogU3RyaXBzIHRoZSBjdXJyZW50IHN0cmVhbSBhbmQgcmV0dXJucyB0aGUgc2FtcGxlIG9mZnNldCBvZiB0aGUgYXVkaW9cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW50ZXJydXB0XVxuICAgKiBAcmV0dXJucyB7e3RyYWNrSWQ6IHN0cmluZ3xudWxsLCBvZmZzZXQ6IG51bWJlciwgY3VycmVudFRpbWU6IG51bWJlcn19XG4gICAqLyBhc3luYyBpbnRlcnJ1cHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRyYWNrU2FtcGxlT2Zmc2V0KHRydWUpO1xuICAgIH1cbn1cbmdsb2JhbFRoaXMuV2F2U3RyZWFtUGxheWVyID0gJGQwYTk2OTgzMzk1OGQ5ZTckZXhwb3J0JDk2OThkNjJjNzhiOGYzNjY7XG5cblxuY29uc3QgJDhlMWQxZTZmZjA4ZjZmYjUkdmFyJEF1ZGlvUHJvY2Vzc29yV29ya2xldCA9IGBcbmNsYXNzIEF1ZGlvUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMucG9ydC5vbm1lc3NhZ2UgPSB0aGlzLnJlY2VpdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgfVxuXG4gIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy5mb3VuZEF1ZGlvID0gZmFsc2U7XG4gICAgdGhpcy5yZWNvcmRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmNodW5rcyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbmNhdGVuYXRlcyBzYW1wbGVkIGNodW5rcyBpbnRvIGNoYW5uZWxzXG4gICAqIEZvcm1hdCBpcyBjaHVua1tMZWZ0W10sIFJpZ2h0W11dXG4gICAqL1xuICByZWFkQ2hhbm5lbERhdGEoY2h1bmtzLCBjaGFubmVsID0gLTEsIG1heENoYW5uZWxzID0gOSkge1xuICAgIGxldCBjaGFubmVsTGltaXQ7XG4gICAgaWYgKGNoYW5uZWwgIT09IC0xKSB7XG4gICAgICBpZiAoY2h1bmtzWzBdICYmIGNodW5rc1swXS5sZW5ndGggLSAxIDwgY2hhbm5lbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXFxgQ2hhbm5lbCBcXCR7Y2hhbm5lbH0gb3V0IG9mIHJhbmdlOiBtYXggXFwke2NodW5rc1swXS5sZW5ndGh9XFxgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjaGFubmVsTGltaXQgPSBjaGFubmVsICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hhbm5lbCA9IDA7XG4gICAgICBjaGFubmVsTGltaXQgPSBNYXRoLm1pbihjaHVua3NbMF0gPyBjaHVua3NbMF0ubGVuZ3RoIDogMSwgbWF4Q2hhbm5lbHMpO1xuICAgIH1cbiAgICBjb25zdCBjaGFubmVscyA9IFtdO1xuICAgIGZvciAobGV0IG4gPSBjaGFubmVsOyBuIDwgY2hhbm5lbExpbWl0OyBuKyspIHtcbiAgICAgIGNvbnN0IGxlbmd0aCA9IGNodW5rcy5yZWR1Y2UoKHN1bSwgY2h1bmspID0+IHtcbiAgICAgICAgcmV0dXJuIHN1bSArIGNodW5rW25dLmxlbmd0aDtcbiAgICAgIH0sIDApO1xuICAgICAgY29uc3QgYnVmZmVycyA9IGNodW5rcy5tYXAoKGNodW5rKSA9PiBjaHVua1tuXSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBuZXcgRmxvYXQzMkFycmF5KGxlbmd0aCk7XG4gICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXN1bHQuc2V0KGJ1ZmZlcnNbaV0sIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSBidWZmZXJzW2ldLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGNoYW5uZWxzW25dID0gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gY2hhbm5lbHM7XG4gIH1cblxuICAvKipcbiAgICogQ29tYmluZXMgcGFyYWxsZWwgYXVkaW8gZGF0YSBpbnRvIGNvcnJlY3QgZm9ybWF0LFxuICAgKiBjaGFubmVsc1tMZWZ0W10sIFJpZ2h0W11dIHRvIGZsb2F0MzJBcnJheVtMUkxSTFJMUi4uLl1cbiAgICovXG4gIGZvcm1hdEF1ZGlvRGF0YShjaGFubmVscykge1xuICAgIGlmIChjaGFubmVscy5sZW5ndGggPT09IDEpIHtcbiAgICAgIC8vIFNpbXBsZSBjYXNlIGlzIG9ubHkgb25lIGNoYW5uZWxcbiAgICAgIGNvbnN0IGZsb2F0MzJBcnJheSA9IGNoYW5uZWxzWzBdLnNsaWNlKCk7XG4gICAgICBjb25zdCBtZWFuVmFsdWVzID0gY2hhbm5lbHNbMF0uc2xpY2UoKTtcbiAgICAgIHJldHVybiB7IGZsb2F0MzJBcnJheSwgbWVhblZhbHVlcyB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBmbG9hdDMyQXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KFxuICAgICAgICBjaGFubmVsc1swXS5sZW5ndGggKiBjaGFubmVscy5sZW5ndGhcbiAgICAgICk7XG4gICAgICBjb25zdCBtZWFuVmFsdWVzID0gbmV3IEZsb2F0MzJBcnJheShjaGFubmVsc1swXS5sZW5ndGgpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFubmVsc1swXS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBpICogY2hhbm5lbHMubGVuZ3RoO1xuICAgICAgICBsZXQgbWVhblZhbHVlID0gMDtcbiAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBjaGFubmVscy5sZW5ndGg7IG4rKykge1xuICAgICAgICAgIGZsb2F0MzJBcnJheVtvZmZzZXQgKyBuXSA9IGNoYW5uZWxzW25dW2ldO1xuICAgICAgICAgIG1lYW5WYWx1ZSArPSBjaGFubmVsc1tuXVtpXTtcbiAgICAgICAgfVxuICAgICAgICBtZWFuVmFsdWVzW2ldID0gbWVhblZhbHVlIC8gY2hhbm5lbHMubGVuZ3RoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgZmxvYXQzMkFycmF5LCBtZWFuVmFsdWVzIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIDMyLWJpdCBmbG9hdCBkYXRhIHRvIDE2LWJpdCBpbnRlZ2Vyc1xuICAgKi9cbiAgZmxvYXRUbzE2Qml0UENNKGZsb2F0MzJBcnJheSkge1xuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihmbG9hdDMyQXJyYXkubGVuZ3RoICogMik7XG4gICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpO1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmxvYXQzMkFycmF5Lmxlbmd0aDsgaSsrLCBvZmZzZXQgKz0gMikge1xuICAgICAgbGV0IHMgPSBNYXRoLm1heCgtMSwgTWF0aC5taW4oMSwgZmxvYXQzMkFycmF5W2ldKSk7XG4gICAgICB2aWV3LnNldEludDE2KG9mZnNldCwgcyA8IDAgPyBzICogMHg4MDAwIDogcyAqIDB4N2ZmZiwgdHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBidWZmZXI7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBtb3N0IHJlY2VudCBhbXBsaXR1ZGUgdmFsdWVzIGZyb20gdGhlIGF1ZGlvIHN0cmVhbVxuICAgKiBAcGFyYW0ge251bWJlcn0gY2hhbm5lbFxuICAgKi9cbiAgZ2V0VmFsdWVzKGNoYW5uZWwgPSAtMSkge1xuICAgIGNvbnN0IGNoYW5uZWxzID0gdGhpcy5yZWFkQ2hhbm5lbERhdGEodGhpcy5jaHVua3MsIGNoYW5uZWwpO1xuICAgIGNvbnN0IHsgbWVhblZhbHVlcyB9ID0gdGhpcy5mb3JtYXRBdWRpb0RhdGEoY2hhbm5lbHMpO1xuICAgIHJldHVybiB7IG1lYW5WYWx1ZXMsIGNoYW5uZWxzIH07XG4gIH1cblxuICAvKipcbiAgICogRXhwb3J0cyBjaHVua3MgYXMgYW4gYXVkaW8vd2F2IGZpbGVcbiAgICovXG4gIGV4cG9ydCgpIHtcbiAgICBjb25zdCBjaGFubmVscyA9IHRoaXMucmVhZENoYW5uZWxEYXRhKHRoaXMuY2h1bmtzKTtcbiAgICBjb25zdCB7IGZsb2F0MzJBcnJheSwgbWVhblZhbHVlcyB9ID0gdGhpcy5mb3JtYXRBdWRpb0RhdGEoY2hhbm5lbHMpO1xuICAgIGNvbnN0IGF1ZGlvRGF0YSA9IHRoaXMuZmxvYXRUbzE2Qml0UENNKGZsb2F0MzJBcnJheSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1lYW5WYWx1ZXM6IG1lYW5WYWx1ZXMsXG4gICAgICBhdWRpbzoge1xuICAgICAgICBiaXRzUGVyU2FtcGxlOiAxNixcbiAgICAgICAgY2hhbm5lbHM6IGNoYW5uZWxzLFxuICAgICAgICBkYXRhOiBhdWRpb0RhdGEsXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICByZWNlaXZlKGUpIHtcbiAgICBjb25zdCB7IGV2ZW50LCBpZCB9ID0gZS5kYXRhO1xuICAgIGxldCByZWNlaXB0RGF0YSA9IHt9O1xuICAgIHN3aXRjaCAoZXZlbnQpIHtcbiAgICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgICAgdGhpcy5yZWNvcmRpbmcgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3N0b3AnOlxuICAgICAgICB0aGlzLnJlY29yZGluZyA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2NsZWFyJzpcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZXhwb3J0JzpcbiAgICAgICAgcmVjZWlwdERhdGEgPSB0aGlzLmV4cG9ydCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlYWQnOlxuICAgICAgICByZWNlaXB0RGF0YSA9IHRoaXMuZ2V0VmFsdWVzKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIEFsd2F5cyBzZW5kIGJhY2sgcmVjZWlwdFxuICAgIHRoaXMucG9ydC5wb3N0TWVzc2FnZSh7IGV2ZW50OiAncmVjZWlwdCcsIGlkLCBkYXRhOiByZWNlaXB0RGF0YSB9KTtcbiAgfVxuXG4gIHNlbmRDaHVuayhjaHVuaykge1xuICAgIGNvbnN0IGNoYW5uZWxzID0gdGhpcy5yZWFkQ2hhbm5lbERhdGEoW2NodW5rXSk7XG4gICAgY29uc3QgeyBmbG9hdDMyQXJyYXksIG1lYW5WYWx1ZXMgfSA9IHRoaXMuZm9ybWF0QXVkaW9EYXRhKGNoYW5uZWxzKTtcbiAgICBjb25zdCByYXdBdWRpb0RhdGEgPSB0aGlzLmZsb2F0VG8xNkJpdFBDTShmbG9hdDMyQXJyYXkpO1xuICAgIGNvbnN0IG1vbm9BdWRpb0RhdGEgPSB0aGlzLmZsb2F0VG8xNkJpdFBDTShtZWFuVmFsdWVzKTtcbiAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2Uoe1xuICAgICAgZXZlbnQ6ICdjaHVuaycsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIG1vbm86IG1vbm9BdWRpb0RhdGEsXG4gICAgICAgIHJhdzogcmF3QXVkaW9EYXRhLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHByb2Nlc3MoaW5wdXRMaXN0LCBvdXRwdXRMaXN0LCBwYXJhbWV0ZXJzKSB7XG4gICAgLy8gQ29weSBpbnB1dCB0byBvdXRwdXQgKGUuZy4gc3BlYWtlcnMpXG4gICAgLy8gTm90ZSB0aGF0IHRoaXMgY3JlYXRlcyBjaG9wcHkgc291bmRzIHdpdGggTWFjIHByb2R1Y3RzXG4gICAgY29uc3Qgc291cmNlTGltaXQgPSBNYXRoLm1pbihpbnB1dExpc3QubGVuZ3RoLCBvdXRwdXRMaXN0Lmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaW5wdXROdW0gPSAwOyBpbnB1dE51bSA8IHNvdXJjZUxpbWl0OyBpbnB1dE51bSsrKSB7XG4gICAgICBjb25zdCBpbnB1dCA9IGlucHV0TGlzdFtpbnB1dE51bV07XG4gICAgICBjb25zdCBvdXRwdXQgPSBvdXRwdXRMaXN0W2lucHV0TnVtXTtcbiAgICAgIGNvbnN0IGNoYW5uZWxDb3VudCA9IE1hdGgubWluKGlucHV0Lmxlbmd0aCwgb3V0cHV0Lmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBjaGFubmVsTnVtID0gMDsgY2hhbm5lbE51bSA8IGNoYW5uZWxDb3VudDsgY2hhbm5lbE51bSsrKSB7XG4gICAgICAgIGlucHV0W2NoYW5uZWxOdW1dLmZvckVhY2goKHNhbXBsZSwgaSkgPT4ge1xuICAgICAgICAgIG91dHB1dFtjaGFubmVsTnVtXVtpXSA9IHNhbXBsZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGlucHV0cyA9IGlucHV0TGlzdFswXTtcbiAgICAvLyBUaGVyZSdzIGxhdGVuY3kgYXQgdGhlIGJlZ2lubmluZyBvZiBhIHN0cmVhbSBiZWZvcmUgcmVjb3JkaW5nIHN0YXJ0c1xuICAgIC8vIE1ha2Ugc3VyZSB3ZSBhY3R1YWxseSByZWNlaXZlIGF1ZGlvIGRhdGEgYmVmb3JlIHdlIHN0YXJ0IHN0b3JpbmcgY2h1bmtzXG4gICAgbGV0IHNsaWNlSW5kZXggPSAwO1xuICAgIGlmICghdGhpcy5mb3VuZEF1ZGlvKSB7XG4gICAgICBmb3IgKGNvbnN0IGNoYW5uZWwgb2YgaW5wdXRzKSB7XG4gICAgICAgIHNsaWNlSW5kZXggPSAwOyAvLyByZXNldCBmb3IgZWFjaCBjaGFubmVsXG4gICAgICAgIGlmICh0aGlzLmZvdW5kQXVkaW8pIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgY2hhbm5lbCkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSAwKSB7XG4gICAgICAgICAgICAgIC8vIGZpbmQgb25seSBvbmUgbm9uLXplcm8gZW50cnkgaW4gYW55IGNoYW5uZWxcbiAgICAgICAgICAgICAgdGhpcy5mb3VuZEF1ZGlvID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzbGljZUluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpbnB1dHMgJiYgaW5wdXRzWzBdICYmIHRoaXMuZm91bmRBdWRpbyAmJiB0aGlzLnJlY29yZGluZykge1xuICAgICAgLy8gV2UgbmVlZCB0byBjb3B5IHRoZSBUeXBlZEFycmF5LCBiZWNhdXNlIHRoZSBcXGBwcm9jZXNzXFxgXG4gICAgICAvLyBpbnRlcm5hbHMgd2lsbCByZXVzZSB0aGUgc2FtZSBidWZmZXIgdG8gaG9sZCBlYWNoIGlucHV0XG4gICAgICBjb25zdCBjaHVuayA9IGlucHV0cy5tYXAoKGlucHV0KSA9PiBpbnB1dC5zbGljZShzbGljZUluZGV4KSk7XG4gICAgICB0aGlzLmNodW5rcy5wdXNoKGNodW5rKTtcbiAgICAgIHRoaXMuc2VuZENodW5rKGNodW5rKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxucmVnaXN0ZXJQcm9jZXNzb3IoJ2F1ZGlvX3Byb2Nlc3NvcicsIEF1ZGlvUHJvY2Vzc29yKTtcbmA7XG5jb25zdCAkOGUxZDFlNmZmMDhmNmZiNSR2YXIkc2NyaXB0ID0gbmV3IEJsb2IoW1xuICAgICQ4ZTFkMWU2ZmYwOGY2ZmI1JHZhciRBdWRpb1Byb2Nlc3NvcldvcmtsZXRcbl0sIHtcbiAgICB0eXBlOiAnYXBwbGljYXRpb24vamF2YXNjcmlwdCdcbn0pO1xuY29uc3QgJDhlMWQxZTZmZjA4ZjZmYjUkdmFyJHNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoJDhlMWQxZTZmZjA4ZjZmYjUkdmFyJHNjcmlwdCk7XG5jb25zdCAkOGUxZDFlNmZmMDhmNmZiNSRleHBvcnQkMWY2NWY1MGE4Y2JmZjQzYyA9ICQ4ZTFkMWU2ZmYwOGY2ZmI1JHZhciRzcmM7XG5cblxuXG5cbmNsYXNzICQ2MmJjMzc2MDQ0YTA1NTEzJGV4cG9ydCQ0MzliMjE3Y2E2NTlhODc3IHtcbiAgICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFdhdlJlY29yZGVyIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7e3NhbXBsZVJhdGU/OiBudW1iZXIsIG91dHB1dFRvU3BlYWtlcnM/OiBib29sZWFuLCBkZWJ1Zz86IGJvb2xlYW59fSBbb3B0aW9uc11cbiAgICogQHJldHVybnMge1dhdlJlY29yZGVyfVxuICAgKi8gY29uc3RydWN0b3IoeyBzYW1wbGVSYXRlOiBzYW1wbGVSYXRlID0gNDQxMDAsIG91dHB1dFRvU3BlYWtlcnM6IG91dHB1dFRvU3BlYWtlcnMgPSBmYWxzZSwgZGVidWc6IGRlYnVnID0gZmFsc2UgfSA9IHt9KXtcbiAgICAgICAgLy8gU2NyaXB0IHNvdXJjZVxuICAgICAgICB0aGlzLnNjcmlwdFNyYyA9ICgwLCAkOGUxZDFlNmZmMDhmNmZiNSRleHBvcnQkMWY2NWY1MGE4Y2JmZjQzYyk7XG4gICAgICAgIC8vIENvbmZpZ1xuICAgICAgICB0aGlzLnNhbXBsZVJhdGUgPSBzYW1wbGVSYXRlO1xuICAgICAgICB0aGlzLm91dHB1dFRvU3BlYWtlcnMgPSBvdXRwdXRUb1NwZWFrZXJzO1xuICAgICAgICB0aGlzLmRlYnVnID0gISFkZWJ1ZztcbiAgICAgICAgdGhpcy5fZGV2aWNlQ2hhbmdlQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLl9kZXZpY2VzID0gW107XG4gICAgICAgIHRoaXMuZGV2aWNlU2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgLy8gU3RhdGUgdmFyaWFibGVzXG4gICAgICAgIHRoaXMuc3RyZWFtID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBudWxsO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMubm9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVjb3JkaW5nID0gZmFsc2U7XG4gICAgICAgIC8vIEV2ZW50IGhhbmRsaW5nIHdpdGggQXVkaW9Xb3JrbGV0XG4gICAgICAgIHRoaXMuX2xhc3RFdmVudElkID0gMDtcbiAgICAgICAgdGhpcy5ldmVudFJlY2VpcHRzID0ge307XG4gICAgICAgIHRoaXMuZXZlbnRUaW1lb3V0ID0gNTAwMDtcbiAgICAgICAgLy8gUHJvY2VzcyBjaHVua3Mgb2YgYXVkaW9cbiAgICAgICAgdGhpcy5fY2h1bmtQcm9jZXNzb3IgPSAoKT0+e307XG4gICAgICAgIHRoaXMuX2NodW5rUHJvY2Vzc29yU2l6ZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5fY2h1bmtQcm9jZXNzb3JCdWZmZXIgPSB7XG4gICAgICAgICAgICByYXc6IG5ldyBBcnJheUJ1ZmZlcigwKSxcbiAgICAgICAgICAgIG1vbm86IG5ldyBBcnJheUJ1ZmZlcigwKVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICogRGVjb2RlcyBhdWRpbyBkYXRhIGZyb20gbXVsdGlwbGUgZm9ybWF0cyB0byBhIEJsb2IsIHVybCwgRmxvYXQzMkFycmF5IGFuZCBBdWRpb0J1ZmZlclxuICAgKiBAcGFyYW0ge0Jsb2J8RmxvYXQzMkFycmF5fEludDE2QXJyYXl8QXJyYXlCdWZmZXJ8bnVtYmVyW119IGF1ZGlvRGF0YVxuICAgKiBAcGFyYW0ge251bWJlcn0gc2FtcGxlUmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVNhbXBsZVJhdGVcbiAgICogQHJldHVybnMge1Byb21pc2U8RGVjb2RlZEF1ZGlvVHlwZT59XG4gICAqLyBzdGF0aWMgYXN5bmMgZGVjb2RlKGF1ZGlvRGF0YSwgc2FtcGxlUmF0ZSA9IDQ0MTAwLCBmcm9tU2FtcGxlUmF0ZSA9IC0xKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KHtcbiAgICAgICAgICAgIHNhbXBsZVJhdGU6IHNhbXBsZVJhdGVcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBhcnJheUJ1ZmZlcjtcbiAgICAgICAgbGV0IGJsb2I7XG4gICAgICAgIGlmIChhdWRpb0RhdGEgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICBpZiAoZnJvbVNhbXBsZVJhdGUgIT09IC0xKSB0aHJvdyBuZXcgRXJyb3IoYENhbiBub3Qgc3BlY2lmeSBcImZyb21TYW1wbGVSYXRlXCIgd2hlbiByZWFkaW5nIGZyb20gQmxvYmApO1xuICAgICAgICAgICAgYmxvYiA9IGF1ZGlvRGF0YTtcbiAgICAgICAgICAgIGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpO1xuICAgICAgICB9IGVsc2UgaWYgKGF1ZGlvRGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICBpZiAoZnJvbVNhbXBsZVJhdGUgIT09IC0xKSB0aHJvdyBuZXcgRXJyb3IoYENhbiBub3Qgc3BlY2lmeSBcImZyb21TYW1wbGVSYXRlXCIgd2hlbiByZWFkaW5nIGZyb20gQXJyYXlCdWZmZXJgKTtcbiAgICAgICAgICAgIGFycmF5QnVmZmVyID0gYXVkaW9EYXRhO1xuICAgICAgICAgICAgYmxvYiA9IG5ldyBCbG9iKFtcbiAgICAgICAgICAgICAgICBhcnJheUJ1ZmZlclxuICAgICAgICAgICAgXSwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdhdWRpby93YXYnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBmbG9hdDMyQXJyYXk7XG4gICAgICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgICAgIGlmIChhdWRpb0RhdGEgaW5zdGFuY2VvZiBJbnQxNkFycmF5KSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGF1ZGlvRGF0YTtcbiAgICAgICAgICAgICAgICBmbG9hdDMyQXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KGF1ZGlvRGF0YS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBhdWRpb0RhdGEubGVuZ3RoOyBpKyspZmxvYXQzMkFycmF5W2ldID0gYXVkaW9EYXRhW2ldIC8gMHg4MDAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhdWRpb0RhdGEgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpIGZsb2F0MzJBcnJheSA9IGF1ZGlvRGF0YTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGF1ZGlvRGF0YSBpbnN0YW5jZW9mIEFycmF5KSBmbG9hdDMyQXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KGF1ZGlvRGF0YSk7XG4gICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcihgXCJhdWRpb0RhdGFcIiBtdXN0IGJlIG9uZSBvZjogQmxvYiwgRmxvYXQzMkFycnJheSwgSW50MTZBcnJheSwgQXJyYXlCdWZmZXIsIEFycmF5PG51bWJlcj5gKTtcbiAgICAgICAgICAgIGlmIChmcm9tU2FtcGxlUmF0ZSA9PT0gLTEpIHRocm93IG5ldyBFcnJvcihgTXVzdCBzcGVjaWZ5IFwiZnJvbVNhbXBsZVJhdGVcIiB3aGVuIHJlYWRpbmcgZnJvbSBGbG9hdDMyQXJyYXksIEluMTZBcnJheSBvciBBcnJheWApO1xuICAgICAgICAgICAgZWxzZSBpZiAoZnJvbVNhbXBsZVJhdGUgPCAzMDAwKSB0aHJvdyBuZXcgRXJyb3IoYE1pbmltdW0gXCJmcm9tU2FtcGxlUmF0ZVwiIGlzIDMwMDAgKDNrSHopYCk7XG4gICAgICAgICAgICBpZiAoIWRhdGEpIGRhdGEgPSAoMCwgJDZkNGI3NDQ5YTFlMTU0NGEkZXhwb3J0JDEzYWZkYTIzN2IxYzk4NDYpLmZsb2F0VG8xNkJpdFBDTShmbG9hdDMyQXJyYXkpO1xuICAgICAgICAgICAgY29uc3QgYXVkaW8gPSB7XG4gICAgICAgICAgICAgICAgYml0c1BlclNhbXBsZTogMTYsXG4gICAgICAgICAgICAgICAgY2hhbm5lbHM6IFtcbiAgICAgICAgICAgICAgICAgICAgZmxvYXQzMkFycmF5XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGFja2VyID0gbmV3ICgwLCAkNmQ0Yjc0NDlhMWUxNTQ0YSRleHBvcnQkMTNhZmRhMjM3YjFjOTg0NikoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHBhY2tlci5wYWNrKGZyb21TYW1wbGVSYXRlLCBhdWRpbyk7XG4gICAgICAgICAgICBibG9iID0gcmVzdWx0LmJsb2I7XG4gICAgICAgICAgICBhcnJheUJ1ZmZlciA9IGF3YWl0IGJsb2IuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhdWRpb0J1ZmZlciA9IGF3YWl0IGNvbnRleHQuZGVjb2RlQXVkaW9EYXRhKGFycmF5QnVmZmVyKTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gYXVkaW9CdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XG4gICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBibG9iOiBibG9iLFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgICAgICAgIGF1ZGlvQnVmZmVyOiBhdWRpb0J1ZmZlclxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICogTG9ncyBkYXRhIGluIGRlYnVnIG1vZGVcbiAgICogQHBhcmFtIHsuLi5hbnl9IGFyZ3VtZW50c1xuICAgKiBAcmV0dXJucyB7dHJ1ZX1cbiAgICovIGxvZygpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVidWcpIHRoaXMubG9nKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBjdXJyZW50IHNhbXBsZVJhdGUgZm9yIHRoZSByZWNvcmRlclxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi8gZ2V0U2FtcGxlUmF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2FtcGxlUmF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgY3VycmVudCBzdGF0dXMgb2YgdGhlIHJlY29yZGluZ1xuICAgKiBAcmV0dXJucyB7XCJlbmRlZFwifFwicGF1c2VkXCJ8XCJyZWNvcmRpbmdcIn1cbiAgICovIGdldFN0YXR1cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2Nlc3NvcikgcmV0dXJuICdlbmRlZCc7XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLnJlY29yZGluZykgcmV0dXJuICdwYXVzZWQnO1xuICAgICAgICBlbHNlIHJldHVybiAncmVjb3JkaW5nJztcbiAgICB9XG4gICAgLyoqXG4gICAqIFNlbmRzIGFuIGV2ZW50IHRvIHRoZSBBdWRpb1dvcmtsZXRcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHt7W2tleTogc3RyaW5nXTogYW55fX0gZGF0YVxuICAgKiBAcGFyYW0ge0F1ZGlvV29ya2xldE5vZGV9IFtfcHJvY2Vzc29yXVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7W2tleTogc3RyaW5nXTogYW55fT59XG4gICAqLyBhc3luYyBfZXZlbnQobmFtZSwgZGF0YSA9IHt9LCBfcHJvY2Vzc29yID0gbnVsbCkge1xuICAgICAgICBfcHJvY2Vzc29yID0gX3Byb2Nlc3NvciB8fCB0aGlzLnByb2Nlc3NvcjtcbiAgICAgICAgaWYgKCFfcHJvY2Vzc29yKSB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBub3Qgc2VuZCBldmVudHMgd2l0aG91dCByZWNvcmRpbmcgZmlyc3QnKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHtcbiAgICAgICAgICAgIGV2ZW50OiBuYW1lLFxuICAgICAgICAgICAgaWQ6IHRoaXMuX2xhc3RFdmVudElkKyssXG4gICAgICAgICAgICBkYXRhOiBkYXRhXG4gICAgICAgIH07XG4gICAgICAgIF9wcm9jZXNzb3IucG9ydC5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgY29uc3QgdDAgPSBuZXcgRGF0ZSgpLnZhbHVlT2YoKTtcbiAgICAgICAgd2hpbGUoIXRoaXMuZXZlbnRSZWNlaXB0c1ttZXNzYWdlLmlkXSl7XG4gICAgICAgICAgICBpZiAobmV3IERhdGUoKS52YWx1ZU9mKCkgLSB0MCA+IHRoaXMuZXZlbnRUaW1lb3V0KSB0aHJvdyBuZXcgRXJyb3IoYFRpbWVvdXQgd2FpdGluZyBmb3IgXCIke25hbWV9XCIgZXZlbnRgKTtcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXMpPT5zZXRUaW1lb3V0KCgpPT5yZXModHJ1ZSksIDEpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gdGhpcy5ldmVudFJlY2VpcHRzW21lc3NhZ2UuaWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5ldmVudFJlY2VpcHRzW21lc3NhZ2UuaWRdO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9XG4gICAgLyoqXG4gICAqIFNldHMgZGV2aWNlIGNoYW5nZSBjYWxsYmFjaywgcmVtb3ZlIGlmIGNhbGxiYWNrIHByb3ZpZGVkIGlzIGBudWxsYFxuICAgKiBAcGFyYW0geyhBcnJheTxNZWRpYURldmljZUluZm8gJiB7ZGVmYXVsdDogYm9vbGVhbn0+KTogdm9pZHxudWxsfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7dHJ1ZX1cbiAgICovIGxpc3RlbkZvckRldmljZUNoYW5nZShjYWxsYmFjaykge1xuICAgICAgICBpZiAoY2FsbGJhY2sgPT09IG51bGwgJiYgdGhpcy5fZGV2aWNlQ2hhbmdlQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGV2aWNlY2hhbmdlJywgdGhpcy5fZGV2aWNlQ2hhbmdlQ2FsbGJhY2spO1xuICAgICAgICAgICAgdGhpcy5fZGV2aWNlQ2hhbmdlQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGNhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBCYXNpY2FsbHkgYSBkZWJvdW5jZTsgd2Ugb25seSB3YW50IHRoaXMgY2FsbGVkIG9uY2Ugd2hlbiBkZXZpY2VzIGNoYW5nZVxuICAgICAgICAgICAgLy8gQW5kIHdlIG9ubHkgd2FudCB0aGUgbW9zdCByZWNlbnQgY2FsbGJhY2soKSB0byBiZSBleGVjdXRlZFxuICAgICAgICAgICAgLy8gaWYgYSBmZXcgYXJlIG9wZXJhdGluZyBhdCB0aGUgc2FtZSB0aW1lXG4gICAgICAgICAgICBsZXQgbGFzdElkID0gMDtcbiAgICAgICAgICAgIGxldCBsYXN0RGV2aWNlcyA9IFtdO1xuICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplRGV2aWNlcyA9IChkZXZpY2VzKT0+ZGV2aWNlcy5tYXAoKGQpPT5kLmRldmljZUlkKS5zb3J0KCkuam9pbignLCcpO1xuICAgICAgICAgICAgY29uc3QgY2IgPSBhc3luYyAoKT0+e1xuICAgICAgICAgICAgICAgIGxldCBpZCA9ICsrbGFzdElkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRldmljZXMgPSBhd2FpdCB0aGlzLmxpc3REZXZpY2VzKCk7XG4gICAgICAgICAgICAgICAgaWYgKGlkID09PSBsYXN0SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcmlhbGl6ZURldmljZXMobGFzdERldmljZXMpICE9PSBzZXJpYWxpemVEZXZpY2VzKGRldmljZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0RGV2aWNlcyA9IGRldmljZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhkZXZpY2VzLnNsaWNlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlY2hhbmdlJywgY2IpO1xuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICAgIHRoaXMuX2RldmljZUNoYW5nZUNhbGxiYWNrID0gY2I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBNYW51YWxseSByZXF1ZXN0IHBlcm1pc3Npb24gdG8gdXNlIHRoZSBtaWNyb3Bob25lXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHRydWU+fVxuICAgKi8gYXN5bmMgcmVxdWVzdFBlcm1pc3Npb24oKSB7XG4gICAgICAgIGNvbnN0IHBlcm1pc3Npb25TdGF0dXMgPSBhd2FpdCBuYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoe1xuICAgICAgICAgICAgbmFtZTogJ21pY3JvcGhvbmUnXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocGVybWlzc2lvblN0YXR1cy5zdGF0ZSA9PT0gJ2RlbmllZCcpIHdpbmRvdy5hbGVydCgnWW91IG11c3QgZ3JhbnQgbWljcm9waG9uZSBhY2Nlc3MgdG8gdXNlIHRoaXMgZmVhdHVyZS4nKTtcbiAgICAgICAgZWxzZSBpZiAocGVybWlzc2lvblN0YXR1cy5zdGF0ZSA9PT0gJ3Byb21wdCcpIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XG4gICAgICAgICAgICAgICAgYXVkaW86IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdHJhY2tzID0gc3RyZWFtLmdldFRyYWNrcygpO1xuICAgICAgICAgICAgdHJhY2tzLmZvckVhY2goKHRyYWNrKT0+dHJhY2suc3RvcCgpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgd2luZG93LmFsZXJ0KCdZb3UgbXVzdCBncmFudCBtaWNyb3Bob25lIGFjY2VzcyB0byB1c2UgdGhpcyBmZWF0dXJlLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICogTGlzdCBhbGwgZWxpZ2libGUgZGV2aWNlcyBmb3IgcmVjb3JkaW5nLCB3aWxsIHJlcXVlc3QgcGVybWlzc2lvbiB0byB1c2UgbWljcm9waG9uZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheTxNZWRpYURldmljZUluZm8gJiB7ZGVmYXVsdDogYm9vbGVhbn0+Pn1cbiAgICovIGFzeW5jIGxpc3REZXZpY2VzKCkge1xuICAgICAgICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMgfHwgISgnZW51bWVyYXRlRGV2aWNlcycgaW4gbmF2aWdhdG9yLm1lZGlhRGV2aWNlcykpIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IHJlcXVlc3QgdXNlciBkZXZpY2VzJyk7XG4gICAgICAgIGF3YWl0IHRoaXMucmVxdWVzdFBlcm1pc3Npb24oKTtcbiAgICAgICAgY29uc3QgZGV2aWNlcyA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpO1xuICAgICAgICBjb25zdCBhdWRpb0RldmljZXMgPSBkZXZpY2VzLmZpbHRlcigoZGV2aWNlKT0+ZGV2aWNlLmtpbmQgPT09ICdhdWRpb2lucHV0Jyk7XG4gICAgICAgIHJldHVybiBhdWRpb0RldmljZXM7XG4gICAgLy8gY29uc3QgZGVmYXVsdERldmljZUluZGV4ID0gYXVkaW9EZXZpY2VzLmZpbmRJbmRleChcbiAgICAvLyAgIChkZXZpY2UpID0+IGRldmljZS5kZXZpY2VJZCA9PT0gJ2RlZmF1bHQnXG4gICAgLy8gKTtcbiAgICAvLyBjb25zdCBkZXZpY2VMaXN0ID0gW107XG4gICAgLy8gaWYgKGRlZmF1bHREZXZpY2VJbmRleCAhPT0gLTEpIHtcbiAgICAvLyAgIGxldCBkZWZhdWx0RGV2aWNlID0gYXVkaW9EZXZpY2VzLnNwbGljZShkZWZhdWx0RGV2aWNlSW5kZXgsIDEpWzBdO1xuICAgIC8vICAgbGV0IGV4aXN0aW5nSW5kZXggPSBhdWRpb0RldmljZXMuZmluZEluZGV4KFxuICAgIC8vICAgICAoZGV2aWNlKSA9PiBkZXZpY2UuZ3JvdXBJZCA9PT0gZGVmYXVsdERldmljZS5ncm91cElkXG4gICAgLy8gICApO1xuICAgIC8vICAgaWYgKGV4aXN0aW5nSW5kZXggIT09IC0xKSB7XG4gICAgLy8gICAgIGRlZmF1bHREZXZpY2UgPSBhdWRpb0RldmljZXMuc3BsaWNlKGV4aXN0aW5nSW5kZXgsIDEpWzBdO1xuICAgIC8vICAgfVxuICAgIC8vICAgZGVmYXVsdERldmljZS5kZWZhdWx0ID0gdHJ1ZTtcbiAgICAvLyAgIGRldmljZUxpc3QucHVzaChkZWZhdWx0RGV2aWNlKTtcbiAgICAvLyB9XG4gICAgLy8gcmV0dXJuIGRldmljZUxpc3QuY29uY2F0KGF1ZGlvRGV2aWNlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgKiBCZWdpbnMgYSByZWNvcmRpbmcgc2Vzc2lvbiBhbmQgcmVxdWVzdHMgbWljcm9waG9uZSBwZXJtaXNzaW9ucyBpZiBub3QgYWxyZWFkeSBncmFudGVkXG4gICAqIE1pY3JvcGhvbmUgcmVjb3JkaW5nIGluZGljYXRvciB3aWxsIGFwcGVhciBvbiBicm93c2VyIHRhYiBidXQgc3RhdHVzIHdpbGwgYmUgXCJwYXVzZWRcIlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RldmljZUlkXSBpZiBubyBkZXZpY2UgcHJvdmlkZWQsIGRlZmF1bHQgZGV2aWNlIHdpbGwgYmUgdXNlZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx0cnVlPn1cbiAgICovIGFzeW5jIGJlZ2luKGRldmljZUlkKSB7XG4gICAgICAgIGlmICh0aGlzLnByb2Nlc3NvcikgdGhyb3cgbmV3IEVycm9yKGBBbHJlYWR5IGNvbm5lY3RlZDogcGxlYXNlIGNhbGwgLmVuZCgpIHRvIHN0YXJ0IGEgbmV3IHNlc3Npb25gKTtcbiAgICAgICAgaWYgKCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzIHx8ICEoJ2dldFVzZXJNZWRpYScgaW4gbmF2aWdhdG9yLm1lZGlhRGV2aWNlcykpIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IHJlcXVlc3QgdXNlciBtZWRpYScpO1xuICAgICAgICBkZXZpY2VJZCA9IGRldmljZUlkID8/IHRoaXMuZGV2aWNlU2VsZWN0aW9uPy5kZXZpY2VJZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICBhdWRpbzogdHJ1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChkZXZpY2VJZCkgY29uZmlnLmF1ZGlvID0ge1xuICAgICAgICAgICAgICAgIGRldmljZUlkOiB7XG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBkZXZpY2VJZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbmZpZyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3Qgc3RhcnQgbWVkaWEgc3RyZWFtJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saXN0RGV2aWNlcygpLnRoZW4oKGRldmljZXMpPT57XG4gICAgICAgICAgICBkZXZpY2VJZCA9IHRoaXMuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0uZ2V0U2V0dGluZ3MoKS5kZXZpY2VJZDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmaW5kIGN1cnJlbnQgZGV2aWNlJywgZGV2aWNlcywgZGV2aWNlSWQsIHRoaXMuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0uZ2V0U2V0dGluZ3MoKSk7XG4gICAgICAgICAgICB0aGlzLmRldmljZVNlbGVjdGlvbiA9IGRldmljZXMuZmluZCgoZCk9PmQuZGV2aWNlSWQgPT09IGRldmljZUlkKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjdXJyZW50IGRldmljZScsIHRoaXMuZGV2aWNlU2VsZWN0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KHtcbiAgICAgICAgICAgIHNhbXBsZVJhdGU6IHRoaXMuc2FtcGxlUmF0ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc291cmNlID0gY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSh0aGlzLnN0cmVhbSk7XG4gICAgICAgIC8vIExvYWQgYW5kIGV4ZWN1dGUgdGhlIG1vZHVsZSBzY3JpcHQuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBjb250ZXh0LmF1ZGlvV29ya2xldC5hZGRNb2R1bGUodGhpcy5zY3JpcHRTcmMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgYWRkIGF1ZGlvV29ya2xldCBtb2R1bGU6ICR7dGhpcy5zY3JpcHRTcmN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvY2Vzc29yID0gbmV3IEF1ZGlvV29ya2xldE5vZGUoY29udGV4dCwgJ2F1ZGlvX3Byb2Nlc3NvcicpO1xuICAgICAgICBwcm9jZXNzb3IucG9ydC5vbm1lc3NhZ2UgPSAoZSk9PntcbiAgICAgICAgICAgIGNvbnN0IHsgZXZlbnQ6IGV2ZW50LCBpZDogaWQsIGRhdGE6IGRhdGEgfSA9IGUuZGF0YTtcbiAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ3JlY2VpcHQnKSB0aGlzLmV2ZW50UmVjZWlwdHNbaWRdID0gZGF0YTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAnY2h1bmsnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NodW5rUHJvY2Vzc29yU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLl9jaHVua1Byb2Nlc3NvckJ1ZmZlcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2h1bmtQcm9jZXNzb3JCdWZmZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYXc6ICgwLCAkNmQ0Yjc0NDlhMWUxNTQ0YSRleHBvcnQkMTNhZmRhMjM3YjFjOTg0NikubWVyZ2VCdWZmZXJzKGJ1ZmZlci5yYXcsIGRhdGEucmF3KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbm86ICgwLCAkNmQ0Yjc0NDlhMWUxNTQ0YSRleHBvcnQkMTNhZmRhMjM3YjFjOTg0NikubWVyZ2VCdWZmZXJzKGJ1ZmZlci5tb25vLCBkYXRhLm1vbm8pXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jaHVua1Byb2Nlc3NvckJ1ZmZlci5tb25vLmJ5dGVMZW5ndGggPj0gdGhpcy5fY2h1bmtQcm9jZXNzb3JTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaHVua1Byb2Nlc3Nvcih0aGlzLl9jaHVua1Byb2Nlc3NvckJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaHVua1Byb2Nlc3NvckJ1ZmZlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXc6IG5ldyBBcnJheUJ1ZmZlcigwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb25vOiBuZXcgQXJyYXlCdWZmZXIoMClcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgdGhpcy5fY2h1bmtQcm9jZXNzb3IoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG5vZGUgPSBzb3VyY2UuY29ubmVjdChwcm9jZXNzb3IpO1xuICAgICAgICBjb25zdCBhbmFseXNlciA9IGNvbnRleHQuY3JlYXRlQW5hbHlzZXIoKTtcbiAgICAgICAgYW5hbHlzZXIuZmZ0U2l6ZSA9IDgxOTI7XG4gICAgICAgIGFuYWx5c2VyLnNtb290aGluZ1RpbWVDb25zdGFudCA9IDAuMTtcbiAgICAgICAgbm9kZS5jb25uZWN0KGFuYWx5c2VyKTtcbiAgICAgICAgaWYgKHRoaXMub3V0cHV0VG9TcGVha2Vycykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIldhcm5pbmc6IE91dHB1dCB0byBzcGVha2VycyBtYXkgYWZmZWN0IHNvdW5kIHF1YWxpdHksXFxuZXNwZWNpYWxseSBkdWUgdG8gc3lzdGVtIGF1ZGlvIGZlZWRiYWNrIHByZXZlbnRhdGl2ZSBtZWFzdXJlcy5cXG51c2Ugb25seSBmb3IgZGVidWdnaW5nXCIpO1xuICAgICAgICAgICAgYW5hbHlzZXIuY29ubmVjdChjb250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5hbmFseXNlciA9IGFuYWx5c2VyO1xuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgICAgICAgY29uc29sZS5sb2coJ2JlZ2luIGNvbXBsZXRlZCcpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgZnJlcXVlbmN5IGRvbWFpbiBkYXRhIGZyb20gdGhlIHJlY29yZGluZyB0cmFja1xuICAgKiBAcGFyYW0ge1wiZnJlcXVlbmN5XCJ8XCJtdXNpY1wifFwidm9pY2VcIn0gW2FuYWx5c2lzVHlwZV1cbiAgICogQHBhcmFtIHtudW1iZXJ9IFttaW5EZWNpYmVsc10gZGVmYXVsdCAtMTAwXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4RGVjaWJlbHNdIGRlZmF1bHQgLTMwXG4gICAqIEByZXR1cm5zIHtpbXBvcnQoJy4vYW5hbHlzaXMvYXVkaW9fYW5hbHlzaXMuanMnKS5BdWRpb0FuYWx5c2lzT3V0cHV0VHlwZX1cbiAgICovIGdldEZyZXF1ZW5jaWVzKGFuYWx5c2lzVHlwZSA9ICdmcmVxdWVuY3knLCBtaW5EZWNpYmVscyA9IC0xMDAsIG1heERlY2liZWxzID0gLTMwKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9jZXNzb3IpIHRocm93IG5ldyBFcnJvcignU2Vzc2lvbiBlbmRlZDogcGxlYXNlIGNhbGwgLmJlZ2luKCkgZmlyc3QnKTtcbiAgICAgICAgcmV0dXJuICgwLCAkZjMyZjA2NDU2NGVlNjJmNiRleHBvcnQkMmMzMTM2ZGEwYmYxMzBmOSkuZ2V0RnJlcXVlbmNpZXModGhpcy5hbmFseXNlciwgdGhpcy5zYW1wbGVSYXRlLCBudWxsLCBhbmFseXNpc1R5cGUsIG1pbkRlY2liZWxzLCBtYXhEZWNpYmVscyk7XG4gICAgfVxuICAgIC8qKlxuICAgKiBQYXVzZXMgdGhlIHJlY29yZGluZ1xuICAgKiBLZWVwcyBtaWNyb3Bob25lIHN0cmVhbSBvcGVuIGJ1dCBoYWx0cyBzdG9yYWdlIG9mIGF1ZGlvXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHRydWU+fVxuICAgKi8gYXN5bmMgcGF1c2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9jZXNzb3IpIHRocm93IG5ldyBFcnJvcignU2Vzc2lvbiBlbmRlZDogcGxlYXNlIGNhbGwgLmJlZ2luKCkgZmlyc3QnKTtcbiAgICAgICAgZWxzZSBpZiAoIXRoaXMucmVjb3JkaW5nKSB0aHJvdyBuZXcgRXJyb3IoJ0FscmVhZHkgcGF1c2VkOiBwbGVhc2UgY2FsbCAucmVjb3JkKCkgZmlyc3QnKTtcbiAgICAgICAgaWYgKHRoaXMuX2NodW5rUHJvY2Vzc29yQnVmZmVyLnJhdy5ieXRlTGVuZ3RoKSB0aGlzLl9jaHVua1Byb2Nlc3Nvcih0aGlzLl9jaHVua1Byb2Nlc3NvckJ1ZmZlcik7XG4gICAgICAgIHRoaXMubG9nKCdQYXVzaW5nIC4uLicpO1xuICAgICAgICBhd2FpdCB0aGlzLl9ldmVudCgnc3RvcCcpO1xuICAgICAgICB0aGlzLnJlY29yZGluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFN0YXJ0IHJlY29yZGluZyBzdHJlYW0gYW5kIHN0b3JpbmcgdG8gbWVtb3J5IGZyb20gdGhlIGNvbm5lY3RlZCBhdWRpbyBzb3VyY2VcbiAgICogQHBhcmFtIHsoZGF0YTogeyBtb25vOiBJbnQxNkFycmF5OyByYXc6IEludDE2QXJyYXkgfSkgPT4gYW55fSBbY2h1bmtQcm9jZXNzb3JdXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbY2h1bmtTaXplXSBjaHVua1Byb2Nlc3NvciB3aWxsIG5vdCBiZSB0cmlnZ2VyZWQgdW50aWwgdGhpcyBzaXplIHRocmVzaG9sZCBtZXQgaW4gbW9ubyBhdWRpb1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx0cnVlPn1cbiAgICovIGFzeW5jIHJlY29yZChjaHVua1Byb2Nlc3NvciA9ICgpPT57fSwgY2h1bmtTaXplID0gODE5Mikge1xuICAgICAgICBpZiAoIXRoaXMucHJvY2Vzc29yKSB0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb24gZW5kZWQ6IHBsZWFzZSBjYWxsIC5iZWdpbigpIGZpcnN0Jyk7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucmVjb3JkaW5nKSB0aHJvdyBuZXcgRXJyb3IoJ0FscmVhZHkgcmVjb3JkaW5nOiBwbGVhc2UgY2FsbCAucGF1c2UoKSBmaXJzdCcpO1xuICAgICAgICBlbHNlIGlmICh0eXBlb2YgY2h1bmtQcm9jZXNzb3IgIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBFcnJvcihgY2h1bmtQcm9jZXNzb3IgbXVzdCBiZSBhIGZ1bmN0aW9uYCk7XG4gICAgICAgIHRoaXMuX2NodW5rUHJvY2Vzc29yID0gY2h1bmtQcm9jZXNzb3I7XG4gICAgICAgIHRoaXMuX2NodW5rUHJvY2Vzc29yU2l6ZSA9IGNodW5rU2l6ZTtcbiAgICAgICAgdGhpcy5fY2h1bmtQcm9jZXNzb3JCdWZmZXIgPSB7XG4gICAgICAgICAgICByYXc6IG5ldyBBcnJheUJ1ZmZlcigwKSxcbiAgICAgICAgICAgIG1vbm86IG5ldyBBcnJheUJ1ZmZlcigwKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxvZygnUmVjb3JkaW5nIC4uLicpO1xuICAgICAgICBhd2FpdCB0aGlzLl9ldmVudCgnc3RhcnQnKTtcbiAgICAgICAgdGhpcy5yZWNvcmRpbmcgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIENsZWFycyB0aGUgYXVkaW8gYnVmZmVyLCBlbXB0aWVzIHN0b3JlZCByZWNvcmRpbmdcbiAgICogQHJldHVybnMge1Byb21pc2U8dHJ1ZT59XG4gICAqLyBhc3luYyBjbGVhcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2Nlc3NvcikgdGhyb3cgbmV3IEVycm9yKCdTZXNzaW9uIGVuZGVkOiBwbGVhc2UgY2FsbCAuYmVnaW4oKSBmaXJzdCcpO1xuICAgICAgICBhd2FpdCB0aGlzLl9ldmVudCgnY2xlYXInKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBSZWFkcyB0aGUgY3VycmVudCBhdWRpbyBzdHJlYW0gZGF0YVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7bWVhblZhbHVlczogRmxvYXQzMkFycmF5LCBjaGFubmVsczogQXJyYXk8RmxvYXQzMkFycmF5Pn0+fVxuICAgKi8gYXN5bmMgcmVhZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2Nlc3NvcikgdGhyb3cgbmV3IEVycm9yKCdTZXNzaW9uIGVuZGVkOiBwbGVhc2UgY2FsbCAuYmVnaW4oKSBmaXJzdCcpO1xuICAgICAgICB0aGlzLmxvZygnUmVhZGluZyAuLi4nKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5fZXZlbnQoJ3JlYWQnKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAqIFNhdmVzIHRoZSBjdXJyZW50IGF1ZGlvIHN0cmVhbSB0byBhIGZpbGVcbiAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VdIEZvcmNlIHNhdmluZyB3aGlsZSBzdGlsbCByZWNvcmRpbmdcbiAgICogQHJldHVybnMge1Byb21pc2U8aW1wb3J0KCcuL3dhdl9wYWNrZXIuanMnKS5XYXZQYWNrZXJBdWRpb1R5cGU+fVxuICAgKi8gYXN5bmMgc2F2ZShmb3JjZSA9IGZhbHNlKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9jZXNzb3IpIHRocm93IG5ldyBFcnJvcignU2Vzc2lvbiBlbmRlZDogcGxlYXNlIGNhbGwgLmJlZ2luKCkgZmlyc3QnKTtcbiAgICAgICAgaWYgKCFmb3JjZSAmJiB0aGlzLnJlY29yZGluZykgdGhyb3cgbmV3IEVycm9yKCdDdXJyZW50bHkgcmVjb3JkaW5nOiBwbGVhc2UgY2FsbCAucGF1c2UoKSBmaXJzdCwgb3IgY2FsbCAuc2F2ZSh0cnVlKSB0byBmb3JjZScpO1xuICAgICAgICB0aGlzLmxvZygnRXhwb3J0aW5nIC4uLicpO1xuICAgICAgICBjb25zdCBleHBvcnREYXRhID0gYXdhaXQgdGhpcy5fZXZlbnQoJ2V4cG9ydCcpO1xuICAgICAgICBjb25zdCBwYWNrZXIgPSBuZXcgKDAsICQ2ZDRiNzQ0OWExZTE1NDRhJGV4cG9ydCQxM2FmZGEyMzdiMWM5ODQ2KSgpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBwYWNrZXIucGFjayh0aGlzLnNhbXBsZVJhdGUsIGV4cG9ydERhdGEuYXVkaW8pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICogRW5kcyB0aGUgY3VycmVudCByZWNvcmRpbmcgc2Vzc2lvbiBhbmQgc2F2ZXMgdGhlIHJlc3VsdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxpbXBvcnQoJy4vd2F2X3BhY2tlci5qcycpLldhdlBhY2tlckF1ZGlvVHlwZT59XG4gICAqLyBhc3luYyBlbmQoKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9jZXNzb3IpIHRocm93IG5ldyBFcnJvcignU2Vzc2lvbiBlbmRlZDogcGxlYXNlIGNhbGwgLmJlZ2luKCkgZmlyc3QnKTtcbiAgICAgICAgY29uc3QgX3Byb2Nlc3NvciA9IHRoaXMucHJvY2Vzc29yO1xuICAgICAgICB0aGlzLmxvZygnU3RvcHBpbmcgLi4uJyk7XG4gICAgICAgIGF3YWl0IHRoaXMuX2V2ZW50KCdzdG9wJyk7XG4gICAgICAgIHRoaXMucmVjb3JkaW5nID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHRyYWNrcyA9IHRoaXMuc3RyZWFtLmdldFRyYWNrcygpO1xuICAgICAgICB0cmFja3MuZm9yRWFjaCgodHJhY2spPT50cmFjay5zdG9wKCkpO1xuICAgICAgICB0aGlzLmxvZygnRXhwb3J0aW5nIC4uLicpO1xuICAgICAgICBjb25zdCBleHBvcnREYXRhID0gYXdhaXQgdGhpcy5fZXZlbnQoJ2V4cG9ydCcsIHt9LCBfcHJvY2Vzc29yKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLnNvdXJjZS5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMubm9kZS5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMuYW5hbHlzZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLnN0cmVhbSA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gbnVsbDtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLm5vZGUgPSBudWxsO1xuICAgICAgICBjb25zdCBwYWNrZXIgPSBuZXcgKDAsICQ2ZDRiNzQ0OWExZTE1NDRhJGV4cG9ydCQxM2FmZGEyMzdiMWM5ODQ2KSgpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBwYWNrZXIucGFjayh0aGlzLnNhbXBsZVJhdGUsIGV4cG9ydERhdGEuYXVkaW8pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICogUGVyZm9ybXMgYSBmdWxsIGNsZWFudXAgb2YgV2F2UmVjb3JkZXIgaW5zdGFuY2VcbiAgICogU3RvcHMgYWN0aXZlbHkgbGlzdGVuaW5nIHZpYSBtaWNyb3Bob25lIGFuZCByZW1vdmVzIGV4aXN0aW5nIGxpc3RlbmVyc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx0cnVlPn1cbiAgICovIGFzeW5jIHF1aXQoKSB7XG4gICAgICAgIHRoaXMubGlzdGVuRm9yRGV2aWNlQ2hhbmdlKG51bGwpO1xuICAgICAgICAvLyB3ZSBkbyBub3QgcmVzZXQgdGhpcyBvbiBlbmQgc28gdGhhdCBzZWxlY3Rpb25zIHBlcnNpc3QgYWNyb3NzIHN0YXJ0c1xuICAgICAgICB0aGlzLmRldmljZVNlbGVjdGlvbiA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLnByb2Nlc3NvcikgYXdhaXQgdGhpcy5lbmQoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuZ2xvYmFsVGhpcy5XYXZSZWNvcmRlciA9ICQ2MmJjMzc2MDQ0YTA1NTEzJGV4cG9ydCQ0MzliMjE3Y2E2NTlhODc3O1xuXG5cblxuXG5cbmNsYXNzICQ1ZmMxMWQ3YmMwZDIwNzI0JGV4cG9ydCQyOTM0Y2YyZDI1YzY3YTQ4IHtcbiAgICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IE1lZGlhU3RyZWFtUmVjb3JkZXIgaW5zdGFuY2VcbiAgICogQHBhcmFtIHt7c2FtcGxlUmF0ZT86IG51bWJlciwgb3V0cHV0VG9TcGVha2Vycz86IGJvb2xlYW4sIGRlYnVnPzogYm9vbGVhbn19IFtvcHRpb25zXVxuICAgKiBAcmV0dXJucyB7TWVkaWFTdHJlYW1SZWNvcmRlcn1cbiAgICovIGNvbnN0cnVjdG9yKHsgc2FtcGxlUmF0ZTogc2FtcGxlUmF0ZSA9IDQ0MTAwLCBvdXRwdXRUb1NwZWFrZXJzOiBvdXRwdXRUb1NwZWFrZXJzID0gZmFsc2UsIGRlYnVnOiBkZWJ1ZyA9IGZhbHNlIH0gPSB7fSl7XG4gICAgICAgIC8vIFNjcmlwdCBzb3VyY2VcbiAgICAgICAgdGhpcy5zY3JpcHRTcmMgPSAoMCwgJDhlMWQxZTZmZjA4ZjZmYjUkZXhwb3J0JDFmNjVmNTBhOGNiZmY0M2MpO1xuICAgICAgICAvLyBDb25maWdcbiAgICAgICAgdGhpcy5zYW1wbGVSYXRlID0gc2FtcGxlUmF0ZTtcbiAgICAgICAgdGhpcy5vdXRwdXRUb1NwZWFrZXJzID0gb3V0cHV0VG9TcGVha2VycztcbiAgICAgICAgdGhpcy5kZWJ1ZyA9ICEhZGVidWc7XG4gICAgICAgIC8vIFN0YXRlIHZhcmlhYmxlc1xuICAgICAgICB0aGlzLnN0cmVhbSA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gbnVsbDtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLm5vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLnJlY29yZGluZyA9IGZhbHNlO1xuICAgICAgICAvLyBFdmVudCBoYW5kbGluZyB3aXRoIEF1ZGlvV29ya2xldFxuICAgICAgICB0aGlzLl9sYXN0RXZlbnRJZCA9IDA7XG4gICAgICAgIHRoaXMuZXZlbnRSZWNlaXB0cyA9IHt9O1xuICAgICAgICB0aGlzLmV2ZW50VGltZW91dCA9IDUwMDA7XG4gICAgICAgIC8vIFByb2Nlc3MgY2h1bmtzIG9mIGF1ZGlvXG4gICAgICAgIHRoaXMuX2NodW5rUHJvY2Vzc29yID0gKCk9Pnt9O1xuICAgICAgICB0aGlzLl9jaHVua1Byb2Nlc3NvclNpemUgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuX2NodW5rUHJvY2Vzc29yQnVmZmVyID0ge1xuICAgICAgICAgICAgcmF3OiBuZXcgQXJyYXlCdWZmZXIoMCksXG4gICAgICAgICAgICBtb25vOiBuZXcgQXJyYXlCdWZmZXIoMClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAqIExvZ3MgZGF0YSBpbiBkZWJ1ZyBtb2RlXG4gICAqIEBwYXJhbSB7Li4uYW55fSBhcmd1bWVudHNcbiAgICogQHJldHVybnMge3RydWV9XG4gICAqLyBsb2coKSB7XG4gICAgICAgIGlmICh0aGlzLmRlYnVnKSB0aGlzLmxvZyguLi5hcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgY3VycmVudCBzYW1wbGVSYXRlIGZvciB0aGUgcmVjb3JkZXJcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovIGdldFNhbXBsZVJhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhbXBsZVJhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIGN1cnJlbnQgc3RhdHVzIG9mIHRoZSByZWNvcmRpbmdcbiAgICogQHJldHVybnMge1wiZW5kZWRcInxcInBhdXNlZFwifFwicmVjb3JkaW5nXCJ9XG4gICAqLyBnZXRTdGF0dXMoKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9jZXNzb3IpIHJldHVybiBcImVuZGVkXCI7XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLnJlY29yZGluZykgcmV0dXJuIFwicGF1c2VkXCI7XG4gICAgICAgIGVsc2UgcmV0dXJuIFwicmVjb3JkaW5nXCI7XG4gICAgfVxuICAgIC8qKlxuICAgKiBTZW5kcyBhbiBldmVudCB0byB0aGUgQXVkaW9Xb3JrbGV0XG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7e1trZXk6IHN0cmluZ106IGFueX19IGRhdGFcbiAgICogQHBhcmFtIHtBdWRpb1dvcmtsZXROb2RlfSBbX3Byb2Nlc3Nvcl1cbiAgICogQHJldHVybnMge1Byb21pc2U8e1trZXk6IHN0cmluZ106IGFueX0+fVxuICAgKi8gYXN5bmMgX2V2ZW50KG5hbWUsIGRhdGEgPSB7fSwgX3Byb2Nlc3NvciA9IG51bGwpIHtcbiAgICAgICAgX3Byb2Nlc3NvciA9IF9wcm9jZXNzb3IgfHwgdGhpcy5wcm9jZXNzb3I7XG4gICAgICAgIGlmICghX3Byb2Nlc3NvcikgdGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCBzZW5kIGV2ZW50cyB3aXRob3V0IHJlY29yZGluZyBmaXJzdFwiKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHtcbiAgICAgICAgICAgIGV2ZW50OiBuYW1lLFxuICAgICAgICAgICAgaWQ6IHRoaXMuX2xhc3RFdmVudElkKyssXG4gICAgICAgICAgICBkYXRhOiBkYXRhXG4gICAgICAgIH07XG4gICAgICAgIF9wcm9jZXNzb3IucG9ydC5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgY29uc3QgdDAgPSBuZXcgRGF0ZSgpLnZhbHVlT2YoKTtcbiAgICAgICAgd2hpbGUoIXRoaXMuZXZlbnRSZWNlaXB0c1ttZXNzYWdlLmlkXSl7XG4gICAgICAgICAgICBpZiAobmV3IERhdGUoKS52YWx1ZU9mKCkgLSB0MCA+IHRoaXMuZXZlbnRUaW1lb3V0KSB0aHJvdyBuZXcgRXJyb3IoYFRpbWVvdXQgd2FpdGluZyBmb3IgXCIke25hbWV9XCIgZXZlbnRgKTtcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXMpPT5zZXRUaW1lb3V0KCgpPT5yZXModHJ1ZSksIDEpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkID0gdGhpcy5ldmVudFJlY2VpcHRzW21lc3NhZ2UuaWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5ldmVudFJlY2VpcHRzW21lc3NhZ2UuaWRdO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9XG4gICAgLyoqXG4gICAqIEJlZ2lucyBhIHJlY29yZGluZyBzZXNzaW9uIGZvciB0aGUgZ2l2ZW4gYXVkaW9UcmFja1xuICAgKiBNaWNyb3Bob25lIHJlY29yZGluZyBpbmRpY2F0b3Igd2lsbCBhcHBlYXIgb24gYnJvd3NlciB0YWIgYnV0IHN0YXR1cyB3aWxsIGJlIFwicGF1c2VkXCJcbiAgICogQHBhcmFtIHtNZWRpYVN0cmVhbVRyYWNrfSBbYXVkaW9UcmFja10gaWYgbm8gZGV2aWNlIHByb3ZpZGVkLCBkZWZhdWx0IGRldmljZSB3aWxsIGJlIHVzZWRcbiAgICogQHJldHVybnMge1Byb21pc2U8dHJ1ZT59XG4gICAqLyBhc3luYyBiZWdpbihhdWRpb1RyYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLnByb2Nlc3NvcikgdGhyb3cgbmV3IEVycm9yKGBBbHJlYWR5IGNvbm5lY3RlZDogcGxlYXNlIGNhbGwgLmVuZCgpIHRvIHN0YXJ0IGEgbmV3IHNlc3Npb25gKTtcbiAgICAgICAgaWYgKCFhdWRpb1RyYWNrIHx8IGF1ZGlvVHJhY2sua2luZCAhPT0gXCJhdWRpb1wiKSB0aHJvdyBuZXcgRXJyb3IoXCJObyBhdWRpbyB0cmFjayBwcm92aWRlZFwiKTtcbiAgICAgICAgdGhpcy5zdHJlYW0gPSBuZXcgTWVkaWFTdHJlYW0oW1xuICAgICAgICAgICAgYXVkaW9UcmFja1xuICAgICAgICBdKTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoe1xuICAgICAgICAgICAgc2FtcGxlUmF0ZTogdGhpcy5zYW1wbGVSYXRlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzb3VyY2UgPSBjb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKHRoaXMuc3RyZWFtKTtcbiAgICAgICAgLy8gTG9hZCBhbmQgZXhlY3V0ZSB0aGUgbW9kdWxlIHNjcmlwdC5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGNvbnRleHQuYXVkaW9Xb3JrbGV0LmFkZE1vZHVsZSh0aGlzLnNjcmlwdFNyYyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBhZGQgYXVkaW9Xb3JrbGV0IG1vZHVsZTogJHt0aGlzLnNjcmlwdFNyY31gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9jZXNzb3IgPSBuZXcgQXVkaW9Xb3JrbGV0Tm9kZShjb250ZXh0LCBcImF1ZGlvX3Byb2Nlc3NvclwiKTtcbiAgICAgICAgcHJvY2Vzc29yLnBvcnQub25tZXNzYWdlID0gKGUpPT57XG4gICAgICAgICAgICBjb25zdCB7IGV2ZW50OiBldmVudCwgaWQ6IGlkLCBkYXRhOiBkYXRhIH0gPSBlLmRhdGE7XG4gICAgICAgICAgICBpZiAoZXZlbnQgPT09IFwicmVjZWlwdFwiKSB0aGlzLmV2ZW50UmVjZWlwdHNbaWRdID0gZGF0YTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSBcImNodW5rXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2h1bmtQcm9jZXNzb3JTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuX2NodW5rUHJvY2Vzc29yQnVmZmVyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaHVua1Byb2Nlc3NvckJ1ZmZlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdzogKDAsICQ2ZDRiNzQ0OWExZTE1NDRhJGV4cG9ydCQxM2FmZGEyMzdiMWM5ODQ2KS5tZXJnZUJ1ZmZlcnMoYnVmZmVyLnJhdywgZGF0YS5yYXcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9ubzogKDAsICQ2ZDRiNzQ0OWExZTE1NDRhJGV4cG9ydCQxM2FmZGEyMzdiMWM5ODQ2KS5tZXJnZUJ1ZmZlcnMoYnVmZmVyLm1vbm8sIGRhdGEubW9ubylcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NodW5rUHJvY2Vzc29yQnVmZmVyLm1vbm8uYnl0ZUxlbmd0aCA+PSB0aGlzLl9jaHVua1Byb2Nlc3NvclNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NodW5rUHJvY2Vzc29yKHRoaXMuX2NodW5rUHJvY2Vzc29yQnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NodW5rUHJvY2Vzc29yQnVmZmVyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdzogbmV3IEFycmF5QnVmZmVyKDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbm86IG5ldyBBcnJheUJ1ZmZlcigwKVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLl9jaHVua1Byb2Nlc3NvcihkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHNvdXJjZS5jb25uZWN0KHByb2Nlc3Nvcik7XG4gICAgICAgIGNvbnN0IGFuYWx5c2VyID0gY29udGV4dC5jcmVhdGVBbmFseXNlcigpO1xuICAgICAgICBhbmFseXNlci5mZnRTaXplID0gODE5MjtcbiAgICAgICAgYW5hbHlzZXIuc21vb3RoaW5nVGltZUNvbnN0YW50ID0gMC4xO1xuICAgICAgICBub2RlLmNvbm5lY3QoYW5hbHlzZXIpO1xuICAgICAgICBpZiAodGhpcy5vdXRwdXRUb1NwZWFrZXJzKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiV2FybmluZzogT3V0cHV0IHRvIHNwZWFrZXJzIG1heSBhZmZlY3Qgc291bmQgcXVhbGl0eSxcXG5lc3BlY2lhbGx5IGR1ZSB0byBzeXN0ZW0gYXVkaW8gZmVlZGJhY2sgcHJldmVudGF0aXZlIG1lYXN1cmVzLlxcbnVzZSBvbmx5IGZvciBkZWJ1Z2dpbmdcIik7XG4gICAgICAgICAgICBhbmFseXNlci5jb25uZWN0KGNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLmFuYWx5c2VyID0gYW5hbHlzZXI7XG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gcHJvY2Vzc29yO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgZnJlcXVlbmN5IGRvbWFpbiBkYXRhIGZyb20gdGhlIHJlY29yZGluZyB0cmFja1xuICAgKiBAcGFyYW0ge1wiZnJlcXVlbmN5XCJ8XCJtdXNpY1wifFwidm9pY2VcIn0gW2FuYWx5c2lzVHlwZV1cbiAgICogQHBhcmFtIHtudW1iZXJ9IFttaW5EZWNpYmVsc10gZGVmYXVsdCAtMTAwXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4RGVjaWJlbHNdIGRlZmF1bHQgLTMwXG4gICAqIEByZXR1cm5zIHtpbXBvcnQoJy4vYW5hbHlzaXMvYXVkaW9fYW5hbHlzaXMuanMnKS5BdWRpb0FuYWx5c2lzT3V0cHV0VHlwZX1cbiAgICovIGdldEZyZXF1ZW5jaWVzKGFuYWx5c2lzVHlwZSA9IFwiZnJlcXVlbmN5XCIsIG1pbkRlY2liZWxzID0gLTEwMCwgbWF4RGVjaWJlbHMgPSAtMzApIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2Nlc3NvcikgdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiBlbmRlZDogcGxlYXNlIGNhbGwgLmJlZ2luKCkgZmlyc3RcIik7XG4gICAgICAgIHJldHVybiAoMCwgJGYzMmYwNjQ1NjRlZTYyZjYkZXhwb3J0JDJjMzEzNmRhMGJmMTMwZjkpLmdldEZyZXF1ZW5jaWVzKHRoaXMuYW5hbHlzZXIsIHRoaXMuc2FtcGxlUmF0ZSwgbnVsbCwgYW5hbHlzaXNUeXBlLCBtaW5EZWNpYmVscywgbWF4RGVjaWJlbHMpO1xuICAgIH1cbiAgICAvKipcbiAgICogUGF1c2VzIHRoZSByZWNvcmRpbmdcbiAgICogS2VlcHMgbWljcm9waG9uZSBzdHJlYW0gb3BlbiBidXQgaGFsdHMgc3RvcmFnZSBvZiBhdWRpb1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx0cnVlPn1cbiAgICovIGFzeW5jIHBhdXNlKCkge1xuICAgICAgICBpZiAoIXRoaXMucHJvY2Vzc29yKSB0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIGVuZGVkOiBwbGVhc2UgY2FsbCAuYmVnaW4oKSBmaXJzdFwiKTtcbiAgICAgICAgZWxzZSBpZiAoIXRoaXMucmVjb3JkaW5nKSB0aHJvdyBuZXcgRXJyb3IoXCJBbHJlYWR5IHBhdXNlZDogcGxlYXNlIGNhbGwgLnJlY29yZCgpIGZpcnN0XCIpO1xuICAgICAgICBpZiAodGhpcy5fY2h1bmtQcm9jZXNzb3JCdWZmZXIucmF3LmJ5dGVMZW5ndGgpIHRoaXMuX2NodW5rUHJvY2Vzc29yKHRoaXMuX2NodW5rUHJvY2Vzc29yQnVmZmVyKTtcbiAgICAgICAgdGhpcy5sb2coXCJQYXVzaW5nIC4uLlwiKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fZXZlbnQoXCJzdG9wXCIpO1xuICAgICAgICB0aGlzLnJlY29yZGluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFN0YXJ0IHJlY29yZGluZyBzdHJlYW0gYW5kIHN0b3JpbmcgdG8gbWVtb3J5IGZyb20gdGhlIGNvbm5lY3RlZCBhdWRpbyBzb3VyY2VcbiAgICogQHBhcmFtIHsoZGF0YTogeyBtb25vOiBJbnQxNkFycmF5OyByYXc6IEludDE2QXJyYXkgfSkgPT4gYW55fSBbY2h1bmtQcm9jZXNzb3JdXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbY2h1bmtTaXplXSBjaHVua1Byb2Nlc3NvciB3aWxsIG5vdCBiZSB0cmlnZ2VyZWQgdW50aWwgdGhpcyBzaXplIHRocmVzaG9sZCBtZXQgaW4gbW9ubyBhdWRpb1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx0cnVlPn1cbiAgICovIGFzeW5jIHJlY29yZChjaHVua1Byb2Nlc3NvciA9ICgpPT57fSwgY2h1bmtTaXplID0gODE5Mikge1xuICAgICAgICBpZiAoIXRoaXMucHJvY2Vzc29yKSB0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIGVuZGVkOiBwbGVhc2UgY2FsbCAuYmVnaW4oKSBmaXJzdFwiKTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5yZWNvcmRpbmcpIHRocm93IG5ldyBFcnJvcihcIkFscmVhZHkgcmVjb3JkaW5nOiBIRUxMTyBwbGVhc2UgY2FsbCAucGF1c2UoKSBmaXJzdFwiKTtcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNodW5rUHJvY2Vzc29yICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcihgY2h1bmtQcm9jZXNzb3IgbXVzdCBiZSBhIGZ1bmN0aW9uYCk7XG4gICAgICAgIHRoaXMuX2NodW5rUHJvY2Vzc29yID0gY2h1bmtQcm9jZXNzb3I7XG4gICAgICAgIHRoaXMuX2NodW5rUHJvY2Vzc29yU2l6ZSA9IGNodW5rU2l6ZTtcbiAgICAgICAgdGhpcy5fY2h1bmtQcm9jZXNzb3JCdWZmZXIgPSB7XG4gICAgICAgICAgICByYXc6IG5ldyBBcnJheUJ1ZmZlcigwKSxcbiAgICAgICAgICAgIG1vbm86IG5ldyBBcnJheUJ1ZmZlcigwKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxvZyhcIlJlY29yZGluZyAuLi5cIik7XG4gICAgICAgIGF3YWl0IHRoaXMuX2V2ZW50KFwic3RhcnRcIik7XG4gICAgICAgIHRoaXMucmVjb3JkaW5nID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgKiBDbGVhcnMgdGhlIGF1ZGlvIGJ1ZmZlciwgZW1wdGllcyBzdG9yZWQgcmVjb3JkaW5nXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHRydWU+fVxuICAgKi8gYXN5bmMgY2xlYXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9jZXNzb3IpIHRocm93IG5ldyBFcnJvcihcIlNlc3Npb24gZW5kZWQ6IHBsZWFzZSBjYWxsIC5iZWdpbigpIGZpcnN0XCIpO1xuICAgICAgICBhd2FpdCB0aGlzLl9ldmVudChcImNsZWFyXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFJlYWRzIHRoZSBjdXJyZW50IGF1ZGlvIHN0cmVhbSBkYXRhXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHttZWFuVmFsdWVzOiBGbG9hdDMyQXJyYXksIGNoYW5uZWxzOiBBcnJheTxGbG9hdDMyQXJyYXk+fT59XG4gICAqLyBhc3luYyByZWFkKCkge1xuICAgICAgICBpZiAoIXRoaXMucHJvY2Vzc29yKSB0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIGVuZGVkOiBwbGVhc2UgY2FsbCAuYmVnaW4oKSBmaXJzdFwiKTtcbiAgICAgICAgdGhpcy5sb2coXCJSZWFkaW5nIC4uLlwiKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5fZXZlbnQoXCJyZWFkXCIpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICogU2F2ZXMgdGhlIGN1cnJlbnQgYXVkaW8gc3RyZWFtIHRvIGEgZmlsZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZV0gRm9yY2Ugc2F2aW5nIHdoaWxlIHN0aWxsIHJlY29yZGluZ1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxpbXBvcnQoJy4vd2F2X3BhY2tlci5qcycpLldhdlBhY2tlckF1ZGlvVHlwZT59XG4gICAqLyBhc3luYyBzYXZlKGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2Nlc3NvcikgdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiBlbmRlZDogcGxlYXNlIGNhbGwgLmJlZ2luKCkgZmlyc3RcIik7XG4gICAgICAgIGlmICghZm9yY2UgJiYgdGhpcy5yZWNvcmRpbmcpIHRocm93IG5ldyBFcnJvcihcIkN1cnJlbnRseSByZWNvcmRpbmc6IHBsZWFzZSBjYWxsIC5wYXVzZSgpIGZpcnN0LCBvciBjYWxsIC5zYXZlKHRydWUpIHRvIGZvcmNlXCIpO1xuICAgICAgICB0aGlzLmxvZyhcIkV4cG9ydGluZyAuLi5cIik7XG4gICAgICAgIGNvbnN0IGV4cG9ydERhdGEgPSBhd2FpdCB0aGlzLl9ldmVudChcImV4cG9ydFwiKTtcbiAgICAgICAgY29uc3QgcGFja2VyID0gbmV3ICgwLCAkNmQ0Yjc0NDlhMWUxNTQ0YSRleHBvcnQkMTNhZmRhMjM3YjFjOTg0NikoKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcGFja2VyLnBhY2sodGhpcy5zYW1wbGVSYXRlLCBleHBvcnREYXRhLmF1ZGlvKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAqIEVuZHMgdGhlIGN1cnJlbnQgcmVjb3JkaW5nIHNlc3Npb24gYW5kIHNhdmVzIHRoZSByZXN1bHRcbiAgICogQHJldHVybnMge1Byb21pc2U8aW1wb3J0KCcuL3dhdl9wYWNrZXIuanMnKS5XYXZQYWNrZXJBdWRpb1R5cGU+fVxuICAgKi8gYXN5bmMgZW5kKCkge1xuICAgICAgICBpZiAoIXRoaXMucHJvY2Vzc29yKSB0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIGVuZGVkOiBwbGVhc2UgY2FsbCAuYmVnaW4oKSBmaXJzdFwiKTtcbiAgICAgICAgY29uc3QgX3Byb2Nlc3NvciA9IHRoaXMucHJvY2Vzc29yO1xuICAgICAgICB0aGlzLmxvZyhcIlN0b3BwaW5nIC4uLlwiKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fZXZlbnQoXCJzdG9wXCIpO1xuICAgICAgICB0aGlzLnJlY29yZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvZyhcIkV4cG9ydGluZyAuLi5cIik7XG4gICAgICAgIGNvbnN0IGV4cG9ydERhdGEgPSBhd2FpdCB0aGlzLl9ldmVudChcImV4cG9ydFwiLCB7fSwgX3Byb2Nlc3Nvcik7XG4gICAgICAgIHRoaXMucHJvY2Vzc29yLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5zb3VyY2UuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm5vZGUuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLmFuYWx5c2VyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5zdHJlYW0gPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG51bGw7XG4gICAgICAgIHRoaXMuc291cmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5ub2RlID0gbnVsbDtcbiAgICAgICAgY29uc3QgcGFja2VyID0gbmV3ICgwLCAkNmQ0Yjc0NDlhMWUxNTQ0YSRleHBvcnQkMTNhZmRhMjM3YjFjOTg0NikoKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcGFja2VyLnBhY2sodGhpcy5zYW1wbGVSYXRlLCBleHBvcnREYXRhLmF1ZGlvKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAqIFBlcmZvcm1zIGEgZnVsbCBjbGVhbnVwIG9mIFdhdlJlY29yZGVyIGluc3RhbmNlXG4gICAqIFN0b3BzIGFjdGl2ZWx5IGxpc3RlbmluZyB2aWEgbWljcm9waG9uZSBhbmQgcmVtb3ZlcyBleGlzdGluZyBsaXN0ZW5lcnNcbiAgICogQHJldHVybnMge1Byb21pc2U8dHJ1ZT59XG4gICAqLyBhc3luYyBxdWl0KCkge1xuICAgICAgICB0aGlzLmxpc3RlbkZvckRldmljZUNoYW5nZShudWxsKTtcbiAgICAgICAgaWYgKHRoaXMucHJvY2Vzc29yKSBhd2FpdCB0aGlzLmVuZCgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5nbG9iYWxUaGlzLldhdlJlY29yZGVyID0gV2F2UmVjb3JkZXI7XG5cblxuXG5cbnZhciAkZmM0OWE1NmNkODczOTEyNyR2YXIkX19leHRlbmRzID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2V4dGVuZHMgfHwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgKHtcbiAgICAgICAgICAgIF9fcHJvdG9fXzogW11cbiAgICAgICAgfSkgaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbihkLCBiKSB7XG4gICAgICAgICAgICBkLl9fcHJvdG9fXyA9IGI7XG4gICAgICAgIH0gfHwgZnVuY3Rpb24oZCwgYikge1xuICAgICAgICAgICAgZm9yKHZhciBwIGluIGIpaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbCkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IgPSBkO1xuICAgICAgICB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSgpO1xudmFyICRmYzQ5YTU2Y2Q4NzM5MTI3JHZhciRfX2F3YWl0ZXIgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlciB8fCBmdW5jdGlvbih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpO1xuICAgICAgICB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgJGZjNDlhNTZjZDg3MzkxMjckdmFyJF9fZ2VuZXJhdG9yID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2dlbmVyYXRvciB8fCBmdW5jdGlvbih0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7XG4gICAgICAgIGxhYmVsOiAwLFxuICAgICAgICBzZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTtcbiAgICAgICAgICAgIHJldHVybiB0WzFdO1xuICAgICAgICB9LFxuICAgICAgICB0cnlzOiBbXSxcbiAgICAgICAgb3BzOiBbXVxuICAgIH0sIGYsIHksIHQsIGcgPSBPYmplY3QuY3JlYXRlKCh0eXBlb2YgSXRlcmF0b3IgPT09IFwiZnVuY3Rpb25cIiA/IEl0ZXJhdG9yIDogT2JqZWN0KS5wcm90b3R5cGUpO1xuICAgIHJldHVybiBnLm5leHQgPSB2ZXJiKDApLCBnW1widGhyb3dcIl0gPSB2ZXJiKDEpLCBnW1wicmV0dXJuXCJdID0gdmVyYigyKSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICByZXR1cm4gc3RlcChbXG4gICAgICAgICAgICAgICAgbixcbiAgICAgICAgICAgICAgICB2XG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXyl0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtcbiAgICAgICAgICAgICAgICBvcFswXSAmIDIsXG4gICAgICAgICAgICAgICAgdC52YWx1ZVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHN3aXRjaChvcFswXSl7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgdCA9IG9wO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIF8ubGFiZWwrKztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvcFsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBvcFsxXTtcbiAgICAgICAgICAgICAgICAgICAgb3AgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgb3AgPSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gb3BbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdCA9IG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5vcHMucHVzaChvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgb3AgPSBbXG4gICAgICAgICAgICAgICAgNixcbiAgICAgICAgICAgICAgICBlXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgeSA9IDA7XG4gICAgICAgIH0gZmluYWxseXtcbiAgICAgICAgICAgIGYgPSB0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLFxuICAgICAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgICB9O1xuICAgIH1cbn07XG52YXIgJGZjNDlhNTZjZDg3MzkxMjckZXhwb3J0JDRhMGM0NmRiYmUyZGRiNjcgPSAvKiogQGNsYXNzICovIGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIE1lZGlhTWFuYWdlcigpIHtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0ge307XG4gICAgICAgIHRoaXMuX21pY0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jYW1FbmFibGVkID0gZmFsc2U7XG4gICAgfVxuICAgIE1lZGlhTWFuYWdlci5wcm90b3R5cGUuc2V0VXNlckF1ZGlvQ2FsbGJhY2sgPSBmdW5jdGlvbih1c2VyQXVkaW9DYWxsYmFjaykge1xuICAgICAgICB0aGlzLl91c2VyQXVkaW9DYWxsYmFjayA9IHVzZXJBdWRpb0NhbGxiYWNrO1xuICAgIH07XG4gICAgTWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5zZXRDbGllbnRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucywgb3ZlcnJpZGUpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGlmIChvdmVycmlkZSA9PT0gdm9pZCAwKSBvdmVycmlkZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucyAmJiAhb3ZlcnJpZGUpIHJldHVybjtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IChfYSA9IG9wdGlvbnMuY2FsbGJhY2tzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fTtcbiAgICAgICAgdGhpcy5fbWljRW5hYmxlZCA9IChfYiA9IG9wdGlvbnMuZW5hYmxlTWljKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0cnVlO1xuICAgICAgICB0aGlzLl9jYW1FbmFibGVkID0gKF9jID0gb3B0aW9ucy5lbmFibGVDYW0pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIE1lZGlhTWFuYWdlcjtcbn0oKTtcbnZhciAkZmM0OWE1NmNkODczOTEyNyRleHBvcnQkNDVjNWI5YmZiYTJmNjMwNCA9IC8qKiBAY2xhc3MgKi8gZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgJGZjNDlhNTZjZDg3MzkxMjckdmFyJF9fZXh0ZW5kcyhXYXZNZWRpYU1hbmFnZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gV2F2TWVkaWFNYW5hZ2VyKHJlY29yZGVyQ2h1bmtTaXplLCByZWNvcmRlclNhbXBsZVJhdGUpIHtcbiAgICAgICAgaWYgKHJlY29yZGVyQ2h1bmtTaXplID09PSB2b2lkIDApIHJlY29yZGVyQ2h1bmtTaXplID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAocmVjb3JkZXJTYW1wbGVSYXRlID09PSB2b2lkIDApIHJlY29yZGVyU2FtcGxlUmF0ZSA9IDI0MDAwO1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5faW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX3JlY29yZGVyQ2h1bmtTaXplID0gdW5kZWZpbmVkO1xuICAgICAgICBfdGhpcy5fcmVjb3JkZXJDaHVua1NpemUgPSByZWNvcmRlckNodW5rU2l6ZTtcbiAgICAgICAgX3RoaXMuX3dhdlJlY29yZGVyID0gbmV3ICgwLCAkNjJiYzM3NjA0NGEwNTUxMyRleHBvcnQkNDM5YjIxN2NhNjU5YTg3Nykoe1xuICAgICAgICAgICAgc2FtcGxlUmF0ZTogcmVjb3JkZXJTYW1wbGVSYXRlXG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5fd2F2U3RyZWFtUGxheWVyID0gbmV3ICgwLCAkZDBhOTY5ODMzOTU4ZDllNyRleHBvcnQkOTY5OGQ2MmM3OGI4ZjM2Nikoe1xuICAgICAgICAgICAgc2FtcGxlUmF0ZTogMjQwMDBcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgV2F2TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkZmM0OWE1NmNkODczOTEyNyR2YXIkX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJGZjNDlhNTZjZDg3MzkxMjckdmFyJF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKF9hLmxhYmVsKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2F2UmVjb3JkZXIuYmVnaW4oKVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2F2UmVjb3JkZXIubGlzdGVuRm9yRGV2aWNlQ2hhbmdlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2F2UmVjb3JkZXIubGlzdGVuRm9yRGV2aWNlQ2hhbmdlKHRoaXMuX2hhbmRsZUF2YWlsYWJsZURldmljZXNVcGRhdGVkLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2F2U3RyZWFtUGxheWVyLmNvbm5lY3QoKVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFdhdk1lZGlhTWFuYWdlci5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJGZjNDlhNTZjZDg3MzkxMjckdmFyJF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGlzQWxyZWFkeVJlY29yZGluZztcbiAgICAgICAgICAgIHJldHVybiAkZmM0OWE1NmNkODczOTEyNyR2YXIkX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24oX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2goX2EubGFiZWwpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISF0aGlzLl9pbml0aWFsaXplZCkgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAzIC8qYnJlYWsqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQWxyZWFkeVJlY29yZGluZyA9IHRoaXMuX3dhdlJlY29yZGVyLmdldFN0YXR1cygpID09IFwicmVjb3JkaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh0aGlzLl9taWNFbmFibGVkICYmICFpc0FscmVhZHlSZWNvcmRpbmcpKSByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMgLypicmVhayovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0XG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRSZWNvcmRpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA0O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyBcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgV2F2TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkZmM0OWE1NmNkODczOTEyNyR2YXIkX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJGZjNDlhNTZjZDg3MzkxMjckdmFyJF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKF9hLmxhYmVsKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2F2UmVjb3JkZXIuZW5kKClcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3dhdlN0cmVhbVBsYXllci5pbnRlcnJ1cHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovIFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBXYXZNZWRpYU1hbmFnZXIucHJvdG90eXBlLnVzZXJTdGFydGVkU3BlYWtpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICRmYzQ5YTU2Y2Q4NzM5MTI3JHZhciRfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAkZmM0OWE1NmNkODczOTEyNyR2YXIkX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24oX2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl93YXZTdHJlYW1QbGF5ZXIuaW50ZXJydXB0KClcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgV2F2TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5idWZmZXJCb3RBdWRpbyA9IGZ1bmN0aW9uKGRhdGEsIGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93YXZTdHJlYW1QbGF5ZXIuYWRkMTZCaXRQQ00oZGF0YSwgaWQpO1xuICAgIH07XG4gICAgV2F2TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5nZXRBbGxNaWNzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93YXZSZWNvcmRlci5saXN0RGV2aWNlcygpO1xuICAgIH07XG4gICAgV2F2TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5nZXRBbGxDYW1zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFRPRE86IFZpZGVvIG5vdCBzdXBwb3J0ZWQgeWV0XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xuICAgIH07XG4gICAgV2F2TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5nZXRBbGxTcGVha2VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgc3BlYWtlciBzdXBwb3J0XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xuICAgIH07XG4gICAgV2F2TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVNaWMgPSBmdW5jdGlvbihtaWNJZCkge1xuICAgICAgICByZXR1cm4gJGZjNDlhNTZjZDg3MzkxMjckdmFyJF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHByZXZNaWMsIGN1ck1pYztcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICByZXR1cm4gJGZjNDlhNTZjZDg3MzkxMjckdmFyJF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKF9jKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKF9jLmxhYmVsKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldk1pYyA9IHRoaXMuX3dhdlJlY29yZGVyLmRldmljZVNlbGVjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3dhdlJlY29yZGVyLmVuZCgpXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl93YXZSZWNvcmRlci5iZWdpbihtaWNJZClcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbWljRW5hYmxlZCkgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAzIC8qYnJlYWsqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0UmVjb3JkaW5nKClcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gNDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyTWljID0gdGhpcy5fd2F2UmVjb3JkZXIuZGV2aWNlU2VsZWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ck1pYyAmJiBwcmV2TWljICYmIHByZXZNaWMubGFiZWwgIT09IGN1ck1pYy5sYWJlbCkgKF9iID0gKF9hID0gdGhpcy5fY2FsbGJhY2tzKS5vbk1pY1VwZGF0ZWQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgfHwgX2IuY2FsbChfYSwgY3VyTWljKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovIFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBXYXZNZWRpYU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZUNhbSA9IGZ1bmN0aW9uKGNhbUlkKSB7XG4gICAgLy8gVE9ETzogVmlkZW8gbm90IHN1cHBvcnRlZCB5ZXRcbiAgICB9O1xuICAgIFdhdk1lZGlhTWFuYWdlci5wcm90b3R5cGUudXBkYXRlU3BlYWtlciA9IGZ1bmN0aW9uKHNwZWFrZXJJZCkge1xuICAgIC8vIFRPRE86IEltcGxlbWVudCBzcGVha2VyIHN1cHBvcnRcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXYXZNZWRpYU1hbmFnZXIucHJvdG90eXBlLCBcInNlbGVjdGVkTWljXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiAoX2EgPSB0aGlzLl93YXZSZWNvcmRlci5kZXZpY2VTZWxlY3Rpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdhdk1lZGlhTWFuYWdlci5wcm90b3R5cGUsIFwic2VsZWN0ZWRDYW1cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gVE9ETzogVmlkZW8gbm90IHN1cHBvcnRlZCB5ZXRcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXYXZNZWRpYU1hbmFnZXIucHJvdG90eXBlLCBcInNlbGVjdGVkU3BlYWtlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgc3BlYWtlciBzdXBwb3J0XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBXYXZNZWRpYU1hbmFnZXIucHJvdG90eXBlLmVuYWJsZU1pYyA9IGZ1bmN0aW9uKGVuYWJsZSkge1xuICAgICAgICByZXR1cm4gJGZjNDlhNTZjZDg3MzkxMjckdmFyJF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiAkZmM0OWE1NmNkODczOTEyNyR2YXIkX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24oX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2goX2EubGFiZWwpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9taWNFbmFibGVkID0gZW5hYmxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl93YXZSZWNvcmRlci5zdHJlYW0pIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovIFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3dhdlJlY29yZGVyLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLmVuYWJsZWQgPSBlbmFibGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlbmFibGUpIChfYiA9IChfYSA9IF90aGlzLl9jYWxsYmFja3MpLm9uVHJhY2tTdG9wcGVkKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwIHx8IF9iLmNhbGwoX2EsIHRyYWNrLCAkZmM0OWE1NmNkODczOTEyNyR2YXIkbG9jYWxQYXJ0aWNpcGFudCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlbmFibGUpIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMyAvKmJyZWFrKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFydFJlY29yZGluZygpXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMgLypicmVhayovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0XG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl93YXZSZWNvcmRlci5wYXVzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovIFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBXYXZNZWRpYU1hbmFnZXIucHJvdG90eXBlLmVuYWJsZUNhbSA9IGZ1bmN0aW9uKGVuYWJsZSkge1xuICAgIC8vIFRPRE86IFZpZGVvIG5vdCBzdXBwb3J0ZWQgeWV0XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV2F2TWVkaWFNYW5hZ2VyLnByb3RvdHlwZSwgXCJpc0NhbUVuYWJsZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gVE9ETzogVmlkZW8gbm90IHN1cHBvcnRlZCB5ZXRcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXYXZNZWRpYU1hbmFnZXIucHJvdG90eXBlLCBcImlzTWljRW5hYmxlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWljRW5hYmxlZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFdhdk1lZGlhTWFuYWdlci5wcm90b3R5cGUudHJhY2tzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIHRyYWNrcyA9IChfYSA9IHRoaXMuX3dhdlJlY29yZGVyLnN0cmVhbSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFRyYWNrcygpWzBdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbG9jYWw6IHRyYWNrcyA/IHtcbiAgICAgICAgICAgICAgICBhdWRpbzogdHJhY2tzXG4gICAgICAgICAgICB9IDoge31cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFdhdk1lZGlhTWFuYWdlci5wcm90b3R5cGUuX3N0YXJ0UmVjb3JkaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkZmM0OWE1NmNkODczOTEyNyR2YXIkX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0cmFjaztcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgIHJldHVybiAkZmM0OWE1NmNkODczOTEyNyR2YXIkX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24oX2QpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2goX2QubGFiZWwpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl93YXZSZWNvcmRlci5yZWNvcmQoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdXNlckF1ZGlvQ2FsbGJhY2soZGF0YS5tb25vKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLl9yZWNvcmRlckNodW5rU2l6ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrID0gKF9hID0gdGhpcy5fd2F2UmVjb3JkZXIuc3RyZWFtKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0QXVkaW9UcmFja3MoKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFjaykgKF9jID0gKF9iID0gdGhpcy5fY2FsbGJhY2tzKS5vblRyYWNrU3RhcnRlZCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCB8fCBfYy5jYWxsKF9iLCB0cmFjaywgJGZjNDlhNTZjZDg3MzkxMjckdmFyJGxvY2FsUGFydGljaXBhbnQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyBcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgV2F2TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5faGFuZGxlQXZhaWxhYmxlRGV2aWNlc1VwZGF0ZWQgPSBmdW5jdGlvbihkZXZpY2VzKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5fY2FsbGJhY2tzKS5vbkF2YWlsYWJsZUNhbXNVcGRhdGVkKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwIHx8IF9iLmNhbGwoX2EsIGRldmljZXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkLmtpbmQgPT09IFwidmlkZW9pbnB1dFwiO1xuICAgICAgICB9KSk7XG4gICAgICAgIChfZCA9IChfYyA9IHRoaXMuX2NhbGxiYWNrcykub25BdmFpbGFibGVNaWNzVXBkYXRlZCkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCB8fCBfZC5jYWxsKF9jLCBkZXZpY2VzLmZpbHRlcihmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICByZXR1cm4gZC5raW5kID09PSBcImF1ZGlvaW5wdXRcIjtcbiAgICAgICAgfSkpO1xuICAgICAgICAvLyBpZiB0aGUgY3VycmVudCBkZXZpY2Ugd2VudCBhd2F5IG9yIHdlJ3JlIHVzaW5nIHRoZSBkZWZhdWx0IGFuZFxuICAgICAgICAvLyB0aGUgZGVmYXVsdCBjaGFuZ2VkLCByZXNldCB0aGUgbWljLlxuICAgICAgICB2YXIgZGVmYXVsdERldmljZSA9IGRldmljZXMuZmluZChmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICByZXR1cm4gZC5kZXZpY2VJZCA9PT0gXCJkZWZhdWx0XCI7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgY3VycmVudERldmljZSA9IHRoaXMuX3dhdlJlY29yZGVyLmRldmljZVNlbGVjdGlvbjtcbiAgICAgICAgaWYgKGN1cnJlbnREZXZpY2UgJiYgKCFkZXZpY2VzLnNvbWUoZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgcmV0dXJuIGQuZGV2aWNlSWQgPT09IGN1cnJlbnREZXZpY2UuZGV2aWNlSWQ7XG4gICAgICAgIH0pIHx8IGN1cnJlbnREZXZpY2UuZGV2aWNlSWQgPT09IFwiZGVmYXVsdFwiICYmIGN1cnJlbnREZXZpY2UubGFiZWwgIT09IChkZWZhdWx0RGV2aWNlID09PSBudWxsIHx8IGRlZmF1bHREZXZpY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlZmF1bHREZXZpY2UubGFiZWwpKSkgdGhpcy51cGRhdGVNaWMoXCJcIik7XG4gICAgfTtcbiAgICByZXR1cm4gV2F2TWVkaWFNYW5hZ2VyO1xufSgkZmM0OWE1NmNkODczOTEyNyRleHBvcnQkNGEwYzQ2ZGJiZTJkZGI2Nyk7XG52YXIgJGZjNDlhNTZjZDg3MzkxMjckdmFyJGxvY2FsUGFydGljaXBhbnQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZDogXCJsb2NhbFwiLFxuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBsb2NhbDogdHJ1ZVxuICAgIH07XG59O1xuXG5cblxuXG52YXIgJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJF9fZXh0ZW5kcyA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19leHRlbmRzIHx8IGZ1bmN0aW9uKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICh7XG4gICAgICAgICAgICBfX3Byb3RvX186IFtdXG4gICAgICAgIH0pIGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24oZCwgYikge1xuICAgICAgICAgICAgZC5fX3Byb3RvX18gPSBiO1xuICAgICAgICB9IHx8IGZ1bmN0aW9uKGQsIGIpIHtcbiAgICAgICAgICAgIGZvcih2YXIgcCBpbiBiKWlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbihkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgICAgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0oKTtcbnZhciAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkX19hd2FpdGVyID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIgfHwgZnVuY3Rpb24odGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTtcbiAgICAgICAgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyICQyMmVjZTA0NTI5MGM5OTZhJHZhciRfX2dlbmVyYXRvciA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19nZW5lcmF0b3IgfHwgZnVuY3Rpb24odGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0ge1xuICAgICAgICBsYWJlbDogMCxcbiAgICAgICAgc2VudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodFswXSAmIDEpIHRocm93IHRbMV07XG4gICAgICAgICAgICByZXR1cm4gdFsxXTtcbiAgICAgICAgfSxcbiAgICAgICAgdHJ5czogW10sXG4gICAgICAgIG9wczogW11cbiAgICB9LCBmLCB5LCB0LCBnID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEl0ZXJhdG9yID09PSBcImZ1bmN0aW9uXCIgPyBJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKTtcbiAgICByZXR1cm4gZy5uZXh0ID0gdmVyYigwKSwgZ1tcInRocm93XCJdID0gdmVyYigxKSwgZ1tcInJldHVyblwiXSA9IHZlcmIoMiksIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24odikge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXAoW1xuICAgICAgICAgICAgICAgIG4sXG4gICAgICAgICAgICAgICAgdlxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZShnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbXG4gICAgICAgICAgICAgICAgb3BbMF0gJiAyLFxuICAgICAgICAgICAgICAgIHQudmFsdWVcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBzd2l0Y2gob3BbMF0pe1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHQgPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb3BbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCsrO1xuICAgICAgICAgICAgICAgICAgICB5ID0gb3BbMV07XG4gICAgICAgICAgICAgICAgICAgIG9wID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIG9wID0gXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCBvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IG9wWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8ub3BzLnB1c2gob3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIG9wID0gW1xuICAgICAgICAgICAgICAgIDYsXG4gICAgICAgICAgICAgICAgZVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICB9IGZpbmFsbHl7XG4gICAgICAgICAgICBmID0gdCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCxcbiAgICAgICAgICAgIGRvbmU6IHRydWVcbiAgICAgICAgfTtcbiAgICB9XG59O1xudmFyICQyMmVjZTA0NTI5MGM5OTZhJGV4cG9ydCRjOTVjNjVhYmM1ZjQ3MTI1ID0gLyoqIEBjbGFzcyAqLyBmdW5jdGlvbihfc3VwZXIpIHtcbiAgICAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkX19leHRlbmRzKERhaWx5TWVkaWFNYW5hZ2VyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERhaWx5TWVkaWFNYW5hZ2VyKGVuYWJsZVBsYXllciwgZW5hYmxlUmVjb3JkaW5nLCBvblRyYWNrU3RhcnRlZENhbGxiYWNrLCBvblRyYWNrU3RvcHBlZENhbGxiYWNrLCByZWNvcmRlckNodW5rU2l6ZSwgcmVjb3JkZXJTYW1wbGVSYXRlLCBwbGF5ZXJTYW1wbGVSYXRlKSB7XG4gICAgICAgIGlmIChlbmFibGVQbGF5ZXIgPT09IHZvaWQgMCkgZW5hYmxlUGxheWVyID0gdHJ1ZTtcbiAgICAgICAgaWYgKGVuYWJsZVJlY29yZGluZyA9PT0gdm9pZCAwKSBlbmFibGVSZWNvcmRpbmcgPSB0cnVlO1xuICAgICAgICBpZiAocmVjb3JkZXJDaHVua1NpemUgPT09IHZvaWQgMCkgcmVjb3JkZXJDaHVua1NpemUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChyZWNvcmRlclNhbXBsZVJhdGUgPT09IHZvaWQgMCkgcmVjb3JkZXJTYW1wbGVSYXRlID0gMjQwMDA7XG4gICAgICAgIGlmIChwbGF5ZXJTYW1wbGVSYXRlID09PSB2b2lkIDApIHBsYXllclNhbXBsZVJhdGUgPSAyNDAwMDtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fc2VsZWN0ZWRDYW0gPSB7fTtcbiAgICAgICAgX3RoaXMuX3NlbGVjdGVkTWljID0ge307XG4gICAgICAgIF90aGlzLl9zZWxlY3RlZFNwZWFrZXIgPSB7fTtcbiAgICAgICAgX3RoaXMuX3JlbW90ZUF1ZGlvTGV2ZWxJbnRlcnZhbCA9IG51bGw7XG4gICAgICAgIF90aGlzLl9yZWNvcmRlckNodW5rU2l6ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgX3RoaXMuX2luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX2N1cnJlbnRBdWRpb1RyYWNrID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2Nvbm5lY3RSZXNvbHZlID0gbnVsbDtcbiAgICAgICAgX3RoaXMub25UcmFja1N0YXJ0ZWRDYWxsYmFjayA9IG9uVHJhY2tTdGFydGVkQ2FsbGJhY2s7XG4gICAgICAgIF90aGlzLm9uVHJhY2tTdG9wcGVkQ2FsbGJhY2sgPSBvblRyYWNrU3RvcHBlZENhbGxiYWNrO1xuICAgICAgICBfdGhpcy5fcmVjb3JkZXJDaHVua1NpemUgPSByZWNvcmRlckNodW5rU2l6ZTtcbiAgICAgICAgX3RoaXMuX2RhaWx5ID0gKF9hID0gKDAsICQ5OXdUViRkYWlseWNvZGFpbHlqcykuZ2V0Q2FsbEluc3RhbmNlKCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICgwLCAkOTl3VFYkZGFpbHljb2RhaWx5anMpLmNyZWF0ZUNhbGxPYmplY3QoKTtcbiAgICAgICAgaWYgKGVuYWJsZVJlY29yZGluZykgX3RoaXMuX21lZGlhU3RyZWFtUmVjb3JkZXIgPSBuZXcgKDAsICQ1ZmMxMWQ3YmMwZDIwNzI0JGV4cG9ydCQyOTM0Y2YyZDI1YzY3YTQ4KSh7XG4gICAgICAgICAgICBzYW1wbGVSYXRlOiByZWNvcmRlclNhbXBsZVJhdGVcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChlbmFibGVQbGF5ZXIpIF90aGlzLl93YXZTdHJlYW1QbGF5ZXIgPSBuZXcgKDAsICRkMGE5Njk4MzM5NThkOWU3JGV4cG9ydCQ5Njk4ZDYyYzc4YjhmMzY2KSh7XG4gICAgICAgICAgICBzYW1wbGVSYXRlOiBwbGF5ZXJTYW1wbGVSYXRlXG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5fZGFpbHkub24oXCJ0cmFjay1zdGFydGVkXCIsIF90aGlzLmhhbmRsZVRyYWNrU3RhcnRlZC5iaW5kKF90aGlzKSk7XG4gICAgICAgIF90aGlzLl9kYWlseS5vbihcInRyYWNrLXN0b3BwZWRcIiwgX3RoaXMuaGFuZGxlVHJhY2tTdG9wcGVkLmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMuX2RhaWx5Lm9uKFwiYXZhaWxhYmxlLWRldmljZXMtdXBkYXRlZFwiLCBfdGhpcy5faGFuZGxlQXZhaWxhYmxlRGV2aWNlc1VwZGF0ZWQuYmluZChfdGhpcykpO1xuICAgICAgICBfdGhpcy5fZGFpbHkub24oXCJzZWxlY3RlZC1kZXZpY2VzLXVwZGF0ZWRcIiwgX3RoaXMuX2hhbmRsZVNlbGVjdGVkRGV2aWNlc1VwZGF0ZWQuYmluZChfdGhpcykpO1xuICAgICAgICBfdGhpcy5fZGFpbHkub24oXCJsb2NhbC1hdWRpby1sZXZlbFwiLCBfdGhpcy5faGFuZGxlTG9jYWxBdWRpb0xldmVsLmJpbmQoX3RoaXMpKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEYWlseU1lZGlhTWFuYWdlci5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGluZm9zLCBkZXZpY2VzLCBjYW1zLCBtaWNzLCBzcGVha2VycztcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2ssIF9sLCBfbTtcbiAgICAgICAgICAgIHJldHVybiAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24oX28pIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2goX28ubGFiZWwpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJEYWlseU1lZGlhTWFuYWdlciBhbHJlYWR5IGluaXRpYWxpemVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGFpbHkuc3RhcnRDYW1lcmEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFZpZGVvT2ZmOiAhdGhpcy5fY2FtRW5hYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRBdWRpb09mZjogIXRoaXMuX21pY0VuYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mb3MgPSBfby5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYWlseS5lbnVtZXJhdGVEZXZpY2VzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZXMgPSBfby5zZW50KCkuZGV2aWNlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbXMgPSBkZXZpY2VzLmZpbHRlcihmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQua2luZCA9PT0gXCJ2aWRlb2lucHV0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pY3MgPSBkZXZpY2VzLmZpbHRlcihmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQua2luZCA9PT0gXCJhdWRpb2lucHV0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWFrZXJzID0gZGV2aWNlcy5maWx0ZXIoZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmtpbmQgPT09IFwiYXVkaW9vdXRwdXRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9iID0gKF9hID0gdGhpcy5fY2FsbGJhY2tzKS5vbkF2YWlsYWJsZUNhbXNVcGRhdGVkKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwIHx8IF9iLmNhbGwoX2EsIGNhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9kID0gKF9jID0gdGhpcy5fY2FsbGJhY2tzKS5vbkF2YWlsYWJsZU1pY3NVcGRhdGVkKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwIHx8IF9kLmNhbGwoX2MsIG1pY3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9mID0gKF9lID0gdGhpcy5fY2FsbGJhY2tzKS5vbkF2YWlsYWJsZVNwZWFrZXJzVXBkYXRlZCkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCB8fCBfZi5jYWxsKF9lLCBzcGVha2Vycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RlZENhbSA9IGluZm9zLmNhbWVyYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfaCA9IChfZyA9IHRoaXMuX2NhbGxiYWNrcykub25DYW1VcGRhdGVkKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwIHx8IF9oLmNhbGwoX2csIGluZm9zLmNhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RlZE1pYyA9IGluZm9zLm1pYztcbiAgICAgICAgICAgICAgICAgICAgICAgIChfayA9IChfaiA9IHRoaXMuX2NhbGxiYWNrcykub25NaWNVcGRhdGVkKSA9PT0gbnVsbCB8fCBfayA9PT0gdm9pZCAwIHx8IF9rLmNhbGwoX2osIGluZm9zLm1pYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RlZFNwZWFrZXIgPSBpbmZvcy5zcGVha2VyO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9tID0gKF9sID0gdGhpcy5fY2FsbGJhY2tzKS5vblNwZWFrZXJVcGRhdGVkKSA9PT0gbnVsbCB8fCBfbSA9PT0gdm9pZCAwIHx8IF9tLmNhbGwoX2wsIGluZm9zLnNwZWFrZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5fZGFpbHkuaXNMb2NhbEF1ZGlvTGV2ZWxPYnNlcnZlclJ1bm5pbmcoKSkgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAzIC8qYnJlYWsqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhaWx5LnN0YXJ0TG9jYWxBdWRpb0xldmVsT2JzZXJ2ZXIoMTAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgX28uc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX28ubGFiZWwgPSA0O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3dhdlN0cmVhbVBsYXllcikgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAzIC8qYnJlYWsqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNlxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3dhdlN0cmVhbVBsYXllci5jb25uZWN0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fcmVtb3RlQXVkaW9MZXZlbEludGVydmFsKSB0aGlzLl9yZW1vdGVBdWRpb0xldmVsSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyZXF1ZW5jaWVzID0gX3RoaXMuX3dhdlN0cmVhbVBsYXllci5nZXRGcmVxdWVuY2llcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdmVWYWwgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoX2EgPSBmcmVxdWVuY2llcy52YWx1ZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpIGF2ZVZhbCA9IGZyZXF1ZW5jaWVzLnZhbHVlcy5yZWR1Y2UoZnVuY3Rpb24oYSwgYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSArIGM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCkgLyBmcmVxdWVuY2llcy52YWx1ZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9oYW5kbGVSZW1vdGVBdWRpb0xldmVsKGF2ZVZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX28ubGFiZWwgPSA2O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyBcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGFpbHlNZWRpYU1hbmFnZXIucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICQyMmVjZTA0NTI5MGM5OTZhJHZhciRfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKF9hKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJEYWlseU1lZGlhTWFuYWdlciBhbHJlYWR5IGNvbm5lY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyBcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gLFxuICAgICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQyMmVjZTA0NTI5MGM5OTZhJHZhciRfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQyMmVjZTA0NTI5MGM5OTZhJHZhciRfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbihfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoKF9hLmxhYmVsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3RSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9taWNFbmFibGVkKSB0aGlzLl9zdGFydFJlY29yZGluZygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyBcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGFpbHlNZWRpYU1hbmFnZXIucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICQyMmVjZTA0NTI5MGM5OTZhJHZhciRfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICByZXR1cm4gJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKF9jKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKF9jLmxhYmVsKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3JlbW90ZUF1ZGlvTGV2ZWxJbnRlcnZhbCkgY2xlYXJJbnRlcnZhbCh0aGlzLl9yZW1vdGVBdWRpb0xldmVsSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVtb3RlQXVkaW9MZXZlbEludGVydmFsID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhaWx5LmxlYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50QXVkaW9UcmFjayA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLl9tZWRpYVN0cmVhbVJlY29yZGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW5kKClcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYiA9IHRoaXMuX3dhdlN0cmVhbVBsYXllcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCB8fCBfYi5pbnRlcnJ1cHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovIFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEYWlseU1lZGlhTWFuYWdlci5wcm90b3R5cGUudXNlclN0YXJ0ZWRTcGVha2luZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuICQyMmVjZTA0NTI5MGM5OTZhJHZhciRfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbihfYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyAsXG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHRoaXMuX3dhdlN0cmVhbVBsYXllcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmludGVycnVwdCgpXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5idWZmZXJCb3RBdWRpbyA9IGZ1bmN0aW9uKGRhdGEsIGlkKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuX3dhdlN0cmVhbVBsYXllcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFkZDE2Qml0UENNKGRhdGEsIGlkKTtcbiAgICB9O1xuICAgIERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5nZXRBbGxNaWNzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZGV2aWNlcztcbiAgICAgICAgICAgIHJldHVybiAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24oX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2goX2EubGFiZWwpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYWlseS5lbnVtZXJhdGVEZXZpY2VzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZXMgPSBfYS5zZW50KCkuZGV2aWNlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VzLmZpbHRlcihmdW5jdGlvbihkZXZpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRldmljZS5raW5kID09PSBcImF1ZGlvaW5wdXRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEYWlseU1lZGlhTWFuYWdlci5wcm90b3R5cGUuZ2V0QWxsQ2FtcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGRldmljZXM7XG4gICAgICAgICAgICByZXR1cm4gJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKF9hLmxhYmVsKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGFpbHkuZW51bWVyYXRlRGV2aWNlcygpXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VzID0gX2Euc2VudCgpLmRldmljZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlcy5maWx0ZXIoZnVuY3Rpb24oZGV2aWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXZpY2Uua2luZCA9PT0gXCJ2aWRlb2lucHV0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGFpbHlNZWRpYU1hbmFnZXIucHJvdG90eXBlLmdldEFsbFNwZWFrZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZGV2aWNlcztcbiAgICAgICAgICAgIHJldHVybiAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24oX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2goX2EubGFiZWwpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYWlseS5lbnVtZXJhdGVEZXZpY2VzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZXMgPSBfYS5zZW50KCkuZGV2aWNlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VzLmZpbHRlcihmdW5jdGlvbihkZXZpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRldmljZS5raW5kID09PSBcImF1ZGlvb3V0cHV0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGFpbHlNZWRpYU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZU1pYyA9IGZ1bmN0aW9uKG1pY0lkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX2RhaWx5LnNldElucHV0RGV2aWNlc0FzeW5jKHtcbiAgICAgICAgICAgIGF1ZGlvRGV2aWNlSWQ6IG1pY0lkXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZGV2aWNlSW5mbykge1xuICAgICAgICAgICAgX3RoaXMuX3NlbGVjdGVkTWljID0gZGV2aWNlSW5mby5taWM7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGFpbHlNZWRpYU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZUNhbSA9IGZ1bmN0aW9uKGNhbUlkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX2RhaWx5LnNldElucHV0RGV2aWNlc0FzeW5jKHtcbiAgICAgICAgICAgIHZpZGVvRGV2aWNlSWQ6IGNhbUlkXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZGV2aWNlSW5mbykge1xuICAgICAgICAgICAgX3RoaXMuX3NlbGVjdGVkQ2FtID0gZGV2aWNlSW5mby5jYW1lcmE7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGFpbHlNZWRpYU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZVNwZWFrZXIgPSBmdW5jdGlvbihzcGVha2VySWQpIHtcbiAgICAgICAgcmV0dXJuICQyMmVjZTA0NTI5MGM5OTZhJHZhciRfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzSUQsIHNwZWFrZXJzLCBkZWZhdWx0U3BlYWtlcl8xLCBkZWZhdWx0U3BlYWtlckNwO1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICByZXR1cm4gJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKF9jKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKF9jLmxhYmVsKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwZWFrZXJJZCAhPT0gXCJkZWZhdWx0XCIgJiYgdGhpcy5fc2VsZWN0ZWRTcGVha2VyLmRldmljZUlkID09PSBzcGVha2VySWQpIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovIFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNJRCA9IHNwZWFrZXJJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHNJRCA9PT0gXCJkZWZhdWx0XCIpKSByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMgLypicmVhayovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRBbGxTcGVha2VycygpXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGVha2VycyA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTcGVha2VyXzEgPSBzcGVha2Vycy5maW5kKGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5kZXZpY2VJZCA9PT0gXCJkZWZhdWx0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGVmYXVsdFNwZWFrZXJfMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk5vIGRlZmF1bHQgc3BlYWtlciBmb3VuZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWFrZXJzLnNwbGljZShzcGVha2Vycy5pbmRleE9mKGRlZmF1bHRTcGVha2VyXzEpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTcGVha2VyQ3AgPSBzcGVha2Vycy5maW5kKGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdFNwZWFrZXJfMS5sYWJlbC5pbmNsdWRlcyhzLmxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc0lEID0gKF9hID0gZGVmYXVsdFNwZWFrZXJDcCA9PT0gbnVsbCB8fCBkZWZhdWx0U3BlYWtlckNwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWZhdWx0U3BlYWtlckNwLmRldmljZUlkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBzcGVha2VySWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYiA9IHRoaXMuX3dhdlN0cmVhbVBsYXllcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCB8fCBfYi51cGRhdGVTcGVha2VyKHNJRCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zZWxlY3RlZFNwZWFrZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZUlkOiBzcGVha2VySWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfYiA9IChfYSA9IF90aGlzLl9jYWxsYmFja3MpLm9uU3BlYWtlclVwZGF0ZWQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgfHwgX2IuY2FsbChfYSwgX3RoaXMuX3NlbGVjdGVkU3BlYWtlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovIFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGFpbHlNZWRpYU1hbmFnZXIucHJvdG90eXBlLCBcInNlbGVjdGVkTWljXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZE1pYztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYWlseU1lZGlhTWFuYWdlci5wcm90b3R5cGUsIFwic2VsZWN0ZWRDYW1cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkQ2FtO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZSwgXCJzZWxlY3RlZFNwZWFrZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkU3BlYWtlcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5lbmFibGVNaWMgPSBmdW5jdGlvbihlbmFibGUpIHtcbiAgICAgICAgcmV0dXJuICQyMmVjZTA0NTI5MGM5OTZhJHZhciRfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24oX2IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9taWNFbmFibGVkID0gZW5hYmxlO1xuICAgICAgICAgICAgICAgIGlmICghKChfYSA9IHRoaXMuX2RhaWx5LnBhcnRpY2lwYW50cygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubG9jYWwpKSByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kYWlseS5zZXRMb2NhbEF1ZGlvKGVuYWJsZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21lZGlhU3RyZWFtUmVjb3JkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX21lZGlhU3RyZWFtUmVjb3JkZXIuZ2V0U3RhdHVzKCkgPT09IFwicGF1c2VkXCIpIHRoaXMuX3N0YXJ0UmVjb3JkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgLy8gZWxzZSwgd2UnbGwgcmVjb3JkIG9uIHRoZSB0cmFjay1zdGFydGVkIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fbWVkaWFTdHJlYW1SZWNvcmRlci5nZXRTdGF0dXMoKSA9PT0gXCJyZWNvcmRpbmdcIikgdGhpcy5fbWVkaWFTdHJlYW1SZWNvcmRlci5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8gXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5lbmFibGVDYW0gPSBmdW5jdGlvbihlbmFibGUpIHtcbiAgICAgICAgdGhpcy5fY2FtRW5hYmxlZCA9IGVuYWJsZTtcbiAgICAgICAgdGhpcy5fZGFpbHkuc2V0TG9jYWxWaWRlbyhlbmFibGUpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZSwgXCJpc0NhbUVuYWJsZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RhaWx5LmxvY2FsVmlkZW8oKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYWlseU1lZGlhTWFuYWdlci5wcm90b3R5cGUsIFwiaXNNaWNFbmFibGVkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYWlseS5sb2NhbEF1ZGlvKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBEYWlseU1lZGlhTWFuYWdlci5wcm90b3R5cGUudHJhY2tzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICB2YXIgcGFydGljaXBhbnRzID0gdGhpcy5fZGFpbHkucGFydGljaXBhbnRzKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsb2NhbDoge1xuICAgICAgICAgICAgICAgIGF1ZGlvOiAoX2MgPSAoX2IgPSAoX2EgPSBwYXJ0aWNpcGFudHMgPT09IG51bGwgfHwgcGFydGljaXBhbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJ0aWNpcGFudHMubG9jYWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50cmFja3MpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5hdWRpbykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnBlcnNpc3RlbnRUcmFjayxcbiAgICAgICAgICAgICAgICB2aWRlbzogKF9mID0gKF9lID0gKF9kID0gcGFydGljaXBhbnRzID09PSBudWxsIHx8IHBhcnRpY2lwYW50cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFydGljaXBhbnRzLmxvY2FsKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudHJhY2tzKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UudmlkZW8pID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5wZXJzaXN0ZW50VHJhY2tcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5fc3RhcnRSZWNvcmRpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLl9jb25uZWN0ZWQgfHwgIXRoaXMuX21lZGlhU3RyZWFtUmVjb3JkZXIpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhU3RyZWFtUmVjb3JkZXIucmVjb3JkKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fdXNlckF1ZGlvQ2FsbGJhY2soZGF0YS5tb25vKTtcbiAgICAgICAgICAgIH0sIHRoaXMuX3JlY29yZGVyQ2h1bmtTaXplKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdmFyIGVyciA9IGU7XG4gICAgICAgICAgICBpZiAoIWVyci5tZXNzYWdlLmluY2x1ZGVzKFwiQWxyZWFkeSByZWNvcmRpbmdcIikpIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzdGFydGluZyByZWNvcmRpbmdcIiwgZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5faGFuZGxlQXZhaWxhYmxlRGV2aWNlc1VwZGF0ZWQgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5fY2FsbGJhY2tzKS5vbkF2YWlsYWJsZUNhbXNVcGRhdGVkKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwIHx8IF9iLmNhbGwoX2EsIGV2ZW50LmF2YWlsYWJsZURldmljZXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkLmtpbmQgPT09IFwidmlkZW9pbnB1dFwiO1xuICAgICAgICB9KSk7XG4gICAgICAgIChfZCA9IChfYyA9IHRoaXMuX2NhbGxiYWNrcykub25BdmFpbGFibGVNaWNzVXBkYXRlZCkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCB8fCBfZC5jYWxsKF9jLCBldmVudC5hdmFpbGFibGVEZXZpY2VzLmZpbHRlcihmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICByZXR1cm4gZC5raW5kID09PSBcImF1ZGlvaW5wdXRcIjtcbiAgICAgICAgfSkpO1xuICAgICAgICAoX2YgPSAoX2UgPSB0aGlzLl9jYWxsYmFja3MpLm9uQXZhaWxhYmxlU3BlYWtlcnNVcGRhdGVkKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwIHx8IF9mLmNhbGwoX2UsIGV2ZW50LmF2YWlsYWJsZURldmljZXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkLmtpbmQgPT09IFwiYXVkaW9vdXRwdXRcIjtcbiAgICAgICAgfSkpO1xuICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWRTcGVha2VyLmRldmljZUlkID09PSBcImRlZmF1bHRcIikgdGhpcy51cGRhdGVTcGVha2VyKFwiZGVmYXVsdFwiKTtcbiAgICB9O1xuICAgIERhaWx5TWVkaWFNYW5hZ2VyLnByb3RvdHlwZS5faGFuZGxlU2VsZWN0ZWREZXZpY2VzVXBkYXRlZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICBpZiAoKChfYSA9IHRoaXMuX3NlbGVjdGVkQ2FtKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGV2aWNlSWQpICE9PSBldmVudC5kZXZpY2VzLmNhbWVyYSkge1xuICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRDYW0gPSBldmVudC5kZXZpY2VzLmNhbWVyYTtcbiAgICAgICAgICAgIChfYyA9IChfYiA9IHRoaXMuX2NhbGxiYWNrcykub25DYW1VcGRhdGVkKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwIHx8IF9jLmNhbGwoX2IsIGV2ZW50LmRldmljZXMuY2FtZXJhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKChfZCA9IHRoaXMuX3NlbGVjdGVkTWljKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuZGV2aWNlSWQpICE9PSBldmVudC5kZXZpY2VzLm1pYykge1xuICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRNaWMgPSBldmVudC5kZXZpY2VzLm1pYztcbiAgICAgICAgICAgIChfZiA9IChfZSA9IHRoaXMuX2NhbGxiYWNrcykub25NaWNVcGRhdGVkKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwIHx8IF9mLmNhbGwoX2UsIGV2ZW50LmRldmljZXMubWljKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGFpbHlNZWRpYU1hbmFnZXIucHJvdG90eXBlLl9oYW5kbGVMb2NhbEF1ZGlvTGV2ZWwgPSBmdW5jdGlvbihldikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLl9jYWxsYmFja3MpLm9uTG9jYWxBdWRpb0xldmVsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwIHx8IF9iLmNhbGwoX2EsIGV2LmF1ZGlvTGV2ZWwpO1xuICAgIH07XG4gICAgRGFpbHlNZWRpYU1hbmFnZXIucHJvdG90eXBlLl9oYW5kbGVSZW1vdGVBdWRpb0xldmVsID0gZnVuY3Rpb24oYXVkaW9MZXZlbCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLl9jYWxsYmFja3MpLm9uUmVtb3RlQXVkaW9MZXZlbCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCB8fCBfYi5jYWxsKF9hLCBhdWRpb0xldmVsLCAkMjJlY2UwNDUyOTBjOTk2YSR2YXIkYm90UGFydGljaXBhbnQoKSk7XG4gICAgfTtcbiAgICBEYWlseU1lZGlhTWFuYWdlci5wcm90b3R5cGUuaGFuZGxlVHJhY2tTdGFydGVkID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuICQyMmVjZTA0NTI5MGM5OTZhJHZhciRfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHN0YXR1cywgX2E7XG4gICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgICAgICByZXR1cm4gJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKF9mKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKF9mLmxhYmVsKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoKF9iID0gZXZlbnQucGFydGljaXBhbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5sb2NhbCkpIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovIFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGV2ZW50LnRyYWNrLmtpbmQgPT09IFwiYXVkaW9cIikpIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMyAvKmJyZWFrKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9tZWRpYVN0cmVhbVJlY29yZGVyKSByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMgLypicmVhayovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA5XG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzID0gdGhpcy5fbWVkaWFTdHJlYW1SZWNvcmRlci5nZXRTdGF0dXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gc3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoKF9hKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW5kZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMgLypicmVhayovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicGF1c2VkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAzIC8qYnJlYWsqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJlY29yZGluZ1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMyAvKmJyZWFrKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAzIC8qYnJlYWsqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFTdHJlYW1SZWNvcmRlci5iZWdpbihldmVudC50cmFjaylcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9mLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFydFJlY29yZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb25uZWN0UmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25uZWN0UmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25uZWN0UmVzb2x2ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAzIC8qYnJlYWsqLyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRSZWNvcmRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMyAvKmJyZWFrKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDlcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHRoaXMuX2N1cnJlbnRBdWRpb1RyYWNrICE9PSBldmVudC50cmFjaykpIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMyAvKmJyZWFrKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDdcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYVN0cmVhbVJlY29yZGVyLmVuZCgpXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICBfZi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYVN0cmVhbVJlY29yZGVyLmJlZ2luKGV2ZW50LnRyYWNrKVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Yuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRSZWNvcmRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMyAvKmJyZWFrKi8gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDhcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcInRyYWNrLXN0YXJ0ZWQgZXZlbnQgcmVjZWl2ZWQgZm9yIGN1cnJlbnQgdHJhY2sgYW5kIGFscmVhZHkgcmVjb3JkaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2YubGFiZWwgPSA4O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMgLypicmVhayovICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA5XG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50QXVkaW9UcmFjayA9IGV2ZW50LnRyYWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2YubGFiZWwgPSAxMDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIChfZCA9IChfYyA9IHRoaXMuX2NhbGxiYWNrcykub25UcmFja1N0YXJ0ZWQpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgfHwgX2QuY2FsbChfYywgZXZlbnQudHJhY2ssIGV2ZW50LnBhcnRpY2lwYW50ID8gJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJGRhaWx5UGFydGljaXBhbnRUb1BhcnRpY2lwYW50KGV2ZW50LnBhcnRpY2lwYW50KSA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2UgPSB0aGlzLm9uVHJhY2tTdGFydGVkQ2FsbGJhY2spID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgfHwgX2UuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyBcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGFpbHlNZWRpYU1hbmFnZXIucHJvdG90eXBlLmhhbmRsZVRyYWNrU3RvcHBlZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgaWYgKCEoKF9hID0gZXZlbnQucGFydGljaXBhbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sb2NhbCkpIHJldHVybjtcbiAgICAgICAgaWYgKGV2ZW50LnRyYWNrLmtpbmQgPT09IFwiYXVkaW9cIikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21lZGlhU3RyZWFtUmVjb3JkZXIgJiYgdGhpcy5fbWVkaWFTdHJlYW1SZWNvcmRlci5nZXRTdGF0dXMoKSA9PT0gXCJyZWNvcmRpbmdcIikgdGhpcy5fbWVkaWFTdHJlYW1SZWNvcmRlci5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgICAgIChfYyA9IChfYiA9IHRoaXMuX2NhbGxiYWNrcykub25UcmFja1N0b3BwZWQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgfHwgX2MuY2FsbChfYiwgZXZlbnQudHJhY2ssIGV2ZW50LnBhcnRpY2lwYW50ID8gJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJGRhaWx5UGFydGljaXBhbnRUb1BhcnRpY2lwYW50KGV2ZW50LnBhcnRpY2lwYW50KSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIChfZCA9IHRoaXMub25UcmFja1N0b3BwZWRDYWxsYmFjaykgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCB8fCBfZC5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xuICAgIHJldHVybiBEYWlseU1lZGlhTWFuYWdlcjtcbn0oKDAsICRmYzQ5YTU2Y2Q4NzM5MTI3JGV4cG9ydCQ0YTBjNDZkYmJlMmRkYjY3KSk7XG52YXIgJDIyZWNlMDQ1MjkwYzk5NmEkdmFyJGRhaWx5UGFydGljaXBhbnRUb1BhcnRpY2lwYW50ID0gZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBwLnVzZXJfaWQsXG4gICAgICAgIGxvY2FsOiBwLmxvY2FsLFxuICAgICAgICBuYW1lOiBwLnVzZXJfbmFtZVxuICAgIH07XG59O1xudmFyICQyMmVjZTA0NTI5MGM5OTZhJHZhciRib3RQYXJ0aWNpcGFudCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBcImJvdFwiLFxuICAgICAgICBsb2NhbDogZmFsc2UsXG4gICAgICAgIG5hbWU6IFwiQm90XCJcbiAgICB9O1xufTtcblxuXG5jbGFzcyAkYjMxNjQ0ZGM3OGRjYTU0YSR2YXIkVHJhY2tTdGF0dXNNZXNzYWdlIHtcbiAgICBjb25zdHJ1Y3RvcihyZWNlaXZlcl9pbmRleCwgZW5hYmxlZCl7XG4gICAgICAgIHRoaXMudHlwZSA9IFwidHJhY2tTdGF0dXNcIjtcbiAgICAgICAgdGhpcy5yZWNlaXZlcl9pbmRleCA9IHJlY2VpdmVyX2luZGV4O1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSBlbmFibGVkO1xuICAgIH1cbn1cbmNvbnN0ICRiMzE2NDRkYzc4ZGNhNTRhJHZhciRSRU5FR09USUFURV9UWVBFID0gXCJyZW5lZ290aWF0ZVwiO1xuY2xhc3MgJGIzMTY0NGRjNzhkY2E1NGEkdmFyJFJlbmVnb3RpYXRlTWVzc2FnZSB7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgdGhpcy50eXBlID0gJGIzMTY0NGRjNzhkY2E1NGEkdmFyJFJFTkVHT1RJQVRFX1RZUEU7XG4gICAgfVxufVxuY29uc3QgJGIzMTY0NGRjNzhkY2E1NGEkdmFyJFBFRVJfTEVGVF9UWVBFID0gXCJwZWVyTGVmdFwiO1xuY2xhc3MgJGIzMTY0NGRjNzhkY2E1NGEkdmFyJFBlZXJMZWZ0TWVzc2FnZU1lc3NhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMudHlwZSA9ICRiMzE2NDRkYzc4ZGNhNTRhJHZhciRQRUVSX0xFRlRfVFlQRTtcbiAgICB9XG59XG4vLyBJbnRlcmZhY2UgZm9yIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIHNpZ25hbGxpbmcgbWVzc2FnZVxuY29uc3QgJGIzMTY0NGRjNzhkY2E1NGEkdmFyJFNJR05BTExJTkdfVFlQRSA9IFwic2lnbmFsbGluZ1wiO1xuY2xhc3MgJGIzMTY0NGRjNzhkY2E1NGEkdmFyJFNpZ25hbGxpbmdNZXNzYWdlT2JqZWN0IHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKXtcbiAgICAgICAgdGhpcy50eXBlID0gJGIzMTY0NGRjNzhkY2E1NGEkdmFyJFNJR05BTExJTkdfVFlQRTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG59XG5jb25zdCAkYjMxNjQ0ZGM3OGRjYTU0YSR2YXIkQVVESU9fVFJBTlNDRUlWRVJfSU5ERVggPSAwO1xuY29uc3QgJGIzMTY0NGRjNzhkY2E1NGEkdmFyJFZJREVPX1RSQU5TQ0VJVkVSX0lOREVYID0gMTtcbmNsYXNzICRiMzE2NDRkYzc4ZGNhNTRhJGV4cG9ydCQ2MjA0MzU4OWQwNTNhODc5IGV4dGVuZHMgKDAsICQ5OXdUViRUcmFuc3BvcnQpIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzID0ge30pe1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9jb25uZWN0aW9uVXJsID0gbnVsbDtcbiAgICAgICAgLy8gVHJpZ2dlciB3aGVuIHRoZSBwZWVyIGNvbm5lY3Rpb24gaXMgZmluYWxseSByZWFkeSBvciBpbiBjYXNlIGl0IGhhcyBmYWlsZWQgYWxsIHRoZSBhdHRlbXB0cyB0byBjb25uZWN0XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RSZXNvbHZlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RGYWlsZWQgPSBudWxsO1xuICAgICAgICB0aGlzLnBjID0gbnVsbDtcbiAgICAgICAgdGhpcy5kYyA9IG51bGw7XG4gICAgICAgIHRoaXMuYXVkaW9Db2RlYyA9IG51bGw7XG4gICAgICAgIHRoaXMudmlkZW9Db2RlYyA9IG51bGw7XG4gICAgICAgIHRoaXMucGNfaWQgPSBudWxsO1xuICAgICAgICB0aGlzLnJlY29ubmVjdGlvbkF0dGVtcHRzID0gMDtcbiAgICAgICAgdGhpcy5tYXhSZWNvbm5lY3Rpb25BdHRlbXB0cyA9IDM7XG4gICAgICAgIHRoaXMuaXNSZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5rZWVwQWxpdmVJbnRlcnZhbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ljZVNlcnZlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5faWNlU2VydmVycyA9IG9wdHMuaWNlU2VydmVycyB8fCBbXTtcbiAgICAgICAgdGhpcy5fd2FpdEZvcklDRUdhdGhlcmluZyA9IG9wdHMud2FpdEZvcklDRUdhdGhlcmluZyB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvblVybCA9IG9wdHMuY29ubmVjdGlvblVybCB8fCBudWxsO1xuICAgICAgICB0aGlzLmF1ZGlvQ29kZWMgPSBvcHRzLmF1ZGlvQ29kZWMgfHwgbnVsbDtcbiAgICAgICAgdGhpcy52aWRlb0NvZGVjID0gb3B0cy52aWRlb0NvZGVjIHx8IG51bGw7XG4gICAgICAgIHRoaXMubWVkaWFNYW5hZ2VyID0gbmV3ICgwLCAkMjJlY2UwNDUyOTBjOTk2YSRleHBvcnQkYzk1YzY1YWJjNWY0NzEyNSkoZmFsc2UsIGZhbHNlLCBhc3luYyAoZXZlbnQpPT57XG4gICAgICAgICAgICBpZiAoIXRoaXMucGMpIHJldHVybjtcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09IFwiYXVkaW9cIikge1xuICAgICAgICAgICAgICAgICgwLCAkOTl3VFYkbG9nZ2VyKS5pbmZvKFwiU21hbGxXZWJSVENNZWRpYU1hbmFnZXIgcmVwbGFjaW5nIGF1ZGlvIHRyYWNrXCIpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0QXVkaW9UcmFuc2NlaXZlcigpLnNlbmRlci5yZXBsYWNlVHJhY2soZXZlbnQudHJhY2spO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC50eXBlID09IFwidmlkZW9cIikge1xuICAgICAgICAgICAgICAgICgwLCAkOTl3VFYkbG9nZ2VyKS5pbmZvKFwiU21hbGxXZWJSVENNZWRpYU1hbmFnZXIgcmVwbGFjaW5nIHZpZGVvIHRyYWNrXCIpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0VmlkZW9UcmFuc2NlaXZlcigpLnNlbmRlci5yZXBsYWNlVHJhY2soZXZlbnQudHJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAoZXZlbnQpPT4oMCwgJDk5d1RWJGxvZ2dlcikuZGVidWcoXCJTbWFsbFdlYlJUQ01lZGlhTWFuYWdlciBUcmFjayBzdG9wcGVkOlwiLCBldmVudCkpO1xuICAgIH1cbiAgICBpbml0aWFsaXplKG9wdGlvbnMsIG1lc3NhZ2VIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MgPSBvcHRpb25zLmNhbGxiYWNrcyA/PyB7fTtcbiAgICAgICAgdGhpcy5fb25NZXNzYWdlID0gbWVzc2FnZUhhbmRsZXI7XG4gICAgICAgIHRoaXMubWVkaWFNYW5hZ2VyLnNldENsaWVudE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBcImRpc2Nvbm5lY3RlZFwiO1xuICAgICAgICAoMCwgJDk5d1RWJGxvZ2dlcikuZGVidWcoXCJbUlRWSSBUcmFuc3BvcnRdIEluaXRpYWxpemVkXCIpO1xuICAgIH1cbiAgICBhc3luYyBpbml0RGV2aWNlcygpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFwiaW5pdGlhbGl6aW5nXCI7XG4gICAgICAgIGF3YWl0IHRoaXMubWVkaWFNYW5hZ2VyLmluaXRpYWxpemUoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFwiaW5pdGlhbGl6ZWRcIjtcbiAgICB9XG4gICAgc2V0QXVkaW9Db2RlYyhhdWRpb0NvZGVjKSB7XG4gICAgICAgIHRoaXMuYXVkaW9Db2RlYyA9IGF1ZGlvQ29kZWM7XG4gICAgfVxuICAgIHNldFZpZGVvQ29kZWModmlkZW9Db2RlYykge1xuICAgICAgICB0aGlzLnZpZGVvQ29kZWMgPSB2aWRlb0NvZGVjO1xuICAgIH1cbiAgICBfdmFsaWRhdGVDb25uZWN0aW9uUGFyYW1zKGNvbm5lY3RQYXJhbXMpIHtcbiAgICAgICAgaWYgKGNvbm5lY3RQYXJhbXMgPT09IHVuZGVmaW5lZCB8fCBjb25uZWN0UGFyYW1zID09PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodHlwZW9mIGNvbm5lY3RQYXJhbXMgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyAoMCwgJDk5d1RWJFJUVklFcnJvcikoXCJJbnZhbGlkIGNvbm5lY3Rpb24gcGFyYW1ldGVyc1wiKTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKGNvbm5lY3RQYXJhbXMpKXtcbiAgICAgICAgICAgIGlmIChrZXkgIT09IFwiY29ubmVjdGlvblVybFwiKSB0aHJvdyBuZXcgKDAsICQ5OXdUViRSVFZJRXJyb3IpKGBVbnJlY29nbml6ZWQgY29ubmVjdGlvbiBwYXJhbWV0ZXI6ICR7a2V5fS4gT25seSAnY29ubmVjdGlvblVybCcgaXMgYWxsb3dlZC5gKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWwgIT09IFwic3RyaW5nXCIpIHRocm93IG5ldyAoMCwgJDk5d1RWJFJUVklFcnJvcikoYEludmFsaWQgdHlwZSBmb3IgY29ubmVjdGlvblVybDogZXhwZWN0ZWQgc3RyaW5nLCBnb3QgJHt0eXBlb2YgdmFsfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25uZWN0UGFyYW1zO1xuICAgIH1cbiAgICBhc3luYyBfY29ubmVjdChjb25uZWN0UGFyYW1zKSB7XG4gICAgICAgIGlmICh0aGlzLl9hYm9ydENvbnRyb2xsZXI/LnNpZ25hbC5hYm9ydGVkKSByZXR1cm47XG4gICAgICAgIHRoaXMuc3RhdGUgPSBcImNvbm5lY3RpbmdcIjtcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvblVybCA9IGNvbm5lY3RQYXJhbXM/LmNvbm5lY3Rpb25VcmwgPz8gdGhpcy5fY29ubmVjdGlvblVybDtcbiAgICAgICAgaWYgKCF0aGlzLl9jb25uZWN0aW9uVXJsKSB7XG4gICAgICAgICAgICAoMCwgJDk5d1RWJGxvZ2dlcikuZXJyb3IoXCJObyB1cmwgcHJvdmlkZWQgZm9yIGNvbm5lY3Rpb25cIik7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gXCJlcnJvclwiO1xuICAgICAgICAgICAgdGhyb3cgbmV3ICgwLCAkOTl3VFYkVHJhbnNwb3J0U3RhcnRFcnJvcikoKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLm1lZGlhTWFuYWdlci5jb25uZWN0KCk7XG4gICAgICAgIGF3YWl0IHRoaXMuc3RhcnROZXdQZWVyQ29ubmVjdGlvbigpO1xuICAgICAgICBpZiAodGhpcy5fYWJvcnRDb250cm9sbGVyPy5zaWduYWwuYWJvcnRlZCkgcmV0dXJuO1xuICAgICAgICAvLyBXYWl0IHVudGlsIHdlIGFyZSBhY3R1YWxseSBjb25uZWN0ZWQgYW5kIHRoZSBkYXRhIGNoYW5uZWwgaXMgcmVhZHlcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PntcbiAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3RSZXNvbHZlZCA9IHJlc29sdmU7XG4gICAgICAgICAgICB0aGlzLl9jb25uZWN0RmFpbGVkID0gcmVqZWN0O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFwiY29ubmVjdGVkXCI7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vbkNvbm5lY3RlZD8uKCk7XG4gICAgfVxuICAgIHN5bmNUcmFja1N0YXR1cygpIHtcbiAgICAgICAgLy8gU2VuZGluZyB0aGUgY3VycmVudCBzdGF0dXMgZnJvbSB0aGUgdHJhY2tzIHRvIFBpcGVjYXRcbiAgICAgICAgdGhpcy5zZW5kU2lnbmFsbGluZ01lc3NhZ2UobmV3ICRiMzE2NDRkYzc4ZGNhNTRhJHZhciRUcmFja1N0YXR1c01lc3NhZ2UoJGIzMTY0NGRjNzhkY2E1NGEkdmFyJEFVRElPX1RSQU5TQ0VJVkVSX0lOREVYLCB0aGlzLm1lZGlhTWFuYWdlci5pc01pY0VuYWJsZWQpKTtcbiAgICAgICAgdGhpcy5zZW5kU2lnbmFsbGluZ01lc3NhZ2UobmV3ICRiMzE2NDRkYzc4ZGNhNTRhJHZhciRUcmFja1N0YXR1c01lc3NhZ2UoJGIzMTY0NGRjNzhkY2E1NGEkdmFyJFZJREVPX1RSQU5TQ0VJVkVSX0lOREVYLCB0aGlzLm1lZGlhTWFuYWdlci5pc0NhbUVuYWJsZWQpKTtcbiAgICB9XG4gICAgc2VuZFJlYWR5TWVzc2FnZSgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFwicmVhZHlcIjtcbiAgICAgICAgLy8gU2VuZGluZyBtZXNzYWdlIHRoYXQgdGhlIGNsaWVudCBpcyByZWFkeSwganVzdCBmb3IgdGVzdGluZ1xuICAgICAgICAvL3RoaXMuZGM/LnNlbmQoSlNPTi5zdHJpbmdpZnkoe2lkOiAnY2xpZW50UmVhZHknLCBsYWJlbDogJ3J0dmktYWknLCB0eXBlOidjbGllbnQtcmVhZHknfSkpXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoKDAsICQ5OXdUViRSVFZJTWVzc2FnZSkuY2xpZW50UmVhZHkoKSk7XG4gICAgfVxuICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRjIHx8IHRoaXMuZGMucmVhZHlTdGF0ZSAhPT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICAgICgwLCAkOTl3VFYkbG9nZ2VyKS53YXJuKGBEYXRhY2hhbm5lbCBpcyBub3QgcmVhZHkuIE1lc3NhZ2Ugbm90IHNlbnQ6ICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRjPy5zZW5kKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgc2VuZFNpZ25hbGxpbmdNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRjIHx8IHRoaXMuZGMucmVhZHlTdGF0ZSAhPT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICAgICgwLCAkOTl3VFYkbG9nZ2VyKS53YXJuKGBEYXRhY2hhbm5lbCBpcyBub3QgcmVhZHkuIE1lc3NhZ2Ugbm90IHNlbnQ6ICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaWduYWxsaW5nTWVzc2FnZSA9IG5ldyAkYjMxNjQ0ZGM3OGRjYTU0YSR2YXIkU2lnbmFsbGluZ01lc3NhZ2VPYmplY3QobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuZGM/LnNlbmQoSlNPTi5zdHJpbmdpZnkoc2lnbmFsbGluZ01lc3NhZ2UpKTtcbiAgICB9XG4gICAgYXN5bmMgX2Rpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBcImRpc2Nvbm5lY3RpbmdcIjtcbiAgICAgICAgYXdhaXQgdGhpcy5zdG9wKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBcImRpc2Nvbm5lY3RlZFwiO1xuICAgIH1cbiAgICBjcmVhdGVQZWVyQ29ubmVjdGlvbigpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICAgICAgaWNlU2VydmVyczogdGhpcy5faWNlU2VydmVyc1xuICAgICAgICB9O1xuICAgICAgICBsZXQgcGMgPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24oY29uZmlnKTtcbiAgICAgICAgcGMuYWRkRXZlbnRMaXN0ZW5lcihcImljZWdhdGhlcmluZ3N0YXRlY2hhbmdlXCIsICgpPT57XG4gICAgICAgICAgICAoMCwgJDk5d1RWJGxvZ2dlcikuZGVidWcoYGljZUdhdGhlcmluZ1N0YXRlOiAke3RoaXMucGMuaWNlR2F0aGVyaW5nU3RhdGV9YCk7XG4gICAgICAgIH0pO1xuICAgICAgICAoMCwgJDk5d1RWJGxvZ2dlcikuZGVidWcoYGljZUdhdGhlcmluZ1N0YXRlOiAke3BjLmljZUdhdGhlcmluZ1N0YXRlfWApO1xuICAgICAgICBwYy5hZGRFdmVudExpc3RlbmVyKFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsICgpPT50aGlzLmhhbmRsZUlDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSgpKTtcbiAgICAgICAgKDAsICQ5OXdUViRsb2dnZXIpLmRlYnVnKGBpY2VDb25uZWN0aW9uU3RhdGU6ICR7cGMuaWNlQ29ubmVjdGlvblN0YXRlfWApO1xuICAgICAgICBwYy5hZGRFdmVudExpc3RlbmVyKFwic2lnbmFsaW5nc3RhdGVjaGFuZ2VcIiwgKCk9PntcbiAgICAgICAgICAgICgwLCAkOTl3VFYkbG9nZ2VyKS5kZWJ1Zyhgc2lnbmFsaW5nU3RhdGU6ICR7dGhpcy5wYy5zaWduYWxpbmdTdGF0ZX1gKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBjLnNpZ25hbGluZ1N0YXRlID09IFwic3RhYmxlXCIpIHRoaXMuaGFuZGxlUmVjb25uZWN0aW9uQ29tcGxldGVkKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAoMCwgJDk5d1RWJGxvZ2dlcikuZGVidWcoYHNpZ25hbGluZ1N0YXRlOiAke3BjLnNpZ25hbGluZ1N0YXRlfWApO1xuICAgICAgICBwYy5hZGRFdmVudExpc3RlbmVyKFwidHJhY2tcIiwgKGV2dCk9PntcbiAgICAgICAgICAgICgwLCAkOTl3VFYkbG9nZ2VyKS5kZWJ1ZyhgUmVjZWl2ZWQgbmV3IHRyYWNrICR7ZXZ0LnRyYWNrLmtpbmR9YCk7XG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFja3Mub25UcmFja1N0YXJ0ZWQ/LihldnQudHJhY2spO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBjO1xuICAgIH1cbiAgICBoYW5kbGVJQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYykgcmV0dXJuO1xuICAgICAgICAoMCwgJDk5d1RWJGxvZ2dlcikuZGVidWcoYElDRSBDb25uZWN0aW9uIFN0YXRlOiAke3RoaXMucGMuaWNlQ29ubmVjdGlvblN0YXRlfWApO1xuICAgICAgICBpZiAodGhpcy5wYy5pY2VDb25uZWN0aW9uU3RhdGUgPT09IFwiZmFpbGVkXCIpIHtcbiAgICAgICAgICAgICgwLCAkOTl3VFYkbG9nZ2VyKS5kZWJ1ZyhcIklDRSBjb25uZWN0aW9uIGZhaWxlZCwgYXR0ZW1wdGluZyByZXN0YXJ0LlwiKTtcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdGlvbih0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBjLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gXCJkaXNjb25uZWN0ZWRcIikgLy8gV2FpdGluZyBiZWZvcmUgdHJ5aW5nIHRvIHJlY29ubmVjdCB0byBzZWUgaWYgaXQgaGFuZGxlcyBpdCBhdXRvbWF0aWNhbGx5XG4gICAgICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgIGlmICh0aGlzLnBjPy5pY2VDb25uZWN0aW9uU3RhdGUgPT09IFwiZGlzY29ubmVjdGVkXCIpIHtcbiAgICAgICAgICAgICAgICAoMCwgJDk5d1RWJGxvZ2dlcikuZGVidWcoXCJTdGlsbCBkaXNjb25uZWN0ZWQsIGF0dGVtcHRpbmcgcmVjb25uZWN0aW9uLlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGVtcHRSZWNvbm5lY3Rpb24odHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDUwMDApO1xuICAgIH1cbiAgICBoYW5kbGVSZWNvbm5lY3Rpb25Db21wbGV0ZWQoKSB7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMgPSAwO1xuICAgICAgICB0aGlzLmlzUmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgfVxuICAgIGFzeW5jIGF0dGVtcHRSZWNvbm5lY3Rpb24ocmVjcmVhdGVQZWVyQ29ubmVjdGlvbiA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh0aGlzLmlzUmVjb25uZWN0aW5nKSB7XG4gICAgICAgICAgICAoMCwgJDk5d1RWJGxvZ2dlcikuZGVidWcoXCJSZWNvbm5lY3Rpb24gYWxyZWFkeSBpbiBwcm9ncmVzcywgc2tpcHBpbmcuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdGlvbkF0dGVtcHRzID49IHRoaXMubWF4UmVjb25uZWN0aW9uQXR0ZW1wdHMpIHtcbiAgICAgICAgICAgICgwLCAkOTl3VFYkbG9nZ2VyKS5kZWJ1ZyhcIk1heCByZWNvbm5lY3Rpb24gYXR0ZW1wdHMgcmVhY2hlZC4gU3RvcHBpbmcgdHJhbnNwb3J0LlwiKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RvcCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNSZWNvbm5lY3RpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlY29ubmVjdGlvbkF0dGVtcHRzKys7XG4gICAgICAgICgwLCAkOTl3VFYkbG9nZ2VyKS5kZWJ1ZyhgUmVjb25uZWN0aW9uIGF0dGVtcHQgJHt0aGlzLnJlY29ubmVjdGlvbkF0dGVtcHRzfS4uLmApO1xuICAgICAgICAvLyBhaW9ydGMgZG9lcyBub3Qgc2VlbSB0byB3b3JrIHdoZW4ganVzdCB0cnlpbmcgdG8gcmVzdGFydCB0aGUgaWNlXG4gICAgICAgIC8vIHNvIGZvciB0aGlzIGNhc2Ugd2UgY3JlYXRlIGEgbmV3IHBlZXIgY29ubmVjdGlvbiBvbiBib3RoIHNpZGVzXG4gICAgICAgIGlmIChyZWNyZWF0ZVBlZXJDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBvbGRQQyA9IHRoaXMucGM7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnN0YXJ0TmV3UGVlckNvbm5lY3Rpb24ocmVjcmVhdGVQZWVyQ29ubmVjdGlvbik7XG4gICAgICAgICAgICBpZiAob2xkUEMpIHtcbiAgICAgICAgICAgICAgICAoMCwgJDk5d1RWJGxvZ2dlcikuZGVidWcoXCJjbG9zaW5nIG9sZCBwZWVyIGNvbm5lY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZVBlZXJDb25uZWN0aW9uKG9sZFBDKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGF3YWl0IHRoaXMubmVnb3RpYXRlKCk7XG4gICAgfVxuICAgIGFzeW5jIG5lZ290aWF0ZShyZWNyZWF0ZVBlZXJDb25uZWN0aW9uID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBjKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJQZWVyIGNvbm5lY3Rpb24gaXMgbm90IGluaXRpYWxpemVkXCIpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIG9mZmVyXG4gICAgICAgICAgICBjb25zdCBvZmZlciA9IGF3YWl0IHRoaXMucGMuY3JlYXRlT2ZmZXIoKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGMuc2V0TG9jYWxEZXNjcmlwdGlvbihvZmZlcik7XG4gICAgICAgICAgICAvLyBXYWl0IGZvciBJQ0UgZ2F0aGVyaW5nIHRvIGNvbXBsZXRlXG4gICAgICAgICAgICBpZiAodGhpcy5fd2FpdEZvcklDRUdhdGhlcmluZykgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpPT57XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGMuaWNlR2F0aGVyaW5nU3RhdGUgPT09IFwiY29tcGxldGVcIikgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGVja1N0YXRlID0gKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBjLmljZUdhdGhlcmluZ1N0YXRlID09PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJpY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZVwiLCBjaGVja1N0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGMuYWRkRXZlbnRMaXN0ZW5lcihcImljZWdhdGhlcmluZ3N0YXRlY2hhbmdlXCIsIGNoZWNrU3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGV0IG9mZmVyU2RwID0gdGhpcy5wYy5sb2NhbERlc2NyaXB0aW9uO1xuICAgICAgICAgICAgLy8gRmlsdGVyIGF1ZGlvIGNvZGVjXG4gICAgICAgICAgICBpZiAodGhpcy5hdWRpb0NvZGVjICYmIHRoaXMuYXVkaW9Db2RlYyAhPT0gXCJkZWZhdWx0XCIpIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIG9mZmVyU2RwLnNkcCA9IHRoaXMuc2RwRmlsdGVyQ29kZWMoXCJhdWRpb1wiLCB0aGlzLmF1ZGlvQ29kZWMsIG9mZmVyU2RwLnNkcCk7XG4gICAgICAgICAgICAvLyBGaWx0ZXIgdmlkZW8gY29kZWNcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZGVvQ29kZWMgJiYgdGhpcy52aWRlb0NvZGVjICE9PSBcImRlZmF1bHRcIikgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgb2ZmZXJTZHAuc2RwID0gdGhpcy5zZHBGaWx0ZXJDb2RlYyhcInZpZGVvXCIsIHRoaXMudmlkZW9Db2RlYywgb2ZmZXJTZHAuc2RwKTtcbiAgICAgICAgICAgICgwLCAkOTl3VFYkbG9nZ2VyKS5kZWJ1ZyhgV2lsbCBjcmVhdGUgb2ZmZXIgZm9yIHBlZXJJZDogJHt0aGlzLnBjX2lkfWApO1xuICAgICAgICAgICAgLy8gU2VuZCBvZmZlciB0byBzZXJ2ZXJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5fY29ubmVjdGlvblVybCwge1xuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgc2RwOiBvZmZlclNkcC5zZHAsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG9mZmVyU2RwLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHBjX2lkOiB0aGlzLnBjX2lkLFxuICAgICAgICAgICAgICAgICAgICByZXN0YXJ0X3BjOiByZWNyZWF0ZVBlZXJDb25uZWN0aW9uXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB0aGlzLnBjX2lkID0gYW5zd2VyLnBjX2lkO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgKDAsICQ5OXdUViRsb2dnZXIpLmRlYnVnKGBSZWNlaXZlZCBhbnN3ZXIgZm9yIHBlZXIgY29ubmVjdGlvbiBpZCAke2Fuc3dlci5wY19pZH1gKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oYW5zd2VyKTtcbiAgICAgICAgICAgICgwLCAkOTl3VFYkbG9nZ2VyKS5kZWJ1ZyhgUmVtb3RlIGNhbmRpZGF0ZSBzdXBwb3J0cyB0cmlja2xlIGljZTogJHt0aGlzLnBjLmNhblRyaWNrbGVJY2VDYW5kaWRhdGVzfWApO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAoMCwgJDk5d1RWJGxvZ2dlcikuZGVidWcoYFJlY29ubmVjdGlvbiBhdHRlbXB0ICR7dGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0c30gZmFpbGVkOiAke2V9YCk7XG4gICAgICAgICAgICB0aGlzLmlzUmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT50aGlzLmF0dGVtcHRSZWNvbm5lY3Rpb24odHJ1ZSksIDIwMDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZEluaXRpYWxUcmFuc2NlaXZlcnMoKSB7XG4gICAgICAgIC8vIFRyYW5zY2VpdmVycyBhbHdheXMgYXBwZWFyIGluIGNyZWF0aW9uLW9yZGVyIGZvciBib3RoIHBlZXJzXG4gICAgICAgIC8vIEZvciBub3cgd2UgYXJlIG9ubHkgY29uc2lkZXJpbmcgdGhhdCB3ZSBhcmUgZ29pbmcgdG8gaGF2ZSAwMiB0cmFuc2NlaXZlcnMsXG4gICAgICAgIC8vIG9uZSBmb3IgYXVkaW8gYW5kIG9uZSBmb3IgdmlkZW9cbiAgICAgICAgdGhpcy5wYy5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIsIHtcbiAgICAgICAgICAgIGRpcmVjdGlvbjogXCJzZW5kcmVjdlwiXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBjLmFkZFRyYW5zY2VpdmVyKFwidmlkZW9cIiwge1xuICAgICAgICAgICAgZGlyZWN0aW9uOiBcInNlbmRyZWN2XCJcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEF1ZGlvVHJhbnNjZWl2ZXIoKSB7XG4gICAgICAgIC8vIFRyYW5zY2VpdmVycyBhbHdheXMgYXBwZWFyIGluIGNyZWF0aW9uLW9yZGVyIGZvciBib3RoIHBlZXJzXG4gICAgICAgIC8vIExvb2sgYXQgYWRkSW5pdGlhbFRyYW5zY2VpdmVyc1xuICAgICAgICByZXR1cm4gdGhpcy5wYy5nZXRUcmFuc2NlaXZlcnMoKVskYjMxNjQ0ZGM3OGRjYTU0YSR2YXIkQVVESU9fVFJBTlNDRUlWRVJfSU5ERVhdO1xuICAgIH1cbiAgICBnZXRWaWRlb1RyYW5zY2VpdmVyKCkge1xuICAgICAgICAvLyBUcmFuc2NlaXZlcnMgYWx3YXlzIGFwcGVhciBpbiBjcmVhdGlvbi1vcmRlciBmb3IgYm90aCBwZWVyc1xuICAgICAgICAvLyBMb29rIGF0IGFkZEluaXRpYWxUcmFuc2NlaXZlcnNcbiAgICAgICAgcmV0dXJuIHRoaXMucGMuZ2V0VHJhbnNjZWl2ZXJzKClbJGIzMTY0NGRjNzhkY2E1NGEkdmFyJFZJREVPX1RSQU5TQ0VJVkVSX0lOREVYXTtcbiAgICB9XG4gICAgYXN5bmMgc3RhcnROZXdQZWVyQ29ubmVjdGlvbihyZWNyZWF0ZVBlZXJDb25uZWN0aW9uID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5wYyA9IHRoaXMuY3JlYXRlUGVlckNvbm5lY3Rpb24oKTtcbiAgICAgICAgdGhpcy5hZGRJbml0aWFsVHJhbnNjZWl2ZXJzKCk7XG4gICAgICAgIHRoaXMuZGMgPSB0aGlzLmNyZWF0ZURhdGFDaGFubmVsKFwiY2hhdFwiLCB7XG4gICAgICAgICAgICBvcmRlcmVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB0aGlzLmFkZFVzZXJNZWRpYSgpO1xuICAgICAgICBhd2FpdCB0aGlzLm5lZ290aWF0ZShyZWNyZWF0ZVBlZXJDb25uZWN0aW9uKTtcbiAgICB9XG4gICAgYXN5bmMgYWRkVXNlck1lZGlhKCkge1xuICAgICAgICAoMCwgJDk5d1RWJGxvZ2dlcikuZGVidWcoYGFkZFVzZXJNZWRpYSB0aGlzLnRyYWNrcygpOiAke3RoaXMudHJhY2tzKCl9YCk7XG4gICAgICAgIGxldCBhdWRpb1RyYWNrID0gdGhpcy50cmFja3MoKS5sb2NhbC5hdWRpbztcbiAgICAgICAgKDAsICQ5OXdUViRsb2dnZXIpLmRlYnVnKGBhZGRVc2VyTWVkaWEgYXVkaW9UcmFjazogJHthdWRpb1RyYWNrfWApO1xuICAgICAgICBpZiAoYXVkaW9UcmFjaykgYXdhaXQgdGhpcy5nZXRBdWRpb1RyYW5zY2VpdmVyKCkuc2VuZGVyLnJlcGxhY2VUcmFjayhhdWRpb1RyYWNrKTtcbiAgICAgICAgbGV0IHZpZGVvVHJhY2sgPSB0aGlzLnRyYWNrcygpLmxvY2FsLnZpZGVvO1xuICAgICAgICAoMCwgJDk5d1RWJGxvZ2dlcikuZGVidWcoYGFkZFVzZXJNZWRpYSB2aWRlb1RyYWNrOiAke3ZpZGVvVHJhY2t9YCk7XG4gICAgICAgIGlmICh2aWRlb1RyYWNrKSBhd2FpdCB0aGlzLmdldFZpZGVvVHJhbnNjZWl2ZXIoKS5zZW5kZXIucmVwbGFjZVRyYWNrKHZpZGVvVHJhY2spO1xuICAgIH1cbiAgICAvLyBNZXRob2QgdG8gaGFuZGxlIGEgZ2VuZXJhbCBtZXNzYWdlICh0aGlzIGNhbiBiZSBleHBhbmRlZCBmb3Igb3RoZXIgdHlwZXMgb2YgbWVzc2FnZXMpXG4gICAgaGFuZGxlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlT2JqID0gSlNPTi5wYXJzZShtZXNzYWdlKTsgLy8gVHlwZSBpcyBgYW55YCBpbml0aWFsbHlcbiAgICAgICAgICAgICgwLCAkOTl3VFYkbG9nZ2VyKS5kZWJ1ZyhcInJlY2VpdmVkIG1lc3NhZ2U6XCIsIG1lc3NhZ2VPYmopO1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyBhIHNpZ25hbGxpbmcgbWVzc2FnZVxuICAgICAgICAgICAgaWYgKG1lc3NhZ2VPYmoudHlwZSA9PT0gJGIzMTY0NGRjNzhkY2E1NGEkdmFyJFNJR05BTExJTkdfVFlQRSkgdGhpcy5oYW5kbGVTaWduYWxsaW5nTWVzc2FnZShtZXNzYWdlT2JqKTsgLy8gRGVsZWdhdGUgdG8gaGFuZGxlU2lnbmFsbGluZ01lc3NhZ2VcbiAgICAgICAgICAgIGVsc2UgLy8gQnViYmxlIGFueSBtZXNzYWdlcyB3aXRoIHJ0dmktYWkgbGFiZWxcbiAgICAgICAgICAgIGlmIChtZXNzYWdlT2JqLmxhYmVsID09PSBcInJ0dmktYWlcIikgdGhpcy5fb25NZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBpZDogbWVzc2FnZU9iai5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBtZXNzYWdlT2JqLnR5cGUsXG4gICAgICAgICAgICAgICAgZGF0YTogbWVzc2FnZU9iai5kYXRhXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgSlNPTiBtZXNzYWdlOlwiLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTWV0aG9kIHRvIGhhbmRsZSBzaWduYWxsaW5nIG1lc3NhZ2VzIHNwZWNpZmljYWxseVxuICAgIGFzeW5jIGhhbmRsZVNpZ25hbGxpbmdNZXNzYWdlKG1lc3NhZ2VPYmopIHtcbiAgICAgICAgLy8gQ2FzdCB0aGUgb2JqZWN0IHRvIHRoZSBjb3JyZWN0IHR5cGUgYWZ0ZXIgdmVyaWZpY2F0aW9uXG4gICAgICAgIGNvbnN0IHNpZ25hbGxpbmdNZXNzYWdlID0gbWVzc2FnZU9iajtcbiAgICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCBzaWduYWxsaW5nIG1lc3NhZ2UgdHlwZXNcbiAgICAgICAgc3dpdGNoKHNpZ25hbGxpbmdNZXNzYWdlLm1lc3NhZ2UudHlwZSl7XG4gICAgICAgICAgICBjYXNlICRiMzE2NDRkYzc4ZGNhNTRhJHZhciRSRU5FR09USUFURV9UWVBFOlxuICAgICAgICAgICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdGlvbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICRiMzE2NDRkYzc4ZGNhNTRhJHZhciRQRUVSX0xFRlRfVFlQRTpcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5rbm93biBzaWduYWxsaW5nIG1lc3NhZ2U6XCIsIHNpZ25hbGxpbmdNZXNzYWdlLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZURhdGFDaGFubmVsKGxhYmVsLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGRjID0gdGhpcy5wYy5jcmVhdGVEYXRhQ2hhbm5lbChsYWJlbCwgb3B0aW9ucyk7XG4gICAgICAgIGRjLmFkZEV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLCAoKT0+e1xuICAgICAgICAgICAgKDAsICQ5OXdUViRsb2dnZXIpLmRlYnVnKFwiZGF0YWNoYW5uZWwgY2xvc2VkXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMua2VlcEFsaXZlSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMua2VlcEFsaXZlSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIHRoaXMua2VlcEFsaXZlSW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZGMuYWRkRXZlbnRMaXN0ZW5lcihcIm9wZW5cIiwgKCk9PntcbiAgICAgICAgICAgICgwLCAkOTl3VFYkbG9nZ2VyKS5kZWJ1ZyhcImRhdGFjaGFubmVsIG9wZW5lZFwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb25uZWN0UmVzb2x2ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN5bmNUcmFja1N0YXR1cygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3RSZXNvbHZlZCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3RSZXNvbHZlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29ubmVjdEZhaWxlZCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB0aGlzLmtlZXBBbGl2ZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCk9PntcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gXCJwaW5nOiBcIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIGRjLnNlbmQobWVzc2FnZSk7XG4gICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRjLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIChldnQpPT57XG4gICAgICAgICAgICBsZXQgbWVzc2FnZSA9IGV2dC5kYXRhO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRjO1xuICAgIH1cbiAgICBjbG9zZVBlZXJDb25uZWN0aW9uKHBjKSB7XG4gICAgICAgIHBjLmdldFRyYW5zY2VpdmVycygpLmZvckVhY2goKHRyYW5zY2VpdmVyKT0+e1xuICAgICAgICAgICAgaWYgKHRyYW5zY2VpdmVyLnN0b3ApIHRyYW5zY2VpdmVyLnN0b3AoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHBjLmdldFNlbmRlcnMoKS5mb3JFYWNoKChzZW5kZXIpPT57XG4gICAgICAgICAgICBzZW5kZXIudHJhY2s/LnN0b3AoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHBjLmNsb3NlKCk7XG4gICAgfVxuICAgIGFzeW5jIHN0b3AoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYykge1xuICAgICAgICAgICAgKDAsICQ5OXdUViRsb2dnZXIpLmRlYnVnKFwiUGVlciBjb25uZWN0aW9uIGlzIGFscmVhZHkgY2xvc2VkIG9yIG51bGwuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRjKSB0aGlzLmRjLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuY2xvc2VQZWVyQ29ubmVjdGlvbih0aGlzLnBjKTtcbiAgICAgICAgdGhpcy5wYyA9IG51bGw7XG4gICAgICAgIGF3YWl0IHRoaXMubWVkaWFNYW5hZ2VyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgLy8gRm9yIHNvbWUgcmVhc29uIGFmdGVyIHdlIGNsb3NlIHRoZSBwZWVyIGNvbm5lY3Rpb24sIGl0IGlzIG5vdCB0cmlnZ2VyaW5nIHRoZSBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy5wY19pZCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMgPSAwO1xuICAgICAgICB0aGlzLmlzUmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vbkRpc2Nvbm5lY3RlZD8uKCk7XG4gICAgICAgIGlmICh0aGlzLl9jb25uZWN0RmFpbGVkKSB0aGlzLl9jb25uZWN0RmFpbGVkKCk7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RGYWlsZWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9jb25uZWN0UmVzb2x2ZWQgPSBudWxsO1xuICAgIH1cbiAgICBnZXRBbGxNaWNzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYU1hbmFnZXIuZ2V0QWxsTWljcygpO1xuICAgIH1cbiAgICBnZXRBbGxDYW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYU1hbmFnZXIuZ2V0QWxsQ2FtcygpO1xuICAgIH1cbiAgICBnZXRBbGxTcGVha2VycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWFNYW5hZ2VyLmdldEFsbFNwZWFrZXJzKCk7XG4gICAgfVxuICAgIGFzeW5jIHVwZGF0ZU1pYyhtaWNJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYU1hbmFnZXIudXBkYXRlTWljKG1pY0lkKTtcbiAgICB9XG4gICAgdXBkYXRlQ2FtKGNhbUlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhTWFuYWdlci51cGRhdGVDYW0oY2FtSWQpO1xuICAgIH1cbiAgICB1cGRhdGVTcGVha2VyKHNwZWFrZXJJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYU1hbmFnZXIudXBkYXRlU3BlYWtlcihzcGVha2VySWQpO1xuICAgIH1cbiAgICBnZXQgc2VsZWN0ZWRNaWMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhTWFuYWdlci5zZWxlY3RlZE1pYztcbiAgICB9XG4gICAgZ2V0IHNlbGVjdGVkQ2FtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYU1hbmFnZXIuc2VsZWN0ZWRDYW07XG4gICAgfVxuICAgIGdldCBzZWxlY3RlZFNwZWFrZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhTWFuYWdlci5zZWxlY3RlZFNwZWFrZXI7XG4gICAgfVxuICAgIHNldCBpY2VTZXJ2ZXJzKGljZVNlcnZlcnMpIHtcbiAgICAgICAgdGhpcy5faWNlU2VydmVycyA9IGljZVNlcnZlcnM7XG4gICAgfVxuICAgIGdldCBpY2VTZXJ2ZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWNlU2VydmVycztcbiAgICB9XG4gICAgZW5hYmxlTWljKGVuYWJsZSkge1xuICAgICAgICB0aGlzLm1lZGlhTWFuYWdlci5lbmFibGVNaWMoZW5hYmxlKTtcbiAgICAgICAgdGhpcy5zZW5kU2lnbmFsbGluZ01lc3NhZ2UobmV3ICRiMzE2NDRkYzc4ZGNhNTRhJHZhciRUcmFja1N0YXR1c01lc3NhZ2UoJGIzMTY0NGRjNzhkY2E1NGEkdmFyJEFVRElPX1RSQU5TQ0VJVkVSX0lOREVYLCBlbmFibGUpKTtcbiAgICB9XG4gICAgZW5hYmxlQ2FtKGVuYWJsZSkge1xuICAgICAgICB0aGlzLm1lZGlhTWFuYWdlci5lbmFibGVDYW0oZW5hYmxlKTtcbiAgICAgICAgdGhpcy5zZW5kU2lnbmFsbGluZ01lc3NhZ2UobmV3ICRiMzE2NDRkYzc4ZGNhNTRhJHZhciRUcmFja1N0YXR1c01lc3NhZ2UoJGIzMTY0NGRjNzhkY2E1NGEkdmFyJFZJREVPX1RSQU5TQ0VJVkVSX0lOREVYLCBlbmFibGUpKTtcbiAgICB9XG4gICAgZ2V0IGlzQ2FtRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWFNYW5hZ2VyLmlzQ2FtRW5hYmxlZDtcbiAgICB9XG4gICAgZ2V0IGlzTWljRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWFNYW5hZ2VyLmlzTWljRW5hYmxlZDtcbiAgICB9XG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgfVxuICAgIHNldCBzdGF0ZShzdGF0ZSkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09IHN0YXRlKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3N0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5vblRyYW5zcG9ydFN0YXRlQ2hhbmdlZD8uKHN0YXRlKTtcbiAgICB9XG4gICAgdHJhY2tzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYU1hbmFnZXIudHJhY2tzKCk7XG4gICAgfVxuICAgIC8vIE5vdCBpbXBsZW1lbnRlZFxuICAgIGVuYWJsZVNjcmVlblNoYXJlKGVuYWJsZSkge1xuICAgICAgICAoMCwgJDk5d1RWJGxvZ2dlcikuZXJyb3IoXCJzdGFydFNjcmVlblNoYXJlIG5vdCBpbXBsZW1lbnRlZCBmb3IgU21hbGxXZWJSVENUcmFuc3BvcnRcIik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzU2hhcmluZ1NjcmVlbigpIHtcbiAgICAgICAgKDAsICQ5OXdUViRsb2dnZXIpLmVycm9yKFwiaXNTaGFyaW5nU2NyZWVuIG5vdCBpbXBsZW1lbnRlZCBmb3IgU21hbGxXZWJSVENUcmFuc3BvcnRcIik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc2RwRmlsdGVyQ29kZWMoa2luZCwgY29kZWMsIHJlYWxTZHApIHtcbiAgICAgICAgY29uc3QgYWxsb3dlZCA9IFtdO1xuICAgICAgICBjb25zdCBydHhSZWdleCA9IG5ldyBSZWdFeHAoXCJhPWZtdHA6KFxcXFxkKykgYXB0PShcXFxcZCspXFxcXHIkXCIpO1xuICAgICAgICBjb25zdCBjb2RlY1JlZ2V4ID0gbmV3IFJlZ0V4cChcImE9cnRwbWFwOihbMC05XSspIFwiICsgdGhpcy5lc2NhcGVSZWdFeHAoY29kZWMpKTtcbiAgICAgICAgY29uc3QgdmlkZW9SZWdleCA9IG5ldyBSZWdFeHAoXCIobT1cIiArIGtpbmQgKyBcIiAuKj8pKCAoWzAtOV0rKSkqXFxcXHMqJFwiKTtcbiAgICAgICAgY29uc3QgbGluZXMgPSByZWFsU2RwLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICBsZXQgaXNLaW5kID0gZmFsc2U7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBpZiAobGluZXNbaV0uc3RhcnRzV2l0aChcIm09XCIgKyBraW5kICsgXCIgXCIpKSBpc0tpbmQgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSBpZiAobGluZXNbaV0uc3RhcnRzV2l0aChcIm09XCIpKSBpc0tpbmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChpc0tpbmQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGxpbmVzW2ldLm1hdGNoKGNvZGVjUmVnZXgpO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaCkgYWxsb3dlZC5wdXNoKHBhcnNlSW50KG1hdGNoWzFdKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hSdHggPSBsaW5lc1tpXS5tYXRjaChydHhSZWdleCk7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoUnR4ICYmIGFsbG93ZWQuaW5jbHVkZXMocGFyc2VJbnQobWF0Y2hSdHhbMl0pKSkgYWxsb3dlZC5wdXNoKHBhcnNlSW50KG1hdGNoUnR4WzFdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2tpcFJlZ2V4ID0gXCJhPShmbXRwfHJ0Y3AtZmJ8cnRwbWFwKTooWzAtOV0rKVwiO1xuICAgICAgICBsZXQgc2RwID0gXCJcIjtcbiAgICAgICAgaXNLaW5kID0gZmFsc2U7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBpZiAobGluZXNbaV0uc3RhcnRzV2l0aChcIm09XCIgKyBraW5kICsgXCIgXCIpKSBpc0tpbmQgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSBpZiAobGluZXNbaV0uc3RhcnRzV2l0aChcIm09XCIpKSBpc0tpbmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChpc0tpbmQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBza2lwTWF0Y2ggPSBsaW5lc1tpXS5tYXRjaChza2lwUmVnZXgpO1xuICAgICAgICAgICAgICAgIGlmIChza2lwTWF0Y2ggJiYgIWFsbG93ZWQuaW5jbHVkZXMocGFyc2VJbnQoc2tpcE1hdGNoWzJdKSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxpbmVzW2ldLm1hdGNoKHZpZGVvUmVnZXgpKSBzZHAgKz0gbGluZXNbaV0ucmVwbGFjZSh2aWRlb1JlZ2V4LCBcIiQxIFwiICsgYWxsb3dlZC5qb2luKFwiIFwiKSkgKyBcIlxcblwiO1xuICAgICAgICAgICAgICAgIGVsc2Ugc2RwICs9IGxpbmVzW2ldICsgXCJcXG5cIjtcbiAgICAgICAgICAgIH0gZWxzZSBzZHAgKz0gbGluZXNbaV0gKyBcIlxcblwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZHA7XG4gICAgfVxuICAgIGVzY2FwZVJlZ0V4cChzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgXCJcXFxcJCZcIik7XG4gICAgfVxufVxuJGIzMTY0NGRjNzhkY2E1NGEkZXhwb3J0JDYyMDQzNTg5ZDA1M2E4NzkuU0VSVklDRV9OQU1FID0gXCJzbWFsbC13ZWJydGMtdHJhbnNwb3J0XCI7XG5cblxuXG5cbmV4cG9ydCB7JGIzMTY0NGRjNzhkY2E1NGEkZXhwb3J0JDYyMDQzNTg5ZDA1M2E4NzkgYXMgU21hbGxXZWJSVENUcmFuc3BvcnR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubW9kdWxlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@pipecat-ai/small-webrtc-transport/dist/index.module.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@pipecat-ai/small-webrtc-transport/node_modules/@daily-co/daily-js/dist/daily-esm.js":
/*!***************************************************************************************************************!*\
  !*** ../../node_modules/@pipecat-ai/small-webrtc-transport/node_modules/@daily-co/daily-js/dist/daily-esm.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DAILY_ACCESS_LEVEL_FULL: () => (/* binding */ Pi),\n/* harmony export */   DAILY_ACCESS_LEVEL_LOBBY: () => (/* binding */ Ai),\n/* harmony export */   DAILY_ACCESS_LEVEL_NONE: () => (/* binding */ ji),\n/* harmony export */   DAILY_ACCESS_UNKNOWN: () => (/* binding */ Oi),\n/* harmony export */   DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE: () => (/* binding */ Wi),\n/* harmony export */   DAILY_CAMERA_ERROR_CAM_IN_USE: () => (/* binding */ qi),\n/* harmony export */   DAILY_CAMERA_ERROR_CONSTRAINTS: () => (/* binding */ Ki),\n/* harmony export */   DAILY_CAMERA_ERROR_MIC_IN_USE: () => (/* binding */ zi),\n/* harmony export */   DAILY_CAMERA_ERROR_NOT_FOUND: () => (/* binding */ Qi),\n/* harmony export */   DAILY_CAMERA_ERROR_PERMISSIONS: () => (/* binding */ Hi),\n/* harmony export */   DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES: () => (/* binding */ Gi),\n/* harmony export */   DAILY_CAMERA_ERROR_UNKNOWN: () => (/* binding */ Yi),\n/* harmony export */   DAILY_EVENT_ACCESS_STATE_UPDATED: () => (/* binding */ fo),\n/* harmony export */   DAILY_EVENT_ACTIVE_SPEAKER_CHANGE: () => (/* binding */ Uo),\n/* harmony export */   DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE: () => (/* binding */ Vo),\n/* harmony export */   DAILY_EVENT_APP_MSG: () => (/* binding */ Io),\n/* harmony export */   DAILY_EVENT_CAMERA_ERROR: () => (/* binding */ oo),\n/* harmony export */   DAILY_EVENT_CPU_LOAD_CHANGE: () => (/* binding */ qo),\n/* harmony export */   DAILY_EVENT_ERROR: () => (/* binding */ ns),\n/* harmony export */   DAILY_EVENT_EXIT_FULLSCREEN: () => (/* binding */ Ho),\n/* harmony export */   DAILY_EVENT_FACE_COUNTS_UPDATED: () => (/* binding */ zo),\n/* harmony export */   DAILY_EVENT_FULLSCREEN: () => (/* binding */ Wo),\n/* harmony export */   DAILY_EVENT_IFRAME_LAUNCH_CONFIG: () => (/* binding */ Zi),\n/* harmony export */   DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG: () => (/* binding */ Xi),\n/* harmony export */   DAILY_EVENT_INPUT_SETTINGS_UPDATED: () => (/* binding */ es),\n/* harmony export */   DAILY_EVENT_JOINED_MEETING: () => (/* binding */ ao),\n/* harmony export */   DAILY_EVENT_JOINING_MEETING: () => (/* binding */ so),\n/* harmony export */   DAILY_EVENT_LANG_UPDATED: () => (/* binding */ Xo),\n/* harmony export */   DAILY_EVENT_LEFT_MEETING: () => (/* binding */ co),\n/* harmony export */   DAILY_EVENT_LIVE_STREAMING_ERROR: () => (/* binding */ Yo),\n/* harmony export */   DAILY_EVENT_LIVE_STREAMING_STARTED: () => (/* binding */ Go),\n/* harmony export */   DAILY_EVENT_LIVE_STREAMING_STOPPED: () => (/* binding */ Ko),\n/* harmony export */   DAILY_EVENT_LIVE_STREAMING_UPDATED: () => (/* binding */ Qo),\n/* harmony export */   DAILY_EVENT_LOADED: () => (/* binding */ ro),\n/* harmony export */   DAILY_EVENT_LOADING: () => (/* binding */ to),\n/* harmony export */   DAILY_EVENT_LOAD_ATTEMPT_FAILED: () => (/* binding */ no),\n/* harmony export */   DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED: () => (/* binding */ Bo),\n/* harmony export */   DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED: () => (/* binding */ Ro),\n/* harmony export */   DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED: () => (/* binding */ Fo),\n/* harmony export */   DAILY_EVENT_MEETING_SESSION_DATA_ERROR: () => (/* binding */ mo),\n/* harmony export */   DAILY_EVENT_MEETING_SESSION_STATE_UPDATED: () => (/* binding */ go),\n/* harmony export */   DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED: () => (/* binding */ vo),\n/* harmony export */   DAILY_EVENT_NETWORK_CONNECTION: () => (/* binding */ $o),\n/* harmony export */   DAILY_EVENT_NETWORK_QUALITY_CHANGE: () => (/* binding */ Jo),\n/* harmony export */   DAILY_EVENT_NONFATAL_ERROR: () => (/* binding */ ts),\n/* harmony export */   DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED: () => (/* binding */ ho),\n/* harmony export */   DAILY_EVENT_PARTICIPANT_JOINED: () => (/* binding */ lo),\n/* harmony export */   DAILY_EVENT_PARTICIPANT_LEFT: () => (/* binding */ po),\n/* harmony export */   DAILY_EVENT_PARTICIPANT_UPDATED: () => (/* binding */ uo),\n/* harmony export */   DAILY_EVENT_RECEIVE_SETTINGS_UPDATED: () => (/* binding */ Zo),\n/* harmony export */   DAILY_EVENT_RECORDING_DATA: () => (/* binding */ jo),\n/* harmony export */   DAILY_EVENT_RECORDING_ERROR: () => (/* binding */ Po),\n/* harmony export */   DAILY_EVENT_RECORDING_STARTED: () => (/* binding */ Eo),\n/* harmony export */   DAILY_EVENT_RECORDING_STATS: () => (/* binding */ Oo),\n/* harmony export */   DAILY_EVENT_RECORDING_STOPPED: () => (/* binding */ To),\n/* harmony export */   DAILY_EVENT_RECORDING_UPLOAD_COMPLETED: () => (/* binding */ Ao),\n/* harmony export */   DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED: () => (/* binding */ Lo),\n/* harmony export */   DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED: () => (/* binding */ No),\n/* harmony export */   DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED: () => (/* binding */ Do),\n/* harmony export */   DAILY_EVENT_STARTED_CAMERA: () => (/* binding */ io),\n/* harmony export */   DAILY_EVENT_THEME_UPDATED: () => (/* binding */ eo),\n/* harmony export */   DAILY_EVENT_TRACK_STARTED: () => (/* binding */ wo),\n/* harmony export */   DAILY_EVENT_TRACK_STOPPED: () => (/* binding */ So),\n/* harmony export */   DAILY_EVENT_TRANSCRIPTION_ERROR: () => (/* binding */ Co),\n/* harmony export */   DAILY_EVENT_TRANSCRIPTION_MSG: () => (/* binding */ xo),\n/* harmony export */   DAILY_EVENT_TRANSCRIPTION_STARTED: () => (/* binding */ ko),\n/* harmony export */   DAILY_EVENT_TRANSCRIPTION_STOPPED: () => (/* binding */ Mo),\n/* harmony export */   DAILY_EVENT_WAITING_PARTICIPANT_ADDED: () => (/* binding */ yo),\n/* harmony export */   DAILY_EVENT_WAITING_PARTICIPANT_REMOVED: () => (/* binding */ _o),\n/* harmony export */   DAILY_EVENT_WAITING_PARTICIPANT_UPDATED: () => (/* binding */ bo),\n/* harmony export */   DAILY_FATAL_ERROR_CONNECTION: () => (/* binding */ $i),\n/* harmony export */   DAILY_FATAL_ERROR_EJECTED: () => (/* binding */ Li),\n/* harmony export */   DAILY_FATAL_ERROR_EOL: () => (/* binding */ Vi),\n/* harmony export */   DAILY_FATAL_ERROR_EXP_ROOM: () => (/* binding */ Ri),\n/* harmony export */   DAILY_FATAL_ERROR_EXP_TOKEN: () => (/* binding */ Fi),\n/* harmony export */   DAILY_FATAL_ERROR_MEETING_FULL: () => (/* binding */ Ui),\n/* harmony export */   DAILY_FATAL_ERROR_NBF_ROOM: () => (/* binding */ Di),\n/* harmony export */   DAILY_FATAL_ERROR_NBF_TOKEN: () => (/* binding */ Ni),\n/* harmony export */   DAILY_FATAL_ERROR_NOT_ALLOWED: () => (/* binding */ Ji),\n/* harmony export */   DAILY_FATAL_ERROR_NO_ROOM: () => (/* binding */ Bi),\n/* harmony export */   DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY: () => (/* binding */ xi),\n/* harmony export */   DAILY_RECEIVE_SETTINGS_BASE_KEY: () => (/* binding */ Ii),\n/* harmony export */   DAILY_STATE_ERROR: () => (/* binding */ wi),\n/* harmony export */   DAILY_STATE_JOINED: () => (/* binding */ bi),\n/* harmony export */   DAILY_STATE_JOINING: () => (/* binding */ yi),\n/* harmony export */   DAILY_STATE_LEFT: () => (/* binding */ _i),\n/* harmony export */   DAILY_STATE_NEW: () => (/* binding */ vi),\n/* harmony export */   DAILY_TRACK_STATE_BLOCKED: () => (/* binding */ Si),\n/* harmony export */   DAILY_TRACK_STATE_INTERRUPTED: () => (/* binding */ Ei),\n/* harmony export */   DAILY_TRACK_STATE_LOADING: () => (/* binding */ Ci),\n/* harmony export */   DAILY_TRACK_STATE_OFF: () => (/* binding */ ki),\n/* harmony export */   DAILY_TRACK_STATE_PLAYABLE: () => (/* binding */ Ti),\n/* harmony export */   DAILY_TRACK_STATE_SENDABLE: () => (/* binding */ Mi),\n/* harmony export */   \"default\": () => (/* binding */ ic)\n/* harmony export */ });\nfunction e(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function t(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function n(e){return n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},n(e)}function r(e){var t=function(e,t){if(\"object\"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||\"default\");if(\"object\"!=n(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"==n(t)?t:t+\"\"}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function s(e,t){if(t&&(\"object\"==n(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&c(e,t)}function u(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){d(o,r,i,s,a,\"next\",e)}function a(e){d(o,r,i,s,a,\"throw\",e)}s(void 0)}))}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var r,i,o,s,a=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}var g,m={exports:{}},y=\"object\"==typeof Reflect?Reflect:null,b=y&&\"function\"==typeof y.apply?y.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};g=y&&\"function\"==typeof y.ownKeys?y.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var _=Number.isNaN||function(e){return e!=e};function w(){w.init.call(this)}m.exports=w,m.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){\"function\"==typeof e.removeListener&&e.removeListener(\"error\",i),n([].slice.call(arguments))}j(e,t,o,{once:!0}),\"error\"!==t&&function(e,t,n){\"function\"==typeof e.on&&j(e,\"error\",t,n)}(e,i,{once:!0})}))},w.EventEmitter=w,w.prototype._events=void 0,w.prototype._eventsCount=0,w.prototype._maxListeners=void 0;var S=10;function k(e){if(\"function\"!=typeof e)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof e)}function M(e){return void 0===e._maxListeners?w.defaultMaxListeners:e._maxListeners}function C(e,t,n,r){var i,o,s,a;if(k(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit(\"newListener\",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if(\"function\"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=M(e))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error(\"Possible EventEmitter memory leak detected. \"+s.length+\" \"+String(t)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");c.name=\"MaxListenersExceededWarning\",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function E(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function T(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=E.bind(r);return i.listener=n,r.wrapFn=i,i}function O(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:\"function\"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):A(i,i.length)}function P(e){var t=this._events;if(void 0!==t){var n=t[e];if(\"function\"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function A(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function j(e,t,n,r){if(\"function\"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if(\"function\"!=typeof e.addEventListener)throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(w,\"defaultMaxListeners\",{enumerable:!0,get:function(){return S},set:function(e){if(\"number\"!=typeof e||e<0||_(e))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+e+\".\");S=e}}),w.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},w.prototype.setMaxListeners=function(e){if(\"number\"!=typeof e||e<0||_(e))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+e+\".\");return this._maxListeners=e,this},w.prototype.getMaxListeners=function(){return M(this)},w.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r=\"error\"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error(\"Unhandled error.\"+(o?\" (\"+o.message+\")\":\"\"));throw s.context=o,s}var a=i[e];if(void 0===a)return!1;if(\"function\"==typeof a)b(a,this,t);else{var c=a.length,l=A(a,c);for(n=0;n<c;++n)b(l[n],this,t)}return!0},w.prototype.addListener=function(e,t){return C(this,e,t,!1)},w.prototype.on=w.prototype.addListener,w.prototype.prependListener=function(e,t){return C(this,e,t,!0)},w.prototype.once=function(e,t){return k(t),this.on(e,T(this,e,t)),this},w.prototype.prependOnceListener=function(e,t){return k(t),this.prependListener(e,T(this,e,t)),this},w.prototype.removeListener=function(e,t){var n,r,i,o,s;if(k(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit(\"removeListener\",e,n.listener||t));else if(\"function\"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit(\"removeListener\",e,s||t)}return this},w.prototype.off=w.prototype.removeListener,w.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)\"removeListener\"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},w.prototype.listeners=function(e){return O(this,e,!0)},w.prototype.rawListeners=function(e){return O(this,e,!1)},w.listenerCount=function(e,t){return\"function\"==typeof e.listenerCount?e.listenerCount(t):P.call(e,t)},w.prototype.listenerCount=P,w.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]};var I=m.exports,x=v(I),L=Object.prototype.hasOwnProperty;function D(e,t,n){for(n of e.keys())if(N(n,t))return n}function N(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&N(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((i=r)&&\"object\"==typeof i&&!(i=D(t,i)))return!1;if(!t.has(i))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((i=r[0])&&\"object\"==typeof i&&!(i=D(t,i)))return!1;if(!N(r[1],t.get(i)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||\"object\"==typeof e){for(n in r=0,e){if(L.call(e,n)&&++r&&!L.call(t,n))return!1;if(!(n in t)||!N(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!=e&&t!=t}const R={\"Amazon Silk\":\"amazon_silk\",\"Android Browser\":\"android\",Bada:\"bada\",BlackBerry:\"blackberry\",Chrome:\"chrome\",Chromium:\"chromium\",Electron:\"electron\",Epiphany:\"epiphany\",Firefox:\"firefox\",Focus:\"focus\",Generic:\"generic\",\"Google Search\":\"google_search\",Googlebot:\"googlebot\",\"Internet Explorer\":\"ie\",\"K-Meleon\":\"k_meleon\",Maxthon:\"maxthon\",\"Microsoft Edge\":\"edge\",\"MZ Browser\":\"mz\",\"NAVER Whale Browser\":\"naver\",Opera:\"opera\",\"Opera Coast\":\"opera_coast\",PhantomJS:\"phantomjs\",Puffin:\"puffin\",QupZilla:\"qupzilla\",QQ:\"qq\",QQLite:\"qqlite\",Safari:\"safari\",Sailfish:\"sailfish\",\"Samsung Internet for Android\":\"samsung_internet\",SeaMonkey:\"seamonkey\",Sleipnir:\"sleipnir\",Swing:\"swing\",Tizen:\"tizen\",\"UC Browser\":\"uc\",Vivaldi:\"vivaldi\",\"WebOS Browser\":\"webos\",WeChat:\"wechat\",\"Yandex Browser\":\"yandex\",Roku:\"roku\"},F={amazon_silk:\"Amazon Silk\",android:\"Android Browser\",bada:\"Bada\",blackberry:\"BlackBerry\",chrome:\"Chrome\",chromium:\"Chromium\",electron:\"Electron\",epiphany:\"Epiphany\",firefox:\"Firefox\",focus:\"Focus\",generic:\"Generic\",googlebot:\"Googlebot\",google_search:\"Google Search\",ie:\"Internet Explorer\",k_meleon:\"K-Meleon\",maxthon:\"Maxthon\",edge:\"Microsoft Edge\",mz:\"MZ Browser\",naver:\"NAVER Whale Browser\",opera:\"Opera\",opera_coast:\"Opera Coast\",phantomjs:\"PhantomJS\",puffin:\"Puffin\",qupzilla:\"QupZilla\",qq:\"QQ Browser\",qqlite:\"QQ Browser Lite\",safari:\"Safari\",sailfish:\"Sailfish\",samsung_internet:\"Samsung Internet for Android\",seamonkey:\"SeaMonkey\",sleipnir:\"Sleipnir\",swing:\"Swing\",tizen:\"Tizen\",uc:\"UC Browser\",vivaldi:\"Vivaldi\",webos:\"WebOS Browser\",wechat:\"WeChat\",yandex:\"Yandex Browser\"},B={tablet:\"tablet\",mobile:\"mobile\",desktop:\"desktop\",tv:\"tv\"},U={WindowsPhone:\"Windows Phone\",Windows:\"Windows\",MacOS:\"macOS\",iOS:\"iOS\",Android:\"Android\",WebOS:\"WebOS\",BlackBerry:\"BlackBerry\",Bada:\"Bada\",Tizen:\"Tizen\",Linux:\"Linux\",ChromeOS:\"Chrome OS\",PlayStation4:\"PlayStation 4\",Roku:\"Roku\"},V={EdgeHTML:\"EdgeHTML\",Blink:\"Blink\",Trident:\"Trident\",Presto:\"Presto\",Gecko:\"Gecko\",WebKit:\"WebKit\"};class J{static getFirstMatch(e,t){const n=t.match(e);return n&&n.length>0&&n[1]||\"\"}static getSecondMatch(e,t){const n=t.match(e);return n&&n.length>1&&n[2]||\"\"}static matchAndReturnConst(e,t,n){if(e.test(t))return n}static getWindowsVersionName(e){switch(e){case\"NT\":return\"NT\";case\"XP\":case\"NT 5.1\":return\"XP\";case\"NT 5.0\":return\"2000\";case\"NT 5.2\":return\"2003\";case\"NT 6.0\":return\"Vista\";case\"NT 6.1\":return\"7\";case\"NT 6.2\":return\"8\";case\"NT 6.3\":return\"8.1\";case\"NT 10.0\":return\"10\";default:return}}static getMacOSVersionName(e){const t=e.split(\".\").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),10===t[0])switch(t[1]){case 5:return\"Leopard\";case 6:return\"Snow Leopard\";case 7:return\"Lion\";case 8:return\"Mountain Lion\";case 9:return\"Mavericks\";case 10:return\"Yosemite\";case 11:return\"El Capitan\";case 12:return\"Sierra\";case 13:return\"High Sierra\";case 14:return\"Mojave\";case 15:return\"Catalina\";default:return}}static getAndroidVersionName(e){const t=e.split(\".\").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?\"Cupcake\":1===t[0]&&t[1]>=6?\"Donut\":2===t[0]&&t[1]<2?\"Eclair\":2===t[0]&&2===t[1]?\"Froyo\":2===t[0]&&t[1]>2?\"Gingerbread\":3===t[0]?\"Honeycomb\":4===t[0]&&t[1]<1?\"Ice Cream Sandwich\":4===t[0]&&t[1]<4?\"Jelly Bean\":4===t[0]&&t[1]>=4?\"KitKat\":5===t[0]?\"Lollipop\":6===t[0]?\"Marshmallow\":7===t[0]?\"Nougat\":8===t[0]?\"Oreo\":9===t[0]?\"Pie\":void 0}static getVersionPrecision(e){return e.split(\".\").length}static compareVersions(e,t,n=!1){const r=J.getVersionPrecision(e),i=J.getVersionPrecision(t);let o=Math.max(r,i),s=0;const a=J.map([e,t],(e=>{const t=o-J.getVersionPrecision(e),n=e+new Array(t+1).join(\".0\");return J.map(n.split(\".\"),(e=>new Array(20-e.length).join(\"0\")+e)).reverse()}));for(n&&(s=o-Math.min(r,i)),o-=1;o>=s;){if(a[0][o]>a[1][o])return 1;if(a[0][o]===a[1][o]){if(o===s)return 0;o-=1}else if(a[0][o]<a[1][o])return-1}}static map(e,t){const n=[];let r;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n}static find(e,t){let n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){const r=e[n];if(t(r,n))return r}}static assign(e,...t){const n=e;let r,i;if(Object.assign)return Object.assign(e,...t);for(r=0,i=t.length;r<i;r+=1){const e=t[r];if(\"object\"==typeof e&&null!==e){Object.keys(e).forEach((t=>{n[t]=e[t]}))}}return e}static getBrowserAlias(e){return R[e]}static getBrowserTypeByAlias(e){return F[e]||\"\"}}const $=/version\\/(\\d+(\\.?_?\\d+)+)/i,q=[{test:[/googlebot/i],describe(e){const t={name:\"Googlebot\"},n=J.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:\"Opera\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\\/|opios/i],describe(e){const t={name:\"Opera\"},n=J.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:\"Samsung Internet for Android\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:\"NAVER Whale Browser\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:\"MZ Browser\"},n=J.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:\"Focus\"},n=J.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:\"Swing\"},n=J.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:\"Opera Coast\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\\/\\d+(?:.?_?\\d+)+/i],describe(e){const t={name:\"Opera Touch\"},n=J.getFirstMatch(/(?:opt)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:\"Yandex Browser\"},n=J.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:\"UC Browser\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:\"Maxthon\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:\"Epiphany\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:\"Puffin\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:\"Sleipnir\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:\"K-Meleon\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:\"WeChat\"},n=J.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?\"QQ Browser Lite\":\"QQ Browser\"},n=J.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:\"Internet Explorer\"},n=J.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\\sedg\\//i],describe(e){const t={name:\"Microsoft Edge\"},n=J.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:\"Microsoft Edge\"},n=J.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:\"Vivaldi\"},n=J.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:\"SeaMonkey\"},n=J.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:\"Sailfish\"},n=J.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:\"Amazon Silk\"},n=J.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:\"PhantomJS\"},n=J.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:\"SlimerJS\"},n=J.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe(e){const t={name:\"BlackBerry\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:\"WebOS Browser\"},n=J.getFirstMatch($,e)||J.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:\"Bada\"},n=J.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:\"Tizen\"},n=J.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:\"QupZilla\"},n=J.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:\"Firefox\"},n=J.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:\"Electron\"},n=J.getFirstMatch(/(?:electron)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:\"Miui\"},n=J.getFirstMatch(/(?:MiuiBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:\"Chromium\"},n=J.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:\"Chrome\"},n=J.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:\"Google Search\"},n=J.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:\"Android Browser\"},n=J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:\"PlayStation 4\"},n=J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:\"Safari\"},n=J.getFirstMatch($,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=-1!==e.search(\"\\\\(\")?/^(.*)\\/(.*)[ \\t]\\((.*)/:/^(.*)\\/(.*) /;return{name:J.getFirstMatch(t,e),version:J.getSecondMatch(t,e)}}}];var z=[{test:[/Roku\\/DVP/],describe(e){const t=J.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i,e);return{name:U.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=J.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i,e);return{name:U.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=J.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i,e),n=J.getWindowsVersionName(t);return{name:U.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe(e){const t={name:U.iOS},n=J.getSecondMatch(/(Version\\/)(\\d[\\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=J.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i,e).replace(/[_\\s]/g,\".\"),n=J.getMacOSVersionName(t),r={name:U.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=J.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i,e).replace(/[_\\s]/g,\".\");return{name:U.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=J.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i,e),n=J.getAndroidVersionName(t),r={name:U.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=J.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i,e),n={name:U.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe(e){const t=J.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i,e)||J.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i,e)||J.getFirstMatch(/\\bbb(\\d+)/i,e);return{name:U.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=J.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i,e);return{name:U.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=J.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:U.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:U.Linux})},{test:[/CrOS/],describe:()=>({name:U.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=J.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:U.PlayStation4,version:t}}}],W=[{test:[/googlebot/i],describe:()=>({type:\"bot\",vendor:\"Google\"})},{test:[/huawei/i],describe(e){const t=J.getFirstMatch(/(can-l01)/i,e)&&\"Nova\",n={type:B.mobile,vendor:\"Huawei\"};return t&&(n.model=t),n}},{test:[/nexus\\s*(?:7|8|9|10).*/i],describe:()=>({type:B.tablet,vendor:\"Nexus\"})},{test:[/ipad/i],describe:()=>({type:B.tablet,vendor:\"Apple\",model:\"iPad\"})},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:()=>({type:B.tablet,vendor:\"Apple\",model:\"iPad\"})},{test:[/kftt build/i],describe:()=>({type:B.tablet,vendor:\"Amazon\",model:\"Kindle Fire HD 7\"})},{test:[/silk/i],describe:()=>({type:B.tablet,vendor:\"Amazon\"})},{test:[/tablet(?! pc)/i],describe:()=>({type:B.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=J.getFirstMatch(/(ipod|iphone)/i,e);return{type:B.mobile,vendor:\"Apple\",model:t}}},{test:[/nexus\\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:B.mobile,vendor:\"Nexus\"})},{test:[/[^-]mobi/i],describe:()=>({type:B.mobile})},{test:e=>\"blackberry\"===e.getBrowserName(!0),describe:()=>({type:B.mobile,vendor:\"BlackBerry\"})},{test:e=>\"bada\"===e.getBrowserName(!0),describe:()=>({type:B.mobile})},{test:e=>\"windows phone\"===e.getBrowserName(),describe:()=>({type:B.mobile,vendor:\"Microsoft\"})},{test(e){const t=Number(String(e.getOSVersion()).split(\".\")[0]);return\"android\"===e.getOSName(!0)&&t>=3},describe:()=>({type:B.tablet})},{test:e=>\"android\"===e.getOSName(!0),describe:()=>({type:B.mobile})},{test:e=>\"macos\"===e.getOSName(!0),describe:()=>({type:B.desktop,vendor:\"Apple\"})},{test:e=>\"windows\"===e.getOSName(!0),describe:()=>({type:B.desktop})},{test:e=>\"linux\"===e.getOSName(!0),describe:()=>({type:B.desktop})},{test:e=>\"playstation 4\"===e.getOSName(!0),describe:()=>({type:B.tv})},{test:e=>\"roku\"===e.getOSName(!0),describe:()=>({type:B.tv})}],H=[{test:e=>\"microsoft edge\"===e.getBrowserName(!0),describe(e){if(/\\sedg\\//i.test(e))return{name:V.Blink};const t=J.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i,e);return{name:V.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:V.Trident},n=J.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:V.Presto},n=J.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:V.Gecko},n=J.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\\/537\\.36/i],describe:()=>({name:V.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:V.WebKit},n=J.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}}];class G{constructor(e,t=!1){if(null==e||\"\"===e)throw new Error(\"UserAgent parameter can't be empty\");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=J.find(q,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||\"\":this.getBrowser().name||\"\"}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=J.find(z,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||\"\":t||\"\"}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||\"\":t||\"\"}parsePlatform(){this.parsedResult.platform={};const e=J.find(W,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||\"\":this.getEngine().name||\"\"}parseEngine(){this.parsedResult.engine={};const e=J.find(H,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return J.assign({},this.parsedResult)}satisfies(e){const t={};let n=0;const r={};let i=0;if(Object.keys(e).forEach((o=>{const s=e[o];\"string\"==typeof s?(r[o]=s,i+=1):\"object\"==typeof s&&(t[o]=s,n+=1)})),n>0){const e=Object.keys(t),n=J.find(e,(e=>this.isOS(e)));if(n){const e=this.satisfies(t[n]);if(void 0!==e)return e}const r=J.find(e,(e=>this.isPlatform(e)));if(r){const e=this.satisfies(t[r]);if(void 0!==e)return e}}if(i>0){const e=Object.keys(r),t=J.find(e,(e=>this.isBrowser(e,!0)));if(void 0!==t)return this.compareVersion(r[t])}}isBrowser(e,t=!1){const n=this.getBrowserName().toLowerCase();let r=e.toLowerCase();const i=J.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n}compareVersion(e){let t=[0],n=e,r=!1;const i=this.getBrowserVersion();if(\"string\"==typeof i)return\">\"===e[0]||\"<\"===e[0]?(n=e.substr(1),\"=\"===e[1]?(r=!0,n=e.substr(2)):t=[],\">\"===e[0]?t.push(1):t.push(-1)):\"=\"===e[0]?n=e.substr(1):\"~\"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(J.compareVersions(i,n,r))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some((e=>this.is(e)))}}\n/*!\n * Bowser - a browser detector\n * https://github.com/lancedikson/bowser\n * MIT License | (c) Dustin Diaz 2012-2015\n * MIT License | (c) Denis Demchenko 2015-2019\n */class Q{static getParser(e,t=!1){if(\"string\"!=typeof e)throw new Error(\"UserAgent should be a string\");return new G(e,t)}static parse(e){return new G(e).getResult()}static get BROWSER_MAP(){return F}static get ENGINE_MAP(){return V}static get OS_MAP(){return U}static get PLATFORMS_MAP(){return B}}function K(){return Date.now()+Math.random().toString()}function Y(){throw new Error(\"Method must be implemented in subclass\")}function X(e,t){return null!=t&&t.proxyUrl?t.proxyUrl+(\"/\"===t.proxyUrl.slice(-1)?\"\":\"/\")+e.substring(8):e}function Z(e){return null!=e&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:X(\"https://c.daily.co/call-machine/versioned/\".concat(\"0.77.0\",\"/static/call-machine-object-bundle.js\"),e)}function ee(e){try{new URL(e)}catch(e){return!1}return!0}const te=\"undefined\"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ne=\"8.55.0\",re=globalThis;function ie(e,t,n){const r=n||re,i=r.__SENTRY__=r.__SENTRY__||{},o=i[ne]=i[ne]||{};return o[e]||(o[e]=t())}const oe=\"undefined\"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,se=[\"debug\",\"info\",\"warn\",\"error\",\"log\",\"assert\",\"trace\"],ae={};function ce(e){if(!(\"console\"in re))return e();const t=re.console,n={},r=Object.keys(ae);r.forEach((e=>{const r=ae[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const le=ie(\"logger\",(function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return oe?se.forEach((n=>{t[n]=(...t)=>{e&&ce((()=>{re.console[n](`Sentry Logger [${n}]:`,...t)}))}})):se.forEach((e=>{t[e]=()=>{}})),t})),ue=\"?\",de=/\\(error: (.*)\\)/,pe=/captureMessage|captureException/;function he(e){return e[e.length-1]||{}}const fe=\"<anonymous>\";function ve(e){try{return e&&\"function\"==typeof e&&e.name||fe}catch(e){return fe}}function ge(e){const t=e.exception;if(t){const e=[];try{return t.values.forEach((t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)})),e}catch(e){return}}}const me={},ye={};function be(e,t){me[e]=me[e]||[],me[e].push(t)}function _e(e,t){if(!ye[e]){ye[e]=!0;try{t()}catch(t){oe&&le.error(`Error while instrumenting ${e}`,t)}}}function we(e,t){const n=e&&me[e];if(n)for(const r of n)try{r(t)}catch(t){oe&&le.error(`Error while triggering instrumentation handler.\\nType: ${e}\\nName: ${ve(r)}\\nError:`,t)}}let Se=null;function ke(){Se=re.onerror,re.onerror=function(e,t,n,r,i){return we(\"error\",{column:r,error:i,line:n,msg:e,url:t}),!!Se&&Se.apply(this,arguments)},re.onerror.__SENTRY_INSTRUMENTED__=!0}let Me=null;function Ce(){Me=re.onunhandledrejection,re.onunhandledrejection=function(e){return we(\"unhandledrejection\",e),!Me||Me.apply(this,arguments)},re.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Ee(){return Te(re),re}function Te(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||ne,t[ne]=t[ne]||{}}const Oe=Object.prototype.toString;function Pe(e){switch(Oe.call(e)){case\"[object Error]\":case\"[object Exception]\":case\"[object DOMException]\":case\"[object WebAssembly.Exception]\":return!0;default:return Be(e,Error)}}function Ae(e,t){return Oe.call(e)===`[object ${t}]`}function je(e){return Ae(e,\"ErrorEvent\")}function Ie(e){return Ae(e,\"DOMError\")}function xe(e){return Ae(e,\"String\")}function Le(e){return\"object\"==typeof e&&null!==e&&\"__sentry_template_string__\"in e&&\"__sentry_template_values__\"in e}function De(e){return null===e||Le(e)||\"object\"!=typeof e&&\"function\"!=typeof e}function Ne(e){return Ae(e,\"Object\")}function Re(e){return\"undefined\"!=typeof Event&&Be(e,Event)}function Fe(e){return Boolean(e&&e.then&&\"function\"==typeof e.then)}function Be(e,t){try{return e instanceof t}catch(e){return!1}}function Ue(e){return!(\"object\"!=typeof e||null===e||!e.__isVue&&!e._isVue)}const Ve=re;function Je(e,t={}){if(!e)return\"<unknown>\";try{let n=e;const r=5,i=[];let o=0,s=0;const a=\" > \",c=a.length;let l;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&o++<r&&(l=$e(n,u),!(\"html\"===l||o>1&&s+i.length*c+l.length>=d));)i.push(l),s+=l.length,n=n.parentNode;return i.reverse().join(a)}catch(e){return\"<unknown>\"}}function $e(e,t){const n=e,r=[];if(!n||!n.tagName)return\"\";if(Ve.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(i&&i.length)i.forEach((e=>{r.push(`[${e[0]}=\"${e[1]}\"]`)}));else{n.id&&r.push(`#${n.id}`);const e=n.className;if(e&&xe(e)){const t=e.split(/\\s+/);for(const e of t)r.push(`.${e}`)}}const o=[\"aria-label\",\"type\",\"name\",\"title\",\"alt\"];for(const e of o){const t=n.getAttribute(e);t&&r.push(`[${e}=\"${t}\"]`)}return r.join(\"\")}function qe(e,t=0){return\"string\"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function ze(e,t){if(!Array.isArray(e))return\"\";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{Ue(r)?n.push(\"[VueViewModel]\"):n.push(String(r))}catch(e){n.push(\"[value cannot be serialized]\")}}return n.join(t)}function We(e,t,n=!1){return!!xe(e)&&(Ae(t,\"RegExp\")?t.test(e):!!xe(t)&&(n?e===t:e.includes(t)))}function He(e,t=[],n=!1){return t.some((t=>We(e,t,n)))}function Ge(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);\"function\"==typeof i&&Ke(i,r);try{e[t]=i}catch(n){oe&&le.log(`Failed to replace method \"${t}\" in object`,e)}}function Qe(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){oe&&le.log(`Failed to add non-enumerable property \"${t}\" to object`,e)}}function Ke(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Qe(e,\"__sentry_original__\",t)}catch(e){}}function Ye(e){return e.__sentry_original__}function Xe(e){if(Pe(e))return{message:e.message,name:e.name,stack:e.stack,...et(e)};if(Re(e)){const t={type:e.type,target:Ze(e.target),currentTarget:Ze(e.currentTarget),...et(e)};return\"undefined\"!=typeof CustomEvent&&Be(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Ze(e){try{return t=e,\"undefined\"!=typeof Element&&Be(t,Element)?Je(e):Object.prototype.toString.call(e)}catch(e){return\"<unknown>\"}var t}function et(e){if(\"object\"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function tt(e){return nt(e,new Map)}function nt(e,t){if(function(e){if(!Ne(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||\"Object\"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.getOwnPropertyNames(e))void 0!==e[n]&&(r[n]=nt(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(nt(e,t))})),r}return e}function rt(){return Date.now()/1e3}const it=function(){const{performance:e}=re;if(!e||!e.now)return rt;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function ot(){const e=re,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,\"\");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function st(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function at(e){const{message:t,event_id:n}=e;if(t)return t;const r=st(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||\"<unknown>\":n||\"<unknown>\"}function ct(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||\"\"),o.type||(o.type=n||\"Error\")}function lt(e,t){const n=st(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:\"generic\",handled:!0,...r,...t},t&&\"data\"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function ut(e){if(function(e){try{return e.__sentry_captured__}catch(e){}}(e))return!0;try{Qe(e,\"__sentry_captured__\",!0)}catch(e){}return!1}var dt;function pt(e){return new ft((t=>{t(e)}))}function ht(e){return new ft(((t,n)=>{n(e)}))}(()=>{const{performance:e}=re;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,s=e.timing&&e.timing.navigationStart,a=\"number\"==typeof s?Math.abs(s+n-r):t;(o||a<t)&&(i<=a&&e.timeOrigin)})(),function(e){e[e.PENDING=0]=\"PENDING\";e[e.RESOLVED=1]=\"RESOLVED\";e[e.REJECTED=2]=\"REJECTED\"}(dt||(dt={}));class ft{constructor(e){ft.prototype.__init.call(this),ft.prototype.__init2.call(this),ft.prototype.__init3.call(this),ft.prototype.__init4.call(this),this._state=dt.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new ft(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new ft(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(dt.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(dt.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===dt.PENDING&&(Fe(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===dt.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===dt.RESOLVED&&e[1](this._value),this._state===dt.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function vt(e){const t=it(),n={sid:ot(),init:!0,timestamp:t,started:t,duration:0,status:\"ok\",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return tt({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:\"number\"==typeof e.did||\"string\"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&gt(n,e),n}function gt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||it(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:ot()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),\"number\"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(\"number\"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),\"number\"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function mt(){return ot()}function yt(){return ot().substring(16)}function bt(e,t,n=2){if(!t||\"object\"!=typeof t||n<=0)return t;if(e&&t&&0===Object.keys(t).length)return e;const r={...e};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=bt(r[e],t[e],n-1));return r}const _t=\"_sentrySpan\";function wt(e,t){t?Qe(e,_t,t):delete e[_t]}function St(e){return e[_t]}class kt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:mt(),spanId:yt()}}clone(){const e=new kt;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,wt(e,St(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&gt(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t=\"function\"==typeof e?e(this):e,[n,r]=t instanceof Mt?[t.getScopeData(),t.getRequestSession()]:Ne(t)?[e,e.requestSession]:[],{tags:i,extra:o,user:s,contexts:a,level:c,fingerprint:l=[],propagationContext:u}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...a},s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),l.length&&(this._fingerprint=l),u&&(this._propagationContext=u),r&&(this._requestSession=r),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,wt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:mt()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n=\"number\"==typeof t?t:100;if(n<=0)return this;const r={timestamp:rt(),...e};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent(\"buffer_overflow\",\"log_item\")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:St(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=bt(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:yt(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:ot();if(!this._client)return le.warn(\"No client configured on scope - will not capture exception!\"),n;const r=new Error(\"Sentry syntheticException\");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:ot();if(!this._client)return le.warn(\"No client configured on scope - will not capture message!\"),r;const i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:ot();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(le.warn(\"No client configured on scope - will not capture event!\"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}const Mt=kt;class Ct{constructor(e,t){let n,r;n=e||new Mt,r=t||new Mt,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(e){throw this._popScope(),e}return Fe(n)?n.then((e=>(this._popScope(),e)),(e=>{throw this._popScope(),e})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Et(){const e=Te(Ee());return e.stack=e.stack||new Ct(ie(\"defaultCurrentScope\",(()=>new Mt)),ie(\"defaultIsolationScope\",(()=>new Mt)))}function Tt(e){return Et().withScope(e)}function Ot(e,t){const n=Et();return n.withScope((()=>(n.getStackTop().scope=e,t(e))))}function Pt(e){return Et().withScope((()=>e(Et().getIsolationScope())))}function At(e){const t=Te(e);return t.acs?t.acs:{withIsolationScope:Pt,withScope:Tt,withSetScope:Ot,withSetIsolationScope:(e,t)=>Pt(t),getCurrentScope:()=>Et().getScope(),getIsolationScope:()=>Et().getIsolationScope()}}function jt(){return At(Ee()).getCurrentScope()}function It(){return At(Ee()).getIsolationScope()}function xt(){return jt().getClient()}function Lt(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=t;return tt({trace_id:n,span_id:r,parent_span_id:i})}function Dt(e){const t=e._sentryMetrics;if(!t)return;const n={};for(const[,[e,r]]of t){(n[e]||(n[e]=[])).push(tt(r))}return n}const Nt=/^sentry-/;function Rt(e){const t=function(e){if(!e||!xe(e)&&!Array.isArray(e))return;if(Array.isArray(e))return e.reduce(((e,t)=>{const n=Ft(t);return Object.entries(n).forEach((([t,n])=>{e[t]=n})),e}),{});return Ft(e)}(e);if(!t)return;const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(Nt)){e[t.slice(7)]=n}return e}),{});return Object.keys(n).length>0?n:void 0}function Ft(e){return e.split(\",\").map((e=>e.split(\"=\").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(t&&n&&(e[t]=n),e)),{})}let Bt=!1;function Ut(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext();return tt({parent_span_id:r?t:$t(e).parent_span_id,span_id:r?yt():t,trace_id:n})}function Vt(e){return\"number\"==typeof e?Jt(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Jt(e.getTime()):it()}function Jt(e){return e>9999999999?e/1e3:e}function $t(e){if(function(e){return\"function\"==typeof e.getSpanJSON}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(e){const t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status)}(e)){const{attributes:r,startTime:i,name:o,endTime:s,parentSpanId:a,status:c}=e;return tt({span_id:t,trace_id:n,data:r,description:o,parent_span_id:a,start_timestamp:Vt(i),timestamp:Vt(s)||void 0,status:qt(c),op:r[\"sentry.op\"],origin:r[\"sentry.origin\"],_metrics_summary:Dt(e)})}return{span_id:t,trace_id:n}}catch(e){return{}}}function qt(e){if(e&&0!==e.code)return 1===e.code?\"ok\":e.message||\"unknown_error\"}function zt(e){return e._sentryRootSpan||e}function Wt(){Bt||(ce((()=>{console.warn(\"[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.\")})),Bt=!0)}const Ht=\"production\";function Gt(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=tt({environment:n.environment||Ht,release:n.release,public_key:r,trace_id:e});return t.emit(\"createDsc\",i),i}function Qt(e){const t=xt();if(!t)return{};const n=zt(e),r=n._frozenDsc;if(r)return r;const i=n.spanContext().traceState,o=i&&i.get(\"sentry.dsc\"),s=o&&Rt(o);if(s)return s;const a=Gt(e.spanContext().traceId,t),c=$t(n),l=c.data||{},u=l[\"sentry.sample_rate\"];null!=u&&(a.sample_rate=`${u}`);const d=l[\"sentry.source\"],p=c.description;return\"url\"!==d&&p&&(a.transaction=p),function(e){if(\"boolean\"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=xt(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||\"tracesSampleRate\"in n||\"tracesSampler\"in n)}()&&(a.sampled=String(function(e){const{traceFlags:t}=e.spanContext();return 1===t}(n))),t.emit(\"createDsc\",a,n),a}const Kt=/^(?:(\\w+):)\\/\\/(?:(\\w+)(?::(\\w+)?)?@)([\\w.-]+)(?::(\\d+))?\\/(.+)/;function Yt(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&i?`:${i}`:\"\"}@${n}${o?`:${o}`:\"\"}/${r?`${r}/`:r}${s}`}function Xt(e){return{protocol:e.protocol,publicKey:e.publicKey||\"\",pass:e.pass||\"\",host:e.host,port:e.port||\"\",path:e.path||\"\",projectId:e.projectId}}function Zt(e){const t=\"string\"==typeof e?function(e){const t=Kt.exec(e);if(!t)return void ce((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,i=\"\",o=\"\",s=\"\",a=\"\"]=t.slice(1);let c=\"\",l=a;const u=l.split(\"/\");if(u.length>1&&(c=u.slice(0,-1).join(\"/\"),l=u.pop()),l){const e=l.match(/^\\d+/);e&&(l=e[0])}return Xt({host:o,pass:i,path:c,projectId:l,port:s,protocol:n,publicKey:r})}(e):Xt(e);if(t&&function(e){if(!oe)return!0;const{port:t,projectId:n,protocol:r}=e;return!([\"protocol\",\"publicKey\",\"host\",\"projectId\"].find((t=>!e[t]&&(le.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\\d+$/)?function(e){return\"http\"===e||\"https\"===e}(r)?t&&isNaN(parseInt(t,10))&&(le.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(le.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(le.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}function en(e,t=100,n=1/0){try{return nn(\"\",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function tn(e,t=3,n=102400){const r=en(e,t);return i=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>n?tn(e,t-1,n):r;var i}function nn(e,t,n=1/0,r=1/0,i=function(){const e=\"function\"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[o,s]=i;if(null==t||[\"boolean\",\"string\"].includes(typeof t)||\"number\"==typeof t&&Number.isFinite(t))return t;const a=function(e,t){try{if(\"domain\"===e&&t&&\"object\"==typeof t&&t._events)return\"[Domain]\";if(\"domainEmitter\"===e)return\"[DomainEmitter]\";if(\"undefined\"!=typeof global&&t===global)return\"[Global]\";if(\"undefined\"!=typeof window&&t===window)return\"[Window]\";if(\"undefined\"!=typeof document&&t===document)return\"[Document]\";if(Ue(t))return\"[VueViewModel]\";if(Ne(n=t)&&\"nativeEvent\"in n&&\"preventDefault\"in n&&\"stopPropagation\"in n)return\"[SyntheticEvent]\";if(\"number\"==typeof t&&!Number.isFinite(t))return`[${t}]`;if(\"function\"==typeof t)return`[Function: ${ve(t)}]`;if(\"symbol\"==typeof t)return`[${String(t)}]`;if(\"bigint\"==typeof t)return`[BigInt: ${String(t)}]`;const r=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:\"null prototype\"}(t);return/^HTML(\\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(e){return`**non-serializable** (${e})`}var n}(e,t);if(!a.startsWith(\"[object \"))return a;if(t.__sentry_skip_normalization__)return t;const c=\"number\"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return a.replace(\"object \",\"\");if(o(t))return\"[Circular ~]\";const l=t;if(l&&\"function\"==typeof l.toJSON)try{return nn(\"\",l.toJSON(),c-1,r,i)}catch(e){}const u=Array.isArray(t)?[]:{};let d=0;const p=Xe(t);for(const e in p){if(!Object.prototype.hasOwnProperty.call(p,e))continue;if(d>=r){u[e]=\"[MaxProperties ~]\";break}const t=p[e];u[e]=nn(e,t,c-1,r,i),d++}return s(t),u}function rn(e,t=[]){return[e,t]}function on(e,t){const[n,r]=e;return[n,[...r,t]]}function sn(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function an(e){return re.__SENTRY__&&re.__SENTRY__.encodePolyfill?re.__SENTRY__.encodePolyfill(e):(new TextEncoder).encode(e)}function cn(e){const[t,n]=e;let r=JSON.stringify(t);function i(e){\"string\"==typeof r?r=\"string\"==typeof e?r+e:[an(r),e]:r.push(\"string\"==typeof e?an(e):e)}for(const e of n){const[t,n]=e;if(i(`\\n${JSON.stringify(t)}\\n`),\"string\"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(en(n))}i(e)}}return\"string\"==typeof r?r:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(r)}function ln(e){const t=\"string\"==typeof e.data?an(e.data):e.data;return[tt({type:\"attachment\",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const un={session:\"session\",sessions:\"session\",attachment:\"attachment\",transaction:\"transaction\",event:\"error\",client_report:\"internal\",user_report:\"default\",profile:\"profile\",profile_chunk:\"profile\",replay_event:\"replay\",replay_recording:\"replay\",check_in:\"monitor\",feedback:\"feedback\",span:\"span\",statsd:\"metric_bucket\",raw_security:\"security\"};function dn(e){return un[e]}function pn(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function hn(e,t,n,r){const i=pn(n),o=e.type&&\"replay_event\"!==e.type?e.type:\"event\";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const s=function(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Yt(r)},...i&&{trace:tt({...i})}}}(e,i,r,t);delete e.sdkProcessingMetadata;return rn(s,[[{type:o},e]])}function fn(e,t,n,r=0){return new ft(((i,o)=>{const s=e[r];if(null===t||\"function\"!=typeof s)i(t);else{const a=s({...t},n);te&&s.id&&null===a&&le.log(`Event processor \"${s.id}\" dropped event`),Fe(a)?a.then((t=>fn(e,t,n,r+1).then(i))).then(null,o):fn(e,a,n,r+1).then(i).then(null,o)}}))}let vn,gn,mn;function yn(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=t;!function(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,transactionName:a}=t,c=tt(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const l=tt(r);l&&Object.keys(l).length&&(e.tags={...l,...e.tags});const u=tt(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=tt(o);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts});s&&(e.level=s);a&&\"transaction\"!==e.type&&(e.transaction=a)}(e,t),r&&function(e,t){e.contexts={trace:Ut(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Qt(t),...e.sdkProcessingMetadata};const n=zt(t),r=$t(n).description;r&&!e.transaction&&\"transaction\"===e.type&&(e.transaction=r)}(e,r),function(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,i),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,o)}function bn(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:l,eventProcessors:u,attachments:d,propagationContext:p,transactionName:h,span:f}=t;_n(e,\"extra\",n),_n(e,\"tags\",r),_n(e,\"user\",i),_n(e,\"contexts\",o),e.sdkProcessingMetadata=bt(e.sdkProcessingMetadata,a,2),s&&(e.level=s),h&&(e.transactionName=h),f&&(e.span=f),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function _n(e,t,n){e[t]=bt(e[t],n,1)}function wn(e,t,n,r,i,o){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||ot(),timestamp:t.timestamp||rt()},l=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:i,maxValueLength:o=250}=t;e.environment=e.environment||n||Ht,!e.release&&r&&(e.release=r);!e.dist&&i&&(e.dist=i);e.message&&(e.message=qe(e.message,o));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=qe(s.value,o));const a=e.request;a&&a.url&&(a.url=qe(a.url,o))}(c,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(c,l),i&&i.emit(\"applyFrameMetadata\",t),void 0===t.type&&function(e,t){const n=function(e){const t=re._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return mn&&n.length===gn||(gn=n.length,mn=n.reduce(((n,r)=>{vn||(vn={});const i=vn[r];if(i)n[i[0]]=i[1];else{const i=e(r);for(let e=i.length-1;e>=0;e--){const o=i[e],s=o&&o.filename,a=t[r];if(s&&a){n[s]=a,vn[r]=[s,a];break}}}return n}),{})),mn}(t);try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{n&&e.filename&&(e.debug_id=n[e.filename])}))}))}catch(e){}}(c,e.stackParser);const u=function(e,t){if(!t)return e;const n=e?e.clone():new Mt;return n.update(t),n}(r,n.captureContext);n.mechanism&&lt(c,n.mechanism);const d=i?i.getEventProcessors():[],p=ie(\"globalScope\",(()=>new Mt)).getScopeData();if(o){bn(p,o.getScopeData())}if(u){bn(p,u.getScopeData())}const h=[...n.attachments||[],...p.attachments];h.length&&(n.attachments=h),yn(c,p);return fn([...d,...p.eventProcessors],c,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach((([e,t])=>{n.push({type:\"sourcemap\",code_file:e,debug_id:t})}))}(e),\"number\"==typeof s&&s>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:en(e.data,t,n)}})))},...e.user&&{user:en(e.user,t,n)},...e.contexts&&{contexts:en(e.contexts,t,n)},...e.extra&&{extra:en(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=en(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>({...e,...e.data&&{data:en(e.data,t,n)}}))));e.contexts&&e.contexts.flags&&r.contexts&&(r.contexts.flags=en(e.contexts.flags,3,n));return r}(e,s,a):e)))}function Sn(e){if(e)return function(e){return e instanceof Mt||\"function\"==typeof e}(e)||function(e){return Object.keys(e).some((e=>kn.includes(e)))}(e)?{captureContext:e}:e}const kn=[\"user\",\"level\",\"extra\",\"contexts\",\"tags\",\"fingerprint\",\"requestSession\",\"propagationContext\"];function Mn(e,t){return jt().captureEvent(e,t)}function Cn(e){const t=xt(),n=It(),r=jt(),{release:i,environment:o=Ht}=t&&t.getOptions()||{},{userAgent:s}=re.navigator||{},a=vt({release:i,environment:o,user:r.getUser()||n.getUser(),...s&&{userAgent:s},...e}),c=n.getSession();return c&&\"ok\"===c.status&&gt(c,{status:\"exited\"}),En(),n.setSession(a),r.setSession(a),a}function En(){const e=It(),t=jt(),n=t.getSession()||e.getSession();n&&function(e,t){let n={};t?n={status:t}:\"ok\"===e.status&&(n={status:\"exited\"}),gt(e,n)}(n),Tn(),e.setSession(),t.setSession()}function Tn(){const e=It(),t=jt(),n=xt(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function On(e=!1){e?En():Tn()}function Pn(e,t,n){return t||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:\"\",n=e.port?`:${e.port}`:\"\";return`${t}//${e.host}${n}${e.path?`/${e.path}`:\"\"}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){const n={sentry_version:\"7\"};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}(e,n)}`}const An=[];function jn(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function In(e,t,n){if(n[t.name])te&&le.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===An.indexOf(t.name)&&\"function\"==typeof t.setupOnce&&(t.setupOnce(),An.push(t.name)),t.setup&&\"function\"==typeof t.setup&&t.setup(e),\"function\"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on(\"preprocessEvent\",((t,r)=>n(t,r,e)))}if(\"function\"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}te&&le.log(`Integration installed: ${t.name}`)}}class xn extends Error{constructor(e,t=\"warn\"){super(e),this.message=e,this.logLevel=t}}const Ln=\"Not capturing exception because it's already been captured.\";class Dn{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Zt(e.dsn):te&&le.warn(\"No DSN provided, client will not send events.\"),this._dsn){const t=Pn(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}const t=[\"enableTracing\",\"tracesSampleRate\",\"tracesSampler\"].find((t=>t in e&&null==e[t]));t&&ce((()=>{console.warn(`[Sentry] Deprecation warning: \\`${t}\\` is set to undefined, which leads to tracing being enabled. In v9, a value of \\`undefined\\` will result in tracing being disabled.`)}))}captureException(e,t,n){const r=ot();if(ut(e))return te&&le.log(Ln),r;const i={event_id:r,...t};return this._process(this.eventFromException(e,i).then((e=>this._captureEvent(e,i,n)))),i.event_id}captureMessage(e,t,n,r){const i={event_id:ot(),...n},o=Le(e)?e:String(e),s=De(e)?this.eventFromMessage(o,t,i):this.eventFromException(e,i);return this._process(s.then((e=>this._captureEvent(e,i,r)))),i.event_id}captureEvent(e,t,n){const r=ot();if(t&&t.originalException&&ut(t.originalException))return te&&le.log(Ln),r;const i={event_id:r,...t},o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,i,o||n)),i.event_id}captureSession(e){\"string\"!=typeof e.release?te&&le.warn(\"Discarded session because of missing or non-string release\"):(this.sendSession(e),gt(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit(\"flush\"),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):pt(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.emit(\"close\"),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((({name:e})=>e.startsWith(\"Spotlight\"))))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];In(this,e,this._integrations),t||jn(this,[e])}sendEvent(e,t={}){this.emit(\"beforeSendEvent\",e,t);let n=hn(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=on(n,ln(e));const r=this.sendEnvelope(n);r&&r.then((t=>this.emit(\"afterSendEvent\",e,t)),null)}sendSession(e){const t=function(e,t,n,r){const i=pn(n);return rn({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Yt(t)}},[\"aggregates\"in e?[{type:\"sessions\"},e]:[{type:\"session\"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const r=\"number\"==typeof n?n:1,i=`${e}:${t}`;te&&le.log(`Recording outcome: \"${i}\"${r>1?` (${r} times)`:\"\"}`),this._outcomes[i]=(this._outcomes[i]||0)+r}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,...t){const n=this._hooks[e];n&&n.forEach((e=>e(...t)))}sendEnvelope(e){return this.emit(\"beforeEnvelope\",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(e=>(te&&le.error(\"Error while sending envelope:\",e),e))):(te&&le.error(\"Transport disabled\"),pt({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&In(e,t,n)})),n}(this,e),jn(this,e)}_updateSessionFromEvent(e,t){let n=\"fatal\"===t.level,r=!1;const i=t.exception&&t.exception.values;if(i){r=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const o=\"ok\"===e.status;(o&&0===e.errors||o&&n)&&(gt(e,{...n&&{status:\"crashed\"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ft((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n=jt(),r=It()){const i=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),this.emit(\"preprocessEvent\",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),wn(i,e,t,n,this,r).then((e=>{if(null===e)return e;e.contexts={trace:Lt(n),...e.contexts};const t=function(e,t){const n=t.getPropagationContext();return n.dsc||Gt(n.traceId,e)}(this,n);return e.sdkProcessingMetadata={dynamicSamplingContext:t,...e.sdkProcessingMetadata},e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{te&&(e instanceof xn&&\"log\"===e.logLevel?le.log(e.message):le.warn(e))}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:i}=r,o=Rn(e),s=Nn(e),a=e.type||\"error\",c=`before send for type \\`${a}\\``,l=void 0===i?void 0:function(e){if(\"boolean\"==typeof e)return Number(e);const t=\"string\"==typeof e?parseFloat(e):e;if(!(\"number\"!=typeof t||isNaN(t)||t<0||t>1))return t;te&&le.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`)}(i);if(s&&\"number\"==typeof l&&Math.random()>l)return this.recordDroppedEvent(\"sample_rate\",\"error\",e),ht(new xn(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,\"log\"));const u=\"replay_event\"===a?\"replay\":a,d=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,d).then((n=>{if(null===n)throw this.recordDroppedEvent(\"event_processor\",u,e),new xn(\"An event processor returned `null`, will not send event.\",\"log\");if(t.data&&!0===t.data.__sentry__)return n;const i=function(e,t,n,r){const{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s}=t;if(Nn(n)&&i)return i(n,r);if(Rn(n)){if(n.spans&&s){const t=[];for(const r of n.spans){const n=s(r);n?t.push(n):(Wt(),e.recordDroppedEvent(\"before_send\",\"span\"))}n.spans=t}if(o){if(n.spans){const e=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return o(n,r)}}return n}(this,r,n,t);return function(e,t){const n=`${t} must return \\`null\\` or a valid event.`;if(Fe(e))return e.then((e=>{if(!Ne(e)&&null!==e)throw new xn(n);return e}),(e=>{throw new xn(`${t} rejected with ${e}`)}));if(!Ne(e)&&null!==e)throw new xn(n);return e}(i,c)})).then((r=>{if(null===r){if(this.recordDroppedEvent(\"before_send\",u,e),o){const t=1+(e.spans||[]).length;this.recordDroppedEvent(\"before_send\",\"span\",t)}throw new xn(`${c} returned \\`null\\`, will not send event.`,\"log\")}const i=n&&n.getSession();if(!o&&i&&this._updateSessionFromEvent(i,r),o){const e=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);e>0&&this.recordDroppedEvent(\"before_send\",\"span\",e)}const s=r.transaction_info;if(o&&s&&r.transaction!==e.transaction){const e=\"custom\";r.transaction_info={...s,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof xn)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new xn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((([e,t])=>{const[n,r]=e.split(\":\");return{reason:n,category:r,quantity:t}}))}_flushOutcomes(){te&&le.log(\"Flushing outcomes...\");const e=this._clearOutcomes();if(0===e.length)return void(te&&le.log(\"No outcomes to send\"));if(!this._dsn)return void(te&&le.log(\"No dsn provided, will not send outcomes\"));te&&le.log(\"Sending outcomes:\",e);const t=(n=e,rn((r=this._options.tunnel&&Yt(this._dsn))?{dsn:r}:{},[[{type:\"client_report\"},{timestamp:i||rt(),discarded_events:n}]]));var n,r,i;this.sendEnvelope(t)}}function Nn(e){return void 0===e.type}function Rn(e){return\"transaction\"===e.type}function Fn(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return ht(new xn(\"Not adding Promise because buffer limit was reached.\"));const i=r();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new ft(((n,r)=>{let i=t.length;if(!i)return n(!0);const o=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{pt(e).then((()=>{--i||(clearTimeout(o),n(!0))}),r)}))}))}}}function Bn(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n&&n[\"x-sentry-rate-limits\"],s=n&&n[\"retry-after\"];if(o)for(const e of o.trim().split(\",\")){const[t,n,,,o]=e.split(\":\",5),s=parseInt(t,10),a=1e3*(isNaN(s)?60:s);if(n)for(const e of n.split(\";\"))\"metric_bucket\"===e&&o&&!o.split(\";\").includes(\"custom\")||(i[e]=r+a);else i.all=r+a}else s?i.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(s,r):429===t&&(i.all=r+6e4);return i}function Un(e,t,n=Fn(e.bufferSize||64)){let r={};return{send:function(i){const o=[];if(sn(i,((t,n)=>{const i=dn(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(r,i)){const r=Vn(t,n);e.recordDroppedEvent(\"ratelimit_backoff\",i,r)}else o.push(t)})),0===o.length)return pt({});const s=rn(i[0],o),a=t=>{sn(s,((n,r)=>{const i=Vn(n,r);e.recordDroppedEvent(t,dn(r),i)}))};return n.add((()=>t({body:cn(s)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&te&&le.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=Bn(r,e),e)),(e=>{throw a(\"network_error\"),e})))).then((e=>e),(e=>{if(e instanceof xn)return te&&le.error(\"Skipped sending event because buffer is full.\"),a(\"queue_overflow\"),pt({});throw e}))},flush:e=>n.drain(e)}}function Vn(e,t){if(\"event\"===t||\"transaction\"===t)return Array.isArray(e)?e[1]:void 0}const Jn=100;function $n(e,t){const n=xt(),r=It();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Jn}=n.getOptions();if(o<=0)return;const s={timestamp:rt(),...e},a=i?ce((()=>i(s,t))):s;null!==a&&(n.emit&&n.emit(\"beforeAddBreadcrumb\",a,t),r.addBreadcrumb(a,o))}let qn;const zn=new WeakMap,Wn=()=>({name:\"FunctionToString\",setupOnce(){qn=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Ye(this),n=zn.has(xt())&&void 0!==t?t:this;return qn.apply(n,e)}}catch(e){}},setup(e){zn.set(e,!0)}}),Hn=[/^Script error\\.?$/,/^Javascript error: Script error\\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,\"undefined is not an object (evaluating 'a.L')\",'can\\'t redefine non-configurable property \"solana\"',\"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)\",\"Can't find variable: _AutofillCallbackHandler\",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\\d+, MethodName:simulateEvent, ParamCount:\\d+$/],Gn=(e={})=>({name:\"InboundFilters\",processEvent(t,n,r){const i=r.getOptions(),o=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Hn],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,i);return function(e,t){if(t.ignoreInternal&&function(e){try{return\"SentryError\"===e.exception.values[0].type}catch(e){}return!1}(e))return te&&le.warn(`Event dropped due to being internal Sentry Error.\\nEvent: ${at(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));return t}(e).some((e=>He(e,t)))}(e,t.ignoreErrors))return te&&le.warn(`Event dropped due to being matched by \\`ignoreErrors\\` option.\\nEvent: ${at(e)}`),!0;if(function(e){if(e.type)return!1;if(!e.exception||!e.exception.values||0===e.exception.values.length)return!1;return!e.message&&!e.exception.values.some((e=>e.stacktrace||e.type&&\"Error\"!==e.type||e.value))}(e))return te&&le.warn(`Event dropped due to not having an error message, error type or stacktrace.\\nEvent: ${at(e)}`),!0;if(function(e,t){if(\"transaction\"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&He(n,t)}(e,t.ignoreTransactions))return te&&le.warn(`Event dropped due to being matched by \\`ignoreTransactions\\` option.\\nEvent: ${at(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=Qn(e);return!!n&&He(n,t)}(e,t.denyUrls))return te&&le.warn(`Event dropped due to being matched by \\`denyUrls\\` option.\\nEvent: ${at(e)}.\\nUrl: ${Qn(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=Qn(e);return!n||He(n,t)}(e,t.allowUrls))return te&&le.warn(`Event dropped due to not being matched by \\`allowUrls\\` option.\\nEvent: ${at(e)}.\\nUrl: ${Qn(e)}`),!0;return!1}(t,o)?null:t}});function Qn(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&\"<anonymous>\"!==n.filename&&\"[native code]\"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return te&&le.error(`Cannot extract url for event ${at(e)}`),null}}function Kn(e,t,n=250,r,i,o,s){if(!(o.exception&&o.exception.values&&s&&Be(s.originalException,Error)))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;var c,l;a&&(o.exception.values=(c=Yn(e,t,i,s.originalException,r,o.exception.values,a,0),l=n,c.map((e=>(e.value&&(e.value=qe(e.value,l)),e)))))}function Yn(e,t,n,r,i,o,s,a){if(o.length>=n+1)return o;let c=[...o];if(Be(r[i],Error)){Xn(s,a);const o=e(t,r[i]),l=c.length;Zn(o,i,l,a),c=Yn(e,t,n,r[i],i,[o,...c],o,l)}return Array.isArray(r.errors)&&r.errors.forEach(((r,o)=>{if(Be(r,Error)){Xn(s,a);const l=e(t,r),u=c.length;Zn(l,`errors[${o}]`,u,a),c=Yn(e,t,n,r,i,[l,...c],l,u)}})),c}function Xn(e,t){e.mechanism=e.mechanism||{type:\"generic\",handled:!0},e.mechanism={...e.mechanism,...\"AggregateError\"===e.type&&{is_exception_group:!0},exception_id:t}}function Zn(e,t,n,r){e.mechanism=e.mechanism||{type:\"generic\",handled:!0},e.mechanism={...e.mechanism,type:\"chained\",source:t,exception_id:n,parent_id:r}}function er(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||\"\",r=t[8]||\"\";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function tr(){\"console\"in re&&se.forEach((function(e){e in re.console&&Ge(re.console,e,(function(t){return ae[e]=t,function(...t){we(\"console\",{args:t,level:e});const n=ae[e];n&&n.apply(re.console,t)}}))}))}function nr(e){return\"warn\"===e?\"warning\":[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"].includes(e)?e:\"log\"}const rr=()=>{let e;return{name:\"Dedupe\",processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!or(e,t))return!1;if(!ir(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=sr(t),r=sr(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!or(e,t))return!1;if(!ir(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return te&&le.warn(\"Event dropped due to being a duplicate of previously captured event.\"),null}catch(e){}return e=t}}};function ir(e,t){let n=ge(e),r=ge(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function or(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join(\"\")!==r.join(\"\"))}catch(e){return!1}}function sr(e){return e.exception&&e.exception.values&&e.exception.values[0]}function ar(e){return void 0===e?void 0:e>=400&&e<500?\"warning\":e>=500?\"error\":void 0}const cr=re;function lr(e){return e&&/^function\\s+\\w+\\(\\)\\s+\\{\\s+\\[native code\\]\\s+\\}$/.test(e.toString())}function ur(){if(\"string\"==typeof EdgeRuntime)return!0;if(!function(){if(!(\"fetch\"in cr))return!1;try{return new Headers,new Request(\"http://www.example.com\"),new Response,!0}catch(e){return!1}}())return!1;if(lr(cr.fetch))return!0;let e=!1;const t=cr.document;if(t&&\"function\"==typeof t.createElement)try{const n=t.createElement(\"iframe\");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=lr(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){oe&&le.warn(\"Could not create sandbox iframe for pure fetch check, bailing to window.fetch: \",e)}return e}function dr(e,t){const n=\"fetch\";be(n,e),_e(n,(()=>function(e,t=!1){if(t&&!ur())return;Ge(re,\"fetch\",(function(t){return function(...n){const r=new Error,{method:i,url:o}=function(e){if(0===e.length)return{method:\"GET\",url:\"\"};if(2===e.length){const[t,n]=e;return{url:hr(t),method:pr(n,\"method\")?String(n.method).toUpperCase():\"GET\"}}const t=e[0];return{url:hr(t),method:pr(t,\"method\")?String(t.method).toUpperCase():\"GET\"}}(n),s={args:n,fetchData:{method:i,url:o},startTimestamp:1e3*it(),virtualError:r};return e||we(\"fetch\",{...s}),t.apply(re,n).then((async t=>(e?e(t):we(\"fetch\",{...s,endTimestamp:1e3*it(),response:t}),t)),(e=>{throw we(\"fetch\",{...s,endTimestamp:1e3*it(),error:e}),Pe(e)&&void 0===e.stack&&(e.stack=r.stack,Qe(e,\"framesToPop\",1)),e}))}}))}(void 0,t)))}function pr(e,t){return!!e&&\"object\"==typeof e&&!!e[t]}function hr(e){return\"string\"==typeof e?e:e?pr(e,\"url\")?e.url:e.toString?e.toString():\"\":\"\"}const fr=re;const vr=re;let gr=0;function mr(){return gr>0}function yr(e,t={}){if(!function(e){return\"function\"==typeof e}(e))return e;try{const t=e.__sentry_wrapped__;if(t)return\"function\"==typeof t?t:e;if(Ye(e))return e}catch(t){return e}const n=function(...n){try{const r=n.map((e=>yr(e,t)));return e.apply(this,r)}catch(e){throw gr++,setTimeout((()=>{gr--})),function(...e){const t=At(Ee());if(2===e.length){const[n,r]=e;return n?t.withSetScope(n,r):t.withScope(r)}t.withScope(e[0])}((r=>{var i,o;r.addEventProcessor((e=>(t.mechanism&&(ct(e,void 0,void 0),lt(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),i=e,jt().captureException(i,Sn(o))})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch(e){}Ke(n,e),Qe(e,\"__sentry_wrapped__\",n);try{Object.getOwnPropertyDescriptor(n,\"name\").configurable&&Object.defineProperty(n,\"name\",{get:()=>e.name})}catch(e){}return n}const br=\"undefined\"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function _r(e,t){const n=kr(e,t),r={type:Er(t),value:Tr(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&\"\"===r.value&&(r.value=\"Unrecoverable error caught\"),r}function wr(e,t,n,r){const i=xt(),o=i&&i.getOptions().normalizeDepth,s=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}return}(t),a={__serialized__:tn(t,o)};if(s)return{exception:{values:[_r(e,s)]},extra:a};const c={exception:{values:[{type:Re(t)?t.constructor.name:r?\"UnhandledRejection\":\"Error\",value:Ar(t,{isUnhandledRejection:r})}]},extra:a};if(n){const t=kr(e,n);t.length&&(c.exception.values[0].stacktrace={frames:t})}return c}function Sr(e,t){return{exception:{values:[_r(e,t)]}}}function kr(e,t){const n=t.stacktrace||t.stack||\"\",r=function(e){if(e&&Mr.test(e.message))return 1;return 0}(t),i=function(e){if(\"number\"==typeof e.framesToPop)return e.framesToPop;return 0}(t);try{return e(n,r,i)}catch(e){}return[]}const Mr=/Minified React error #\\d+;/i;function Cr(e){return\"undefined\"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function Er(e){const t=e&&e.name;if(!t&&Cr(e)){return e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:\"WebAssembly.Exception\"}return t}function Tr(e){const t=e&&e.message;return t?t.error&&\"string\"==typeof t.error.message?t.error.message:Cr(e)&&Array.isArray(e.message)&&2==e.message.length?e.message[1]:t:\"No error message\"}function Or(e,t,n,r,i){let o;if(je(t)&&t.error){return Sr(e,t.error)}if(Ie(t)||Ae(t,\"DOMException\")){const i=t;if(\"stack\"in t)o=Sr(e,t);else{const t=i.name||(Ie(i)?\"DOMError\":\"DOMException\"),s=i.message?`${t}: ${i.message}`:t;o=Pr(e,s,n,r),ct(o,s)}return\"code\"in i&&(o.tags={...o.tags,\"DOMException.code\":`${i.code}`}),o}if(Pe(t))return Sr(e,t);if(Ne(t)||Re(t)){return o=wr(e,t,n,i),lt(o,{synthetic:!0}),o}return o=Pr(e,t,n,r),ct(o,`${t}`,void 0),lt(o,{synthetic:!0}),o}function Pr(e,t,n,r){const i={};if(r&&n){const r=kr(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]}),lt(i,{synthetic:!0})}if(Le(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}function Ar(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(Xe(e));n.sort();const r=n[0];if(!r)return\"[object has no keys]\";if(r.length>=t)return qe(r,t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(\", \");if(!(r.length>t))return e===n.length?r:qe(r,t)}return\"\"}(e),r=t?\"promise rejection\":\"exception\";if(je(e))return`Event \\`ErrorEvent\\` captured as ${r} with message \\`${e.message}\\``;if(Re(e)){return`Event \\`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}class jr extends Dn{constructor(e){const t={parentSpanIsAlwaysRootSpan:!0,...e};!function(e,t,n=[t],r=\"npm\"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${r}:@sentry/${e}`,version:ne}))),version:ne}),e._metadata=i}(t,\"browser\",[\"browser\"],vr.SENTRY_SDK_SOURCE||\"npm\"),super(t),t.sendClientReports&&vr.document&&vr.document.addEventListener(\"visibilitychange\",(()=>{\"hidden\"===vr.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,r){const i=Or(e,t,n&&n.syntheticException||void 0,r);return lt(i),i.level=\"error\",n&&n.event_id&&(i.event_id=n.event_id),pt(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t=\"info\",n){return function(e,t,n=\"info\",r,i){const o=Pr(e,t,r&&r.syntheticException||void 0,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),pt(o)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(br&&le.warn(\"SDK not enabled, will not capture user feedback.\"));const t=function(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Yt(r)}},o=function(e){return[{type:\"user_report\"},e]}(e);return rn(i,[o])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||\"javascript\",super._prepareEvent(e,t,n)}}const Ir=\"undefined\"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,xr=re;let Lr,Dr,Nr,Rr;function Fr(){if(!xr.document)return;const e=we.bind(null,\"dom\"),t=Br(e,!0);xr.document.addEventListener(\"click\",t,!1),xr.document.addEventListener(\"keypress\",t,!1),[\"EventTarget\",\"Node\"].forEach((t=>{const n=xr[t],r=n&&n.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty(\"addEventListener\")&&(Ge(r,\"addEventListener\",(function(t){return function(n,r,i){if(\"click\"===n||\"keypress\"==n)try{const r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=r[n]=r[n]||{refCount:0};if(!o.handler){const r=Br(e);o.handler=r,t.call(this,n,r,i)}o.refCount++}catch(e){}return t.call(this,n,r,i)}})),Ge(r,\"removeEventListener\",(function(e){return function(t,n,r){if(\"click\"===t||\"keypress\"==t)try{const n=this.__sentry_instrumentation_handlers__||{},i=n[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}function Br(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return\"keypress\"===e&&(!t||!t.tagName||\"INPUT\"!==t.tagName&&\"TEXTAREA\"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;Qe(n,\"_sentryCaptured\",!0),r&&!r._sentryId&&Qe(r,\"_sentryId\",ot());const i=\"keypress\"===n.type?\"input\":n.type;if(!function(e){if(e.type!==Dr)return!1;try{if(!e.target||e.target._sentryId!==Nr)return!1}catch(e){}return!0}(n)){e({event:n,name:i,global:t}),Dr=n.type,Nr=r?r._sentryId:void 0}clearTimeout(Lr),Lr=xr.setTimeout((()=>{Nr=void 0,Dr=void 0}),1e3)}}function Ur(e){const t=\"history\";be(t,e),_e(t,Vr)}function Vr(){if(!function(){const e=fr.chrome,t=e&&e.app&&e.app.runtime,n=\"history\"in fr&&!!fr.history.pushState&&!!fr.history.replaceState;return!t&&n}())return;const e=xr.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=Rr,t=String(n);Rr=t;we(\"history\",{from:e,to:t})}return e.apply(this,t)}}xr.onpopstate=function(...t){const n=xr.location.href,r=Rr;Rr=n;if(we(\"history\",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},Ge(xr.history,\"pushState\",t),Ge(xr.history,\"replaceState\",t)}const Jr={};function $r(e){Jr[e]=void 0}const qr=\"__sentry_xhr_v3__\";function zr(){if(!xr.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){const r=new Error,i=1e3*it(),o=xe(n[0])?n[0].toUpperCase():void 0,s=function(e){if(xe(e))return e;try{return e.toString()}catch(e){}return}(n[1]);if(!o||!s)return e.apply(t,n);t[qr]={method:o,url:s,request_headers:{}},\"POST\"===o&&s.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const a=()=>{const e=t[qr];if(e&&4===t.readyState){try{e.status_code=t.status}catch(e){}we(\"xhr\",{endTimestamp:1e3*it(),startTimestamp:i,xhr:t,virtualError:r})}};return\"onreadystatechange\"in t&&\"function\"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(a(),e.apply(t,n))}):t.addEventListener(\"readystatechange\",a),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){const[r,i]=n,o=t[qr];return o&&xe(r)&&xe(i)&&(o.request_headers[r.toLowerCase()]=i),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){const r=t[qr];if(!r)return e.apply(t,n);void 0!==n[0]&&(r.body=n[0]);return we(\"xhr\",{startTimestamp:1e3*it(),xhr:t}),e.apply(t,n)}})}function Wr(e,t=function(e){const t=Jr[e];if(t)return t;let n=xr[e];if(lr(n))return Jr[e]=n.bind(xr);const r=xr.document;if(r&&\"function\"==typeof r.createElement)try{const t=r.createElement(\"iframe\");t.hidden=!0,r.head.appendChild(t);const i=t.contentWindow;i&&i[e]&&(n=i[e]),r.head.removeChild(t)}catch(t){Ir&&le.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return n?Jr[e]=n.bind(xr):n}(\"fetch\")){let n=0,r=0;return Un(e,(function(i){const o=i.body.length;n+=o,r++;const s={body:i.body,method:\"POST\",referrerPolicy:\"origin\",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return $r(\"fetch\"),ht(\"No fetch implementation available\");try{return t(e.url,s).then((e=>(n-=o,r--,{statusCode:e.status,headers:{\"x-sentry-rate-limits\":e.headers.get(\"X-Sentry-Rate-Limits\"),\"retry-after\":e.headers.get(\"Retry-After\")}})))}catch(e){return $r(\"fetch\"),n-=o,r--,ht(e)}}))}function Hr(e,t,n,r){const i={filename:e,function:\"<anonymous>\"===t?ue:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}const Gr=/^\\s*at (\\S+?)(?::(\\d+))(?::(\\d+))\\s*$/i,Qr=/^\\s*at (?:(.+?\\)(?: \\[.+\\])?|.*?) ?\\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\\/)?.*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,Kr=/\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/,Yr=/^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:[-a-z]+)?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i,Xr=/(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i,Zr=function(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0,r=0)=>{const i=[],o=e.split(\"\\n\");for(let e=n;e<o.length;e++){const n=o[e];if(n.length>1024)continue;const s=de.test(n)?n.replace(de,\"$1\"):n;if(!s.match(/\\S*Error: /)){for(const e of t){const t=e(s);if(t){i.push(t);break}}if(i.length>=50+r)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(he(t).function||\"\")&&t.pop();t.reverse(),pe.test(he(t).function||\"\")&&(t.pop(),pe.test(he(t).function||\"\")&&t.pop());return t.slice(0,50).map((e=>({...e,filename:e.filename||he(t).filename,function:e.function||ue})))}(i.slice(r))}}(...[[30,e=>{const t=Gr.exec(e);if(t){const[,e,n,r]=t;return Hr(e,ue,+n,+r)}const n=Qr.exec(e);if(n){if(n[2]&&0===n[2].indexOf(\"eval\")){const e=Kr.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}const[e,t]=ei(n[1]||ue,n[2]);return Hr(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=Yr.exec(e);if(t){if(t[3]&&t[3].indexOf(\" > eval\")>-1){const e=Xr.exec(t[3]);e&&(t[1]=t[1]||\"eval\",t[3]=e[1],t[4]=e[2],t[5]=\"\")}let e=t[3],n=t[1]||ue;return[n,e]=ei(n,e),Hr(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]]),ei=(e,t)=>{const n=-1!==e.indexOf(\"safari-extension\"),r=-1!==e.indexOf(\"safari-web-extension\");return n||r?[-1!==e.indexOf(\"@\")?e.split(\"@\")[0]:ue,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},ti=1024,ni=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:\"Breadcrumbs\",setup(e){var n;t.console&&function(e){const t=\"console\";be(t,e),_e(t,tr)}(function(e){return function(t){if(xt()!==e)return;const n={category:\"console\",data:{arguments:t.args,logger:\"console\"},level:nr(t.level),message:ze(t.args,\" \")};if(\"assert\"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${ze(t.args.slice(1),\" \")||\"console.assert\"}`,n.data.arguments=t.args.slice(1)}$n(n,{input:t.args,level:t.level})}}(e)),t.dom&&(n=function(e,t){return function(n){if(xt()!==e)return;let r,i,o=\"object\"==typeof t?t.serializeAttribute:void 0,s=\"object\"==typeof t&&\"number\"==typeof t.maxStringLength?t.maxStringLength:void 0;s&&s>ti&&(br&&le.warn(`\\`dom.maxStringLength\\` cannot exceed 1024, but a value of ${s} was configured. Sentry will use 1024 instead.`),s=ti),\"string\"==typeof o&&(o=[o]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=Je(t,{keyAttrs:o,maxStringLength:s}),i=function(e){if(!Ve.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}(t)}catch(e){r=\"<unknown>\"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};i&&(a.data={\"ui.component_name\":i}),$n(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom),be(\"dom\",n),_e(\"dom\",Fr)),t.xhr&&function(e){be(\"xhr\",e),_e(\"xhr\",zr)}(function(e){return function(t){if(xt()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,i=t.xhr[qr];if(!n||!r||!i)return;const{method:o,url:s,status_code:a,body:c}=i,l={method:o,url:s,status_code:a},u={xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:r};$n({category:\"xhr\",data:l,type:\"http\",level:ar(a)},u)}}(e)),t.fetch&&dr(function(e){return function(t){if(xt()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||\"POST\"!==t.fetchData.method))if(t.error){$n({category:\"fetch\",data:t.fetchData,level:\"error\",type:\"http\"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r})}else{const e=t.response,i={...t.fetchData,status_code:e&&e.status},o={input:t.args,response:e,startTimestamp:n,endTimestamp:r};$n({category:\"fetch\",data:i,type:\"http\",level:ar(i.status_code)},o)}}}(e)),t.history&&Ur(function(e){return function(t){if(xt()!==e)return;let n=t.from,r=t.to;const i=er(vr.location.href);let o=n?er(n):void 0;const s=er(r);o&&o.path||(o=i),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),$n({category:\"navigation\",data:{from:n,to:r}})}}(e)),t.sentry&&e.on(\"beforeSendEvent\",function(e){return function(t){xt()===e&&$n({category:\"sentry.\"+(\"transaction\"===t.type?\"transaction\":\"event\"),event_id:t.event_id,level:t.level,message:at(t)},{event:t})}}(e))}}};const ri=[\"EventTarget\",\"Window\",\"Node\",\"ApplicationCache\",\"AudioTrackList\",\"BroadcastChannel\",\"ChannelMergerNode\",\"CryptoOperation\",\"EventSource\",\"FileReader\",\"HTMLUnknownElement\",\"IDBDatabase\",\"IDBRequest\",\"IDBTransaction\",\"KeyOperation\",\"MediaController\",\"MessagePort\",\"ModalWindow\",\"Notification\",\"SVGElementInstance\",\"Screen\",\"SharedWorker\",\"TextTrack\",\"TextTrackCue\",\"TextTrackList\",\"WebSocket\",\"WebSocketWorker\",\"Worker\",\"XMLHttpRequest\",\"XMLHttpRequestEventTarget\",\"XMLHttpRequestUpload\"],ii=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:\"BrowserApiErrors\",setupOnce(){t.setTimeout&&Ge(vr,\"setTimeout\",oi),t.setInterval&&Ge(vr,\"setInterval\",oi),t.requestAnimationFrame&&Ge(vr,\"requestAnimationFrame\",si),t.XMLHttpRequest&&\"XMLHttpRequest\"in vr&&Ge(XMLHttpRequest.prototype,\"send\",ai);const e=t.eventTarget;if(e){(Array.isArray(e)?e:ri).forEach(ci)}}}};function oi(e){return function(...t){const n=t[0];return t[0]=yr(n,{mechanism:{data:{function:ve(e)},handled:!1,type:\"instrument\"}}),e.apply(this,t)}}function si(e){return function(t){return e.apply(this,[yr(t,{mechanism:{data:{function:\"requestAnimationFrame\",handler:ve(e)},handled:!1,type:\"instrument\"}})])}}function ai(e){return function(...t){const n=this;return[\"onload\",\"onerror\",\"onprogress\",\"onreadystatechange\"].forEach((e=>{e in n&&\"function\"==typeof n[e]&&Ge(n,e,(function(t){const n={mechanism:{data:{function:e,handler:ve(t)},handled:!1,type:\"instrument\"}},r=Ye(t);return r&&(n.mechanism.data.handler=ve(r)),yr(t,n)}))})),e.apply(this,t)}}function ci(e){const t=vr[e],n=t&&t.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty(\"addEventListener\")&&(Ge(n,\"addEventListener\",(function(t){return function(n,r,i){try{\"function\"==typeof r.handleEvent&&(r.handleEvent=yr(r.handleEvent,{mechanism:{data:{function:\"handleEvent\",handler:ve(r),target:e},handled:!1,type:\"instrument\"}}))}catch(e){}return t.apply(this,[n,yr(r,{mechanism:{data:{function:\"addEventListener\",handler:ve(r),target:e},handled:!1,type:\"instrument\"}}),i])}})),Ge(n,\"removeEventListener\",(function(e){return function(t,n,r){try{const i=n.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch(e){}return e.call(this,t,n,r)}})))}const li=()=>({name:\"BrowserSession\",setupOnce(){void 0!==vr.document?(Cn({ignoreDuration:!0}),On(),Ur((({from:e,to:t})=>{void 0!==e&&e!==t&&(Cn({ignoreDuration:!0}),On())}))):br&&le.warn(\"Using the `browserSessionIntegration` in non-browser environments is not supported.\")}}),ui=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:\"GlobalHandlers\",setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){!function(e){const t=\"error\";be(t,e),_e(t,ke)}((t=>{const{stackParser:n,attachStacktrace:r}=pi();if(xt()!==e||mr())return;const{msg:i,url:o,line:s,column:a,error:c}=t,l=function(e,t,n,r){const i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],l=r,u=n,d=xe(t)&&t.length>0?t:function(){try{return Ve.document.location.href}catch(e){return\"\"}}();0===c.length&&c.push({colno:l,filename:d,function:ue,in_app:!0,lineno:u});return e}(Or(n,c||i,void 0,r,!1),o,s,a);l.level=\"error\",Mn(l,{originalException:c,mechanism:{handled:!1,type:\"onerror\"}})}))}(e),di(\"onerror\")),t.onunhandledrejection&&(!function(e){!function(e){const t=\"unhandledrejection\";be(t,e),_e(t,Ce)}((t=>{const{stackParser:n,attachStacktrace:r}=pi();if(xt()!==e||mr())return;const i=function(e){if(De(e))return e;try{if(\"reason\"in e)return e.reason;if(\"detail\"in e&&\"reason\"in e.detail)return e.detail.reason}catch(e){}return e}(t),o=De(i)?{exception:{values:[{type:\"UnhandledRejection\",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:Or(n,i,void 0,r,!0);o.level=\"error\",Mn(o,{originalException:i,mechanism:{handled:!1,type:\"onunhandledrejection\"}})}))}(e),di(\"onunhandledrejection\"))}}};function di(e){br&&le.log(`Global Handler attached: ${e}`)}function pi(){const e=xt();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const hi=()=>({name:\"HttpContext\",preprocessEvent(e){if(!vr.navigator&&!vr.location&&!vr.document)return;const t=e.request&&e.request.url||vr.location&&vr.location.href,{referrer:n}=vr.document||{},{userAgent:r}=vr.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{\"User-Agent\":r}},o={...e.request,...t&&{url:t},headers:i};e.request=o}}),fi=(e={})=>{const t=e.limit||5,n=e.key||\"cause\";return{name:\"LinkedErrors\",preprocessEvent(e,r,i){const o=i.getOptions();Kn(_r,o.stackParser,o.maxValueLength,n,t,e,r)}}};var vi=\"new\",gi=\"loading\",mi=\"loaded\",yi=\"joining-meeting\",bi=\"joined-meeting\",_i=\"left-meeting\",wi=\"error\",Si=\"blocked\",ki=\"off\",Mi=\"sendable\",Ci=\"loading\",Ei=\"interrupted\",Ti=\"playable\",Oi=\"unknown\",Pi=\"full\",Ai=\"lobby\",ji=\"none\",Ii=\"base\",xi=\"*\",Li=\"ejected\",Di=\"nbf-room\",Ni=\"nbf-token\",Ri=\"exp-room\",Fi=\"exp-token\",Bi=\"no-room\",Ui=\"meeting-full\",Vi=\"end-of-life\",Ji=\"not-allowed\",$i=\"connection-error\",qi=\"cam-in-use\",zi=\"mic-in-use\",Wi=\"cam-mic-in-use\",Hi=\"permissions\",Gi=\"undefined-mediadevices\",Qi=\"not-found\",Ki=\"constraints\",Yi=\"unknown\",Xi=\"iframe-ready-for-launch-config\",Zi=\"iframe-launch-config\",eo=\"theme-updated\",to=\"loading\",no=\"load-attempt-failed\",ro=\"loaded\",io=\"started-camera\",oo=\"camera-error\",so=\"joining-meeting\",ao=\"joined-meeting\",co=\"left-meeting\",lo=\"participant-joined\",uo=\"participant-updated\",po=\"participant-left\",ho=\"participant-counts-updated\",fo=\"access-state-updated\",vo=\"meeting-session-summary-updated\",go=\"meeting-session-state-updated\",mo=\"meeting-session-data-error\",yo=\"waiting-participant-added\",bo=\"waiting-participant-updated\",_o=\"waiting-participant-removed\",wo=\"track-started\",So=\"track-stopped\",ko=\"transcription-started\",Mo=\"transcription-stopped\",Co=\"transcription-error\",Eo=\"recording-started\",To=\"recording-stopped\",Oo=\"recording-stats\",Po=\"recording-error\",Ao=\"recording-upload-completed\",jo=\"recording-data\",Io=\"app-message\",xo=\"transcription-message\",Lo=\"remote-media-player-started\",Do=\"remote-media-player-updated\",No=\"remote-media-player-stopped\",Ro=\"local-screen-share-started\",Fo=\"local-screen-share-stopped\",Bo=\"local-screen-share-canceled\",Uo=\"active-speaker-change\",Vo=\"active-speaker-mode-change\",Jo=\"network-quality-change\",$o=\"network-connection\",qo=\"cpu-load-change\",zo=\"face-counts-updated\",Wo=\"fullscreen\",Ho=\"exited-fullscreen\",Go=\"live-streaming-started\",Qo=\"live-streaming-updated\",Ko=\"live-streaming-stopped\",Yo=\"live-streaming-error\",Xo=\"lang-updated\",Zo=\"receive-settings-updated\",es=\"input-settings-updated\",ts=\"nonfatal-error\",ns=\"error\",rs=4096,is=102400,os=\"iframe-call-message\",ss=\"local-screen-start\",as=\"daily-method-update-live-streaming-endpoints\",cs=\"transmit-log\",ls=\"daily-custom-track\",us={NONE:\"none\",BGBLUR:\"background-blur\",BGIMAGE:\"background-image\",FACE_DETECTION:\"face-detection\"},ds={NONE:\"none\",NOISE_CANCELLATION:\"noise-cancellation\"},ps={PLAY:\"play\",PAUSE:\"pause\"},hs=[\"jpg\",\"png\",\"jpeg\"],fs=\"add-endpoints\",vs=\"remove-endpoints\",gs=\"sip-call-transfer\";function ms(){return!ys()&&\"undefined\"!=typeof window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:\"\"}function ys(){return\"undefined\"!=typeof navigator&&navigator.product&&\"ReactNative\"===navigator.product}function bs(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function _s(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case\"Chrome\":return t.major>=75;case\"Safari\":return RTCRtpTransceiver.prototype.hasOwnProperty(\"currentDirection\")&&!(13===t.major&&0===t.minor&&0===t.point);case\"Firefox\":return t.major>=67}return!0}(Os(),Ps())||ys())}function ws(){if(ys())return!1;if(!document)return!1;var e=document.createElement(\"iframe\");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var Ss=function(){try{var e=document.createElement(\"canvas\"),t=null!=(navigator.webdriver?e.getContext(\"webgl2\"):e.getContext(\"webgl2\",{failIfMajorPerformanceCaveat:!0}));return e.remove(),t}catch(e){return!1}}();function ks(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!ys()&&(!!Ss&&(e?function(){if(Ts())return!1;return[\"Chrome\",\"Firefox\"].includes(Os())}():function(){if(Ts())return!1;var e=Os();if(\"Safari\"===e){var t=xs();if(t.major<15||15===t.major&&t.minor<4)return!1}if(\"Chrome\"===e){return As().major>=77}if(\"Firefox\"===e){return Ls().major>=97}return[\"Chrome\",\"Firefox\",\"Safari\"].includes(e)}()))}function Ms(){if(ys())return!1;if(Es())return!1;if(\"undefined\"==typeof AudioWorkletNode)return!1;switch(Os()){case\"Chrome\":case\"Firefox\":return!0;case\"Safari\":var e=Ps();return e.major>17||17===e.major&&e.minor>=4}return!1}function Cs(){return bs()&&!function(){var e,t=Os();if(!ms())return!0;switch(t){case\"Chrome\":return(e=As()).major&&e.major>0&&e.major<75;case\"Firefox\":return(e=Ls()).major<91;case\"Safari\":return(e=xs()).major<13||13===e.major&&e.minor<1;default:return!0}}()}function Es(){return ms().match(/Linux; Android/)}function Ts(){var e,t=ms(),n=t.match(/Mac/)&&(!ys()&&\"undefined\"!=typeof window&&null!==(e=window)&&void 0!==e&&null!==(e=e.navigator)&&void 0!==e&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||n)||(!!ms().match(/DailyAnd\\//)||void 0)}function Os(){if(\"undefined\"!=typeof window){var e=ms();return js()?\"Safari\":e.indexOf(\"Edge\")>-1?\"Edge\":e.match(/Chrome\\//)?\"Chrome\":e.indexOf(\"Safari\")>-1||Is()?\"Safari\":e.indexOf(\"Firefox\")>-1?\"Firefox\":e.indexOf(\"MSIE\")>-1||e.indexOf(\".NET\")>-1?\"IE\":\"Unknown Browser\"}}function Ps(){switch(Os()){case\"Chrome\":return As();case\"Safari\":return xs();case\"Firefox\":return Ls();case\"Edge\":return function(){var e=0,t=0;if(\"undefined\"!=typeof window){var n=ms().match(/Edge\\/(\\d+).(\\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch(e){}}return{major:e,minor:t}}()}}function As(){var e=0,t=0,n=0,r=0,i=!1;if(\"undefined\"!=typeof window){var o=ms(),s=o.match(/Chrome\\/(\\d+).(\\d+).(\\d+).(\\d+)/);if(s)try{e=parseInt(s[1]),t=parseInt(s[2]),n=parseInt(s[3]),r=parseInt(s[4]),i=o.indexOf(\"OPR/\")>-1}catch(e){}}return{major:e,minor:t,build:n,patch:r,opera:i}}function js(){return!!ms().match(/iPad|iPhone|iPod/i)&&bs()}function Is(){return ms().indexOf(\"AppleWebKit/605.1.15\")>-1}function xs(){var e=0,t=0,n=0;if(\"undefined\"!=typeof window){var r=ms().match(/Version\\/(\\d+).(\\d+)(.(\\d+))?/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2]),n=parseInt(r[4])}catch(e){}else(js()||Is())&&(e=14,t=0,n=3)}return{major:e,minor:t,point:n}}function Ls(){var e=0,t=0;if(\"undefined\"!=typeof window){var n=ms().match(/Firefox\\/(\\d+).(\\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch(e){}}return{major:e,minor:t}}var Ds=function(){return o((function e(){t(this,e)}),[{key:\"addListenerForMessagesFromCallMachine\",value:function(e,t,n){Y()}},{key:\"addListenerForMessagesFromDailyJs\",value:function(e,t,n){Y()}},{key:\"sendMessageToCallMachine\",value:function(e,t,n,r){Y()}},{key:\"sendMessageToDailyJs\",value:function(e,t){Y()}},{key:\"removeListener\",value:function(e){Y()}}])}();function Ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ns(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ns(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Fs=function(){return!!e})()}var Bs=function(){function e(){var n,r,i,o;return t(this,e),r=this,i=a(i=e),(n=s(r,Fs()?Reflect.construct(i,o||[],a(r).constructor):i.apply(r,o)))._wrappedListeners={},n._messageCallbacks={},n}return l(e,Ds),o(e,[{key:\"addListenerForMessagesFromCallMachine\",value:function(e,t,n){var r=this,i=function(i){if(i.data&&\"iframe-call-message\"===i.data.what&&(!i.data.callClientId||i.data.callClientId===t)&&(!i.data.from||\"module\"!==i.data.from)){var o=Rs({},i.data);if(delete o.from,o.callbackStamp&&r._messageCallbacks[o.callbackStamp]){var s=o.callbackStamp;r._messageCallbacks[s].call(n,o),delete r._messageCallbacks[s]}delete o.what,delete o.callbackStamp,e.call(n,o)}};this._wrappedListeners[e]=i,window.addEventListener(\"message\",i)}},{key:\"addListenerForMessagesFromDailyJs\",value:function(e,t,n){var r=function(r){var i;if(!(!r.data||r.data.what!==os||!r.data.action||r.data.from&&\"module\"!==r.data.from||r.data.callClientId&&t&&r.data.callClientId!==t||null!=r&&null!==(i=r.data)&&void 0!==i&&i.callFrameId)){var o=r.data;e.call(n,o)}};this._wrappedListeners[e]=r,window.addEventListener(\"message\",r)}},{key:\"sendMessageToCallMachine\",value:function(e,t,n,r){if(!n)throw new Error(\"undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?\");var i=Rs({},e);if(i.what=os,i.from=\"module\",i.callClientId=n,t){var o=K();this._messageCallbacks[o]=t,i.callbackStamp=o}var s=r?r.contentWindow:window,a=this._callMachineTargetOrigin(r);a&&s.postMessage(i,a)}},{key:\"sendMessageToDailyJs\",value:function(e,t){e.what=os,e.callClientId=t,e.from=\"embedded\",window.postMessage(e,this._targetOriginFromWindowLocation())}},{key:\"removeListener\",value:function(e){var t=this._wrappedListeners[e];t&&(window.removeEventListener(\"message\",t),delete this._wrappedListeners[e])}},{key:\"forwardPackagedMessageToCallMachine\",value:function(e,t,n){var r=Rs({},e);r.callClientId=n;var i=t?t.contentWindow:window,o=this._callMachineTargetOrigin(t);o&&i.postMessage(r,o)}},{key:\"addListenerForPackagedMessagesFromCallMachine\",value:function(e,t){var n=function(n){if(n.data&&\"iframe-call-message\"===n.data.what&&(!n.data.callClientId||n.data.callClientId===t)&&(!n.data.from||\"module\"!==n.data.from)){var r=n.data;e(r)}};return this._wrappedListeners[e]=n,window.addEventListener(\"message\",n),e}},{key:\"removeListenerForPackagedMessagesFromCallMachine\",value:function(e){var t=this._wrappedListeners[e];t&&(window.removeEventListener(\"message\",t),delete this._wrappedListeners[e])}},{key:\"_callMachineTargetOrigin\",value:function(e){return e?e.src?new URL(e.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:\"_targetOriginFromWindowLocation\",value:function(){return\"file:\"===window.location.protocol?\"*\":window.location.origin}}])}();function Us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Vs=function(){return!!e})()}var Js=function(){function e(){var n,r,i,o;return t(this,e),r=this,i=a(i=e),n=s(r,Vs()?Reflect.construct(i,o||[],a(r).constructor):i.apply(r,o)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new I.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new I.EventEmitter,n._wrappedListeners={},n._messageCallbacks={},n}return l(e,Ds),o(e,[{key:\"addListenerForMessagesFromCallMachine\",value:function(e,t,n){this._addListener(e,global.callMachineToDailyJsEmitter,t,n,\"received call machine message\")}},{key:\"addListenerForMessagesFromDailyJs\",value:function(e,t,n){this._addListener(e,global.dailyJsToCallMachineEmitter,t,n,\"received daily-js message\")}},{key:\"sendMessageToCallMachine\",value:function(e,t,n){this._sendMessage(e,global.dailyJsToCallMachineEmitter,n,t,\"sending message to call machine\")}},{key:\"sendMessageToDailyJs\",value:function(e,t){this._sendMessage(e,global.callMachineToDailyJsEmitter,t,null,\"sending message to daily-js\")}},{key:\"removeListener\",value:function(e){var t=this._wrappedListeners[e];t&&(global.callMachineToDailyJsEmitter.removeListener(\"message\",t),global.dailyJsToCallMachineEmitter.removeListener(\"message\",t),delete this._wrappedListeners[e])}},{key:\"_addListener\",value:function(e,t,n,r,i){var o=this,s=function(t){if(t.callClientId===n){if(t.callbackStamp&&o._messageCallbacks[t.callbackStamp]){var i=t.callbackStamp;o._messageCallbacks[i].call(r,t),delete o._messageCallbacks[i]}e.call(r,t)}};this._wrappedListeners[e]=s,t.addListener(\"message\",s)}},{key:\"_sendMessage\",value:function(e,t,n,r,i){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);if(o.callClientId=n,r){var s=K();this._messageCallbacks[s]=r,o.callbackStamp=s}t.emit(\"message\",o)}}])}(),$s=\"replace\",qs=\"shallow-merge\",zs=[$s,qs];var Ws=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.data,i=n.mergeStrategy,o=void 0===i?$s:i;t(this,e),e._validateMergeStrategy(o),e._validateData(r,o),this.mergeStrategy=o,this.data=r}return o(e,[{key:\"isNoOp\",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:\"isNoOpUpdate\",value:function(e,t){return 0===Object.keys(e).length&&t===qs}},{key:\"_validateMergeStrategy\",value:function(e){if(!zs.includes(e))throw Error(\"Unrecognized mergeStrategy provided. Options are: [\".concat(zs,\"]\"))}},{key:\"_validateData\",value:function(e,t){if(!function(e){if(null==e||\"object\"!==n(e))return!1;var t=Object.getPrototypeOf(e);return null==t||t===Object.prototype}(e))throw Error(\"Meeting session data must be a plain (map-like) object\");var r;try{if(r=JSON.stringify(e),t===$s){var i=JSON.parse(r);N(i,e)||console.warn(\"The meeting session data provided will be modified when serialized.\",i,e)}else if(t===qs)for(var o in e)if(Object.hasOwnProperty.call(e,o)&&void 0!==e[o]){var s=JSON.parse(JSON.stringify(e[o]));N(e[o],s)||console.warn(\"At least one key in the meeting session data provided will be modified when serialized.\",s,e[o])}}catch(e){throw Error(\"Meeting session data must be serializable to JSON: \".concat(e))}if(r.length>is)throw Error(\"Meeting session data is too large (\".concat(r.length,\" characters). Maximum size suppported is \").concat(is,\".\"))}}])}();function Hs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Hs=function(){return!!e})()}function Gs(e){var t=\"function\"==typeof Map?new Map:void 0;return Gs=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf(\"[native code]\")}catch(t){return\"function\"==typeof e}}(e))return e;if(\"function\"!=typeof e)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(Hs())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&c(i,n.prototype),i}(e,arguments,a(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)},Gs(e)}function Qs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Qs=function(){return!!e})()}function Ks(e){var t,n=null===(t=window._daily)||void 0===t?void 0:t.pendings;if(n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}var Ys=function(){return o((function e(n){t(this,e),this._currentLoad=null,this._callClientId=n}),[{key:\"load\",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new Xs(n,(function(){r(!1)}),(function(e,n){n||Ks(t._callClientId),i(e,n)})),this._currentLoad.start()}},{key:\"cancel\",value:function(){this._currentLoad&&this._currentLoad.cancel(),Ks(this._callClientId)}},{key:\"loaded\",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),Xs=function(){return o((function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;t(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=n,this._successCallback=r,this._failureCallback=i}),[{key:\"start\",value:function(){var e=this;if(!this._currentAttempt){var t=function(n){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(n,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout((function(){e._currentAttempt.cancelled||(e._currentAttempt=new ta(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())}),3e3))};this._currentAttempt=new ta(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:\"cancel\",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:\"cancelled\",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:\"succeeded\",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),Zs=function(){function e(){return t(this,e),n=this,i=arguments,r=a(r=e),s(n,Qs()?Reflect.construct(r,i||[],a(n).constructor):r.apply(n,i));var n,r,i}return l(e,Gs(Error)),o(e)}(),ea=2e4,ta=function(){return o((function e(n,r,i){t(this,e),this._loadAttemptImpl=ys()||!n.avoidEval?new na(n,r,i):new ra(n,r,i)}),[{key:\"start\",value:(e=p((function*(){return this._loadAttemptImpl.start()})),function(){return e.apply(this,arguments)})},{key:\"cancel\",value:function(){this._loadAttemptImpl.cancel()}},{key:\"cancelled\",get:function(){return this._loadAttemptImpl.cancelled}},{key:\"succeeded\",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),na=function(){return o((function e(n,r,i){t(this,e),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=\"undefined\"!=typeof iOSCallObjectBundleCache&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=n,this._successCallback=r,this._failureCallback=i}),[{key:\"start\",value:(i=p((function*(){var e=Z(this._dailyConfig);!(yield this._tryLoadFromIOSCache(e))&&this._loadFromNetwork(e)})),function(){return i.apply(this,arguments)})},{key:\"cancel\",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:\"_tryLoadFromIOSCache\",value:(r=p((function*(e){if(!this._iosCache)return!1;try{var t=yield this._iosCache.get(e);return!!this.cancelled||!!t&&(t.code?(Function('\"use strict\";'+t.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=t.refetchHeaders,!1))}catch(e){return!1}})),function(e){return r.apply(this,arguments)})},{key:\"_loadFromNetwork\",value:(n=p((function*(e){var t=this;this._networkTimeout=setTimeout((function(){t._networkTimedOut=!0,t._failureCallback({msg:\"Timed out (>\".concat(ea,\" ms) when loading call object bundle \").concat(e),type:\"timeout\"})}),ea);try{var n=this._refetchHeaders?{headers:this._refetchHeaders}:{},r=yield fetch(e,n);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new Zs;var i=yield this._getBundleCodeFromResponse(e,r);if(this.cancelled)throw new Zs;Function('\"use strict\";'+i)(),this._iosCache&&this._iosCache.set(e,i,r.headers),this.succeeded=!0,this._successCallback()}catch(t){if(clearTimeout(this._networkTimeout),t instanceof Zs||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:\"Failed to load call object bundle \".concat(e,\": \").concat(t),type:t.message})}})),function(e){return n.apply(this,arguments)})},{key:\"_getBundleCodeFromResponse\",value:(e=p((function*(e,t){if(t.ok)return yield t.text();if(this._iosCache&&304===t.status)return(yield this._iosCache.renew(e,t.headers)).code;throw new Error(\"Received \".concat(t.status,\" response\"))})),function(t,n){return e.apply(this,arguments)})}]);var e,n,r,i}(),ra=function(){return o((function e(n,r,i){t(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=n,this._successCallback=r,this._failureCallback=i,this._attemptId=K(),this._networkTimeout=null,this._scriptElement=null}),[{key:\"start\",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=Z(this._dailyConfig);\"object\"===(\"undefined\"==typeof document?\"undefined\":n(document))?this._startLoading(e):this._failureCallback({msg:\"Call object bundle must be loaded in a DOM/web context\",type:\"missing context\"})}},{key:\"cancel\",value:function(){this._stopLoading(),this.cancelled=!0}},{key:\"_startLoading\",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout((function(){t._stopLoading(),t._failureCallback({msg:\"Timed out (>\".concat(ea,\" ms) when loading call object bundle \").concat(e),type:\"timeout\"})}),ea);var n=document.getElementsByTagName(\"head\")[0],r=document.createElement(\"script\");this._scriptElement=r,r.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},r.onerror=function(e){t._stopLoading(),t._failureCallback({msg:\"Failed to load call object bundle \".concat(e.target.src),type:e.message})},r.src=e,n.appendChild(r)}},{key:\"_stopLoading\",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:\"_signUpForCallMachineLoadWaitlist\",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:\"_withdrawFromCallMachineLoadWaitlist\",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),ia=function(e,t,n){return!0===aa(e.local,t,n)},oa=function(e,t,n){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream[\"get\".concat(\"video\"===n?\"Video\":\"Audio\",\"Tracks\")]()[0]},sa=function(e,t,n,r){var i=ca(e,t,n,r);return i&&i.pendingTrack},aa=function(e,t,n){if(!e)return!1;var r=function(e){switch(e){case\"avatar\":return!0;case\"staged\":return e;default:return!!e}},i=e.public.subscribedTracks;return i&&i[t]?-1===[\"cam-audio\",\"cam-video\",\"screen-video\",\"screen-audio\",\"rmpAudio\",\"rmpVideo\"].indexOf(n)&&i[t].custom?[!0,\"staged\"].includes(i[t].custom)?r(i[t].custom):r(i[t].custom[n]):r(i[t][n]):!i||r(i.ALL)},ca=function(e,t,n,r){var i=Object.values(e.streams||{}).filter((function(e){return e.participantId===t&&e.type===n&&e.pendingTrack&&e.pendingTrack.kind===r})).sort((function(e,t){return new Date(t.starttime)-new Date(e.starttime)}));return i&&i[0]},la=function(e,t){var n=e.local.public.customTracks;if(n&&n[t])return n[t].track};function ua(e,t){for(var n=t.getState(),r=0,i=[\"cam\",\"screen\"];r<i.length;r++)for(var o=i[r],s=0,a=[\"video\",\"audio\"];s<a.length;s++){var c=a[s],l=\"cam\"===o?c:\"screen\".concat(c.charAt(0).toUpperCase()+c.slice(1)),u=e.tracks[l];if(u){var d=e.local?oa(n,o,c):sa(n,e.session_id,o,c);\"playable\"===u.state&&(u.track=d),u.persistentTrack=d}}}function da(e,t){try{var n=t.getState();for(var r in e.tracks)if(!pa(r)){var i=e.tracks[r].kind;if(i){var o=e.tracks[r];if(o){var s=e.local?la(n,r):sa(n,e.session_id,r,i);\"playable\"===o.state&&(e.tracks[r].track=s),o.persistentTrack=s}}else console.error(\"unknown type for custom track\")}}catch(e){console.error(e)}}function pa(e){return[\"video\",\"audio\",\"screenVideo\",\"screenAudio\"].includes(e)}function ha(e,t,n){var r=n.getState();if(e.local){if(e.audio)try{e.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch(e){}if(e.video)try{e.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch(e){}if(e.screen)try{e.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(e){}}else{var i=!0;try{var o=r.participants[e.session_id];o&&o.public&&o.public.rtcType&&\"peer-to-peer\"===o.public.rtcType.impl&&o.private&&![\"connected\",\"completed\"].includes(o.private.peeringState)&&(i=!1)}catch(e){console.error(e)}if(!i)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{r.streams;if(e.audio&&ia(r,e.session_id,\"cam-audio\")){var s=sa(r,e.session_id,\"cam\",\"audio\");s&&(t&&t.audioTrack&&t.audioTrack.id===s.id?e.audioTrack=s:s.muted||(e.audioTrack=s)),e.audioTrack||(e.audio=!1)}if(e.video&&ia(r,e.session_id,\"cam-video\")){var a=sa(r,e.session_id,\"cam\",\"video\");a&&(t&&t.videoTrack&&t.videoTrack.id===a.id?e.videoTrack=a:a.muted||(e.videoTrack=a)),e.videoTrack||(e.video=!1)}if(e.screen&&ia(r,e.session_id,\"screen-audio\")){var c=sa(r,e.session_id,\"screen\",\"audio\");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&ia(r,e.session_id,\"screen-video\")){var l=sa(r,e.session_id,\"screen\",\"video\");l&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===l.id?e.screenVideoTrack=l:l.muted||(e.screenVideoTrack=l))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(e){console.error(\"unexpected error matching up tracks\",e)}}}function fa(e,t){var n=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if(\"string\"==typeof e)return va(e,t);var n={}.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?va(e,t):void 0}}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function va(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ga=new Map,ma=null;function ya(e,t){var n=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if(\"string\"==typeof e)return ba(e,t);var n={}.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ba(e,t):void 0}}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _a=new Map,wa=null;function Sa(e){Ma()?function(e){ga.has(e)||(ga.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(t){ga.has(e)&&(ga.get(e).lastDevicesString=JSON.stringify(t),ma||(ma=function(){var e=p((function*(){var e,t=yield navigator.mediaDevices.enumerateDevices(),n=fa(ga.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value,i=JSON.stringify(t);i!==ga.get(r).lastDevicesString&&(ga.get(r).lastDevicesString=i,r(t))}}catch(e){n.e(e)}finally{n.f()}}));return function(){return e.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener(\"devicechange\",ma)))})).catch((function(){})))}(e):function(e){_a.has(e)||(_a.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(t){_a.has(e)&&(_a.get(e).lastDevicesString=JSON.stringify(t),wa||(wa=setInterval(p((function*(){var e,t=yield navigator.mediaDevices.enumerateDevices(),n=ya(_a.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value,i=JSON.stringify(t);i!==_a.get(r).lastDevicesString&&(_a.get(r).lastDevicesString=i,r(t))}}catch(e){n.e(e)}finally{n.f()}})),3e3)))})))}(e)}function ka(e){Ma()?function(e){ga.has(e)&&(ga.delete(e),0===ga.size&&ma&&(navigator.mediaDevices.removeEventListener(\"devicechange\",ma),ma=null))}(e):function(e){_a.has(e)&&(_a.delete(e),0===_a.size&&wa&&(clearInterval(wa),wa=null))}(e)}function Ma(){var e;return ys()||void 0!==(null===(e=navigator.mediaDevices)||void 0===e?void 0:e.ondevicechange)}var Ca=new Set;function Ea(e,t){var n=t.isLocalScreenVideo;return e&&\"live\"===e.readyState&&!function(e,t){return(!t.isLocalScreenVideo||\"Chrome\"!==Os())&&e.muted&&!Ca.has(e.id)}(e,{isLocalScreenVideo:n})}function Ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pa=Object.freeze({VIDEO:\"video\",AUDIO:\"audio\",SCREEN_VIDEO:\"screenVideo\",SCREEN_AUDIO:\"screenAudio\",CUSTOM_VIDEO:\"customVideo\",CUSTOM_AUDIO:\"customAudio\"}),Aa=Object.freeze({PARTICIPANTS:\"participants\",STREAMING:\"streaming\",TRANSCRIPTION:\"transcription\"}),ja=Object.values(Pa),Ia=[\"v\",\"a\",\"sv\",\"sa\",\"cv\",\"ca\"];Object.freeze(ja.reduce((function(e,t,n){return e[t]=Ia[n],e}),{})),Object.freeze(Ia.reduce((function(e,t,n){return e[t]=ja[n],e}),{}));var xa=[Pa.VIDEO,Pa.AUDIO,Pa.SCREEN_VIDEO,Pa.SCREEN_AUDIO],La=Object.values(Aa),Da=[\"p\",\"s\",\"t\"];Object.freeze(La.reduce((function(e,t,n){return e[t]=Da[n],e}),{})),Object.freeze(Da.reduce((function(e,t,n){return e[t]=La[n],e}),{}));var Na=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.base,i=n.byUserId,o=n.byParticipantId;t(this,e),this.base=r,this.byUserId=i,this.byParticipantId=o}return o(e,[{key:\"clone\",value:function(){var t=new e;if(this.base instanceof Ra?t.base=this.base.clone():t.base=this.base,void 0!==this.byUserId)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof Ra?r.clone():r}if(void 0!==this.byParticipantId)for(var i in t.byParticipantId={},this.byParticipantId){var o=this.byParticipantId[i];t.byParticipantId[i]=o instanceof Ra?o.clone():o}return t}},{key:\"toJSONObject\",value:function(){var e={};if(\"boolean\"==typeof this.base?e.base=this.base:this.base instanceof Ra&&(e.base=this.base.toJSONObject()),void 0!==this.byUserId)for(var t in e.byUserId={},this.byUserId){var n=this.byUserId[t];e.byUserId[t]=n instanceof Ra?n.toJSONObject():n}if(void 0!==this.byParticipantId)for(var r in e.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[r];e.byParticipantId[r]=i instanceof Ra?i.toJSONObject():i}return e}},{key:\"toMinifiedJSONObject\",value:function(){var e={};if(void 0!==this.base&&(\"boolean\"==typeof this.base?e.b=this.base:e.b=this.base.toMinifiedJSONObject()),void 0!==this.byUserId)for(var t in e.u={},this.byUserId){var n=this.byUserId[t];e.u[t]=\"boolean\"==typeof n?n:n.toMinifiedJSONObject()}if(void 0!==this.byParticipantId)for(var r in e.p={},this.byParticipantId){var i=this.byParticipantId[r];e.p[r]=\"boolean\"==typeof i?i:i.toMinifiedJSONObject()}return e}},{key:\"normalize\",value:function(){return this.base instanceof Ra&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map((function(e){var t=f(e,2),n=t[0],r=t[1];return[n,r instanceof Ra?r.normalize():r]})))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map((function(e){var t=f(e,2),n=t[0],r=t[1];return[n,r instanceof Ra?r.normalize():r]})))),this}}],[{key:\"fromJSONObject\",value:function(t){var n,r,i;if(void 0!==t.base&&(n=\"boolean\"==typeof t.base?t.base:Ra.fromJSONObject(t.base)),void 0!==t.byUserId)for(var o in r={},t.byUserId){var s=t.byUserId[o];r[o]=\"boolean\"==typeof s?s:Ra.fromJSONObject(s)}if(void 0!==t.byParticipantId)for(var a in i={},t.byParticipantId){var c=t.byParticipantId[a];i[a]=\"boolean\"==typeof c?c:Ra.fromJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:i})}},{key:\"fromMinifiedJSONObject\",value:function(t){var n,r,i;if(void 0!==t.b&&(n=\"boolean\"==typeof t.b?t.b:Ra.fromMinifiedJSONObject(t.b)),void 0!==t.u)for(var o in r={},t.u){var s=t.u[o];r[o]=\"boolean\"==typeof s?s:Ra.fromMinifiedJSONObject(s)}if(void 0!==t.p)for(var a in i={},t.p){var c=t.p[a];i[a]=\"boolean\"==typeof c?c:Ra.fromMinifiedJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:i})}},{key:\"validateJSONObject\",value:function(e){if(\"object\"!==n(e))return[!1,\"canReceive must be an object\"];for(var t=[\"base\",\"byUserId\",\"byParticipantId\"],r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];if(!t.includes(o))return[!1,\"canReceive can only contain keys (\".concat(t.join(\", \"),\")\")];if(\"base\"===o){var s=f(Ra.validateJSONObject(e.base,!0),2),a=s[0],c=s[1];if(!a)return[!1,c]}else{if(\"object\"!==n(e[o]))return[!1,\"invalid (non-object) value for field '\".concat(o,\"' in canReceive\")];for(var l=0,u=Object.values(e[o]);l<u.length;l++){var d=u[l],p=f(Ra.validateJSONObject(d),2),h=p[0],v=p[1];if(!h)return[!1,v]}}}return[!0]}}])}(),Ra=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.video,i=n.audio,o=n.screenVideo,s=n.screenAudio,a=n.customVideo,c=n.customAudio;t(this,e),this.video=r,this.audio=i,this.screenVideo=o,this.screenAudio=s,this.customVideo=a,this.customAudio=c}return o(e,[{key:\"clone\",value:function(){var t=new e;return void 0!==this.video&&(t.video=this.video),void 0!==this.audio&&(t.audio=this.audio),void 0!==this.screenVideo&&(t.screenVideo=this.screenVideo),void 0!==this.screenAudio&&(t.screenAudio=this.screenAudio),void 0!==this.customVideo&&(t.customVideo=Oa({},this.customVideo)),void 0!==this.customAudio&&(t.customAudio=Oa({},this.customAudio)),t}},{key:\"toJSONObject\",value:function(){var e={};return void 0!==this.video&&(e.video=this.video),void 0!==this.audio&&(e.audio=this.audio),void 0!==this.screenVideo&&(e.screenVideo=this.screenVideo),void 0!==this.screenAudio&&(e.screenAudio=this.screenAudio),void 0!==this.customVideo&&(e.customVideo=Oa({},this.customVideo)),void 0!==this.customAudio&&(e.customAudio=Oa({},this.customAudio)),e}},{key:\"toMinifiedJSONObject\",value:function(){var e={};return void 0!==this.video&&(e.v=this.video),void 0!==this.audio&&(e.a=this.audio),void 0!==this.screenVideo&&(e.sv=this.screenVideo),void 0!==this.screenAudio&&(e.sa=this.screenAudio),void 0!==this.customVideo&&(e.cv=Oa({},this.customVideo)),void 0!==this.customAudio&&(e.ca=Oa({},this.customAudio)),e}},{key:\"normalize\",value:function(){function e(e,t){return e&&1===Object.keys(e).length&&e[\"*\"]===t}return!(!0!==this.video||!0!==this.audio||!0!==this.screenVideo||!0!==this.screenAudio||!e(this.customVideo,!0)||!e(this.customAudio,!0))||(!1!==this.video||!1!==this.audio||!1!==this.screenVideo||!1!==this.screenAudio||!e(this.customVideo,!1)||!e(this.customAudio,!1))&&this}}],[{key:\"fromBoolean\",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{\"*\":t},customAudio:{\"*\":t}})}},{key:\"fromJSONObject\",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:void 0!==t.customVideo?Oa({},t.customVideo):void 0,customAudio:void 0!==t.customAudio?Oa({},t.customAudio):void 0})}},{key:\"fromMinifiedJSONObject\",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:\"validateJSONObject\",value:function(e,t){if(\"boolean\"==typeof e)return[!0];if(\"object\"!==n(e))return[!1,\"invalid (non-object, non-boolean) value in canReceive\"];for(var r=Object.keys(e),i=0,o=r;i<o.length;i++){var s=o[i];if(!ja.includes(s))return[!1,\"invalid media type '\".concat(s,\"' in canReceive\")];if(xa.includes(s)){if(\"boolean\"!=typeof e[s])return[!1,\"invalid (non-boolean) value for media type '\".concat(s,\"' in canReceive\")]}else{if(\"object\"!==n(e[s]))return[!1,\"invalid (non-object) value for media type '\".concat(s,\"' in canReceive\")];for(var a=0,c=Object.values(e[s]);a<c.length;a++){if(\"boolean\"!=typeof c[a])return[!1,\"invalid (non-boolean) value for entry within '\".concat(s,\"' in canReceive\")]}if(t&&void 0===e[s][\"*\"])return[!1,'canReceive \"base\" permission must specify \"*\" as an entry within \\''.concat(s,\"'\")]}}return t&&r.length!==ja.length?[!1,'canReceive \"base\" permission must specify all media types: '.concat(ja.join(\", \"),\" (or be set to a boolean shorthand)\")]:[!0]}}])}(),Fa=[\"result\"],Ba=[\"preserveIframe\"];function Ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ja(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ja=function(){return!!e})()}function $a(e,t){var n=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if(\"string\"==typeof e)return qa(e,t);var n={}.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qa(e,t):void 0}}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var za={};var Wa=\"video\",Ha=\"voice\",Ga=ys()?{data:{}}:{data:{},topology:\"none\"},Qa={present:0,hidden:0},Ka={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},Ya=Object.keys(Ka),Xa=[\"state\",\"volume\",\"simulcastEncodings\"],Za={androidInCallNotification:{title:\"string\",subtitle:\"string\",iconName:\"string\",disableForCustomOverride:\"boolean\"},disableAutoDeviceManagement:{audio:\"boolean\",video:\"boolean\"}},ec={id:{iconPath:\"string\",iconPathDarkMode:\"string\",label:\"string\",tooltip:\"string\",visualState:\"'default' | 'sidebar-open' | 'active'\"}},tc={id:{allow:\"string\",controlledBy:\"'*' | 'owners' | string[]\",csp:\"string\",iconURL:\"string\",label:\"string\",loading:\"'eager' | 'lazy'\",location:\"'main' | 'sidebar'\",name:\"string\",referrerPolicy:\"string\",sandbox:\"string\",src:\"string\",srcdoc:\"string\",shared:\"string[] | 'owners' | boolean\"}},nc={customIntegrations:{validate:Ec,help:Mc()},customTrayButtons:{validate:Cc,help:\"customTrayButtons should be a dictionary of the type \".concat(JSON.stringify(ec))},url:{validate:function(e){return\"string\"==typeof e},help:\"url should be a string\"},baseUrl:{validate:function(e){return\"string\"==typeof e},help:\"baseUrl should be a string\"},token:{validate:function(e){return\"string\"==typeof e},help:\"token should be a string\",queryString:\"t\"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(e){console.error(\"Failed to validate dailyConfig\",e)}return!1},help:\"Unsupported dailyConfig. Check error logs for detailed info.\"},reactNativeConfig:{validate:function(e){return Tc(e,Za)},help:\"reactNativeConfig should look like \".concat(JSON.stringify(Za),\", all fields optional\")},lang:{validate:function(e){return[\"da\",\"de\",\"en-us\",\"en\",\"es\",\"fi\",\"fr\",\"it\",\"jp\",\"ka\",\"nl\",\"no\",\"pl\",\"pt\",\"pt-BR\",\"ru\",\"sv\",\"tr\",\"user\"].includes(e)},help:\"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user\"},userName:!0,userData:{validate:function(e){try{return vc(e),!0}catch(e){return console.error(e),!1}},help:\"invalid userData type provided\"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(\"boolean\"==typeof e)return t._preloadCache.allowLocalVideo=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,n={customTrack:ls};else{if(delete t._sharedTracks.videoTrack,\"string\"!=typeof e)return console.error(\"videoSource must be a MediaStreamTrack, boolean, or a string\"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(e,t){if(\"boolean\"==typeof e)return t._preloadCache.allowLocalAudio=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,n={customTrack:ls};else{if(delete t._sharedTracks.audioTrack,\"string\"!=typeof e)return console.error(\"audioSource must be a MediaStreamTrack, boolean, or a string\"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=[\"accent\",\"accentText\",\"background\",\"backgroundAccent\",\"baseText\",\"border\",\"mainAreaBg\",\"mainAreaBgAccent\",\"mainAreaText\",\"supportiveText\"],r=function(e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!t.includes(i))return console.error('unsupported color \"'.concat(i,'\". Valid colors: ').concat(t.join(\", \"))),!1;if(!e[i].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error(\"\".concat(i,' theme color should be provided in valid hex color format. Received: \"').concat(e[i],'\"')),!1}return!0};return\"object\"===n(e)&&(\"light\"in e&&\"dark\"in e||\"colors\"in e)?\"light\"in e&&\"dark\"in e?\"colors\"in e.light?\"colors\"in e.dark?r(e.light.colors)&&r(e.dark.colors):(console.error('Dark theme is missing \"colors\" property.',e),!1):(console.error('Light theme is missing \"colors\" property.',e),!1):r(e.colors):(console.error('Theme must contain either both \"light\" and \"dark\" properties, or \"colors\".',e),!1)},help:\"unsupported theme configuration. Check error logs for detailed info.\"},layoutConfig:{validate:function(e){if(\"grid\"in e){var t=e.grid;if(\"maxTilesPerPage\"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error(\"grid.maxTilesPerPage should be an integer. You passed \".concat(t.maxTilesPerPage,\".\")),!1;if(t.maxTilesPerPage>49)return console.error(\"grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case.\"),!1}if(\"minTilesPerPage\"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error(\"grid.minTilesPerPage should be an integer. You passed \".concat(t.minTilesPerPage,\".\")),!1;if(t.minTilesPerPage<1)return console.error(\"grid.minTilesPerPage can't be lower than 1.\"),!1;if(\"maxTilesPerPage\"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error(\"grid.minTilesPerPage can't be higher than grid.maxTilesPerPage.\"),!1}}return!0},help:\"unsupported layoutConfig. Check error logs for detailed info.\"},receiveSettings:{validate:function(e){return gc(e,{allowAllParticipantsKey:!1})},help:kc({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(e,t){try{return t.validateUpdateSendSettings(e),!0}catch(e){return console.error(\"Failed to validate send settings\",e),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:\"Invalid sendSettings provided. Check error logs for detailed info.\"},inputSettings:{validate:function(e,t){var n;return!!mc(e)&&(t._inputSettings||(t._inputSettings={}),yc(e,null===(n=t.properties)||void 0===n?void 0:n.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:Sc()},layout:{validate:function(e){return\"custom-v1\"===e||\"browser\"===e||\"none\"===e},help:'layout may only be set to \"custom-v1\"',queryString:\"layout\"},emb:{queryString:\"emb\"},embHref:{queryString:\"embHref\"},dailyJsVersion:{queryString:\"dailyJsVersion\"},proxy:{queryString:\"proxy\"},strictMode:!0,allowMultipleCallInstances:!0},rc={styles:{validate:function(e){for(var t in e)if(\"cam\"!==t&&\"screen\"!==t)return!1;if(e.cam)for(var n in e.cam)if(\"div\"!==n&&\"video\"!==n)return!1;if(e.screen)for(var r in e.screen)if(\"div\"!==r&&\"video\"!==r)return!1;return!0},help:\"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }\"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,\"staged\"];if(n.includes(e)||!ys()&&\"avatar\"===e)return!0;var r=[\"audio\",\"video\",\"screenAudio\",\"screenVideo\",\"rmpAudio\",\"rmpVideo\"],i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var o in e)if(\"custom\"===o){if(!n.includes(e[o])&&!i(e[o],!0))return!1}else{var s=!t&&!r.includes(o),a=!n.includes(e[o]);if(s||a)return!1}return!0};return i(e)},help:\"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: \"+\"true\".concat(ys()?\"\":\" | 'avatar'\",\" | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }\")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return!1===e},help:\"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares\"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=f(n[t],2),i=r[0],o=r[1];switch(i){case\"hasPresence\":if(\"boolean\"!=typeof o)return!1;break;case\"canSend\":if(o instanceof Set||o instanceof Array||Array.isArray(o)){var s,a=[\"video\",\"audio\",\"screenVideo\",\"screenAudio\",\"customVideo\",\"customAudio\"],c=$a(o);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(!a.includes(l))return!1}}catch(e){c.e(e)}finally{c.f()}}else if(\"boolean\"!=typeof o)return!1;(o instanceof Array||Array.isArray(o))&&(e.canSend=new Set(o));break;case\"canReceive\":var u=f(Na.validateJSONObject(o),2),d=u[0],p=u[1];if(!d)return console.error(p),!1;break;case\"canAdmin\":if(o instanceof Set||o instanceof Array||Array.isArray(o)){var h,v=[\"participants\",\"streaming\",\"transcription\"],g=$a(o);try{for(g.s();!(h=g.n()).done;){var m=h.value;if(!v.includes(m))return!1}}catch(e){g.e(e)}finally{g.f()}}else if(\"boolean\"!=typeof o)return!1;(o instanceof Array||Array.isArray(o))&&(e.canAdmin=new Set(o));break;default:return!1}}return!0},help:\"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription).\"}};Promise.any||(Promise.any=function(){var e=p((function*(e){return new Promise((function(t,n){var r=[];e.forEach((function(i){return Promise.resolve(i).then((function(e){t(e)})).catch((function(t){r.push(t),r.length===e.length&&n(r)}))}))}))}));return function(t){return e.apply(this,arguments)}}());var ic=function(){function r(e){var n,i,o,c,l,d,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,r),o=this,c=a(c=r),u(i=s(o,Ja()?Reflect.construct(c,l||[],a(o).constructor):c.apply(o,l)),\"startListeningForDeviceChanges\",(function(){Sa(i.handleDeviceChange)})),u(i,\"stopListeningForDeviceChanges\",(function(){ka(i.handleDeviceChange)})),u(i,\"handleDeviceChange\",(function(e){e=e.map((function(e){return JSON.parse(JSON.stringify(e))})),i.emitDailyJSEvent({action:\"available-devices-updated\",availableDevices:e})})),u(i,\"handleNativeAppStateChange\",function(){var e=p((function*(e){if(\"destroyed\"===e)return console.warn(\"App has been destroyed before leaving the meeting. Cleaning up all the resources!\"),void(yield i.destroy());var t=\"active\"===e;i.disableReactNativeAutoDeviceManagement(\"video\")||(t?i.camUnmutedBeforeLosingNativeActiveState&&i.setLocalVideo(!0):(i.camUnmutedBeforeLosingNativeActiveState=i.localVideo(),i.camUnmutedBeforeLosingNativeActiveState&&i.setLocalVideo(!1)))}));return function(t){return e.apply(this,arguments)}}()),u(i,\"handleNativeAudioFocusChange\",(function(e){i.disableReactNativeAutoDeviceManagement(\"audio\")||(i._hasNativeAudioFocus=e,i.toggleParticipantAudioBasedOnNativeAudioFocus(),i._hasNativeAudioFocus?i.micUnmutedBeforeLosingNativeAudioFocus&&i.setLocalAudio(!0):(i.micUnmutedBeforeLosingNativeAudioFocus=i.localAudio(),i.setLocalAudio(!1)))})),u(i,\"handleNativeSystemScreenCaptureStop\",(function(){i.stopScreenShare()})),i.strictMode=void 0===h.strictMode||h.strictMode,i.allowMultipleCallInstances=null!==(n=h.allowMultipleCallInstances)&&void 0!==n&&n,Object.keys(za).length&&(i._logDuplicateInstanceAttempt(),!i.allowMultipleCallInstances)){if(i.strictMode)throw new Error(\"Duplicate DailyIframe instances are not allowed\");console.warn(\"Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`\")}if(window._daily||(window._daily={pendings:[],instances:{}}),i.callClientId=K(),za[(d=i).callClientId]=d,window._daily.instances[i.callClientId]={},i._sharedTracks={},window._daily.instances[i.callClientId].tracks=i._sharedTracks,h.dailyJsVersion=r.version(),i._iframe=e,i._callObjectMode=\"none\"===h.layout&&!i._iframe,i._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},void 0!==h.showLocalVideo?i._callObjectMode?console.error(\"showLocalVideo is not available in call object mode\"):i._showLocalVideo=!!h.showLocalVideo:i._showLocalVideo=!0,void 0!==h.showParticipantsBar?i._callObjectMode?console.error(\"showParticipantsBar is not available in call object mode\"):i._showParticipantsBar=!!h.showParticipantsBar:i._showParticipantsBar=!0,void 0!==h.customIntegrations?i._callObjectMode?console.error(\"customIntegrations is not available in call object mode\"):i._customIntegrations=h.customIntegrations:i._customIntegrations={},void 0!==h.customTrayButtons?i._callObjectMode?console.error(\"customTrayButtons is not available in call object mode\"):i._customTrayButtons=h.customTrayButtons:i._customTrayButtons={},void 0!==h.activeSpeakerMode?i._callObjectMode?console.error(\"activeSpeakerMode is not available in call object mode\"):i._activeSpeakerMode=!!h.activeSpeakerMode:i._activeSpeakerMode=!1,h.receiveSettings?i._callObjectMode?i._receiveSettings=h.receiveSettings:console.error(\"receiveSettings is only available in call object mode\"):i._receiveSettings={},i.validateProperties(h),i.properties=Va({},h),i._inputSettings||(i._inputSettings={}),i._callObjectLoader=i._callObjectMode?new Ys(i.callClientId):null,i._callState=vi,i._isPreparingToJoin=!1,i._accessState={access:Oi},i._meetingSessionSummary={},i._finalSummaryOfPrevSession={},i._meetingSessionState=jc(Ga,i._callObjectMode),i._nativeInCallAudioMode=Wa,i._participants={},i._isScreenSharing=!1,i._participantCounts=Qa,i._rmpPlayerState={},i._waitingParticipants={},i._network={threshold:\"good\",quality:100,networkState:\"unknown\",stats:{}},i._activeSpeaker={},i._localAudioLevel=0,i._isLocalAudioLevelObserverRunning=!1,i._remoteParticipantsAudioLevel={},i._isRemoteParticipantsAudioLevelObserverRunning=!1,i._maxAppMessageSize=rs,i._messageChannel=ys()?new Js:new Bs,i._iframe&&(i._iframe.requestFullscreen?i._iframe.addEventListener(\"fullscreenchange\",(function(){document.fullscreenElement===i._iframe?(i.emitDailyJSEvent({action:Wo}),i.sendMessageToCallMachine({action:Wo})):(i.emitDailyJSEvent({action:Ho}),i.sendMessageToCallMachine({action:Ho}))})):i._iframe.webkitRequestFullscreen&&i._iframe.addEventListener(\"webkitfullscreenchange\",(function(){document.webkitFullscreenElement===i._iframe?(i.emitDailyJSEvent({action:Wo}),i.sendMessageToCallMachine({action:Wo})):(i.emitDailyJSEvent({action:Ho}),i.sendMessageToCallMachine({action:Ho}))}))),ys()){var f=i.nativeUtils();f.addAudioFocusChangeListener&&f.removeAudioFocusChangeListener&&f.addAppStateChangeListener&&f.removeAppStateChangeListener&&f.addSystemScreenCaptureStopListener&&f.removeSystemScreenCaptureStopListener||console.warn(\"expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native\"),i._hasNativeAudioFocus=!0,f.addAudioFocusChangeListener(i.handleNativeAudioFocusChange),f.addAppStateChangeListener(i.handleNativeAppStateChange),f.addSystemScreenCaptureStopListener(i.handleNativeSystemScreenCaptureStop)}return i._callObjectMode&&i.startListeningForDeviceChanges(),i._messageChannel.addListenerForMessagesFromCallMachine(i.handleMessageFromCallMachine,i.callClientId,i),i}return l(r,x),o(r,[{key:\"destroy\",value:(ee=p((function*(){var e;try{yield this.leave()}catch(e){}var t=this._iframe;if(t){var n=t.parentElement;n&&n.removeChild(t)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),ys()){var r=this.nativeUtils();r.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),r.removeAppStateChangeListener(this.handleNativeAppStateChange),r.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:\"call-instance-destroyed\"}),delete za[this.callClientId],(null===(e=window)||void 0===e||null===(e=e._daily)||void 0===e?void 0:e.instances)&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)})),function(){return ee.apply(this,arguments)})},{key:\"isDestroyed\",value:function(){return!!this._destroyed}},{key:\"loadCss\",value:function(e){var t=e.bodyClass,n=e.cssFile,r=e.cssText;return hc(),this.sendMessageToCallMachine({action:\"load-css\",cssFile:this.absoluteUrl(n),bodyClass:t,cssText:r}),this}},{key:\"iframe\",value:function(){return hc(),this._iframe}},{key:\"meetingState\",value:function(){return this._callState}},{key:\"accessState\",value:function(){return dc(this._callObjectMode,\"accessState()\"),this._accessState}},{key:\"participants\",value:function(){return this._participants}},{key:\"participantCounts\",value:function(){return this._participantCounts}},{key:\"waitingParticipants\",value:function(){return dc(this._callObjectMode,\"waitingParticipants()\"),this._waitingParticipants}},{key:\"validateParticipantProperties\",value:function(e,t){for(var n in t){if(!rc[n])throw new Error(\"unrecognized updateParticipant property \".concat(n));if(rc[n].validate&&!rc[n].validate(t[n],this,this._participants[e]))throw new Error(rc[n].help)}}},{key:\"updateParticipant\",value:function(e,t){return this._participants.local&&this._participants.local.session_id===e&&(e=\"local\"),e&&t&&(this.validateParticipantProperties(e,t),this.sendMessageToCallMachine({action:\"update-participant\",id:e,properties:t})),this}},{key:\"updateParticipants\",value:function(e){var t=this._participants.local&&this._participants.local.session_id;for(var n in e)n===t&&(n=\"local\"),n&&e[n]&&this.validateParticipantProperties(n,e[n]);return this.sendMessageToCallMachine({action:\"update-participants\",participants:e}),this}},{key:\"updateWaitingParticipant\",value:(Y=p((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(dc(this._callObjectMode,\"updateWaitingParticipant()\"),sc(this._callState,\"updateWaitingParticipant()\"),\"string\"!=typeof t||\"object\"!==n(r))throw new Error(\"updateWaitingParticipant() must take an id string and a updates object\");return new Promise((function(n,i){e.sendMessageToCallMachine({action:\"daily-method-update-waiting-participant\",id:t,updates:r},(function(e){e.error&&i(e.error),e.id||i(new Error(\"unknown error in updateWaitingParticipant()\")),n({id:e.id})}))}))})),function(){return Y.apply(this,arguments)})},{key:\"updateWaitingParticipants\",value:(G=p((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(dc(this._callObjectMode,\"updateWaitingParticipants()\"),sc(this._callState,\"updateWaitingParticipants()\"),\"object\"!==n(t))throw new Error(\"updateWaitingParticipants() must take a mapping between ids and update objects\");return new Promise((function(n,r){e.sendMessageToCallMachine({action:\"daily-method-update-waiting-participants\",updatesById:t},(function(e){e.error&&r(e.error),e.ids||r(new Error(\"unknown error in updateWaitingParticipants()\")),n({ids:e.ids})}))}))})),function(){return G.apply(this,arguments)})},{key:\"requestAccess\",value:(H=p((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.access,r=void 0===n?{level:Pi}:n,i=t.name,o=void 0===i?\"\":i;return dc(this._callObjectMode,\"requestAccess()\"),sc(this._callState,\"requestAccess()\"),new Promise((function(t,n){e.sendMessageToCallMachine({action:\"daily-method-request-access\",access:r,name:o},(function(e){e.error&&n(e.error),e.access||n(new Error(\"unknown error in requestAccess()\")),t({access:e.access,granted:e.granted})}))}))})),function(){return H.apply(this,arguments)})},{key:\"localAudio\",value:function(){return this._participants.local?![\"blocked\",\"off\"].includes(this._participants.local.tracks.audio.state):null}},{key:\"localVideo\",value:function(){return this._participants.local?![\"blocked\",\"off\"].includes(this._participants.local.tracks.video.state):null}},{key:\"setLocalAudio\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return\"forceDiscardTrack\"in t&&(ys()?(console.warn(\"forceDiscardTrack option not supported in React Native; ignoring\"),t={}):e&&(console.warn(\"forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring\"),t={})),this.sendMessageToCallMachine({action:\"local-audio\",state:e,options:t}),this}},{key:\"localScreenAudio\",value:function(){return this._participants.local?![\"blocked\",\"off\"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:\"localScreenVideo\",value:function(){return this._participants.local?![\"blocked\",\"off\"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:\"updateScreenShare\",value:function(e){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:\"local-screen-update\",options:e}),this;console.warn(\"There is no screen share in progress. Try calling startScreenShare first.\")}},{key:\"setLocalVideo\",value:function(e){return this.sendMessageToCallMachine({action:\"local-video\",state:e}),this}},{key:\"_setAllowLocalAudio\",value:function(e){if(this._preloadCache.allowLocalAudio=e,this._callMachineInitialized)return this.sendMessageToCallMachine({action:\"set-allow-local-audio\",state:e}),this}},{key:\"_setAllowLocalVideo\",value:function(e){if(this._preloadCache.allowLocalVideo=e,this._callMachineInitialized)return this.sendMessageToCallMachine({action:\"set-allow-local-video\",state:e}),this}},{key:\"getReceiveSettings\",value:(W=p((function*(e){var t=this,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).showInheritedValues,i=void 0!==r&&r;if(dc(this._callObjectMode,\"getReceiveSettings()\"),!this._callMachineInitialized)return this._receiveSettings;switch(n(e)){case\"string\":return new Promise((function(n){t.sendMessageToCallMachine({action:\"get-single-participant-receive-settings\",id:e,showInheritedValues:i},(function(e){n(e.receiveSettings)}))}));case\"undefined\":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or \"base\"), or there should be no arguments')}})),function(e){return W.apply(this,arguments)})},{key:\"updateReceiveSettings\",value:(z=p((function*(e){var t=this;if(dc(this._callObjectMode,\"updateReceiveSettings()\"),!gc(e,{allowAllParticipantsKey:!0}))throw new Error(kc({allowAllParticipantsKey:!0}));return sc(this._callState,\"updateReceiveSettings()\",\"To specify receive settings earlier, use the receiveSettings config property.\"),new Promise((function(n){t.sendMessageToCallMachine({action:\"update-receive-settings\",receiveSettings:e},(function(e){n({receiveSettings:e.receiveSettings})}))}))})),function(e){return z.apply(this,arguments)})},{key:\"_prepInputSettingsForSharing\",value:function(e,t){if(e){var n={};if(e.audio){var r,i,o;e.audio.settings&&(!Object.keys(e.audio.settings).length&&t||(n.audio={settings:Va({},e.audio.settings)})),t&&null!==(r=n.audio)&&void 0!==r&&null!==(r=r.settings)&&void 0!==r&&r.customTrack&&(n.audio.settings={customTrack:this._sharedTracks.audioTrack});var s=\"none\"===(null===(i=e.audio.processor)||void 0===i?void 0:i.type)&&(null===(o=e.audio.processor)||void 0===o?void 0:o._isDefaultWhenNone);if(e.audio.processor&&!s){var a=Va({},e.audio.processor);delete a._isDefaultWhenNone,n.audio=Va(Va({},n.audio),{},{processor:a})}}if(e.video){var c,l,u;e.video.settings&&(!Object.keys(e.video.settings).length&&t||(n.video={settings:Va({},e.video.settings)})),t&&null!==(c=n.video)&&void 0!==c&&null!==(c=c.settings)&&void 0!==c&&c.customTrack&&(n.video.settings={customTrack:this._sharedTracks.videoTrack});var d=\"none\"===(null===(l=e.video.processor)||void 0===l?void 0:l.type)&&(null===(u=e.video.processor)||void 0===u?void 0:u._isDefaultWhenNone);if(e.video.processor&&!d){var p=Va({},e.video.processor);delete p._isDefaultWhenNone,n.video=Va(Va({},n.video),{},{processor:p})}}return n}}},{key:\"getInputSettings\",value:function(){var e=this;return hc(),new Promise((function(t){t(e._getInputSettings())}))}},{key:\"_getInputSettings\",value:function(){var e,t,n,r,i,o,s={processor:{type:\"none\",_isDefaultWhenNone:!0}};this._inputSettings?(e=(null===(n=this._inputSettings)||void 0===n?void 0:n.video)||s,t=(null===(r=this._inputSettings)||void 0===r?void 0:r.audio)||s):(e=(null===(i=this._preloadCache)||void 0===i||null===(i=i.inputSettings)||void 0===i?void 0:i.video)||s,t=(null===(o=this._preloadCache)||void 0===o||null===(o=o.inputSettings)||void 0===o?void 0:o.audio)||s);var a={audio:t,video:e};return this._prepInputSettingsForSharing(a,!0)}},{key:\"_updatePreloadCacheInputSettings\",value:function(e,t){var n=this._inputSettings||{},r={};if(e.video){var i,o,s;if(r.video={},e.video.settings)r.video.settings={},t||e.video.settings.customTrack||null===(s=n.video)||void 0===s||!s.settings?r.video.settings=e.video.settings:r.video.settings=Va(Va({},n.video.settings),e.video.settings),Object.keys(r.video.settings).length||delete r.video.settings;else null!==(i=n.video)&&void 0!==i&&i.settings&&(r.video.settings=n.video.settings);e.video.processor?r.video.processor=e.video.processor:null!==(o=n.video)&&void 0!==o&&o.processor&&(r.video.processor=n.video.processor)}else n.video&&(r.video=n.video);if(e.audio){var a,c,l;if(r.audio={},e.audio.settings)r.audio.settings={},t||e.audio.settings.customTrack||null===(l=n.audio)||void 0===l||!l.settings?r.audio.settings=e.audio.settings:r.audio.settings=Va(Va({},n.audio.settings),e.audio.settings),Object.keys(r.audio.settings).length||delete r.audio.settings;else null!==(a=n.audio)&&void 0!==a&&a.settings&&(r.audio.settings=n.audio.settings);e.audio.processor?r.audio.processor=e.audio.processor:null!==(c=n.audio)&&void 0!==c&&c.processor&&(r.audio.processor=n.audio.processor)}else n.audio&&(r.audio=n.audio);this._maybeUpdateInputSettings(r)}},{key:\"_devicesFromInputSettings\",value:function(e){var t,n,r=(null==e||null===(t=e.video)||void 0===t||null===(t=t.settings)||void 0===t?void 0:t.deviceId)||null,i=(null==e||null===(n=e.audio)||void 0===n||null===(n=n.settings)||void 0===n?void 0:n.deviceId)||null,o=this._preloadCache.outputDeviceId||null;return{camera:r?{deviceId:r}:{},mic:i?{deviceId:i}:{},speaker:o?{deviceId:o}:{}}}},{key:\"updateInputSettings\",value:(q=p((function*(e){var t=this;return hc(),mc(e)?e.video||e.audio?(yc(e,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(e,!0),this._getInputSettings()):new Promise((function(n,r){t.sendMessageToCallMachine({action:\"update-input-settings\",inputSettings:e},(function(i){if(i.error)r(i.error);else{if(i.returnPreloadCache)return t._updatePreloadCacheInputSettings(e,!0),void n(t._getInputSettings());t._maybeUpdateInputSettings(i.inputSettings),n(t._prepInputSettingsForSharing(i.inputSettings,!0))}}))}))):this._getInputSettings():(console.error(Sc()),Promise.reject(Sc()))})),function(e){return q.apply(this,arguments)})},{key:\"setBandwidth\",value:function(e){var t=e.kbs,n=e.trackConstraints;if(hc(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:\"set-bandwidth\",kbs:t,trackConstraints:n}),this}},{key:\"getDailyLang\",value:function(){var e=this;if(hc(),this._callMachineInitialized)return new Promise((function(t){e.sendMessageToCallMachine({action:\"get-daily-lang\"},(function(e){delete e.action,delete e.callbackStamp,t(e)}))}))}},{key:\"setDailyLang\",value:function(e){return hc(),this.sendMessageToCallMachine({action:\"set-daily-lang\",lang:e}),this}},{key:\"setProxyUrl\",value:function(e){return this.sendMessageToCallMachine({action:\"set-proxy-url\",proxyUrl:e}),this}},{key:\"setIceConfig\",value:function(e){return this.sendMessageToCallMachine({action:\"set-ice-config\",iceConfig:e}),this}},{key:\"meetingSessionSummary\",value:function(){return[_i,wi].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:\"getMeetingSession\",value:($=p((function*(){var e=this;return console.warn(\"getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately\"),sc(this._callState,\"getMeetingSession()\"),new Promise((function(t){e.sendMessageToCallMachine({action:\"get-meeting-session\"},(function(e){delete e.action,delete e.callbackStamp,t(e)}))}))})),function(){return $.apply(this,arguments)})},{key:\"meetingSessionState\",value:function(){return sc(this._callState,\"meetingSessionState\"),this._meetingSessionState}},{key:\"setMeetingSessionData\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"replace\";dc(this._callObjectMode,\"setMeetingSessionData()\"),sc(this._callState,\"setMeetingSessionData\");try{!function(e,t){new Ws({data:e,mergeStrategy:t})}(e,t)}catch(e){throw console.error(e),e}try{this.sendMessageToCallMachine({action:\"set-session-data\",data:e,mergeStrategy:t})}catch(e){throw new Error(\"Error setting meeting session data: \".concat(e))}}},{key:\"setUserName\",value:function(e,t){var n=this;return this.properties.userName=e,new Promise((function(r){n.sendMessageToCallMachine({action:\"set-user-name\",name:null!=e?e:\"\",thisMeetingOnly:ys()||!!t&&!!t.thisMeetingOnly},(function(e){delete e.action,delete e.callbackStamp,r(e)}))}))}},{key:\"setUserData\",value:(J=p((function*(e){var t=this;try{vc(e)}catch(e){throw console.error(e),e}if(this.properties.userData=e,this._callMachineInitialized)return new Promise((function(n){try{t.sendMessageToCallMachine({action:\"set-user-data\",userData:e},(function(e){delete e.action,delete e.callbackStamp,n(e)}))}catch(e){throw new Error(\"Error setting user data: \".concat(e))}}))})),function(e){return J.apply(this,arguments)})},{key:\"validateAudioLevelInterval\",value:function(e){if(e&&(e<100||\"number\"!=typeof e))throw new Error(\"The interval must be a number greater than or equal to 100 milliseconds.\")}},{key:\"startLocalAudioLevelObserver\",value:function(e){var t=this;if(\"undefined\"==typeof AudioWorkletNode&&!ys())throw new Error(\"startLocalAudioLevelObserver() is not supported on this browser\");if(this.validateAudioLevelInterval(e),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise((function(n,r){t.sendMessageToCallMachine({action:\"start-local-audio-level-observer\",interval:e},(function(e){t._isLocalAudioLevelObserverRunning=!e.error,e.error?r({error:e.error}):n()}))}));this._preloadCache.localAudioLevelObserver={enabled:!0,interval:e}}},{key:\"isLocalAudioLevelObserverRunning\",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:\"stopLocalAudioLevelObserver\",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:\"stop-local-audio-level-observer\"})}},{key:\"startRemoteParticipantsAudioLevelObserver\",value:function(e){var t=this;if(this.validateAudioLevelInterval(e),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise((function(n,r){t.sendMessageToCallMachine({action:\"start-remote-participants-audio-level-observer\",interval:e},(function(e){t._isRemoteParticipantsAudioLevelObserverRunning=!e.error,e.error?r({error:e.error}):n()}))}));this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:e}}},{key:\"isRemoteParticipantsAudioLevelObserverRunning\",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:\"stopRemoteParticipantsAudioLevelObserver\",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:\"stop-remote-participants-audio-level-observer\"})}},{key:\"startCamera\",value:(V=p((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(dc(this._callObjectMode,\"startCamera()\"),cc(this._callState,this._isPreparingToJoin,\"startCamera()\",\"Did you mean to use setLocalAudio() and/or setLocalVideo() instead?\"),this.needsLoad())try{yield this.load(t)}catch(e){return Promise.reject(e)}else{if(this._didPreAuth){if(t.url&&t.url!==this.properties.url)return console.error(\"url in startCamera() is different than the one used in preAuth()\"),Promise.reject();if(t.token&&t.token!==this.properties.token)return console.error(\"token in startCamera() is different than the one used in preAuth()\"),Promise.reject()}this.validateProperties(t),this.properties=Va(Va({},this.properties),t)}return new Promise((function(t){e._preloadCache.inputSettings=e._prepInputSettingsForSharing(e._inputSettings,!1),e.sendMessageToCallMachine({action:\"start-camera\",properties:oc(e.properties,e.callClientId),preloadCache:oc(e._preloadCache,e.callClientId)},(function(e){t({camera:e.camera,mic:e.mic,speaker:e.speaker})}))}))})),function(){return V.apply(this,arguments)})},{key:\"validateCustomTrack\",value:function(e,t,n){if(n&&n.length>50)throw new Error(\"Custom track `trackName` must not be more than 50 characters\");if(t&&\"music\"!==t&&\"speech\"!==t&&!(t instanceof Object))throw new Error(\"Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`\");if(!!n&&[\"cam-audio\",\"cam-video\",\"screen-video\",\"screen-audio\",\"rmpAudio\",\"rmpVideo\",\"customVideoDefaults\"].includes(n))throw new Error(\"Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo\");if(!(e instanceof MediaStreamTrack))throw new Error(\"Custom tracks provided must be instances of MediaStreamTrack\")}},{key:\"startCustomTrack\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{track:track,mode:mode,trackName:trackName};return hc(),sc(this._callState,\"startCustomTrack()\"),this.validateCustomTrack(t.track,t.mode,t.trackName),new Promise((function(n,r){e._sharedTracks.customTrack=t.track,t.track=ls,e.sendMessageToCallMachine({action:\"start-custom-track\",properties:t},(function(e){e.error?r({error:e.error}):n(e.mediaTag)}))}))}},{key:\"stopCustomTrack\",value:function(e){var t=this;return hc(),sc(this._callState,\"stopCustomTrack()\"),new Promise((function(n){t.sendMessageToCallMachine({action:\"stop-custom-track\",mediaTag:e},(function(e){n(e.mediaTag)}))}))}},{key:\"setCamera\",value:function(e){var t=this;return fc(),lc(this._callMachineInitialized,\"setCamera()\"),new Promise((function(n){t.sendMessageToCallMachine({action:\"set-camera\",cameraDeviceId:e},(function(e){n({device:e.device})}))}))}},{key:\"setAudioDevice\",value:(U=p((function*(e){return fc(),this.nativeUtils().setAudioDevice(e),{deviceId:yield this.nativeUtils().getAudioDevice()}})),function(e){return U.apply(this,arguments)})},{key:\"cycleCamera\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n){e.sendMessageToCallMachine({action:\"cycle-camera\",properties:t},(function(e){n({device:e.device})}))}))}},{key:\"cycleMic\",value:function(){var e=this;return hc(),new Promise((function(t){e.sendMessageToCallMachine({action:\"cycle-mic\"},(function(e){t({device:e.device})}))}))}},{key:\"getCameraFacingMode\",value:function(){var e=this;return fc(),new Promise((function(t){e.sendMessageToCallMachine({action:\"get-camera-facing-mode\"},(function(e){t(e.facingMode)}))}))}},{key:\"setInputDevicesAsync\",value:(B=p((function*(e){var t=this,n=e.audioDeviceId,r=e.videoDeviceId,i=e.audioSource,o=e.videoSource;if(hc(),void 0!==i&&(n=i),void 0!==o&&(r=o),\"boolean\"==typeof n&&(this._setAllowLocalAudio(n),n=void 0),\"boolean\"==typeof r&&(this._setAllowLocalVideo(r),r=void 0),!n&&!r)return yield this.getInputDevices();var s={};return n&&(n instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=n,n=ls,s.audio={settings:{customTrack:n}}):(delete this._sharedTracks.audioTrack,s.audio={settings:{deviceId:n}})),r&&(r instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=r,r=ls,s.video={settings:{customTrack:r}}):(delete this._sharedTracks.videoTrack,s.video={settings:{deviceId:r}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(s,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise((function(e){t.sendMessageToCallMachine({action:\"set-input-devices\",audioDeviceId:n,videoDeviceId:r},(function(n){if(delete n.action,delete n.callbackStamp,n.returnPreloadCache)return t._updatePreloadCacheInputSettings(s,!1),void e(t._devicesFromInputSettings(t._inputSettings));e(n)}))}))})),function(e){return B.apply(this,arguments)})},{key:\"setOutputDeviceAsync\",value:(F=p((function*(e){var t=this,n=e.outputDeviceId;return hc(),n&&(this._preloadCache.outputDeviceId=n),this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise((function(e){t.sendMessageToCallMachine({action:\"set-output-device\",outputDeviceId:n},(function(n){delete n.action,delete n.callbackStamp,n.returnPreloadCache?e(t._devicesFromInputSettings(t._inputSettings)):e(n)}))}))})),function(e){return F.apply(this,arguments)})},{key:\"getInputDevices\",value:(R=p((function*(){var e=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise((function(t){e.sendMessageToCallMachine({action:\"get-input-devices\"},(function(n){n.returnPreloadCache?t(e._devicesFromInputSettings(e._inputSettings)):t({camera:n.camera,mic:n.mic,speaker:n.speaker})}))}))})),function(){return R.apply(this,arguments)})},{key:\"nativeInCallAudioMode\",value:function(){return fc(),this._nativeInCallAudioMode}},{key:\"setNativeInCallAudioMode\",value:function(e){if(fc(),[Wa,Ha].includes(e)){if(e!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=e,!this.disableReactNativeAutoDeviceManagement(\"audio\")&&ac(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error(\"invalid in-call audio mode specified: \",e)}},{key:\"preAuth\",value:(D=p((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(dc(this._callObjectMode,\"preAuth()\"),cc(this._callState,this._isPreparingToJoin,\"preAuth()\"),this.needsLoad()&&(yield this.load(t)),!t.url)throw new Error(\"preAuth() requires at least a url to be provided\");return this.validateProperties(t),this.properties=Va(Va({},this.properties),t),new Promise((function(t,n){e._preloadCache.inputSettings=e._prepInputSettingsForSharing(e._inputSettings,!1),e.sendMessageToCallMachine({action:\"daily-method-preauth\",properties:oc(e.properties,e.callClientId),preloadCache:oc(e._preloadCache,e.callClientId)},(function(r){return r.error?n(r.error):r.access?(e._didPreAuth=!0,void t({access:r.access})):n(new Error(\"unknown error in preAuth()\"))}))}))})),function(){return D.apply(this,arguments)})},{key:\"load\",value:(L=p((function*(e){var t=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error(\"Use after destroy\");if(e&&(this.validateProperties(e),this.properties=Va(Va({},this.properties),e)),!this._callObjectMode&&!this.properties.url)throw new Error(\"can't load iframe meeting because url property isn't set\");return this._updateCallState(gi),this.emitDailyJSEvent({action:to}),this._callObjectMode?new Promise((function(e,n){t._callObjectLoader.cancel();var r=Date.now();t._callObjectLoader.load(t.properties.dailyConfig,(function(n){t._bundleLoadTime=n?\"no-op\":Date.now()-r,t._updateCallState(mi),n&&t.emitDailyJSEvent({action:ro}),e()}),(function(e,r){if(t.emitDailyJSEvent({action:no}),!r){t._updateCallState(wi),t.resetMeetingDependentVars();var i={action:ns,errorMsg:e.msg,error:{type:\"connection-error\",msg:\"Failed to load call object bundle.\",details:{on:\"load\",sourceError:e,bundleUrl:Z(t.properties.dailyConfig)}}};t._maybeSendToSentry(i),t.emitDailyJSEvent(i),n(e.msg)}}))})):(this._iframe.src=X(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise((function(e,n){t._loadedCallback=function(r){t._callState!==wi?(t._updateCallState(mi),(t.properties.cssFile||t.properties.cssText)&&t.loadCss(t.properties),e()):n(r)}})))}})),function(e){return L.apply(this,arguments)})},{key:\"join\",value:(I=p((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var n=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(t)}catch(e){return this.updateIsPreparingToJoin(!1),Promise.reject(e)}}else{if(n=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(t.url&&t.url!==this.properties.url)return console.error(\"url in join() is different than the one used in preAuth()\"),this.updateIsPreparingToJoin(!1),Promise.reject();if(t.token&&t.token!==this.properties.token)return console.error(\"token in join() is different than the one used in preAuth()\"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(t.url&&!this._callObjectMode&&t.url&&t.url!==this.properties.url)return console.error(\"url in join() is different than the one used in load() (\".concat(this.properties.url,\" -> \").concat(t.url,\")\")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(t),this.properties=Va(Va({},this.properties),t)}return void 0!==t.showLocalVideo&&(this._callObjectMode?console.error(\"showLocalVideo is not available in callObject mode\"):this._showLocalVideo=!!t.showLocalVideo),void 0!==t.showParticipantsBar&&(this._callObjectMode?console.error(\"showParticipantsBar is not available in callObject mode\"):this._showParticipantsBar=!!t.showParticipantsBar),this._callState===bi||this._callState===yi?(console.warn(\"already joined meeting, call leave() before joining again\"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(yi,!1),this.emitDailyJSEvent({action:so}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:\"join-meeting\",properties:oc(this.properties,this.callClientId),preloadCache:oc(this._preloadCache,this.callClientId)}),new Promise((function(t,r){e._joinedCallback=function(i,o){if(e._callState!==wi){if(e._updateCallState(bi),i)for(var s in i){if(e._callObjectMode){var a=e._callMachine().store;ua(i[s],a),da(i[s],a),ha(i[s],e._participants[s],a)}e._participants[s]=Va({},i[s]),e.toggleParticipantAudioBasedOnNativeAudioFocus()}n&&e.loadCss(e.properties),t(i)}else r(o)}})))})),function(){return I.apply(this,arguments)})},{key:\"leave\",value:(j=p((function*(){var e=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise((function(t){e._callState===_i||e._callState===wi?t():e._callObjectLoader&&!e._callObjectLoader.loaded?(e._callObjectLoader.cancel(),e._updateCallState(_i),e.resetMeetingDependentVars(),e.emitDailyJSEvent({action:_i}),t()):(e._resolveLeave=t,e.sendMessageToCallMachine({action:\"leave-meeting\"}))}))})),function(){return j.apply(this,arguments)})},{key:\"startScreenShare\",value:(A=p((function*(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(lc(this._callMachineInitialized,\"startScreenShare()\"),t.screenVideoSendSettings&&this._validateVideoSendSettings(\"screenVideo\",t.screenVideoSendSettings),t.mediaStream&&(this._sharedTracks.screenMediaStream=t.mediaStream,t.mediaStream=ls),\"undefined\"!=typeof DailyNativeUtils&&void 0!==DailyNativeUtils.isIOS&&DailyNativeUtils.isIOS){var n=this.nativeUtils();if(yield n.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:ts,type:\"screen-share-error\",errorMsg:\"Could not start the screen sharing. The screen is already been captured!\"});n.setSystemScreenCaptureStartCallback((function(){n.setSystemScreenCaptureStartCallback(null),e.sendMessageToCallMachine({action:ss,captureOptions:t})})),n.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:ss,captureOptions:t})})),function(){return A.apply(this,arguments)})},{key:\"stopScreenShare\",value:function(){lc(this._callMachineInitialized,\"stopScreenShare()\"),this.sendMessageToCallMachine({action:\"local-screen-stop\"})}},{key:\"startRecording\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type;if(t&&\"cloud\"!==t&&\"raw-tracks\"!==t&&\"local\"!==t)throw new Error(\"invalid type: \".concat(t,\", allowed values 'cloud', 'raw-tracks', or 'local'\"));this.sendMessageToCallMachine(Va({action:\"local-recording-start\"},e))}},{key:\"updateRecording\",value:function(e){var t=e.layout,n=void 0===t?{preset:\"default\"}:t,r=e.instanceId;this.sendMessageToCallMachine({action:\"daily-method-update-recording\",layout:n,instanceId:r})}},{key:\"stopRecording\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(Va({action:\"local-recording-stop\"},e))}},{key:\"startLiveStreaming\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(Va({action:\"daily-method-start-live-streaming\"},e))}},{key:\"updateLiveStreaming\",value:function(e){var t=e.layout,n=void 0===t?{preset:\"default\"}:t,r=e.instanceId;this.sendMessageToCallMachine({action:\"daily-method-update-live-streaming\",layout:n,instanceId:r})}},{key:\"addLiveStreamingEndpoints\",value:function(e){var t=e.endpoints,n=e.instanceId;this.sendMessageToCallMachine({action:as,endpointsOp:fs,endpoints:t,instanceId:n})}},{key:\"removeLiveStreamingEndpoints\",value:function(e){var t=e.endpoints,n=e.instanceId;this.sendMessageToCallMachine({action:as,endpointsOp:vs,endpoints:t,instanceId:n})}},{key:\"stopLiveStreaming\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(Va({action:\"daily-method-stop-live-streaming\"},e))}},{key:\"validateDailyConfig\",value:function(e){e.camSimulcastEncodings&&(console.warn(\"camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings.\"),this.validateSimulcastEncodings(e.camSimulcastEncodings)),e.screenSimulcastEncodings&&console.warn(\"screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings.\"),Es()&&e.noAutoDefaultDeviceChange&&console.warn(\"noAutoDefaultDeviceChange is not supported on Android, and will be ignored.\")}},{key:\"validateSimulcastEncodings\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){if(!(e instanceof Array||Array.isArray(e)))throw new Error(\"encodings must be an Array\");if(!Ac(e.length,1,3))throw new Error(\"encodings must be an Array with between 1 to \".concat(3,\" layers\"));for(var r=0;r<e.length;r++){var i=e[r];for(var o in this._validateEncodingLayerHasValidProperties(i),i)if(Ya.includes(o)){if(\"number\"!=typeof i[o])throw new Error(\"\".concat(o,\" must be a number\"));if(t){var s=t[o],a=s.min,c=s.max;if(!Ac(i[o],a,c))throw new Error(\"\".concat(o,\" value not in range. valid range: \").concat(a,\" to \").concat(c))}}else if(![\"active\",\"scalabilityMode\"].includes(o))throw new Error(\"Invalid key \".concat(o,\", valid keys are:\")+Object.values(Ya));if(n&&!i.hasOwnProperty(\"maxBitrate\"))throw new Error(\"maxBitrate is not specified\")}}}},{key:\"startRemoteMediaPlayer\",value:(P=p((function*(e){var t=this,n=e.url,r=e.settings,i=void 0===r?{state:ps.PLAY}:r;try{!function(e){if(\"string\"!=typeof e)throw new Error('url parameter must be \"string\" type')}(n),Pc(i),function(e){for(var t in e)if(!Xa.includes(t))throw new Error(\"Invalid key \".concat(t,\", valid keys are: \").concat(Xa));e.simulcastEncodings&&this.validateSimulcastEncodings(e.simulcastEncodings,Ka,!0)}(i)}catch(e){throw console.error(\"invalid argument Error: \".concat(e)),console.error('startRemoteMediaPlayer arguments must be of the form:\\n  { url: \"playback url\",\\n  settings?:\\n  {state: \"play\"|\"pause\", simulcastEncodings?: [{}] } }'),e}return new Promise((function(e,r){t.sendMessageToCallMachine({action:\"daily-method-start-remote-media-player\",url:n,settings:i},(function(t){t.error?r({error:t.error,errorMsg:t.errorMsg}):e({session_id:t.session_id,remoteMediaPlayerState:{state:t.state,settings:t.settings}})}))}))})),function(e){return P.apply(this,arguments)})},{key:\"stopRemoteMediaPlayer\",value:(O=p((function*(e){var t=this;if(\"string\"!=typeof e)throw new Error(\" remotePlayerID must be of type string\");return new Promise((function(n,r){t.sendMessageToCallMachine({action:\"daily-method-stop-remote-media-player\",session_id:e},(function(e){e.error?r({error:e.error,errorMsg:e.errorMsg}):n()}))}))})),function(e){return O.apply(this,arguments)})},{key:\"updateRemoteMediaPlayer\",value:(T=p((function*(e){var t=this,n=e.session_id,r=e.settings;try{Pc(r)}catch(e){throw console.error(\"invalid argument Error: \".concat(e)),console.error('updateRemoteMediaPlayer arguments must be of the form:\\n  session_id: \"participant session\",\\n  { settings?: {state: \"play\"|\"pause\"} }'),e}return new Promise((function(e,i){t.sendMessageToCallMachine({action:\"daily-method-update-remote-media-player\",session_id:n,settings:r},(function(t){t.error?i({error:t.error,errorMsg:t.errorMsg}):e({session_id:t.session_id,remoteMediaPlayerState:{state:t.state,settings:t.settings}})}))}))})),function(e){return T.apply(this,arguments)})},{key:\"startTranscription\",value:function(e){sc(this._callState,\"startTranscription()\"),this.sendMessageToCallMachine(Va({action:\"daily-method-start-transcription\"},e))}},{key:\"updateTranscription\",value:function(e){if(sc(this._callState,\"updateTranscription()\"),!e)throw new Error(\"updateTranscription Error: options is mandatory\");if(\"object\"!==n(e))throw new Error(\"updateTranscription Error: options must be object type\");if(e.participants&&!Array.isArray(e.participants))throw new Error(\"updateTranscription Error: participants must be an array\");this.sendMessageToCallMachine(Va({action:\"daily-method-update-transcription\"},e))}},{key:\"stopTranscription\",value:function(e){if(sc(this._callState,\"stopTranscription()\"),e&&\"object\"!==n(e))throw new Error(\"stopTranscription Error: options must be object type\");if(e&&!e.instanceId)throw new Error('\"instanceId\" not provided');this.sendMessageToCallMachine(Va({action:\"daily-method-stop-transcription\"},e))}},{key:\"startDialOut\",value:(E=p((function*(e){var t=this;sc(this._callState,\"startDialOut()\");var n=function(e){if(e){if(!Array.isArray(e))throw new Error(\"Error starting dial out: audio codec must be an array\");if(e.length<=0)throw new Error(\"Error starting dial out: audio codec array specified but empty\");e.forEach((function(e){if(\"string\"!=typeof e)throw new Error(\"Error starting dial out: audio codec must be a string\");if(\"OPUS\"!==e&&\"PCMU\"!==e&&\"PCMA\"!==e&&\"G722\"!==e)throw new Error(\"Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722\")}))}};if(!e.sipUri&&!e.phoneNumber)throw new Error(\"Error starting dial out: either a sip uri or phone number must be provided\");if(e.sipUri&&e.phoneNumber)throw new Error(\"Error starting dial out: only one of sip uri or phone number must be provided\");if(e.sipUri){if(\"string\"!=typeof e.sipUri)throw new Error(\"Error starting dial out: sipUri must be a string\");if(!e.sipUri.startsWith(\"sip:\"))throw new Error(\"Error starting dial out: Invalid SIP URI, must start with 'sip:'\");if(e.video&&\"boolean\"!=typeof e.video)throw new Error(\"Error starting dial out: video must be a boolean value\");!function(e){if(e&&(n(e.audio),e.video)){if(!Array.isArray(e.video))throw new Error(\"Error starting dial out: video codec must be an array\");if(e.video.length<=0)throw new Error(\"Error starting dial out: video codec array specified but empty\");e.video.forEach((function(e){if(\"string\"!=typeof e)throw new Error(\"Error starting dial out: video codec must be a string\");if(\"H264\"!==e&&\"VP8\"!==e)throw new Error(\"Error starting dial out: video codec must be H264 or VP8\")}))}}(e.codecs)}if(e.phoneNumber){if(\"string\"!=typeof e.phoneNumber)throw new Error(\"Error starting dial out: phoneNumber must be a string\");if(!/^\\+\\d{1,}$/.test(e.phoneNumber))throw new Error(\"Error starting dial out: Invalid phone number, must be valid phone number as per E.164\");e.codecs&&n(e.codecs.audio)}if(e.callerId){if(\"string\"!=typeof e.callerId)throw new Error(\"Error starting dial out: callerId must be a string\");if(e.sipUri)throw new Error(\"Error starting dial out: callerId not allowed with sipUri\")}if(e.displayName){if(\"string\"!=typeof e.displayName)throw new Error(\"Error starting dial out: displayName must be a string\");if(e.displayName.length>=200)throw new Error(\"Error starting dial out: displayName length must be less than 200\")}if(e.userId){if(\"string\"!=typeof e.userId)throw new Error(\"Error starting dial out: userId must be a string\");if(e.userId.length>36)throw new Error(\"Error starting dial out: userId length must be less than or equal to 36\")}return new Promise((function(n,r){t.sendMessageToCallMachine(Va({action:\"dialout-start\"},e),(function(e){e.error?r(e.error):n(e)}))}))})),function(e){return E.apply(this,arguments)})},{key:\"stopDialOut\",value:function(e){var t=this;return sc(this._callState,\"stopDialOut()\"),new Promise((function(n,r){t.sendMessageToCallMachine(Va({action:\"dialout-stop\"},e),(function(e){e.error?r(e.error):n(e)}))}))}},{key:\"sipCallTransfer\",value:(C=p((function*(e){var t=this;if(sc(this._callState,\"sipCallTransfer()\"),!e)throw new Error(\"sipCallTransfer() requires a sessionId and toEndPoint\");return e.useSipRefer=!1,Oc(e,\"sipCallTransfer\"),new Promise((function(n,r){t.sendMessageToCallMachine(Va({action:gs},e),(function(e){e.error?r(e.error):n(e)}))}))})),function(e){return C.apply(this,arguments)})},{key:\"sipRefer\",value:(M=p((function*(e){var t=this;if(sc(this._callState,\"sipRefer()\"),!e)throw new Error(\"sessionId and toEndPoint are mandatory parameter\");return e.useSipRefer=!0,Oc(e,\"sipRefer\"),new Promise((function(n,r){t.sendMessageToCallMachine(Va({action:gs},e),(function(e){e.error?r(e.error):n(e)}))}))})),function(e){return M.apply(this,arguments)})},{key:\"sendDTMF\",value:(k=p((function*(e){var t=this;return sc(this._callState,\"sendDTMF()\"),function(e){var t=e.sessionId,n=e.tones;if(!t||!n)throw new Error(\"sessionId and tones are mandatory parameter\");if(\"string\"!=typeof t||\"string\"!=typeof n)throw new Error(\"sessionId and tones should be of string type\");if(n.length>20)throw new Error(\"tones string must be upto 20 characters\");var r=/[^0-9A-D*#]/g,i=n.match(r);if(i&&i[0])throw new Error(\"\".concat(i[0],\" is not valid DTMF tone\"))}(e),new Promise((function(n,r){t.sendMessageToCallMachine(Va({action:\"send-dtmf\"},e),(function(e){e.error?r(e.error):n(e)}))}))})),function(e){return k.apply(this,arguments)})},{key:\"getNetworkStats\",value:function(){var e=this;if(this._callState!==bi){return Promise.resolve(Va({stats:{latest:{}}},this._network))}return new Promise((function(t){e.sendMessageToCallMachine({action:\"get-calc-stats\"},(function(n){t(Va(Va({},e._network),{},{stats:n.stats}))}))}))}},{key:\"testWebsocketConnectivity\",value:(S=p((function*(){var e=this;if(uc(this._testCallInProgress,\"testWebsocketConnectivity()\"),this.needsLoad())try{yield this.load()}catch(e){return Promise.reject(e)}return new Promise((function(t,n){e.sendMessageToCallMachine({action:\"test-websocket-connectivity\"},(function(e){e.error?n(e.error):t(e.results)}))}))})),function(){return S.apply(this,arguments)})},{key:\"abortTestWebsocketConnectivity\",value:function(){this.sendMessageToCallMachine({action:\"abort-test-websocket-connectivity\"})}},{key:\"_validateVideoTrackForNetworkTests\",value:function(e){return e?e instanceof MediaStreamTrack?!!Ea(e,{isLocalScreenVideo:!1})||(console.error(\"Video track is not playable. This test needs a live video track.\"),!1):(console.error(\"Video track needs to be of type `MediaStreamTrack`.\"),!1):(console.error(\"Missing video track. You must provide a video track in order to run this test.\"),!1)}},{key:\"testCallQuality\",value:(w=p((function*(){var t=this;hc(),dc(this._callObjectMode,\"testCallQuality()\"),lc(this._callMachineInitialized,\"testCallQuality()\",null,!0),cc(this._callState,this._isPreparingToJoin,\"testCallQuality()\");var n=this._testCallAlreadyInProgress,r=function(e){n||(t._testCallInProgress=e)};if(r(!0),this.needsLoad())try{var i=this._callState;yield this.load(),this._callState=i}catch(e){return r(!1),Promise.reject(e)}return new Promise((function(n){t.sendMessageToCallMachine({action:\"test-call-quality\",dailyJsVersion:t.properties.dailyJsVersion},(function(i){var o=i.results,s=o.result,a=e(o,Fa);if(\"failed\"===s){var c,l=Va({},a);null!==(c=a.error)&&void 0!==c&&c.details?(a.error.details=JSON.parse(a.error.details),l.error=Va(Va({},l.error),{},{details:Va({},l.error.details)}),l.error.details.duringTest=\"testCallQuality\"):(l.error=l.error?Va({},l.error):{},l.error.details={duringTest:\"testCallQuality\"}),t._maybeSendToSentry(l)}r(!1),n(Va({result:s},a))}))}))})),function(){return w.apply(this,arguments)})},{key:\"stopTestCallQuality\",value:function(){this.sendMessageToCallMachine({action:\"stop-test-call-quality\"})}},{key:\"testConnectionQuality\",value:(_=p((function*(e){var t;ys()?(console.warn(\"testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead\"),t=yield this.testPeerToPeerCallQuality(e)):(console.warn(\"testConnectionQuality() is deprecated: use testCallQuality() instead\"),t=yield this.testCallQuality());var n={result:t.result,secondsElapsed:t.secondsElapsed};return t.data&&(n.data={maxRTT:t.data.maxRoundTripTime,packetLoss:t.data.avgRecvPacketLoss}),n})),function(e){return _.apply(this,arguments)})},{key:\"testPeerToPeerCallQuality\",value:(b=p((function*(e){var t=this;if(uc(this._testCallInProgress,\"testPeerToPeerCallQuality()\"),this.needsLoad())try{yield this.load()}catch(e){return Promise.reject(e)}var n=e.videoTrack,r=e.duration;if(!this._validateVideoTrackForNetworkTests(n))throw new Error(\"Video track error\");return this._sharedTracks.videoTrackForConnectionQualityTest=n,new Promise((function(e,n){t.sendMessageToCallMachine({action:\"test-p2p-call-quality\",duration:r},(function(t){t.error?n(t.error):e(t.results)}))}))})),function(e){return b.apply(this,arguments)})},{key:\"stopTestConnectionQuality\",value:function(){ys()?(console.warn(\"stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead\"),this.stopTestPeerToPeerCallQuality()):(console.warn(\"stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead\"),this.stopTestCallQuality())}},{key:\"stopTestPeerToPeerCallQuality\",value:function(){this.sendMessageToCallMachine({action:\"stop-test-p2p-call-quality\"})}},{key:\"testNetworkConnectivity\",value:(y=p((function*(e){var t=this;if(uc(this._testCallInProgress,\"testNetworkConnectivity()\"),this.needsLoad())try{yield this.load()}catch(e){return Promise.reject(e)}if(!this._validateVideoTrackForNetworkTests(e))throw new Error(\"Video track error\");return this._sharedTracks.videoTrackForNetworkConnectivityTest=e,new Promise((function(e,n){t.sendMessageToCallMachine({action:\"test-network-connectivity\"},(function(t){t.error?n(t.error):e(t.results)}))}))})),function(e){return y.apply(this,arguments)})},{key:\"abortTestNetworkConnectivity\",value:function(){this.sendMessageToCallMachine({action:\"abort-test-network-connectivity\"})}},{key:\"getCpuLoadStats\",value:function(){var e=this;return new Promise((function(t){if(e._callState===bi){e.sendMessageToCallMachine({action:\"get-cpu-load-stats\"},(function(e){t(e.cpuStats)}))}else t({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})}))}},{key:\"_validateEncodingLayerHasValidProperties\",value:function(e){var t;if(!((null===(t=Object.keys(e))||void 0===t?void 0:t.length)>0))throw new Error(\"Empty encoding is not allowed. At least one of these valid keys should be specified:\"+Object.values(Ya))}},{key:\"_validateVideoSendSettings\",value:function(e,t){var r=\"screenVideo\"===e?[\"default-screen-video\",\"detail-optimized\",\"motion-optimized\",\"motion-and-detail-balanced\"]:[\"default-video\",\"bandwidth-optimized\",\"bandwidth-and-quality-balanced\",\"quality-optimized\",\"adaptive-2-layers\",\"adaptive-3-layers\"],i=\"Video send settings should be either an object or one of the supported presets: \".concat(r.join());if(\"string\"==typeof t){if(!r.includes(t))throw new Error(i)}else{if(\"object\"!==n(t))throw new Error(i);if(!t.maxQuality&&!t.encodings&&void 0===t.allowAdaptiveLayers)throw new Error(\"Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute\");if(t.maxQuality&&-1===[\"low\",\"medium\",\"high\"].indexOf(t.maxQuality))throw new Error(\"maxQuality must be either low, medium or high\");if(t.encodings){var o=!1;switch(Object.keys(t.encodings).length){case 1:o=!t.encodings.low;break;case 2:o=!t.encodings.low||!t.encodings.medium;break;case 3:o=!t.encodings.low||!t.encodings.medium||!t.encodings.high;break;default:o=!0}if(o)throw new Error(\"Encodings must be defined as: low, low and medium, or low, medium and high.\");t.encodings.low&&this._validateEncodingLayerHasValidProperties(t.encodings.low),t.encodings.medium&&this._validateEncodingLayerHasValidProperties(t.encodings.medium),t.encodings.high&&this._validateEncodingLayerHasValidProperties(t.encodings.high)}}}},{key:\"validateUpdateSendSettings\",value:function(e){var t=this;if(!e||0===Object.keys(e).length)throw new Error(\"Send settings must contain at least information for one track!\");Object.entries(e).forEach((function(e){var n=f(e,2),r=n[0],i=n[1];t._validateVideoSendSettings(r,i)}))}},{key:\"updateSendSettings\",value:function(e){var t=this;return this.validateUpdateSendSettings(e),this.needsLoad()?(this._preloadCache.sendSettings=e,{sendSettings:this._preloadCache.sendSettings}):new Promise((function(n,r){t.sendMessageToCallMachine({action:\"update-send-settings\",sendSettings:e},(function(e){e.error?r(e.error):n(e.sendSettings)}))}))}},{key:\"getSendSettings\",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:\"getLocalAudioLevel\",value:function(){return this._localAudioLevel}},{key:\"getRemoteParticipantsAudioLevel\",value:function(){return this._remoteParticipantsAudioLevel}},{key:\"getActiveSpeaker\",value:function(){return hc(),this._activeSpeaker}},{key:\"setActiveSpeakerMode\",value:function(e){return hc(),this.sendMessageToCallMachine({action:\"set-active-speaker-mode\",enabled:e}),this}},{key:\"activeSpeakerMode\",value:function(){return hc(),this._activeSpeakerMode}},{key:\"subscribeToTracksAutomatically\",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:\"setSubscribeToTracksAutomatically\",value:function(e){return sc(this._callState,\"setSubscribeToTracksAutomatically()\",\"Use the subscribeToTracksAutomatically configuration property.\"),this._preloadCache.subscribeToTracksAutomatically=e,this.sendMessageToCallMachine({action:\"daily-method-subscribe-to-tracks-automatically\",enabled:e}),this}},{key:\"enumerateDevices\",value:(m=p((function*(){var e=this;if(this._callObjectMode){var t=yield navigator.mediaDevices.enumerateDevices();return\"Firefox\"===Os()&&Ps().major>115&&Ps().major<123&&(t=t.filter((function(e){return\"audiooutput\"!==e.kind}))),{devices:t.map((function(e){var t=JSON.parse(JSON.stringify(e));if(!ys()&&\"videoinput\"===e.kind&&e.getCapabilities){var n,r=e.getCapabilities();t.facing=(null==r||null===(n=r.facingMode)||void 0===n?void 0:n.length)>=1?r.facingMode[0]:void 0}return t}))}}return new Promise((function(t){e.sendMessageToCallMachine({action:\"enumerate-devices\"},(function(e){t({devices:e.devices})}))}))})),function(){return m.apply(this,arguments)})},{key:\"sendAppMessage\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"*\";if(sc(this._callState,\"sendAppMessage()\"),JSON.stringify(e).length>this._maxAppMessageSize)throw new Error(\"Message data too large. Max size is \"+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:\"app-msg\",data:e,to:t}),this}},{key:\"addFakeParticipant\",value:function(e){return hc(),sc(this._callState,\"addFakeParticipant()\"),this.sendMessageToCallMachine(Va({action:\"add-fake-participant\"},e)),this}},{key:\"setShowNamesMode\",value:function(e){return pc(this._callObjectMode,\"setShowNamesMode()\"),hc(),e&&\"always\"!==e&&\"never\"!==e?(console.error('setShowNamesMode argument should be \"always\", \"never\", or false'),this):(this.sendMessageToCallMachine({action:\"set-show-names\",mode:e}),this)}},{key:\"setShowLocalVideo\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return pc(this._callObjectMode,\"setShowLocalVideo()\"),hc(),sc(this._callState,\"setShowLocalVideo()\"),\"boolean\"!=typeof e?(console.error(\"setShowLocalVideo only accepts a boolean value\"),this):(this.sendMessageToCallMachine({action:\"set-show-local-video\",show:e}),this._showLocalVideo=e,this)}},{key:\"showLocalVideo\",value:function(){return pc(this._callObjectMode,\"showLocalVideo()\"),hc(),this._showLocalVideo}},{key:\"setShowParticipantsBar\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return pc(this._callObjectMode,\"setShowParticipantsBar()\"),hc(),sc(this._callState,\"setShowParticipantsBar()\"),\"boolean\"!=typeof e?(console.error(\"setShowParticipantsBar only accepts a boolean value\"),this):(this.sendMessageToCallMachine({action:\"set-show-participants-bar\",show:e}),this._showParticipantsBar=e,this)}},{key:\"showParticipantsBar\",value:function(){return pc(this._callObjectMode,\"showParticipantsBar()\"),hc(),this._showParticipantsBar}},{key:\"customIntegrations\",value:function(){return hc(),pc(this._callObjectMode,\"customIntegrations()\"),this._customIntegrations}},{key:\"setCustomIntegrations\",value:function(e){return hc(),pc(this._callObjectMode,\"setCustomIntegrations()\"),sc(this._callState,\"setCustomIntegrations()\"),Ec(e)?(this.sendMessageToCallMachine({action:\"set-custom-integrations\",integrations:e}),this._customIntegrations=e,this):this}},{key:\"startCustomIntegrations\",value:function(e){var t=this;if(hc(),pc(this._callObjectMode,\"startCustomIntegrations()\"),sc(this._callState,\"startCustomIntegrations()\"),Array.isArray(e)&&e.some((function(e){return\"string\"!=typeof e}))||!Array.isArray(e)&&\"string\"!=typeof e)return console.error(\"startCustomIntegrations() only accepts string | string[]\"),this;var n=\"string\"==typeof e?[e]:e,r=n.filter((function(e){return!(e in t._customIntegrations)}));return r.length?(console.error(\"Can't find custom integration(s): \\\"\".concat(r.join(\", \"),'\"')),this):(this.sendMessageToCallMachine({action:\"start-custom-integrations\",ids:n}),this)}},{key:\"stopCustomIntegrations\",value:function(e){var t=this;if(hc(),pc(this._callObjectMode,\"stopCustomIntegrations()\"),sc(this._callState,\"stopCustomIntegrations()\"),Array.isArray(e)&&e.some((function(e){return\"string\"!=typeof e}))||!Array.isArray(e)&&\"string\"!=typeof e)return console.error(\"stopCustomIntegrations() only accepts string | string[]\"),this;var n=\"string\"==typeof e?[e]:e,r=n.filter((function(e){return!(e in t._customIntegrations)}));return r.length?(console.error(\"Can't find custom integration(s): \\\"\".concat(r.join(\", \"),'\"')),this):(this.sendMessageToCallMachine({action:\"stop-custom-integrations\",ids:n}),this)}},{key:\"customTrayButtons\",value:function(){return pc(this._callObjectMode,\"customTrayButtons()\"),hc(),this._customTrayButtons}},{key:\"updateCustomTrayButtons\",value:function(e){return pc(this._callObjectMode,\"updateCustomTrayButtons()\"),hc(),sc(this._callState,\"updateCustomTrayButtons()\"),Cc(e)?(this.sendMessageToCallMachine({action:\"update-custom-tray-buttons\",btns:e}),this._customTrayButtons=e,this):(console.error(\"updateCustomTrayButtons only accepts a dictionary of the type \".concat(JSON.stringify(ec))),this)}},{key:\"theme\",value:function(){return pc(this._callObjectMode,\"theme()\"),this.properties.theme}},{key:\"setTheme\",value:function(e){var t=this;return pc(this._callObjectMode,\"setTheme()\"),new Promise((function(n,r){try{t.validateProperties({theme:e}),t.properties.theme=Va({},e),t.sendMessageToCallMachine({action:\"set-theme\",theme:t.properties.theme});try{t.emitDailyJSEvent({action:eo,theme:t.properties.theme})}catch(e){console.log(\"could not emit 'theme-updated'\",e)}n(t.properties.theme)}catch(e){r(e)}}))}},{key:\"requestFullscreen\",value:(g=p((function*(){if(hc(),this._iframe&&!document.fullscreenElement&&ws())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(e){console.log(\"could not make video call fullscreen\",e)}})),function(){return g.apply(this,arguments)})},{key:\"exitFullscreen\",value:function(){hc(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:\"getSidebarView\",value:(v=p((function*(){var e=this;return this._callObjectMode?(console.error(\"getSidebarView is not available in callObject mode\"),Promise.resolve(null)):new Promise((function(t){e.sendMessageToCallMachine({action:\"get-sidebar-view\"},(function(e){t(e.view)}))}))})),function(){return v.apply(this,arguments)})},{key:\"setSidebarView\",value:function(e){return this._callObjectMode?(console.error(\"setSidebarView is not available in callObject mode\"),this):(this.sendMessageToCallMachine({action:\"set-sidebar-view\",view:e}),this)}},{key:\"room\",value:(h=p((function*(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeRoomConfigDefaults,n=void 0===t||t;return this._accessState.access===Oi||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise((function(t){e.sendMessageToCallMachine({action:\"lib-room-info\",includeRoomConfigDefaults:n},(function(e){delete e.action,delete e.callbackStamp,t(e)}))}))})),function(){return h.apply(this,arguments)})},{key:\"geo\",value:(d=p((function*(){try{var e=yield fetch(\"https://gs.daily.co/_ks_/x-swsl/:\");return{current:(yield e.json()).geo}}catch(e){return console.error(\"geo lookup failed\",e),{current:\"\"}}})),function(){return d.apply(this,arguments)})},{key:\"setNetworkTopology\",value:(c=p((function*(e){var t=this;return hc(),sc(this._callState,\"setNetworkTopology()\"),new Promise((function(n,r){t.sendMessageToCallMachine({action:\"set-network-topology\",opts:e},(function(e){e.error?r({error:e.error}):n({workerId:e.workerId})}))}))})),function(e){return c.apply(this,arguments)})},{key:\"getNetworkTopology\",value:(i=p((function*(){var e=this;return new Promise((function(t,n){e.needsLoad()&&t({topology:\"none\"}),e.sendMessageToCallMachine({action:\"get-network-topology\"},(function(e){e.error?n({error:e.error}):t({topology:e.topology})}))}))})),function(){return i.apply(this,arguments)})},{key:\"setPlayNewParticipantSound\",value:function(e){if(hc(),\"number\"!=typeof e&&!0!==e&&!1!==e)throw new Error(\"argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is \".concat(e));this.sendMessageToCallMachine({action:\"daily-method-set-play-ding\",arg:e})}},{key:\"on\",value:function(e,t){return x.prototype.on.call(this,e,t)}},{key:\"once\",value:function(e,t){return x.prototype.once.call(this,e,t)}},{key:\"off\",value:function(e,t){return x.prototype.off.call(this,e,t)}},{key:\"validateProperties\",value:function(e){var t,n;if(null!=e&&null!==(t=e.dailyConfig)&&void 0!==t&&t.userMediaAudioConstraints){var r,i;ys()||console.warn(\"userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.\");var o=e.inputSettings||{};o.audio=(null===(r=e.inputSettings)||void 0===r?void 0:r.audio)||{},o.audio.settings=(null===(i=e.inputSettings)||void 0===i||null===(i=i.audio)||void 0===i?void 0:i.settings)||{},o.audio.settings=Va(Va({},o.audio.settings),e.dailyConfig.userMediaAudioConstraints),e.inputSettings=o,delete e.dailyConfig.userMediaAudioConstraints}if(null!=e&&null!==(n=e.dailyConfig)&&void 0!==n&&n.userMediaVideoConstraints){var s,a;ys()||console.warn(\"userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.\");var c=e.inputSettings||{};c.video=(null===(s=e.inputSettings)||void 0===s?void 0:s.video)||{},c.video.settings=(null===(a=e.inputSettings)||void 0===a||null===(a=a.video)||void 0===a?void 0:a.settings)||{},c.video.settings=Va(Va({},c.video.settings),e.dailyConfig.userMediaVideoConstraints),e.inputSettings=c,delete e.dailyConfig.userMediaVideoConstraints}for(var l in e){if(!nc[l])throw new Error(\"unrecognized property '\".concat(l,\"'\"));if(nc[l].validate&&!nc[l].validate(e[l],this))throw new Error(\"property '\".concat(l,\"': \").concat(nc[l].help))}}},{key:\"assembleMeetingUrl\",value:function(){var e,t,n=Va(Va({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:null!==(e=this.properties.dailyConfig)&&void 0!==e&&e.proxyUrl?encodeURIComponent(null===(t=this.properties.dailyConfig)||void 0===t?void 0:t.proxyUrl):void 0}),r=n.url.match(/\\?/)?\"&\":\"?\";return n.url+r+Object.keys(nc).filter((function(e){return nc[e].queryString&&void 0!==n[e]})).map((function(e){return\"\".concat(nc[e].queryString,\"=\").concat(n[e])})).join(\"&\")}},{key:\"needsLoad\",value:function(){return[vi,gi,_i,wi].includes(this._callState)}},{key:\"sendMessageToCallMachine\",value:function(e,t){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error(\"Use after destroy\");this._messageChannel.sendMessageToCallMachine(e,t,this.callClientId,this._iframe)}},{key:\"forwardPackagedMessageToCallMachine\",value:function(e){this._messageChannel.forwardPackagedMessageToCallMachine(e,this._iframe,this.callClientId)}},{key:\"addListenerForPackagedMessagesFromCallMachine\",value:function(e){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(e,this.callClientId)}},{key:\"removeListenerForPackagedMessagesFromCallMachine\",value:function(e){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(e)}},{key:\"handleMessageFromCallMachine\",value:function(t){switch(t.action){case Xi:this.sendMessageToCallMachine(Va({action:Zi},this.properties));break;case\"call-machine-initialized\":this._callMachineInitialized=!0;var n={action:cs,level:\"log\",code:1011,stats:{event:\"bundle load\",time:\"no-op\"===this._bundleLoadTime?0:this._bundleLoadTime,preLoaded:\"no-op\"===this._bundleLoadTime,url:Z(this.properties.dailyConfig)}};this.sendMessageToCallMachine(n),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case ro:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(t);break;case ao:var r,i=Va({},t);delete i.internal,this._maxAppMessageSize=(null===(r=t.internal)||void 0===r?void 0:r._maxAppMessageSize)||rs,this._joinedCallback&&(this._joinedCallback(t.participants),this._joinedCallback=null),this.emitDailyJSEvent(i);break;case lo:case uo:if(this._callState===_i)return;if(t.participant&&t.participant.session_id){var o=t.participant.local?\"local\":t.participant.session_id;if(this._callObjectMode){var s=this._callMachine().store;ua(t.participant,s),da(t.participant,s),ha(t.participant,this._participants[o],s)}try{this.maybeParticipantTracksStopped(this._participants[o],t.participant),this.maybeParticipantTracksStarted(this._participants[o],t.participant),this.maybeEventRecordingStopped(this._participants[o],t.participant),this.maybeEventRecordingStarted(this._participants[o],t.participant)}catch(e){console.error(\"track events error\",e)}this.compareEqualForParticipantUpdateEvent(t.participant,this._participants[o])||(this._participants[o]=Va({},t.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(t))}break;case po:if(t.participant&&t.participant.session_id){var a=this._participants[t.participant.session_id];a&&this.maybeParticipantTracksStopped(a,null),delete this._participants[t.participant.session_id],this.emitDailyJSEvent(t)}break;case ho:N(this._participantCounts,t.participantCounts)||(this._participantCounts=t.participantCounts,this.emitDailyJSEvent(t));break;case fo:var c={access:t.access};t.awaitingAccess&&(c.awaitingAccess=t.awaitingAccess),N(this._accessState,c)||(this._accessState=c,this.emitDailyJSEvent(t));break;case vo:if(t.meetingSession){this._meetingSessionSummary=t.meetingSession,this.emitDailyJSEvent(t);var l=Va(Va({},t),{},{action:\"meeting-session-updated\"});this.emitDailyJSEvent(l)}break;case ns:var u;this._iframe&&!t.preserveIframe&&(this._iframe.src=\"\"),this._updateCallState(wi),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(t.errorMsg),this._loadedCallback=null),t.preserveIframe;var d=e(t,Ba);null!=d&&null!==(u=d.error)&&void 0!==u&&u.details&&(d.error.details=JSON.parse(d.error.details)),this._maybeSendToSentry(t),this._joinedCallback&&(this._joinedCallback(null,d),this._joinedCallback=null),this.emitDailyJSEvent(d);break;case co:this._callState!==wi&&this._updateCallState(_i),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(t);break;case\"selected-devices-updated\":t.devices&&this.emitDailyJSEvent(t);break;case Jo:var p=t.state,h=t.threshold,f=t.quality,v=p.state,g=p.reasons;v===this._network.networkState&&N(g,this._network.networkStateReasons)&&h===this._network.threshold&&f===this._network.quality||(this._network.networkState=v,this._network.networkStateReasons=g,this._network.quality=f,this._network.threshold=h,t.networkState=v,g.length&&(t.networkStateReasons=g),delete t.state,this.emitDailyJSEvent(t));break;case qo:t&&t.cpuLoadState&&this.emitDailyJSEvent(t);break;case zo:t&&void 0!==t.faceCounts&&this.emitDailyJSEvent(t);break;case Uo:var m=t.activeSpeaker;this._activeSpeaker.peerId!==m.peerId&&(this._activeSpeaker.peerId=m.peerId,this.emitDailyJSEvent({action:t.action,activeSpeaker:this._activeSpeaker}));break;case\"show-local-video-changed\":if(this._callObjectMode)return;var y=t.show;this._showLocalVideo=y,this.emitDailyJSEvent({action:t.action,show:y});break;case Vo:var b=t.enabled;this._activeSpeakerMode!==b&&(this._activeSpeakerMode=b,this.emitDailyJSEvent({action:t.action,enabled:this._activeSpeakerMode}));break;case yo:case bo:case _o:this._waitingParticipants=t.allWaitingParticipants,this.emitDailyJSEvent({action:t.action,participant:t.participant});break;case Zo:N(this._receiveSettings,t.receiveSettings)||(this._receiveSettings=t.receiveSettings,this.emitDailyJSEvent({action:t.action,receiveSettings:t.receiveSettings}));break;case es:this._maybeUpdateInputSettings(t.inputSettings);break;case\"send-settings-updated\":N(this._sendSettings,t.sendSettings)||(this._sendSettings=t.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:t.action,sendSettings:t.sendSettings}));break;case\"local-audio-level\":this._localAudioLevel=t.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(t);break;case\"remote-participants-audio-level\":this._remoteParticipantsAudioLevel=t.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(t);break;case Lo:var _=t.session_id;this._rmpPlayerState[_]=t.playerState,this.emitDailyJSEvent(t);break;case No:delete this._rmpPlayerState[t.session_id],this.emitDailyJSEvent(t);break;case Do:var w=t.session_id,S=this._rmpPlayerState[w];S&&this.compareEqualForRMPUpdateEvent(S,t.remoteMediaPlayerState)||(this._rmpPlayerState[w]=t.remoteMediaPlayerState,this.emitDailyJSEvent(t));break;case\"custom-button-click\":case\"sidebar-view-changed\":this.emitDailyJSEvent(t);break;case go:var k=this._meetingSessionState.topology!==(t.meetingSessionState&&t.meetingSessionState.topology);this._meetingSessionState=jc(t.meetingSessionState,this._callObjectMode),(this._callObjectMode||k)&&this.emitDailyJSEvent(t);break;case Ro:this._isScreenSharing=!0,this.emitDailyJSEvent(t);break;case Fo:case Bo:this._isScreenSharing=!1,this.emitDailyJSEvent(t);break;case Eo:case To:case Oo:case Po:case Ao:case ko:case Mo:case Co:case io:case oo:case Io:case xo:case\"test-completed\":case $o:case jo:case Go:case Qo:case Ko:case Yo:case ts:case Xo:case\"dialin-ready\":case\"dialin-connected\":case\"dialin-error\":case\"dialin-stopped\":case\"dialin-warning\":case\"dialout-connected\":case\"dialout-answered\":case\"dialout-error\":case\"dialout-stopped\":case\"dialout-warning\":this.emitDailyJSEvent(t);break;case\"request-fullscreen\":this.requestFullscreen();break;case\"request-exit-fullscreen\":this.exitFullscreen()}}},{key:\"maybeEventRecordingStopped\",value:function(e,t){var n=\"record\";e&&(t.local||!1!==t[n]||e[n]===t[n]||this.emitDailyJSEvent({action:To}))}},{key:\"maybeEventRecordingStarted\",value:function(e,t){var n=\"record\";e&&(t.local||!0!==t[n]||e[n]===t[n]||this.emitDailyJSEvent({action:Eo}))}},{key:\"_trackStatePlayable\",value:function(e){return!(!e||e.state!==Ti)}},{key:\"_trackChanged\",value:function(e,t){return!((null==e?void 0:e.id)===(null==t?void 0:t.id))}},{key:\"maybeEventTrackStopped\",value:function(e,t,n){var r,i,o=null!==(r=null==t?void 0:t.tracks[e])&&void 0!==r?r:null,s=null!==(i=null==n?void 0:n.tracks[e])&&void 0!==i?i:null,a=null==o?void 0:o.track;if(a){var c=this._trackStatePlayable(o),l=this._trackStatePlayable(s),u=this._trackChanged(a,null==s?void 0:s.track);c&&(l&&!u||this.emitDailyJSEvent({action:So,track:a,participant:null!=n?n:t,type:e}))}}},{key:\"maybeEventTrackStarted\",value:function(e,t,n){var r,i,o=null!==(r=null==t?void 0:t.tracks[e])&&void 0!==r?r:null,s=null!==(i=null==n?void 0:n.tracks[e])&&void 0!==i?i:null,a=null==s?void 0:s.track;if(a){var c=this._trackStatePlayable(o),l=this._trackStatePlayable(s),u=this._trackChanged(null==o?void 0:o.track,a);l&&(c&&!u||this.emitDailyJSEvent({action:wo,track:a,participant:n,type:e}))}}},{key:\"maybeParticipantTracksStopped\",value:function(e,t){if(e)for(var n in e.tracks)this.maybeEventTrackStopped(n,e,t)}},{key:\"maybeParticipantTracksStarted\",value:function(e,t){if(t)for(var n in t.tracks)this.maybeEventTrackStarted(n,e,t)}},{key:\"compareEqualForRMPUpdateEvent\",value:function(e,t){var n,r;return e.state===t.state&&(null===(n=e.settings)||void 0===n?void 0:n.volume)===(null===(r=t.settings)||void 0===r?void 0:r.volume)}},{key:\"emitDailyJSEvent\",value:function(e){try{e.callClientId=this.callClientId,this.emit(e.action,e)}catch(t){console.log(\"could not emit\",e,t)}}},{key:\"compareEqualForParticipantUpdateEvent\",value:function(e,t){return!!N(e,t)&&((!e.videoTrack||!t.videoTrack||e.videoTrack.id===t.videoTrack.id&&e.videoTrack.muted===t.videoTrack.muted&&e.videoTrack.enabled===t.videoTrack.enabled)&&(!e.audioTrack||!t.audioTrack||e.audioTrack.id===t.audioTrack.id&&e.audioTrack.muted===t.audioTrack.muted&&e.audioTrack.enabled===t.audioTrack.enabled))}},{key:\"nativeUtils\",value:function(){return ys()?\"undefined\"==typeof DailyNativeUtils?(console.warn(\"in React Native, DailyNativeUtils is expected to be available\"),null):DailyNativeUtils:null}},{key:\"updateIsPreparingToJoin\",value:function(e){this._updateCallState(this._callState,e)}},{key:\"_updateCallState\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._isPreparingToJoin;if(e!==this._callState||t!==this._isPreparingToJoin){var n=this._callState,r=this._isPreparingToJoin;this._callState=e,this._isPreparingToJoin=t;var i=this._callState===bi;this.updateShowAndroidOngoingMeetingNotification(i);var o=ac(n,r),s=ac(this._callState,this._isPreparingToJoin);o!==s&&(this.updateKeepDeviceAwake(s),this.updateDeviceAudioMode(s),this.updateNoOpRecordingEnsuringBackgroundContinuity(s))}}},{key:\"resetMeetingDependentVars\",value:function(){this._participants={},this._participantCounts=Qa,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Oi},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=jc(Ga,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=rs,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:\"updateKeepDeviceAwake\",value:function(e){ys()&&this.nativeUtils().setKeepDeviceAwake(e,this.callClientId)}},{key:\"updateDeviceAudioMode\",value:function(e){if(ys()&&!this.disableReactNativeAutoDeviceManagement(\"audio\")){var t=e?this._nativeInCallAudioMode:\"idle\";this.nativeUtils().setAudioMode(t)}}},{key:\"updateShowAndroidOngoingMeetingNotification\",value:function(e){if(ys()&&this.nativeUtils().setShowOngoingMeetingNotification){var t,n,r,i;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var o=this.properties.reactNativeConfig.androidInCallNotification;t=o.title,n=o.subtitle,r=o.iconName,i=o.disableForCustomOverride}i&&(e=!1),this.nativeUtils().setShowOngoingMeetingNotification(e,t,n,r,this.callClientId)}}},{key:\"updateNoOpRecordingEnsuringBackgroundContinuity\",value:function(e){ys()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(e)}},{key:\"toggleParticipantAudioBasedOnNativeAudioFocus\",value:function(){var e;if(ys()){var t=null===(e=this._callMachine())||void 0===e||null===(e=e.store)||void 0===e?void 0:e.getState();for(var n in null==t?void 0:t.streams){var r=t.streams[n];r&&r.pendingTrack&&\"audio\"===r.pendingTrack.kind&&(r.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:\"disableReactNativeAutoDeviceManagement\",value:function(e){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[e]}},{key:\"absoluteUrl\",value:function(e){if(void 0!==e){var t=document.createElement(\"a\");return t.href=e,t.href}}},{key:\"sayHello\",value:function(){var e=\"hello, world.\";return console.log(e),e}},{key:\"_logUseAfterDestroy\",value:function(){var e=Object.values(za)[0];if(this.needsLoad()){if(e&&!e.needsLoad()){var t={action:cs,level:\"error\",code:this.strictMode?9995:9997};e.sendMessageToCallMachine(t)}else if(!this.strictMode){console.error(\"You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.\")}}else{var n={action:cs,level:\"error\",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(n,null,this.callClientId,this._iframe)}}},{key:\"_logDuplicateInstanceAttempt\",value:function(){for(var e=0,t=Object.values(za);e<t.length;e++){var n=t[e];n._callMachineInitialized?(n.sendMessageToCallMachine({action:cs,level:\"warn\",code:this.allowMultipleCallInstances?9993:9992}),n._delayDuplicateInstanceLog=!1):n._delayDuplicateInstanceLog=!0}}},{key:\"_maybeSendToSentry\",value:function(e){var t,n,i,o;if(null!==(t=e.error)&&void 0!==t&&t.type){if(![$i,Vi,Bi].includes(e.error.type))return;if(e.error.type===Bi&&e.error.msg.includes(\"deleted\"))return}var s=null!==(n=this.properties)&&void 0!==n&&n.url?new URL(this.properties.url):void 0,a=\"production\";s&&s.host.includes(\".staging.daily\")&&(a=\"staging\");var c,l,u,d,p,h=function(e){const t=[Gn(),Wn(),ii(),ni(),ui(),fi(),rr(),hi()];return!1!==e.autoSessionTracking&&t.push(li()),t}({}).filter((function(e){return![\"BrowserApiErrors\",\"Breadcrumbs\",\"GlobalHandlers\"].includes(e.name)})),f=new jr({dsn:\"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844\",transport:Wr,stackParser:Zr,integrations:h,environment:a}),v=new Mt;if(v.setClient(f),f.init(),this.session_id&&v.setExtra(\"sessionId\",this.session_id),this.properties){var g=Va({},this.properties);g.userName=g.userName?\"[Filtered]\":void 0,g.userData=g.userData?\"[Filtered]\":void 0,g.token=g.token?\"[Filtered]\":void 0,v.setExtra(\"properties\",g)}if(s){var m=s.searchParams.get(\"domain\");if(!m){var y=s.host.match(/(.*?)\\./);m=y&&y[1]||\"\"}m&&v.setTag(\"domain\",m)}e.error&&(v.setTag(\"fatalErrorType\",e.error.type),v.setExtra(\"errorDetails\",e.error.details),(null===(c=e.error.details)||void 0===c?void 0:c.uri)&&v.setTag(\"serverAddress\",e.error.details.uri),(null===(l=e.error.details)||void 0===l?void 0:l.workerGroup)&&v.setTag(\"workerGroup\",e.error.details.workerGroup),(null===(u=e.error.details)||void 0===u?void 0:u.geoGroup)&&v.setTag(\"geoGroup\",e.error.details.geoGroup),(null===(d=e.error.details)||void 0===d?void 0:d.on)&&v.setTag(\"connectionAttempt\",e.error.details.on),null!==(p=e.error.details)&&void 0!==p&&p.bundleUrl&&(v.setTag(\"bundleUrl\",e.error.details.bundleUrl),v.setTag(\"bundleError\",e.error.details.sourceError.type)));v.setTags({callMode:this._callObjectMode?ys()?\"reactNative\":null!==(i=this.properties)&&void 0!==i&&null!==(i=i.dailyConfig)&&void 0!==i&&null!==(i=i.callMode)&&void 0!==i&&i.includes(\"prebuilt\")?this.properties.dailyConfig.callMode:\"custom\":\"prebuilt-frame\",version:r.version()});var b=(null===(o=e.error)||void 0===o?void 0:o.msg)||e.errorMsg;v.captureException(new Error(b))}},{key:\"_callMachine\",value:function(){var e;return null===(e=window._daily)||void 0===e||null===(e=e.instances)||void 0===e||null===(e=e[this.callClientId])||void 0===e?void 0:e.callMachine}},{key:\"_maybeUpdateInputSettings\",value:function(e){if(!N(this._inputSettings,e)){var t=this._getInputSettings();this._inputSettings=e;var n=this._getInputSettings();N(t,n)||this.emitDailyJSEvent({action:es,inputSettings:n})}}}],[{key:\"supportedBrowser\",value:function(){if(ys())return{supported:!0,mobile:!0,name:\"React Native\",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var e=Q.getParser(ms());return{supported:!!Cs(),mobile:\"mobile\"===e.getPlatformType(),name:e.getBrowserName(),version:e.getBrowserVersion(),supportsFullscreen:!!ws(),supportsScreenShare:!!_s(),supportsSfu:!!Cs(),supportsVideoProcessing:ks(),supportsAudioProcessing:Ms()}}},{key:\"version\",value:function(){return\"0.77.0\"}},{key:\"createCallObject\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.layout=\"none\",new r(null,e)}},{key:\"wrap\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(hc(),!e||!e.contentWindow||\"string\"!=typeof e.src)throw new Error(\"DailyIframe::Wrap needs an iframe-like first argument\");return t.layout||(t.customLayout?t.layout=\"custom-v1\":t.layout=\"browser\"),new r(e,t)}},{key:\"createFrame\",value:function(e,t){var n,i;hc(),e&&t?(n=e,i=t):e&&e.append?(n=e,i={}):(n=document.body,i=e||{});var o=i.iframeStyle;o||(o=n===document.body?{position:\"fixed\",border:\"1px solid black\",backgroundColor:\"white\",width:\"375px\",height:\"450px\",right:\"1em\",bottom:\"1em\"}:{border:0,width:\"100%\",height:\"100%\"});var s=document.createElement(\"iframe\");window.navigator&&window.navigator.userAgent.match(/Chrome\\/61\\./)?s.allow=\"microphone, camera\":s.allow=\"microphone; camera; autoplay; display-capture; screen-wake-lock\",s.style.visibility=\"hidden\",n.appendChild(s),s.style.visibility=null,Object.keys(o).forEach((function(e){return s.style[e]=o[e]})),i.layout||(i.customLayout?i.layout=\"custom-v1\":i.layout=\"browser\");try{return new r(s,i)}catch(e){throw n.removeChild(s),e}}},{key:\"createTransparentFrame\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};hc();var t=document.createElement(\"iframe\");return t.allow=\"microphone; camera; autoplay\",t.style.cssText=\"\\n      position: fixed;\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: 100%;\\n      border: 0;\\n      pointer-events: none;\\n    \",document.body.appendChild(t),e.layout||(e.layout=\"custom-v1\"),r.wrap(t,e)}},{key:\"getCallInstance\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return e?za[e]:Object.values(za)[0]}}]);var i,c,d,h,v,g,m,y,b,_,w,S,k,M,C,E,T,O,P,A,j,I,L,D,R,F,B,U,V,J,$,q,z,W,H,G,Y,ee}();function oc(e,t){var n={};for(var r in e)if(e[r]instanceof MediaStreamTrack)console.warn(\"MediaStreamTrack found in props or cache.\",r),n[r]=ls;else if(\"dailyConfig\"===r){if(e[r].modifyLocalSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyLocalSdpHook=e[r].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=i,delete e[r].modifyLocalSdpHook}if(e[r].modifyRemoteSdpHook){var o=window._daily.instances[t].customCallbacks||{};o.modifyRemoteSdpHook=e[r].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=o,delete e[r].modifyRemoteSdpHook}n[r]=e[r]}else n[r]=e[r];return n}function sc(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==bi){var n=\"\".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"This daily-js method\",\" only supported after join.\");throw t&&(n+=\" \".concat(t)),console.error(n),new Error(n)}}function ac(e,t){return[yi,bi].includes(e)||t}function cc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"This daily-js method\",r=arguments.length>3?arguments[3]:void 0;if(ac(e,t)){var i=\"\".concat(n,\" not supported after joining a meeting.\");throw r&&(i+=\" \".concat(r)),console.error(i),new Error(i)}}function lc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"This daily-js method\",n=arguments.length>2?arguments[2]:void 0;if(!e){var r=\"\".concat(t,arguments.length>3&&void 0!==arguments[3]&&arguments[3]?\" requires preAuth() or startCamera() to initialize call state.\":\" requires preAuth(), startCamera(), or join() to initialize call state.\");throw n&&(r+=\" \".concat(n)),console.error(r),new Error(r)}}function uc(e){if(e){var t=\"A pre-call quality test is in progress. Please try \".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"This daily-js method\",\" again once testing has completed. Use stopTestCallQuality() to end it early.\");throw console.error(t),new Error(t)}}function dc(e){if(!e){var t=\"\".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"This daily-js method\",\" is only supported on custom callObject instances\");throw console.error(t),new Error(t)}}function pc(e){if(e){var t=\"\".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"This daily-js method\",\" is only supported as part of Daily's Prebuilt\");throw console.error(t),new Error(t)}}function hc(){if(ys())throw new Error(\"This daily-js method is not currently supported in React Native\")}function fc(){if(!ys())throw new Error(\"This daily-js method is only supported in React Native\")}function vc(e){if(void 0===e)return!0;var t;if(\"string\"==typeof e)t=e;else try{t=JSON.stringify(e),N(JSON.parse(t),e)||console.warn(\"The userData provided will be modified when serialized.\")}catch(e){throw Error(\"userData must be serializable to JSON: \".concat(e))}if(t.length>4096)throw Error(\"userData is too large (\".concat(t.length,\" characters). Maximum size suppported is \").concat(4096,\".\"));return!0}function gc(e,t){for(var n=t.allowAllParticipantsKey,r=function(e){var t=[\"local\"];return n||t.push(\"*\"),e&&!t.includes(e)},i=function(e){return!!(void 0===e.layer||Number.isInteger(e.layer)&&e.layer>=0||\"inherit\"===e.layer)},o=function(e){return!!e&&(!(e.video&&!i(e.video))&&!(e.screenVideo&&!i(e.screenVideo)))},s=0,a=Object.entries(e);s<a.length;s++){var c=f(a[s],2),l=c[0],u=c[1];if(!r(l)||!o(u))return!1}return!0}function mc(e){if(\"object\"!==n(e))return!1;for(var t=0,r=Object.entries(e);t<r.length;t++){var i=f(r[t],2),o=i[0],s=i[1];switch(o){case\"video\":if(\"object\"!==n(s))return!1;for(var a=0,c=Object.entries(s);a<c.length;a++){var l=f(c[a],2),u=l[0],d=l[1];switch(u){case\"processor\":if(!_c(d))return!1;break;case\"settings\":if(!wc(d))return!1;break;default:return!1}}break;case\"audio\":if(\"object\"!==n(s))return!1;for(var p=0,h=Object.entries(s);p<h.length;p++){var v=f(h[p],2),g=v[0],m=v[1];switch(g){case\"processor\":if(!bc(m))return!1;break;case\"settings\":if(!wc(m))return!1;break;default:return!1}}break;default:return!1}}return!0}function yc(e,t,n){var r,i=[];e.video&&e.video.processor&&(ks(null!==(r=null==t?void 0:t.useLegacyVideoProcessor)&&void 0!==r&&r)||(e.video.settings?delete e.video.processor:delete e.video,i.push(\"video\")));e.audio&&e.audio.processor&&(Ms()||(e.audio.settings?delete e.audio.processor:delete e.audio,i.push(\"audio\"))),i.length>0&&console.error(\"Ignoring settings for browser- or platform-unsupported input processor(s): \".concat(i.join(\", \"))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(n.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:ls}):delete n.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(n.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:ls}):delete n.videoTrack)}function bc(e){if(ys())return console.warn(\"Video processing is not yet supported in React Native\"),!1;var t=[\"type\"];return!!e&&(\"object\"===n(e)&&(Object.keys(e).filter((function(e){return!t.includes(e)})).forEach((function(t){console.warn(\"invalid key inputSettings -> audio -> processor : \".concat(t)),delete e[t]})),!!function(e){if(\"string\"!=typeof e)return!1;if(!Object.values(ds).includes(e))return console.error(\"inputSettings audio processor type invalid\"),!1;return!0}(e.type)))}function _c(e){if(ys())return console.warn(\"Video processing is not yet supported in React Native\"),!1;var t=[\"type\",\"config\"];if(!e)return!1;if(\"object\"!==n(e))return!1;if(!function(e){if(\"string\"!=typeof e)return!1;if(!Object.values(us).includes(e))return console.error(\"inputSettings video processor type invalid\"),!1;return!0}(e.type))return!1;if(e.config){if(\"object\"!==n(e.config))return!1;if(!function(e,t){var n=Object.keys(t);if(0===n.length)return!0;var r=\"invalid object in inputSettings -> video -> processor -> config\";switch(e){case us.BGBLUR:return n.length>1||\"strength\"!==n[0]?(console.error(r),!1):!(\"number\"!=typeof t.strength||t.strength<=0||t.strength>1||isNaN(t.strength))||(console.error(\"\".concat(r,\"; expected: {0 < strength <= 1}, got: \").concat(t.strength)),!1);case us.BGIMAGE:return!(void 0!==t.source&&!function(e){if(\"default\"===e.source)return e.type=\"default\",!0;if(e.source instanceof ArrayBuffer)return!0;if(ee(e.source))return e.type=\"url\",!!function(e){var t=new URL(e),n=t.pathname;if(\"data:\"===t.protocol)try{var r=n.substring(n.indexOf(\":\")+1,n.indexOf(\";\")).split(\"/\")[1];return hs.includes(r)}catch(e){return console.error(\"failed to deduce blob content type\",e),!1}var i=n.split(\".\").at(-1).toLowerCase().trim();return hs.includes(i)}(e.source)||(console.error(\"invalid image type; supported types: [\".concat(hs.join(\", \"),\"]\")),!1);return t=e.source,n=Number(t),isNaN(n)||!Number.isInteger(n)||n<=0||n>10?(console.error(\"invalid image selection; must be an int, > 0, <= \".concat(10)),!1):(e.type=\"daily-preselect\",!0);var t,n}(t));default:return!0}}(e.type,e.config))return!1}return Object.keys(e).filter((function(e){return!t.includes(e)})).forEach((function(t){console.warn(\"invalid key inputSettings -> video -> processor : \".concat(t)),delete e[t]})),!0}function wc(e){return\"object\"===n(e)&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function Sc(){var e=Object.values(us).join(\" | \"),t=Object.values(ds).join(\" | \");return\"inputSettings must be of the form: { video?: { processor?: { type: [ \".concat(e,\" ], config?: {} } }, audio?: { processor: {type: [ \").concat(t,\" ] } } }\")}function kc(e){var t=e.allowAllParticipantsKey;return\"receiveSettings must be of the form { [<remote participant id> | \".concat(Ii).concat(t?' | \"'.concat(\"*\",'\"'):\"\",\"]: \")+'{ [video: [{ layer: [<non-negative integer> | \"inherit\"] } | \"inherit\"]], [screenVideo: [{ layer: [<non-negative integer> | \"inherit\"] } | \"inherit\"]] }}}'}function Mc(){return\"customIntegrations should be an object of type \".concat(JSON.stringify(tc),\".\")}function Cc(e){if(e&&\"object\"!==n(e)||Array.isArray(e))return console.error(\"customTrayButtons should be an Object of the type \".concat(JSON.stringify(ec),\".\")),!1;if(e)for(var t=0,r=Object.entries(e);t<r.length;t++)for(var i=f(r[t],1)[0],o=0,s=Object.entries(e[i]);o<s.length;o++){var a=f(s[o],2),c=a[0],l=a[1],u=ec.id[c];if(!u)return console.error(\"customTrayButton does not support key \".concat(c)),!1;switch(c){case\"iconPath\":case\"iconPathDarkMode\":if(!ee(l))return console.error(\"customTrayButton \".concat(c,\" should be a url.\")),!1;break;case\"visualState\":if(![\"default\",\"sidebar-open\",\"active\"].includes(l))return console.error(\"customTrayButton \".concat(c,\" should be \").concat(u,\". Got: \").concat(l)),!1;break;default:if(n(l)!==u)return console.error(\"customTrayButton \".concat(c,\" should be a \").concat(u,\".\")),!1}}return!0}function Ec(e){if(!e||e&&\"object\"!==n(e)||Array.isArray(e))return console.error(Mc()),!1;for(var t=function(e){return\"\".concat(e,\" should be \").concat(tc.id[e])},r=function(e,t){return console.error(\"customIntegration \".concat(e,\": \").concat(t))},i=0,o=Object.entries(e);i<o.length;i++){var s=f(o[i],1)[0];if(!(\"label\"in e[s]))return r(s,\"label is required\"),!1;if(!(\"location\"in e[s]))return r(s,\"location is required\"),!1;if(!(\"src\"in e[s])&&!(\"srcdoc\"in e[s]))return r(s,\"src or srcdoc is required\"),!1;for(var a=0,c=Object.entries(e[s]);a<c.length;a++){var l=f(c[a],2),u=l[0],d=l[1];switch(u){case\"allow\":case\"csp\":case\"name\":case\"referrerPolicy\":case\"sandbox\":if(\"string\"!=typeof d)return r(s,t(u)),!1;break;case\"iconURL\":if(!ee(d))return r(s,\"\".concat(u,\" should be a url\")),!1;break;case\"src\":if(\"srcdoc\"in e[s])return r(s,\"cannot have both src and srcdoc\"),!1;if(!ee(d))return r(s,'src \"'.concat(d,'\" is not a valid URL')),!1;break;case\"srcdoc\":if(\"src\"in e[s])return r(s,\"cannot have both src and srcdoc\"),!1;if(\"string\"!=typeof d)return r(s,t(u)),!1;break;case\"location\":if(![\"main\",\"sidebar\"].includes(d))return r(s,t(u)),!1;break;case\"controlledBy\":if(\"*\"!==d&&\"owners\"!==d&&(!Array.isArray(d)||d.some((function(e){return\"string\"!=typeof e}))))return r(s,t(u)),!1;break;case\"shared\":if((!Array.isArray(d)||d.some((function(e){return\"string\"!=typeof e})))&&\"owners\"!==d&&\"boolean\"!=typeof d)return r(s,t(u)),!1;break;default:if(!tc.id[u])return console.error(\"customIntegration does not support key \".concat(u)),!1}}}return!0}function Tc(e,t){if(void 0===t)return!1;switch(n(t)){case\"string\":return n(e)===t;case\"object\":if(\"object\"!==n(e))return!1;for(var r in e)if(!Tc(e[r],t[r]))return!1;return!0;default:return!1}}function Oc(e,t){var n=e.sessionId,r=e.toEndPoint,i=e.callerId,o=e.useSipRefer;if(!n||!r)throw new Error(\"\".concat(t,\"() requires a sessionId and toEndPoint\"));if(\"string\"!=typeof n||\"string\"!=typeof r)throw new Error(\"Invalid paramater: sessionId and toEndPoint must be of type string\");if(o&&!r.startsWith(\"sip:\"))throw new Error('\"toEndPoint\" must be a \"sip\" address');if(!r.startsWith(\"sip:\")&&!r.startsWith(\"+\"))throw new Error(\"toEndPoint: \".concat(r,' must starts with either \"sip:\" or \"+\"'));if(i&&\"string\"!=typeof i)throw new Error(\"callerId must be of type string\");if(i&&!r.startsWith(\"+\"))throw new Error(\"callerId is only valid when transferring to a PSTN number\")}function Pc(e){if(\"object\"!==n(e))throw new Error('RemoteMediaPlayerSettings: must be \"object\" type');if(e.state&&!Object.values(ps).includes(e.state))throw new Error(\"Invalid value for RemoteMediaPlayerSettings.state, valid values are: \"+JSON.stringify(ps));if(e.volume){if(\"number\"!=typeof e.volume)throw new Error('RemoteMediaPlayerSettings.volume: must be \"number\" type');if(e.volume<0||e.volume>2)throw new Error(\"RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0\")}}function Ac(e,t,n){return!(\"number\"!=typeof e||e<t||e>n)}function jc(e,t){return e&&!t&&delete e.data,e}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BwaXBlY2F0LWFpL3NtYWxsLXdlYnJ0Yy10cmFuc3BvcnQvbm9kZV9tb2R1bGVzL0BkYWlseS1jby9kYWlseS1qcy9kaXN0L2RhaWx5LWVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsZ0JBQWdCLG9CQUFvQix3QkFBd0Isb0JBQW9CLFNBQVMsb0JBQW9CLDJCQUEyQiw4QkFBOEIsVUFBVSxTQUFTLE1BQU0saUNBQWlDLHNDQUFzQyxRQUFRLFdBQVcsZ0NBQWdDLDZDQUE2QyxTQUFTLGdCQUFnQiw4RUFBOEUsY0FBYyxpRkFBaUYsZ0JBQWdCLGFBQWEsb0dBQW9HLE1BQU0sY0FBYyxvQkFBb0IsK0JBQStCLDRCQUE0QixlQUFlLDZCQUE2QiwyQkFBMkIsb0VBQW9FLHNDQUFzQyxhQUFhLDRCQUE0QixnQkFBZ0IsWUFBWSxXQUFXLEtBQUssV0FBVyxrSEFBa0gsa0JBQWtCLDBFQUEwRSxZQUFZLElBQUksZ0JBQWdCLHNEQUFzRCw4RkFBOEYsbUJBQW1CLG9HQUFvRyxTQUFTLElBQUksY0FBYyx3RUFBd0UsNkNBQTZDLE1BQU0sZ0JBQWdCLDBFQUEwRSx1QkFBdUIsUUFBUSxnQkFBZ0IsNEdBQTRHLDBDQUEwQyxhQUFhLHFDQUFxQyx1Q0FBdUMsWUFBWSxZQUFZLGtCQUFrQiw4Q0FBOEMsa0RBQWtELFdBQVcsMEJBQTBCLElBQUksd0JBQXdCLFNBQVMsaUJBQWlCLHlDQUF5QyxjQUFjLGtCQUFrQix1QkFBdUIsa0NBQWtDLG1CQUFtQixjQUFjLHNCQUFzQixjQUFjLHVCQUF1QixVQUFVLElBQUksZ0JBQWdCLG9DQUFvQyx1QkFBdUIsSUFBSSxjQUFjLFNBQVMsZ0JBQWdCLG1CQUFtQiw2QkFBNkIsbUJBQW1CLG1GQUFtRixZQUFZLDJCQUEyQixJQUFJ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b0YsZ0lBQWdJLDRFQUE0RSxzR0FBc0csZUFBZSx1RkFBdUYsNkpBQTZKLGFBQWEsd0dBQXdHLDBHQUEwRyxtQkFBbUIsc0NBQXNDLGlCQUFpQiw4QkFBNDFHIiwic291cmNlcyI6WyIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9ub2RlX21vZHVsZXMvQHBpcGVjYXQtYWkvc21hbGwtd2VicnRjLXRyYW5zcG9ydC9ub2RlX21vZHVsZXMvQGRhaWx5LWNvL2RhaWx5LWpzL2Rpc3QvZGFpbHktZXNtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGUoZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBuLHIsaT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIG49e307Zm9yKHZhciByIGluIGUpaWYoe30uaGFzT3duUHJvcGVydHkuY2FsbChlLHIpKXtpZigtMSE9PXQuaW5kZXhPZihyKSljb250aW51ZTtuW3JdPWVbcl19cmV0dXJuIG59KGUsdCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtmb3Iocj0wO3I8by5sZW5ndGg7cisrKW49b1tyXSwtMT09PXQuaW5kZXhPZihuKSYme30ucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLG4pJiYoaVtuXT1lW25dKX1yZXR1cm4gaX1mdW5jdGlvbiB0KGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBuKGUpe3JldHVybiBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LG4oZSl9ZnVuY3Rpb24gcihlKXt2YXIgdD1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPW4oZSl8fCFlKXJldHVybiBlO3ZhciByPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1yKXt2YXIgaT1yLmNhbGwoZSx0fHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9bihpKSlyZXR1cm4gaTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PW4odCk/dDp0K1wiXCJ9ZnVuY3Rpb24gaShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyKGkua2V5KSxpKX19ZnVuY3Rpb24gbyhlLHQsbil7cmV0dXJuIHQmJmkoZS5wcm90b3R5cGUsdCksbiYmaShlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX1mdW5jdGlvbiBzKGUsdCl7aWYodCYmKFwib2JqZWN0XCI9PW4odCl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpKXJldHVybiB0O2lmKHZvaWQgMCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gZX0oZSl9ZnVuY3Rpb24gYShlKXtyZXR1cm4gYT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0sYShlKX1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIGM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fX3Byb3RvX189dCxlfSxjKGUsdCl9ZnVuY3Rpb24gbChlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0JiZjKGUsdCl9ZnVuY3Rpb24gdShlLHQsbil7cmV0dXJuKHQ9cih0KSlpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiBkKGUsdCxuLHIsaSxvLHMpe3RyeXt2YXIgYT1lW29dKHMpLGM9YS52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCBuKGUpfWEuZG9uZT90KGMpOlByb21pc2UucmVzb2x2ZShjKS50aGVuKHIsaSl9ZnVuY3Rpb24gcChlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD10aGlzLG49YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixpKXt2YXIgbz1lLmFwcGx5KHQsbik7ZnVuY3Rpb24gcyhlKXtkKG8scixpLHMsYSxcIm5leHRcIixlKX1mdW5jdGlvbiBhKGUpe2QobyxyLGkscyxhLFwidGhyb3dcIixlKX1zKHZvaWQgMCl9KSl9fWZ1bmN0aW9uIGgoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIGYoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbD09ZT9udWxsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVtcIkBAaXRlcmF0b3JcIl07aWYobnVsbCE9bil7dmFyIHIsaSxvLHMsYT1bXSxjPSEwLGw9ITE7dHJ5e2lmKG89KG49bi5jYWxsKGUpKS5uZXh0LDA9PT10KXtpZihPYmplY3QobikhPT1uKXJldHVybjtjPSExfWVsc2UgZm9yKDshKGM9KHI9by5jYWxsKG4pKS5kb25lKSYmKGEucHVzaChyLnZhbHVlKSxhLmxlbmd0aCE9PXQpO2M9ITApO31jYXRjaChlKXtsPSEwLGk9ZX1maW5hbGx5e3RyeXtpZighYyYmbnVsbCE9bi5yZXR1cm4mJihzPW4ucmV0dXJuKCksT2JqZWN0KHMpIT09cykpcmV0dXJufWZpbmFsbHl7aWYobCl0aHJvdyBpfX1yZXR1cm4gYX19KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGgoZSx0KTt2YXIgbj17fS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKGUpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9oKGUsdCk6dm9pZCAwfX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfSgpfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZWZhdWx0XCIpP2UuZGVmYXVsdDplfXZhciBnLG09e2V4cG9ydHM6e319LHk9XCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3Q/UmVmbGVjdDpudWxsLGI9eSYmXCJmdW5jdGlvblwiPT10eXBlb2YgeS5hcHBseT95LmFwcGx5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoZSx0LG4pfTtnPXkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHkub3duS2V5cz95Lm93bktleXM6T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSkpfTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSl9O3ZhciBfPU51bWJlci5pc05hTnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPWV9O2Z1bmN0aW9uIHcoKXt3LmluaXQuY2FsbCh0aGlzKX1tLmV4cG9ydHM9dyxtLmV4cG9ydHMub25jZT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXtmdW5jdGlvbiBpKG4pe2UucmVtb3ZlTGlzdGVuZXIodCxvKSxyKG4pfWZ1bmN0aW9uIG8oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnJlbW92ZUxpc3RlbmVyJiZlLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixpKSxuKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9aihlLHQsbyx7b25jZTohMH0pLFwiZXJyb3JcIiE9PXQmJmZ1bmN0aW9uKGUsdCxuKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uJiZqKGUsXCJlcnJvclwiLHQsbil9KGUsaSx7b25jZTohMH0pfSkpfSx3LkV2ZW50RW1pdHRlcj13LHcucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLHcucHJvdG90eXBlLl9ldmVudHNDb3VudD0wLHcucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnM9dm9pZCAwO3ZhciBTPTEwO2Z1bmN0aW9uIGsoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBlKX1mdW5jdGlvbiBNKGUpe3JldHVybiB2b2lkIDA9PT1lLl9tYXhMaXN0ZW5lcnM/dy5kZWZhdWx0TWF4TGlzdGVuZXJzOmUuX21heExpc3RlbmVyc31mdW5jdGlvbiBDKGUsdCxuLHIpe3ZhciBpLG8scyxhO2lmKGsobiksdm9pZCAwPT09KG89ZS5fZXZlbnRzKT8obz1lLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSxlLl9ldmVudHNDb3VudD0wKToodm9pZCAwIT09by5uZXdMaXN0ZW5lciYmKGUuZW1pdChcIm5ld0xpc3RlbmVyXCIsdCxuLmxpc3RlbmVyP24ubGlzdGVuZXI6biksbz1lLl9ldmVudHMpLHM9b1t0XSksdm9pZCAwPT09cylzPW9bdF09biwrK2UuX2V2ZW50c0NvdW50O2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygcz9zPW9bdF09cj9bbixzXTpbcyxuXTpyP3MudW5zaGlmdChuKTpzLnB1c2gobiksKGk9TShlKSk+MCYmcy5sZW5ndGg+aSYmIXMud2FybmVkKXtzLndhcm5lZD0hMDt2YXIgYz1uZXcgRXJyb3IoXCJQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuIFwiK3MubGVuZ3RoK1wiIFwiK1N0cmluZyh0KStcIiBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0XCIpO2MubmFtZT1cIk1heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZ1wiLGMuZW1pdHRlcj1lLGMudHlwZT10LGMuY291bnQ9cy5sZW5ndGgsYT1jLGNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKGEpfXJldHVybiBlfWZ1bmN0aW9uIEUoKXtpZighdGhpcy5maXJlZClyZXR1cm4gdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLHRoaXMud3JhcEZuKSx0aGlzLmZpcmVkPSEwLDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk6dGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCxhcmd1bWVudHMpfWZ1bmN0aW9uIFQoZSx0LG4pe3ZhciByPXtmaXJlZDohMSx3cmFwRm46dm9pZCAwLHRhcmdldDplLHR5cGU6dCxsaXN0ZW5lcjpufSxpPUUuYmluZChyKTtyZXR1cm4gaS5saXN0ZW5lcj1uLHIud3JhcEZuPWksaX1mdW5jdGlvbiBPKGUsdCxuKXt2YXIgcj1lLl9ldmVudHM7aWYodm9pZCAwPT09cilyZXR1cm5bXTt2YXIgaT1yW3RdO3JldHVybiB2b2lkIDA9PT1pP1tdOlwiZnVuY3Rpb25cIj09dHlwZW9mIGk/bj9baS5saXN0ZW5lcnx8aV06W2ldOm4/ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBBcnJheShlLmxlbmd0aCksbj0wO248dC5sZW5ndGg7KytuKXRbbl09ZVtuXS5saXN0ZW5lcnx8ZVtuXTtyZXR1cm4gdH0oaSk6QShpLGkubGVuZ3RoKX1mdW5jdGlvbiBQKGUpe3ZhciB0PXRoaXMuX2V2ZW50cztpZih2b2lkIDAhPT10KXt2YXIgbj10W2VdO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pcmV0dXJuIDE7aWYodm9pZCAwIT09bilyZXR1cm4gbi5sZW5ndGh9cmV0dXJuIDB9ZnVuY3Rpb24gQShlLHQpe2Zvcih2YXIgbj1uZXcgQXJyYXkodCkscj0wO3I8dDsrK3IpbltyXT1lW3JdO3JldHVybiBufWZ1bmN0aW9uIGooZSx0LG4scil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbilyLm9uY2U/ZS5vbmNlKHQsbik6ZS5vbih0LG4pO2Vsc2V7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZS5hZGRFdmVudExpc3RlbmVyKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImVtaXR0ZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIGUpO2UuYWRkRXZlbnRMaXN0ZW5lcih0LChmdW5jdGlvbiBpKG8pe3Iub25jZSYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsaSksbihvKX0pKX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHcsXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFN9LHNldDpmdW5jdGlvbihlKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZTwwfHxfKGUpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJytlK1wiLlwiKTtTPWV9fSksdy5pbml0PWZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHMhPT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApLHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH0sdy5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlPDB8fF8oZSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK2UrXCIuXCIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9ZSx0aGlzfSx3LnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtyZXR1cm4gTSh0aGlzKX0sdy5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdC5wdXNoKGFyZ3VtZW50c1tuXSk7dmFyIHI9XCJlcnJvclwiPT09ZSxpPXRoaXMuX2V2ZW50cztpZih2b2lkIDAhPT1pKXI9ciYmdm9pZCAwPT09aS5lcnJvcjtlbHNlIGlmKCFyKXJldHVybiExO2lmKHIpe3ZhciBvO2lmKHQubGVuZ3RoPjAmJihvPXRbMF0pLG8gaW5zdGFuY2VvZiBFcnJvcil0aHJvdyBvO3ZhciBzPW5ldyBFcnJvcihcIlVuaGFuZGxlZCBlcnJvci5cIisobz9cIiAoXCIrby5tZXNzYWdlK1wiKVwiOlwiXCIpKTt0aHJvdyBzLmNvbnRleHQ9byxzfXZhciBhPWlbZV07aWYodm9pZCAwPT09YSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhKWIoYSx0aGlzLHQpO2Vsc2V7dmFyIGM9YS5sZW5ndGgsbD1BKGEsYyk7Zm9yKG49MDtuPGM7KytuKWIobFtuXSx0aGlzLHQpfXJldHVybiEwfSx3LnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiBDKHRoaXMsZSx0LCExKX0sdy5wcm90b3R5cGUub249dy5wcm90b3R5cGUuYWRkTGlzdGVuZXIsdy5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEModGhpcyxlLHQsITApfSx3LnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGsodCksdGhpcy5vbihlLFQodGhpcyxlLHQpKSx0aGlzfSx3LnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGsodCksdGhpcy5wcmVwZW5kTGlzdGVuZXIoZSxUKHRoaXMsZSx0KSksdGhpc30sdy5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxzO2lmKGsodCksdm9pZCAwPT09KHI9dGhpcy5fZXZlbnRzKSlyZXR1cm4gdGhpcztpZih2b2lkIDA9PT0obj1yW2VdKSlyZXR1cm4gdGhpcztpZihuPT09dHx8bi5saXN0ZW5lcj09PXQpMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTooZGVsZXRlIHJbZV0sci5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIixlLG4ubGlzdGVuZXJ8fHQpKTtlbHNlIGlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pe2ZvcihpPS0xLG89bi5sZW5ndGgtMTtvPj0wO28tLSlpZihuW29dPT09dHx8bltvXS5saXN0ZW5lcj09PXQpe3M9bltvXS5saXN0ZW5lcixpPW87YnJlYWt9aWYoaTwwKXJldHVybiB0aGlzOzA9PT1pP24uc2hpZnQoKTpmdW5jdGlvbihlLHQpe2Zvcig7dCsxPGUubGVuZ3RoO3QrKyllW3RdPWVbdCsxXTtlLnBvcCgpfShuLGkpLDE9PT1uLmxlbmd0aCYmKHJbZV09blswXSksdm9pZCAwIT09ci5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIixlLHN8fHQpfXJldHVybiB0aGlzfSx3LnByb3RvdHlwZS5vZmY9dy5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIsdy5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciB0LG4scjtpZih2b2lkIDA9PT0obj10aGlzLl9ldmVudHMpKXJldHVybiB0aGlzO2lmKHZvaWQgMD09PW4ucmVtb3ZlTGlzdGVuZXIpcmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKTp2b2lkIDAhPT1uW2VdJiYoMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTpkZWxldGUgbltlXSksdGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGksbz1PYmplY3Qua2V5cyhuKTtmb3Iocj0wO3I8by5sZW5ndGg7KytyKVwicmVtb3ZlTGlzdGVuZXJcIiE9PShpPW9bcl0pJiZ0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhpKTtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJyZW1vdmVMaXN0ZW5lclwiKSx0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wLHRoaXN9aWYoXCJmdW5jdGlvblwiPT10eXBlb2YodD1uW2VdKSl0aGlzLnJlbW92ZUxpc3RlbmVyKGUsdCk7ZWxzZSBpZih2b2lkIDAhPT10KWZvcihyPXQubGVuZ3RoLTE7cj49MDtyLS0pdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHRbcl0pO3JldHVybiB0aGlzfSx3LnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIE8odGhpcyxlLCEwKX0sdy5wcm90b3R5cGUucmF3TGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybiBPKHRoaXMsZSwhMSl9LHcubGlzdGVuZXJDb3VudD1mdW5jdGlvbihlLHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGUubGlzdGVuZXJDb3VudD9lLmxpc3RlbmVyQ291bnQodCk6UC5jYWxsKGUsdCl9LHcucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9UCx3LnByb3RvdHlwZS5ldmVudE5hbWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50PjA/Zyh0aGlzLl9ldmVudHMpOltdfTt2YXIgST1tLmV4cG9ydHMseD12KEkpLEw9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtmdW5jdGlvbiBEKGUsdCxuKXtmb3IobiBvZiBlLmtleXMoKSlpZihOKG4sdCkpcmV0dXJuIG59ZnVuY3Rpb24gTihlLHQpe3ZhciBuLHIsaTtpZihlPT09dClyZXR1cm4hMDtpZihlJiZ0JiYobj1lLmNvbnN0cnVjdG9yKT09PXQuY29uc3RydWN0b3Ipe2lmKG49PT1EYXRlKXJldHVybiBlLmdldFRpbWUoKT09PXQuZ2V0VGltZSgpO2lmKG49PT1SZWdFeHApcmV0dXJuIGUudG9TdHJpbmcoKT09PXQudG9TdHJpbmcoKTtpZihuPT09QXJyYXkpe2lmKChyPWUubGVuZ3RoKT09PXQubGVuZ3RoKWZvcig7ci0tJiZOKGVbcl0sdFtyXSk7KTtyZXR1cm4tMT09PXJ9aWYobj09PVNldCl7aWYoZS5zaXplIT09dC5zaXplKXJldHVybiExO2ZvcihyIG9mIGUpe2lmKChpPXIpJiZcIm9iamVjdFwiPT10eXBlb2YgaSYmIShpPUQodCxpKSkpcmV0dXJuITE7aWYoIXQuaGFzKGkpKXJldHVybiExfXJldHVybiEwfWlmKG49PT1NYXApe2lmKGUuc2l6ZSE9PXQuc2l6ZSlyZXR1cm4hMTtmb3IociBvZiBlKXtpZigoaT1yWzBdKSYmXCJvYmplY3RcIj09dHlwZW9mIGkmJiEoaT1EKHQsaSkpKXJldHVybiExO2lmKCFOKHJbMV0sdC5nZXQoaSkpKXJldHVybiExfXJldHVybiEwfWlmKG49PT1BcnJheUJ1ZmZlcillPW5ldyBVaW50OEFycmF5KGUpLHQ9bmV3IFVpbnQ4QXJyYXkodCk7ZWxzZSBpZihuPT09RGF0YVZpZXcpe2lmKChyPWUuYnl0ZUxlbmd0aCk9PT10LmJ5dGVMZW5ndGgpZm9yKDtyLS0mJmUuZ2V0SW50OChyKT09PXQuZ2V0SW50OChyKTspO3JldHVybi0xPT09cn1pZihBcnJheUJ1ZmZlci5pc1ZpZXcoZSkpe2lmKChyPWUuYnl0ZUxlbmd0aCk9PT10LmJ5dGVMZW5ndGgpZm9yKDtyLS0mJmVbcl09PT10W3JdOyk7cmV0dXJuLTE9PT1yfWlmKCFufHxcIm9iamVjdFwiPT10eXBlb2YgZSl7Zm9yKG4gaW4gcj0wLGUpe2lmKEwuY2FsbChlLG4pJiYrK3ImJiFMLmNhbGwodCxuKSlyZXR1cm4hMTtpZighKG4gaW4gdCl8fCFOKGVbbl0sdFtuXSkpcmV0dXJuITF9cmV0dXJuIE9iamVjdC5rZXlzKHQpLmxlbmd0aD09PXJ9fXJldHVybiBlIT1lJiZ0IT10fWNvbnN0IFI9e1wiQW1hem9uIFNpbGtcIjpcImFtYXpvbl9zaWxrXCIsXCJBbmRyb2lkIEJyb3dzZXJcIjpcImFuZHJvaWRcIixCYWRhOlwiYmFkYVwiLEJsYWNrQmVycnk6XCJibGFja2JlcnJ5XCIsQ2hyb21lOlwiY2hyb21lXCIsQ2hyb21pdW06XCJjaHJvbWl1bVwiLEVsZWN0cm9uOlwiZWxlY3Ryb25cIixFcGlwaGFueTpcImVwaXBoYW55XCIsRmlyZWZveDpcImZpcmVmb3hcIixGb2N1czpcImZvY3VzXCIsR2VuZXJpYzpcImdlbmVyaWNcIixcIkdvb2dsZSBTZWFyY2hcIjpcImdvb2dsZV9zZWFyY2hcIixHb29nbGVib3Q6XCJnb29nbGVib3RcIixcIkludGVybmV0IEV4cGxvcmVyXCI6XCJpZVwiLFwiSy1NZWxlb25cIjpcImtfbWVsZW9uXCIsTWF4dGhvbjpcIm1heHRob25cIixcIk1pY3Jvc29mdCBFZGdlXCI6XCJlZGdlXCIsXCJNWiBCcm93c2VyXCI6XCJtelwiLFwiTkFWRVIgV2hhbGUgQnJvd3NlclwiOlwibmF2ZXJcIixPcGVyYTpcIm9wZXJhXCIsXCJPcGVyYSBDb2FzdFwiOlwib3BlcmFfY29hc3RcIixQaGFudG9tSlM6XCJwaGFudG9tanNcIixQdWZmaW46XCJwdWZmaW5cIixRdXBaaWxsYTpcInF1cHppbGxhXCIsUVE6XCJxcVwiLFFRTGl0ZTpcInFxbGl0ZVwiLFNhZmFyaTpcInNhZmFyaVwiLFNhaWxmaXNoOlwic2FpbGZpc2hcIixcIlNhbXN1bmcgSW50ZXJuZXQgZm9yIEFuZHJvaWRcIjpcInNhbXN1bmdfaW50ZXJuZXRcIixTZWFNb25rZXk6XCJzZWFtb25rZXlcIixTbGVpcG5pcjpcInNsZWlwbmlyXCIsU3dpbmc6XCJzd2luZ1wiLFRpemVuOlwidGl6ZW5cIixcIlVDIEJyb3dzZXJcIjpcInVjXCIsVml2YWxkaTpcInZpdmFsZGlcIixcIldlYk9TIEJyb3dzZXJcIjpcIndlYm9zXCIsV2VDaGF0Olwid2VjaGF0XCIsXCJZYW5kZXggQnJvd3NlclwiOlwieWFuZGV4XCIsUm9rdTpcInJva3VcIn0sRj17YW1hem9uX3NpbGs6XCJBbWF6b24gU2lsa1wiLGFuZHJvaWQ6XCJBbmRyb2lkIEJyb3dzZXJcIixiYWRhOlwiQmFkYVwiLGJsYWNrYmVycnk6XCJCbGFja0JlcnJ5XCIsY2hyb21lOlwiQ2hyb21lXCIsY2hyb21pdW06XCJDaHJvbWl1bVwiLGVsZWN0cm9uOlwiRWxlY3Ryb25cIixlcGlwaGFueTpcIkVwaXBoYW55XCIsZmlyZWZveDpcIkZpcmVmb3hcIixmb2N1czpcIkZvY3VzXCIsZ2VuZXJpYzpcIkdlbmVyaWNcIixnb29nbGVib3Q6XCJHb29nbGVib3RcIixnb29nbGVfc2VhcmNoOlwiR29vZ2xlIFNlYXJjaFwiLGllOlwiSW50ZXJuZXQgRXhwbG9yZXJcIixrX21lbGVvbjpcIkstTWVsZW9uXCIsbWF4dGhvbjpcIk1heHRob25cIixlZGdlOlwiTWljcm9zb2Z0IEVkZ2VcIixtejpcIk1aIEJyb3dzZXJcIixuYXZlcjpcIk5BVkVSIFdoYWxlIEJyb3dzZXJcIixvcGVyYTpcIk9wZXJhXCIsb3BlcmFfY29hc3Q6XCJPcGVyYSBDb2FzdFwiLHBoYW50b21qczpcIlBoYW50b21KU1wiLHB1ZmZpbjpcIlB1ZmZpblwiLHF1cHppbGxhOlwiUXVwWmlsbGFcIixxcTpcIlFRIEJyb3dzZXJcIixxcWxpdGU6XCJRUSBCcm93c2VyIExpdGVcIixzYWZhcmk6XCJTYWZhcmlcIixzYWlsZmlzaDpcIlNhaWxmaXNoXCIsc2Ftc3VuZ19pbnRlcm5ldDpcIlNhbXN1bmcgSW50ZXJuZXQgZm9yIEFuZHJvaWRcIixzZWFtb25rZXk6XCJTZWFNb25rZXlcIixzbGVpcG5pcjpcIlNsZWlwbmlyXCIsc3dpbmc6XCJTd2luZ1wiLHRpemVuOlwiVGl6ZW5cIix1YzpcIlVDIEJyb3dzZXJcIix2aXZhbGRpOlwiVml2YWxkaVwiLHdlYm9zOlwiV2ViT1MgQnJvd3NlclwiLHdlY2hhdDpcIldlQ2hhdFwiLHlhbmRleDpcIllhbmRleCBCcm93c2VyXCJ9LEI9e3RhYmxldDpcInRhYmxldFwiLG1vYmlsZTpcIm1vYmlsZVwiLGRlc2t0b3A6XCJkZXNrdG9wXCIsdHY6XCJ0dlwifSxVPXtXaW5kb3dzUGhvbmU6XCJXaW5kb3dzIFBob25lXCIsV2luZG93czpcIldpbmRvd3NcIixNYWNPUzpcIm1hY09TXCIsaU9TOlwiaU9TXCIsQW5kcm9pZDpcIkFuZHJvaWRcIixXZWJPUzpcIldlYk9TXCIsQmxhY2tCZXJyeTpcIkJsYWNrQmVycnlcIixCYWRhOlwiQmFkYVwiLFRpemVuOlwiVGl6ZW5cIixMaW51eDpcIkxpbnV4XCIsQ2hyb21lT1M6XCJDaHJvbWUgT1NcIixQbGF5U3RhdGlvbjQ6XCJQbGF5U3RhdGlvbiA0XCIsUm9rdTpcIlJva3VcIn0sVj17RWRnZUhUTUw6XCJFZGdlSFRNTFwiLEJsaW5rOlwiQmxpbmtcIixUcmlkZW50OlwiVHJpZGVudFwiLFByZXN0bzpcIlByZXN0b1wiLEdlY2tvOlwiR2Vja29cIixXZWJLaXQ6XCJXZWJLaXRcIn07Y2xhc3MgSntzdGF0aWMgZ2V0Rmlyc3RNYXRjaChlLHQpe2NvbnN0IG49dC5tYXRjaChlKTtyZXR1cm4gbiYmbi5sZW5ndGg+MCYmblsxXXx8XCJcIn1zdGF0aWMgZ2V0U2Vjb25kTWF0Y2goZSx0KXtjb25zdCBuPXQubWF0Y2goZSk7cmV0dXJuIG4mJm4ubGVuZ3RoPjEmJm5bMl18fFwiXCJ9c3RhdGljIG1hdGNoQW5kUmV0dXJuQ29uc3QoZSx0LG4pe2lmKGUudGVzdCh0KSlyZXR1cm4gbn1zdGF0aWMgZ2V0V2luZG93c1ZlcnNpb25OYW1lKGUpe3N3aXRjaChlKXtjYXNlXCJOVFwiOnJldHVyblwiTlRcIjtjYXNlXCJYUFwiOmNhc2VcIk5UIDUuMVwiOnJldHVyblwiWFBcIjtjYXNlXCJOVCA1LjBcIjpyZXR1cm5cIjIwMDBcIjtjYXNlXCJOVCA1LjJcIjpyZXR1cm5cIjIwMDNcIjtjYXNlXCJOVCA2LjBcIjpyZXR1cm5cIlZpc3RhXCI7Y2FzZVwiTlQgNi4xXCI6cmV0dXJuXCI3XCI7Y2FzZVwiTlQgNi4yXCI6cmV0dXJuXCI4XCI7Y2FzZVwiTlQgNi4zXCI6cmV0dXJuXCI4LjFcIjtjYXNlXCJOVCAxMC4wXCI6cmV0dXJuXCIxMFwiO2RlZmF1bHQ6cmV0dXJufX1zdGF0aWMgZ2V0TWFjT1NWZXJzaW9uTmFtZShlKXtjb25zdCB0PWUuc3BsaXQoXCIuXCIpLnNwbGljZSgwLDIpLm1hcCgoZT0+cGFyc2VJbnQoZSwxMCl8fDApKTtpZih0LnB1c2goMCksMTA9PT10WzBdKXN3aXRjaCh0WzFdKXtjYXNlIDU6cmV0dXJuXCJMZW9wYXJkXCI7Y2FzZSA2OnJldHVyblwiU25vdyBMZW9wYXJkXCI7Y2FzZSA3OnJldHVyblwiTGlvblwiO2Nhc2UgODpyZXR1cm5cIk1vdW50YWluIExpb25cIjtjYXNlIDk6cmV0dXJuXCJNYXZlcmlja3NcIjtjYXNlIDEwOnJldHVyblwiWW9zZW1pdGVcIjtjYXNlIDExOnJldHVyblwiRWwgQ2FwaXRhblwiO2Nhc2UgMTI6cmV0dXJuXCJTaWVycmFcIjtjYXNlIDEzOnJldHVyblwiSGlnaCBTaWVycmFcIjtjYXNlIDE0OnJldHVyblwiTW9qYXZlXCI7Y2FzZSAxNTpyZXR1cm5cIkNhdGFsaW5hXCI7ZGVmYXVsdDpyZXR1cm59fXN0YXRpYyBnZXRBbmRyb2lkVmVyc2lvbk5hbWUoZSl7Y29uc3QgdD1lLnNwbGl0KFwiLlwiKS5zcGxpY2UoMCwyKS5tYXAoKGU9PnBhcnNlSW50KGUsMTApfHwwKSk7aWYodC5wdXNoKDApLCEoMT09PXRbMF0mJnRbMV08NSkpcmV0dXJuIDE9PT10WzBdJiZ0WzFdPDY/XCJDdXBjYWtlXCI6MT09PXRbMF0mJnRbMV0+PTY/XCJEb251dFwiOjI9PT10WzBdJiZ0WzFdPDI/XCJFY2xhaXJcIjoyPT09dFswXSYmMj09PXRbMV0/XCJGcm95b1wiOjI9PT10WzBdJiZ0WzFdPjI/XCJHaW5nZXJicmVhZFwiOjM9PT10WzBdP1wiSG9uZXljb21iXCI6ND09PXRbMF0mJnRbMV08MT9cIkljZSBDcmVhbSBTYW5kd2ljaFwiOjQ9PT10WzBdJiZ0WzFdPDQ/XCJKZWxseSBCZWFuXCI6ND09PXRbMF0mJnRbMV0+PTQ/XCJLaXRLYXRcIjo1PT09dFswXT9cIkxvbGxpcG9wXCI6Nj09PXRbMF0/XCJNYXJzaG1hbGxvd1wiOjc9PT10WzBdP1wiTm91Z2F0XCI6OD09PXRbMF0/XCJPcmVvXCI6OT09PXRbMF0/XCJQaWVcIjp2b2lkIDB9c3RhdGljIGdldFZlcnNpb25QcmVjaXNpb24oZSl7cmV0dXJuIGUuc3BsaXQoXCIuXCIpLmxlbmd0aH1zdGF0aWMgY29tcGFyZVZlcnNpb25zKGUsdCxuPSExKXtjb25zdCByPUouZ2V0VmVyc2lvblByZWNpc2lvbihlKSxpPUouZ2V0VmVyc2lvblByZWNpc2lvbih0KTtsZXQgbz1NYXRoLm1heChyLGkpLHM9MDtjb25zdCBhPUoubWFwKFtlLHRdLChlPT57Y29uc3QgdD1vLUouZ2V0VmVyc2lvblByZWNpc2lvbihlKSxuPWUrbmV3IEFycmF5KHQrMSkuam9pbihcIi4wXCIpO3JldHVybiBKLm1hcChuLnNwbGl0KFwiLlwiKSwoZT0+bmV3IEFycmF5KDIwLWUubGVuZ3RoKS5qb2luKFwiMFwiKStlKSkucmV2ZXJzZSgpfSkpO2ZvcihuJiYocz1vLU1hdGgubWluKHIsaSkpLG8tPTE7bz49czspe2lmKGFbMF1bb10+YVsxXVtvXSlyZXR1cm4gMTtpZihhWzBdW29dPT09YVsxXVtvXSl7aWYobz09PXMpcmV0dXJuIDA7by09MX1lbHNlIGlmKGFbMF1bb108YVsxXVtvXSlyZXR1cm4tMX19c3RhdGljIG1hcChlLHQpe2NvbnN0IG49W107bGV0IHI7aWYoQXJyYXkucHJvdG90eXBlLm1hcClyZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGUsdCk7Zm9yKHI9MDtyPGUubGVuZ3RoO3IrPTEpbi5wdXNoKHQoZVtyXSkpO3JldHVybiBufXN0YXRpYyBmaW5kKGUsdCl7bGV0IG4scjtpZihBcnJheS5wcm90b3R5cGUuZmluZClyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbmQuY2FsbChlLHQpO2ZvcihuPTAscj1lLmxlbmd0aDtuPHI7bis9MSl7Y29uc3Qgcj1lW25dO2lmKHQocixuKSlyZXR1cm4gcn19c3RhdGljIGFzc2lnbihlLC4uLnQpe2NvbnN0IG49ZTtsZXQgcixpO2lmKE9iamVjdC5hc3NpZ24pcmV0dXJuIE9iamVjdC5hc3NpZ24oZSwuLi50KTtmb3Iocj0wLGk9dC5sZW5ndGg7cjxpO3IrPTEpe2NvbnN0IGU9dFtyXTtpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUpe09iamVjdC5rZXlzKGUpLmZvckVhY2goKHQ9PntuW3RdPWVbdF19KSl9fXJldHVybiBlfXN0YXRpYyBnZXRCcm93c2VyQWxpYXMoZSl7cmV0dXJuIFJbZV19c3RhdGljIGdldEJyb3dzZXJUeXBlQnlBbGlhcyhlKXtyZXR1cm4gRltlXXx8XCJcIn19Y29uc3QgJD0vdmVyc2lvblxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxxPVt7dGVzdDpbL2dvb2dsZWJvdC9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiR29vZ2xlYm90XCJ9LG49Si5nZXRGaXJzdE1hdGNoKC9nb29nbGVib3RcXC8oXFxkKyhcXC5cXGQrKSkvaSxlKXx8Si5nZXRGaXJzdE1hdGNoKCQsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0Olsvb3BlcmEvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIk9wZXJhXCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSl8fEouZ2V0Rmlyc3RNYXRjaCgvKD86b3BlcmEpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL29wclxcL3xvcGlvcy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiT3BlcmFcIn0sbj1KLmdldEZpcnN0TWF0Y2goLyg/Om9wcnxvcGlvcylbXFxzL10oXFxTKykvaSxlKXx8Si5nZXRGaXJzdE1hdGNoKCQsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvU2Ftc3VuZ0Jyb3dzZXIvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlNhbXN1bmcgSW50ZXJuZXQgZm9yIEFuZHJvaWRcIn0sbj1KLmdldEZpcnN0TWF0Y2goJCxlKXx8Si5nZXRGaXJzdE1hdGNoKC8oPzpTYW1zdW5nQnJvd3NlcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvV2hhbGUvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIk5BVkVSIFdoYWxlIEJyb3dzZXJcIn0sbj1KLmdldEZpcnN0TWF0Y2goJCxlKXx8Si5nZXRGaXJzdE1hdGNoKC8oPzp3aGFsZSlbXFxzL10oXFxkKyg/OlxcLlxcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9NWkJyb3dzZXIvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIk1aIEJyb3dzZXJcIn0sbj1KLmdldEZpcnN0TWF0Y2goLyg/Ok1aQnJvd3NlcilbXFxzL10oXFxkKyg/OlxcLlxcZCspKykvaSxlKXx8Si5nZXRGaXJzdE1hdGNoKCQsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvZm9jdXMvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkZvY3VzXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzpmb2N1cylbXFxzL10oXFxkKyg/OlxcLlxcZCspKykvaSxlKXx8Si5nZXRGaXJzdE1hdGNoKCQsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0Olsvc3dpbmcvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlN3aW5nXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzpzd2luZylbXFxzL10oXFxkKyg/OlxcLlxcZCspKykvaSxlKXx8Si5nZXRGaXJzdE1hdGNoKCQsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvY29hc3QvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIk9wZXJhIENvYXN0XCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSl8fEouZ2V0Rmlyc3RNYXRjaCgvKD86Y29hc3QpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL29wdFxcL1xcZCsoPzouP18/XFxkKykrL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJPcGVyYSBUb3VjaFwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvKD86b3B0KVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKXx8Si5nZXRGaXJzdE1hdGNoKCQsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsveWFicm93c2VyL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJZYW5kZXggQnJvd3NlclwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvKD86eWFicm93c2VyKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKXx8Si5nZXRGaXJzdE1hdGNoKCQsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvdWNicm93c2VyL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJVQyBCcm93c2VyXCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSl8fEouZ2V0Rmlyc3RNYXRjaCgvKD86dWNicm93c2VyKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9NYXh0aG9ufG14aW9zL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJNYXh0aG9uXCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSl8fEouZ2V0Rmlyc3RNYXRjaCgvKD86TWF4dGhvbnxteGlvcylbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvZXBpcGhhbnkvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkVwaXBoYW55XCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSl8fEouZ2V0Rmlyc3RNYXRjaCgvKD86ZXBpcGhhbnkpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3B1ZmZpbi9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiUHVmZmluXCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSl8fEouZ2V0Rmlyc3RNYXRjaCgvKD86cHVmZmluKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9zbGVpcG5pci9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiU2xlaXBuaXJcIn0sbj1KLmdldEZpcnN0TWF0Y2goJCxlKXx8Si5nZXRGaXJzdE1hdGNoKC8oPzpzbGVpcG5pcilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0Olsvay1tZWxlb24vaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkstTWVsZW9uXCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSl8fEouZ2V0Rmlyc3RNYXRjaCgvKD86ay1tZWxlb24pW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL21pY3JvbWVzc2VuZ2VyL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJXZUNoYXRcIn0sbj1KLmdldEZpcnN0TWF0Y2goLyg/Om1pY3JvbWVzc2VuZ2VyKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKXx8Si5nZXRGaXJzdE1hdGNoKCQsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvcXFicm93c2VyL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6L3FxYnJvd3NlcmxpdGUvaS50ZXN0KGUpP1wiUVEgQnJvd3NlciBMaXRlXCI6XCJRUSBCcm93c2VyXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzpxcWJyb3dzZXJsaXRlfHFxYnJvd3NlcilbL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL21zaWV8dHJpZGVudC9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiSW50ZXJuZXQgRXhwbG9yZXJcIn0sbj1KLmdldEZpcnN0TWF0Y2goLyg/Om1zaWUgfHJ2OikoXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvXFxzZWRnXFwvL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJNaWNyb3NvZnQgRWRnZVwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvXFxzZWRnXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2VkZyhbZWFdfGlvcykvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIk1pY3Jvc29mdCBFZGdlXCJ9LG49Si5nZXRTZWNvbmRNYXRjaCgvZWRnKFtlYV18aW9zKVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy92aXZhbGRpL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJWaXZhbGRpXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC92aXZhbGRpXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3NlYW1vbmtleS9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiU2VhTW9ua2V5XCJ9LG49Si5nZXRGaXJzdE1hdGNoKC9zZWFtb25rZXlcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0Olsvc2FpbGZpc2gvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlNhaWxmaXNoXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC9zYWlsZmlzaFxccz9icm93c2VyXFwvKFxcZCsoXFwuXFxkKyk/KS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3NpbGsvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkFtYXpvbiBTaWxrXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC9zaWxrXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3BoYW50b20vaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlBoYW50b21KU1wifSxuPUouZ2V0Rmlyc3RNYXRjaCgvcGhhbnRvbWpzXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3NsaW1lcmpzL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJTbGltZXJKU1wifSxuPUouZ2V0Rmlyc3RNYXRjaCgvc2xpbWVyanNcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvYmxhY2tiZXJyeXxcXGJiYlxcZCsvaSwvcmltXFxzdGFibGV0L2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJCbGFja0JlcnJ5XCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSl8fEouZ2V0Rmlyc3RNYXRjaCgvYmxhY2tiZXJyeVtcXGRdK1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy8od2VifGhwdylbbzBdcy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiV2ViT1MgQnJvd3NlclwifSxuPUouZ2V0Rmlyc3RNYXRjaCgkLGUpfHxKLmdldEZpcnN0TWF0Y2goL3coPzplYik/W28wXXNicm93c2VyXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2JhZGEvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkJhZGFcIn0sbj1KLmdldEZpcnN0TWF0Y2goL2RvbGZpblxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy90aXplbi9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiVGl6ZW5cIn0sbj1KLmdldEZpcnN0TWF0Y2goLyg/OnRpemVuXFxzPyk/YnJvd3NlclxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKXx8Si5nZXRGaXJzdE1hdGNoKCQsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvcXVwemlsbGEvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlF1cFppbGxhXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzpxdXB6aWxsYSlbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fEouZ2V0Rmlyc3RNYXRjaCgkLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2ZpcmVmb3h8aWNld2Vhc2VsfGZ4aW9zL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJGaXJlZm94XCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzpmaXJlZm94fGljZXdlYXNlbHxmeGlvcylbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvZWxlY3Ryb24vaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkVsZWN0cm9uXCJ9LG49Si5nZXRGaXJzdE1hdGNoKC8oPzplbGVjdHJvbilcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvTWl1aUJyb3dzZXIvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIk1pdWlcIn0sbj1KLmdldEZpcnN0TWF0Y2goLyg/Ok1pdWlCcm93c2VyKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9jaHJvbWl1bS9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiQ2hyb21pdW1cIn0sbj1KLmdldEZpcnN0TWF0Y2goLyg/OmNocm9taXVtKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKXx8Si5nZXRGaXJzdE1hdGNoKCQsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvY2hyb21lfGNyaW9zfGNybW8vaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkNocm9tZVwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvKD86Y2hyb21lfGNyaW9zfGNybW8pXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL0dTQS9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiR29vZ2xlIFNlYXJjaFwifSxuPUouZ2V0Rmlyc3RNYXRjaCgvKD86R1NBKVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3QoZSl7Y29uc3QgdD0hZS50ZXN0KC9saWtlIGFuZHJvaWQvaSksbj1lLnRlc3QoL2FuZHJvaWQvaSk7cmV0dXJuIHQmJm59LGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJBbmRyb2lkIEJyb3dzZXJcIn0sbj1KLmdldEZpcnN0TWF0Y2goJCxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9wbGF5c3RhdGlvbiA0L2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJQbGF5U3RhdGlvbiA0XCJ9LG49Si5nZXRGaXJzdE1hdGNoKCQsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0Olsvc2FmYXJpfGFwcGxld2Via2l0L2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJTYWZhcmlcIn0sbj1KLmdldEZpcnN0TWF0Y2goJCxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy8uKi9pXSxkZXNjcmliZShlKXtjb25zdCB0PS0xIT09ZS5zZWFyY2goXCJcXFxcKFwiKT8vXiguKilcXC8oLiopWyBcXHRdXFwoKC4qKS86L14oLiopXFwvKC4qKSAvO3JldHVybntuYW1lOkouZ2V0Rmlyc3RNYXRjaCh0LGUpLHZlcnNpb246Si5nZXRTZWNvbmRNYXRjaCh0LGUpfX19XTt2YXIgej1be3Rlc3Q6Wy9Sb2t1XFwvRFZQL10sZGVzY3JpYmUoZSl7Y29uc3QgdD1KLmdldEZpcnN0TWF0Y2goL1Jva3VcXC9EVlAtKFxcZCtcXC5cXGQrKS9pLGUpO3JldHVybntuYW1lOlUuUm9rdSx2ZXJzaW9uOnR9fX0se3Rlc3Q6Wy93aW5kb3dzIHBob25lL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9Si5nZXRGaXJzdE1hdGNoKC93aW5kb3dzIHBob25lICg/Om9zKT9cXHM/KFxcZCsoXFwuXFxkKykqKS9pLGUpO3JldHVybntuYW1lOlUuV2luZG93c1Bob25lLHZlcnNpb246dH19fSx7dGVzdDpbL3dpbmRvd3MgL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9Si5nZXRGaXJzdE1hdGNoKC9XaW5kb3dzICgoTlR8WFApKCBcXGRcXGQ/LlxcZCk/KS9pLGUpLG49Si5nZXRXaW5kb3dzVmVyc2lvbk5hbWUodCk7cmV0dXJue25hbWU6VS5XaW5kb3dzLHZlcnNpb246dCx2ZXJzaW9uTmFtZTpufX19LHt0ZXN0OlsvTWFjaW50b3NoKC4qPykgRnhpT1MoLio/KVxcLy9dLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6VS5pT1N9LG49Si5nZXRTZWNvbmRNYXRjaCgvKFZlcnNpb25cXC8pKFxcZFtcXGQuXSspLyxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9tYWNpbnRvc2gvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD1KLmdldEZpcnN0TWF0Y2goL21hYyBvcyB4IChcXGQrKFxcLj9fP1xcZCspKykvaSxlKS5yZXBsYWNlKC9bX1xcc10vZyxcIi5cIiksbj1KLmdldE1hY09TVmVyc2lvbk5hbWUodCkscj17bmFtZTpVLk1hY09TLHZlcnNpb246dH07cmV0dXJuIG4mJihyLnZlcnNpb25OYW1lPW4pLHJ9fSx7dGVzdDpbLyhpcG9kfGlwaG9uZXxpcGFkKS9pXSxkZXNjcmliZShlKXtjb25zdCB0PUouZ2V0Rmlyc3RNYXRjaCgvb3MgKFxcZCsoW19cXHNdXFxkKykqKSBsaWtlIG1hYyBvcyB4L2ksZSkucmVwbGFjZSgvW19cXHNdL2csXCIuXCIpO3JldHVybntuYW1lOlUuaU9TLHZlcnNpb246dH19fSx7dGVzdChlKXtjb25zdCB0PSFlLnRlc3QoL2xpa2UgYW5kcm9pZC9pKSxuPWUudGVzdCgvYW5kcm9pZC9pKTtyZXR1cm4gdCYmbn0sZGVzY3JpYmUoZSl7Y29uc3QgdD1KLmdldEZpcnN0TWF0Y2goL2FuZHJvaWRbXFxzLy1dKFxcZCsoXFwuXFxkKykqKS9pLGUpLG49Si5nZXRBbmRyb2lkVmVyc2lvbk5hbWUodCkscj17bmFtZTpVLkFuZHJvaWQsdmVyc2lvbjp0fTtyZXR1cm4gbiYmKHIudmVyc2lvbk5hbWU9bikscn19LHt0ZXN0OlsvKHdlYnxocHcpW28wXXMvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD1KLmdldEZpcnN0TWF0Y2goLyg/OndlYnxocHcpW28wXXNcXC8oXFxkKyhcXC5cXGQrKSopL2ksZSksbj17bmFtZTpVLldlYk9TfTtyZXR1cm4gdCYmdC5sZW5ndGgmJihuLnZlcnNpb249dCksbn19LHt0ZXN0OlsvYmxhY2tiZXJyeXxcXGJiYlxcZCsvaSwvcmltXFxzdGFibGV0L2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9Si5nZXRGaXJzdE1hdGNoKC9yaW1cXHN0YWJsZXRcXHNvc1xccyhcXGQrKFxcLlxcZCspKikvaSxlKXx8Si5nZXRGaXJzdE1hdGNoKC9ibGFja2JlcnJ5XFxkK1xcLyhcXGQrKFtfXFxzXVxcZCspKikvaSxlKXx8Si5nZXRGaXJzdE1hdGNoKC9cXGJiYihcXGQrKS9pLGUpO3JldHVybntuYW1lOlUuQmxhY2tCZXJyeSx2ZXJzaW9uOnR9fX0se3Rlc3Q6Wy9iYWRhL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9Si5nZXRGaXJzdE1hdGNoKC9iYWRhXFwvKFxcZCsoXFwuXFxkKykqKS9pLGUpO3JldHVybntuYW1lOlUuQmFkYSx2ZXJzaW9uOnR9fX0se3Rlc3Q6Wy90aXplbi9pXSxkZXNjcmliZShlKXtjb25zdCB0PUouZ2V0Rmlyc3RNYXRjaCgvdGl6ZW5bL1xcc10oXFxkKyhcXC5cXGQrKSopL2ksZSk7cmV0dXJue25hbWU6VS5UaXplbix2ZXJzaW9uOnR9fX0se3Rlc3Q6Wy9saW51eC9pXSxkZXNjcmliZTooKT0+KHtuYW1lOlUuTGludXh9KX0se3Rlc3Q6Wy9Dck9TL10sZGVzY3JpYmU6KCk9Pih7bmFtZTpVLkNocm9tZU9TfSl9LHt0ZXN0OlsvUGxheVN0YXRpb24gNC9dLGRlc2NyaWJlKGUpe2NvbnN0IHQ9Si5nZXRGaXJzdE1hdGNoKC9QbGF5U3RhdGlvbiA0Wy9cXHNdKFxcZCsoXFwuXFxkKykqKS9pLGUpO3JldHVybntuYW1lOlUuUGxheVN0YXRpb240LHZlcnNpb246dH19fV0sVz1be3Rlc3Q6Wy9nb29nbGVib3QvaV0sZGVzY3JpYmU6KCk9Pih7dHlwZTpcImJvdFwiLHZlbmRvcjpcIkdvb2dsZVwifSl9LHt0ZXN0OlsvaHVhd2VpL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9Si5nZXRGaXJzdE1hdGNoKC8oY2FuLWwwMSkvaSxlKSYmXCJOb3ZhXCIsbj17dHlwZTpCLm1vYmlsZSx2ZW5kb3I6XCJIdWF3ZWlcIn07cmV0dXJuIHQmJihuLm1vZGVsPXQpLG59fSx7dGVzdDpbL25leHVzXFxzKig/Ojd8OHw5fDEwKS4qL2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi50YWJsZXQsdmVuZG9yOlwiTmV4dXNcIn0pfSx7dGVzdDpbL2lwYWQvaV0sZGVzY3JpYmU6KCk9Pih7dHlwZTpCLnRhYmxldCx2ZW5kb3I6XCJBcHBsZVwiLG1vZGVsOlwiaVBhZFwifSl9LHt0ZXN0OlsvTWFjaW50b3NoKC4qPykgRnhpT1MoLio/KVxcLy9dLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi50YWJsZXQsdmVuZG9yOlwiQXBwbGVcIixtb2RlbDpcImlQYWRcIn0pfSx7dGVzdDpbL2tmdHQgYnVpbGQvaV0sZGVzY3JpYmU6KCk9Pih7dHlwZTpCLnRhYmxldCx2ZW5kb3I6XCJBbWF6b25cIixtb2RlbDpcIktpbmRsZSBGaXJlIEhEIDdcIn0pfSx7dGVzdDpbL3NpbGsvaV0sZGVzY3JpYmU6KCk9Pih7dHlwZTpCLnRhYmxldCx2ZW5kb3I6XCJBbWF6b25cIn0pfSx7dGVzdDpbL3RhYmxldCg/ISBwYykvaV0sZGVzY3JpYmU6KCk9Pih7dHlwZTpCLnRhYmxldH0pfSx7dGVzdChlKXtjb25zdCB0PWUudGVzdCgvaXBvZHxpcGhvbmUvaSksbj1lLnRlc3QoL2xpa2UgKGlwb2R8aXBob25lKS9pKTtyZXR1cm4gdCYmIW59LGRlc2NyaWJlKGUpe2NvbnN0IHQ9Si5nZXRGaXJzdE1hdGNoKC8oaXBvZHxpcGhvbmUpL2ksZSk7cmV0dXJue3R5cGU6Qi5tb2JpbGUsdmVuZG9yOlwiQXBwbGVcIixtb2RlbDp0fX19LHt0ZXN0OlsvbmV4dXNcXHMqWzAtNl0uKi9pLC9nYWxheHkgbmV4dXMvaV0sZGVzY3JpYmU6KCk9Pih7dHlwZTpCLm1vYmlsZSx2ZW5kb3I6XCJOZXh1c1wifSl9LHt0ZXN0OlsvW14tXW1vYmkvaV0sZGVzY3JpYmU6KCk9Pih7dHlwZTpCLm1vYmlsZX0pfSx7dGVzdDplPT5cImJsYWNrYmVycnlcIj09PWUuZ2V0QnJvd3Nlck5hbWUoITApLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi5tb2JpbGUsdmVuZG9yOlwiQmxhY2tCZXJyeVwifSl9LHt0ZXN0OmU9PlwiYmFkYVwiPT09ZS5nZXRCcm93c2VyTmFtZSghMCksZGVzY3JpYmU6KCk9Pih7dHlwZTpCLm1vYmlsZX0pfSx7dGVzdDplPT5cIndpbmRvd3MgcGhvbmVcIj09PWUuZ2V0QnJvd3Nlck5hbWUoKSxkZXNjcmliZTooKT0+KHt0eXBlOkIubW9iaWxlLHZlbmRvcjpcIk1pY3Jvc29mdFwifSl9LHt0ZXN0KGUpe2NvbnN0IHQ9TnVtYmVyKFN0cmluZyhlLmdldE9TVmVyc2lvbigpKS5zcGxpdChcIi5cIilbMF0pO3JldHVyblwiYW5kcm9pZFwiPT09ZS5nZXRPU05hbWUoITApJiZ0Pj0zfSxkZXNjcmliZTooKT0+KHt0eXBlOkIudGFibGV0fSl9LHt0ZXN0OmU9PlwiYW5kcm9pZFwiPT09ZS5nZXRPU05hbWUoITApLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi5tb2JpbGV9KX0se3Rlc3Q6ZT0+XCJtYWNvc1wiPT09ZS5nZXRPU05hbWUoITApLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi5kZXNrdG9wLHZlbmRvcjpcIkFwcGxlXCJ9KX0se3Rlc3Q6ZT0+XCJ3aW5kb3dzXCI9PT1lLmdldE9TTmFtZSghMCksZGVzY3JpYmU6KCk9Pih7dHlwZTpCLmRlc2t0b3B9KX0se3Rlc3Q6ZT0+XCJsaW51eFwiPT09ZS5nZXRPU05hbWUoITApLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi5kZXNrdG9wfSl9LHt0ZXN0OmU9PlwicGxheXN0YXRpb24gNFwiPT09ZS5nZXRPU05hbWUoITApLGRlc2NyaWJlOigpPT4oe3R5cGU6Qi50dn0pfSx7dGVzdDplPT5cInJva3VcIj09PWUuZ2V0T1NOYW1lKCEwKSxkZXNjcmliZTooKT0+KHt0eXBlOkIudHZ9KX1dLEg9W3t0ZXN0OmU9PlwibWljcm9zb2Z0IGVkZ2VcIj09PWUuZ2V0QnJvd3Nlck5hbWUoITApLGRlc2NyaWJlKGUpe2lmKC9cXHNlZGdcXC8vaS50ZXN0KGUpKXJldHVybntuYW1lOlYuQmxpbmt9O2NvbnN0IHQ9Si5nZXRGaXJzdE1hdGNoKC9lZGdlXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybntuYW1lOlYuRWRnZUhUTUwsdmVyc2lvbjp0fX19LHt0ZXN0OlsvdHJpZGVudC9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlYuVHJpZGVudH0sbj1KLmdldEZpcnN0TWF0Y2goL3RyaWRlbnRcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OmU9PmUudGVzdCgvcHJlc3RvL2kpLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6Vi5QcmVzdG99LG49Si5nZXRGaXJzdE1hdGNoKC9wcmVzdG9cXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0KGUpe2NvbnN0IHQ9ZS50ZXN0KC9nZWNrby9pKSxuPWUudGVzdCgvbGlrZSBnZWNrby9pKTtyZXR1cm4gdCYmIW59LGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6Vi5HZWNrb30sbj1KLmdldEZpcnN0TWF0Y2goL2dlY2tvXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbLyhhcHBsZSk/d2Via2l0XFwvNTM3XFwuMzYvaV0sZGVzY3JpYmU6KCk9Pih7bmFtZTpWLkJsaW5rfSl9LHt0ZXN0OlsvKGFwcGxlKT93ZWJraXQvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpWLldlYktpdH0sbj1KLmdldEZpcnN0TWF0Y2goL3dlYmtpdFxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX1dO2NsYXNzIEd7Y29uc3RydWN0b3IoZSx0PSExKXtpZihudWxsPT1lfHxcIlwiPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJVc2VyQWdlbnQgcGFyYW1ldGVyIGNhbid0IGJlIGVtcHR5XCIpO3RoaXMuX3VhPWUsdGhpcy5wYXJzZWRSZXN1bHQ9e30sITAhPT10JiZ0aGlzLnBhcnNlKCl9Z2V0VUEoKXtyZXR1cm4gdGhpcy5fdWF9dGVzdChlKXtyZXR1cm4gZS50ZXN0KHRoaXMuX3VhKX1wYXJzZUJyb3dzZXIoKXt0aGlzLnBhcnNlZFJlc3VsdC5icm93c2VyPXt9O2NvbnN0IGU9Si5maW5kKHEsKGU9PntpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRlc3QpcmV0dXJuIGUudGVzdCh0aGlzKTtpZihlLnRlc3QgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm4gZS50ZXN0LnNvbWUoKGU9PnRoaXMudGVzdChlKSkpO3Rocm93IG5ldyBFcnJvcihcIkJyb3dzZXIncyB0ZXN0IGZ1bmN0aW9uIGlzIG5vdCB2YWxpZFwiKX0pKTtyZXR1cm4gZSYmKHRoaXMucGFyc2VkUmVzdWx0LmJyb3dzZXI9ZS5kZXNjcmliZSh0aGlzLmdldFVBKCkpKSx0aGlzLnBhcnNlZFJlc3VsdC5icm93c2VyfWdldEJyb3dzZXIoKXtyZXR1cm4gdGhpcy5wYXJzZWRSZXN1bHQuYnJvd3Nlcj90aGlzLnBhcnNlZFJlc3VsdC5icm93c2VyOnRoaXMucGFyc2VCcm93c2VyKCl9Z2V0QnJvd3Nlck5hbWUoZSl7cmV0dXJuIGU/U3RyaW5nKHRoaXMuZ2V0QnJvd3NlcigpLm5hbWUpLnRvTG93ZXJDYXNlKCl8fFwiXCI6dGhpcy5nZXRCcm93c2VyKCkubmFtZXx8XCJcIn1nZXRCcm93c2VyVmVyc2lvbigpe3JldHVybiB0aGlzLmdldEJyb3dzZXIoKS52ZXJzaW9ufWdldE9TKCl7cmV0dXJuIHRoaXMucGFyc2VkUmVzdWx0Lm9zP3RoaXMucGFyc2VkUmVzdWx0Lm9zOnRoaXMucGFyc2VPUygpfXBhcnNlT1MoKXt0aGlzLnBhcnNlZFJlc3VsdC5vcz17fTtjb25zdCBlPUouZmluZCh6LChlPT57aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS50ZXN0KXJldHVybiBlLnRlc3QodGhpcyk7aWYoZS50ZXN0IGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuIGUudGVzdC5zb21lKChlPT50aGlzLnRlc3QoZSkpKTt0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyJ3MgdGVzdCBmdW5jdGlvbiBpcyBub3QgdmFsaWRcIil9KSk7cmV0dXJuIGUmJih0aGlzLnBhcnNlZFJlc3VsdC5vcz1lLmRlc2NyaWJlKHRoaXMuZ2V0VUEoKSkpLHRoaXMucGFyc2VkUmVzdWx0Lm9zfWdldE9TTmFtZShlKXtjb25zdHtuYW1lOnR9PXRoaXMuZ2V0T1MoKTtyZXR1cm4gZT9TdHJpbmcodCkudG9Mb3dlckNhc2UoKXx8XCJcIjp0fHxcIlwifWdldE9TVmVyc2lvbigpe3JldHVybiB0aGlzLmdldE9TKCkudmVyc2lvbn1nZXRQbGF0Zm9ybSgpe3JldHVybiB0aGlzLnBhcnNlZFJlc3VsdC5wbGF0Zm9ybT90aGlzLnBhcnNlZFJlc3VsdC5wbGF0Zm9ybTp0aGlzLnBhcnNlUGxhdGZvcm0oKX1nZXRQbGF0Zm9ybVR5cGUoZT0hMSl7Y29uc3R7dHlwZTp0fT10aGlzLmdldFBsYXRmb3JtKCk7cmV0dXJuIGU/U3RyaW5nKHQpLnRvTG93ZXJDYXNlKCl8fFwiXCI6dHx8XCJcIn1wYXJzZVBsYXRmb3JtKCl7dGhpcy5wYXJzZWRSZXN1bHQucGxhdGZvcm09e307Y29uc3QgZT1KLmZpbmQoVywoZT0+e2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUudGVzdClyZXR1cm4gZS50ZXN0KHRoaXMpO2lmKGUudGVzdCBpbnN0YW5jZW9mIEFycmF5KXJldHVybiBlLnRlc3Quc29tZSgoZT0+dGhpcy50ZXN0KGUpKSk7dGhyb3cgbmV3IEVycm9yKFwiQnJvd3NlcidzIHRlc3QgZnVuY3Rpb24gaXMgbm90IHZhbGlkXCIpfSkpO3JldHVybiBlJiYodGhpcy5wYXJzZWRSZXN1bHQucGxhdGZvcm09ZS5kZXNjcmliZSh0aGlzLmdldFVBKCkpKSx0aGlzLnBhcnNlZFJlc3VsdC5wbGF0Zm9ybX1nZXRFbmdpbmUoKXtyZXR1cm4gdGhpcy5wYXJzZWRSZXN1bHQuZW5naW5lP3RoaXMucGFyc2VkUmVzdWx0LmVuZ2luZTp0aGlzLnBhcnNlRW5naW5lKCl9Z2V0RW5naW5lTmFtZShlKXtyZXR1cm4gZT9TdHJpbmcodGhpcy5nZXRFbmdpbmUoKS5uYW1lKS50b0xvd2VyQ2FzZSgpfHxcIlwiOnRoaXMuZ2V0RW5naW5lKCkubmFtZXx8XCJcIn1wYXJzZUVuZ2luZSgpe3RoaXMucGFyc2VkUmVzdWx0LmVuZ2luZT17fTtjb25zdCBlPUouZmluZChILChlPT57aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS50ZXN0KXJldHVybiBlLnRlc3QodGhpcyk7aWYoZS50ZXN0IGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuIGUudGVzdC5zb21lKChlPT50aGlzLnRlc3QoZSkpKTt0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyJ3MgdGVzdCBmdW5jdGlvbiBpcyBub3QgdmFsaWRcIil9KSk7cmV0dXJuIGUmJih0aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmU9ZS5kZXNjcmliZSh0aGlzLmdldFVBKCkpKSx0aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmV9cGFyc2UoKXtyZXR1cm4gdGhpcy5wYXJzZUJyb3dzZXIoKSx0aGlzLnBhcnNlT1MoKSx0aGlzLnBhcnNlUGxhdGZvcm0oKSx0aGlzLnBhcnNlRW5naW5lKCksdGhpc31nZXRSZXN1bHQoKXtyZXR1cm4gSi5hc3NpZ24oe30sdGhpcy5wYXJzZWRSZXN1bHQpfXNhdGlzZmllcyhlKXtjb25zdCB0PXt9O2xldCBuPTA7Y29uc3Qgcj17fTtsZXQgaT0wO2lmKE9iamVjdC5rZXlzKGUpLmZvckVhY2goKG89Pntjb25zdCBzPWVbb107XCJzdHJpbmdcIj09dHlwZW9mIHM/KHJbb109cyxpKz0xKTpcIm9iamVjdFwiPT10eXBlb2YgcyYmKHRbb109cyxuKz0xKX0pKSxuPjApe2NvbnN0IGU9T2JqZWN0LmtleXModCksbj1KLmZpbmQoZSwoZT0+dGhpcy5pc09TKGUpKSk7aWYobil7Y29uc3QgZT10aGlzLnNhdGlzZmllcyh0W25dKTtpZih2b2lkIDAhPT1lKXJldHVybiBlfWNvbnN0IHI9Si5maW5kKGUsKGU9PnRoaXMuaXNQbGF0Zm9ybShlKSkpO2lmKHIpe2NvbnN0IGU9dGhpcy5zYXRpc2ZpZXModFtyXSk7aWYodm9pZCAwIT09ZSlyZXR1cm4gZX19aWYoaT4wKXtjb25zdCBlPU9iamVjdC5rZXlzKHIpLHQ9Si5maW5kKGUsKGU9PnRoaXMuaXNCcm93c2VyKGUsITApKSk7aWYodm9pZCAwIT09dClyZXR1cm4gdGhpcy5jb21wYXJlVmVyc2lvbihyW3RdKX19aXNCcm93c2VyKGUsdD0hMSl7Y29uc3Qgbj10aGlzLmdldEJyb3dzZXJOYW1lKCkudG9Mb3dlckNhc2UoKTtsZXQgcj1lLnRvTG93ZXJDYXNlKCk7Y29uc3QgaT1KLmdldEJyb3dzZXJUeXBlQnlBbGlhcyhyKTtyZXR1cm4gdCYmaSYmKHI9aS50b0xvd2VyQ2FzZSgpKSxyPT09bn1jb21wYXJlVmVyc2lvbihlKXtsZXQgdD1bMF0sbj1lLHI9ITE7Y29uc3QgaT10aGlzLmdldEJyb3dzZXJWZXJzaW9uKCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkpcmV0dXJuXCI+XCI9PT1lWzBdfHxcIjxcIj09PWVbMF0/KG49ZS5zdWJzdHIoMSksXCI9XCI9PT1lWzFdPyhyPSEwLG49ZS5zdWJzdHIoMikpOnQ9W10sXCI+XCI9PT1lWzBdP3QucHVzaCgxKTp0LnB1c2goLTEpKTpcIj1cIj09PWVbMF0/bj1lLnN1YnN0cigxKTpcIn5cIj09PWVbMF0mJihyPSEwLG49ZS5zdWJzdHIoMSkpLHQuaW5kZXhPZihKLmNvbXBhcmVWZXJzaW9ucyhpLG4scikpPi0xfWlzT1MoZSl7cmV0dXJuIHRoaXMuZ2V0T1NOYW1lKCEwKT09PVN0cmluZyhlKS50b0xvd2VyQ2FzZSgpfWlzUGxhdGZvcm0oZSl7cmV0dXJuIHRoaXMuZ2V0UGxhdGZvcm1UeXBlKCEwKT09PVN0cmluZyhlKS50b0xvd2VyQ2FzZSgpfWlzRW5naW5lKGUpe3JldHVybiB0aGlzLmdldEVuZ2luZU5hbWUoITApPT09U3RyaW5nKGUpLnRvTG93ZXJDYXNlKCl9aXMoZSx0PSExKXtyZXR1cm4gdGhpcy5pc0Jyb3dzZXIoZSx0KXx8dGhpcy5pc09TKGUpfHx0aGlzLmlzUGxhdGZvcm0oZSl9c29tZShlPVtdKXtyZXR1cm4gZS5zb21lKChlPT50aGlzLmlzKGUpKSl9fVxuLyohXG4gKiBCb3dzZXIgLSBhIGJyb3dzZXIgZGV0ZWN0b3JcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9sYW5jZWRpa3Nvbi9ib3dzZXJcbiAqIE1JVCBMaWNlbnNlIHwgKGMpIER1c3RpbiBEaWF6IDIwMTItMjAxNVxuICogTUlUIExpY2Vuc2UgfCAoYykgRGVuaXMgRGVtY2hlbmtvIDIwMTUtMjAxOVxuICovY2xhc3MgUXtzdGF0aWMgZ2V0UGFyc2VyKGUsdD0hMSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiVXNlckFnZW50IHNob3VsZCBiZSBhIHN0cmluZ1wiKTtyZXR1cm4gbmV3IEcoZSx0KX1zdGF0aWMgcGFyc2UoZSl7cmV0dXJuIG5ldyBHKGUpLmdldFJlc3VsdCgpfXN0YXRpYyBnZXQgQlJPV1NFUl9NQVAoKXtyZXR1cm4gRn1zdGF0aWMgZ2V0IEVOR0lORV9NQVAoKXtyZXR1cm4gVn1zdGF0aWMgZ2V0IE9TX01BUCgpe3JldHVybiBVfXN0YXRpYyBnZXQgUExBVEZPUk1TX01BUCgpe3JldHVybiBCfX1mdW5jdGlvbiBLKCl7cmV0dXJuIERhdGUubm93KCkrTWF0aC5yYW5kb20oKS50b1N0cmluZygpfWZ1bmN0aW9uIFkoKXt0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2QgbXVzdCBiZSBpbXBsZW1lbnRlZCBpbiBzdWJjbGFzc1wiKX1mdW5jdGlvbiBYKGUsdCl7cmV0dXJuIG51bGwhPXQmJnQucHJveHlVcmw/dC5wcm94eVVybCsoXCIvXCI9PT10LnByb3h5VXJsLnNsaWNlKC0xKT9cIlwiOlwiL1wiKStlLnN1YnN0cmluZyg4KTplfWZ1bmN0aW9uIFooZSl7cmV0dXJuIG51bGwhPWUmJmUuY2FsbE9iamVjdEJ1bmRsZVVybE92ZXJyaWRlP2UuY2FsbE9iamVjdEJ1bmRsZVVybE92ZXJyaWRlOlgoXCJodHRwczovL2MuZGFpbHkuY28vY2FsbC1tYWNoaW5lL3ZlcnNpb25lZC9cIi5jb25jYXQoXCIwLjc3LjBcIixcIi9zdGF0aWMvY2FsbC1tYWNoaW5lLW9iamVjdC1idW5kbGUuanNcIiksZSl9ZnVuY3Rpb24gZWUoZSl7dHJ5e25ldyBVUkwoZSl9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuITB9Y29uc3QgdGU9XCJ1bmRlZmluZWRcIj09dHlwZW9mIF9fU0VOVFJZX0RFQlVHX198fF9fU0VOVFJZX0RFQlVHX18sbmU9XCI4LjU1LjBcIixyZT1nbG9iYWxUaGlzO2Z1bmN0aW9uIGllKGUsdCxuKXtjb25zdCByPW58fHJlLGk9ci5fX1NFTlRSWV9fPXIuX19TRU5UUllfX3x8e30sbz1pW25lXT1pW25lXXx8e307cmV0dXJuIG9bZV18fChvW2VdPXQoKSl9Y29uc3Qgb2U9XCJ1bmRlZmluZWRcIj09dHlwZW9mIF9fU0VOVFJZX0RFQlVHX198fF9fU0VOVFJZX0RFQlVHX18sc2U9W1wiZGVidWdcIixcImluZm9cIixcIndhcm5cIixcImVycm9yXCIsXCJsb2dcIixcImFzc2VydFwiLFwidHJhY2VcIl0sYWU9e307ZnVuY3Rpb24gY2UoZSl7aWYoIShcImNvbnNvbGVcImluIHJlKSlyZXR1cm4gZSgpO2NvbnN0IHQ9cmUuY29uc29sZSxuPXt9LHI9T2JqZWN0LmtleXMoYWUpO3IuZm9yRWFjaCgoZT0+e2NvbnN0IHI9YWVbZV07bltlXT10W2VdLHRbZV09cn0pKTt0cnl7cmV0dXJuIGUoKX1maW5hbGx5e3IuZm9yRWFjaCgoZT0+e3RbZV09bltlXX0pKX19Y29uc3QgbGU9aWUoXCJsb2dnZXJcIiwoZnVuY3Rpb24oKXtsZXQgZT0hMTtjb25zdCB0PXtlbmFibGU6KCk9PntlPSEwfSxkaXNhYmxlOigpPT57ZT0hMX0saXNFbmFibGVkOigpPT5lfTtyZXR1cm4gb2U/c2UuZm9yRWFjaCgobj0+e3Rbbl09KC4uLnQpPT57ZSYmY2UoKCgpPT57cmUuY29uc29sZVtuXShgU2VudHJ5IExvZ2dlciBbJHtufV06YCwuLi50KX0pKX19KSk6c2UuZm9yRWFjaCgoZT0+e3RbZV09KCk9Pnt9fSkpLHR9KSksdWU9XCI/XCIsZGU9L1xcKGVycm9yOiAoLiopXFwpLyxwZT0vY2FwdHVyZU1lc3NhZ2V8Y2FwdHVyZUV4Y2VwdGlvbi87ZnVuY3Rpb24gaGUoZSl7cmV0dXJuIGVbZS5sZW5ndGgtMV18fHt9fWNvbnN0IGZlPVwiPGFub255bW91cz5cIjtmdW5jdGlvbiB2ZShlKXt0cnl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUubmFtZXx8ZmV9Y2F0Y2goZSl7cmV0dXJuIGZlfX1mdW5jdGlvbiBnZShlKXtjb25zdCB0PWUuZXhjZXB0aW9uO2lmKHQpe2NvbnN0IGU9W107dHJ5e3JldHVybiB0LnZhbHVlcy5mb3JFYWNoKCh0PT57dC5zdGFja3RyYWNlLmZyYW1lcyYmZS5wdXNoKC4uLnQuc3RhY2t0cmFjZS5mcmFtZXMpfSkpLGV9Y2F0Y2goZSl7cmV0dXJufX19Y29uc3QgbWU9e30seWU9e307ZnVuY3Rpb24gYmUoZSx0KXttZVtlXT1tZVtlXXx8W10sbWVbZV0ucHVzaCh0KX1mdW5jdGlvbiBfZShlLHQpe2lmKCF5ZVtlXSl7eWVbZV09ITA7dHJ5e3QoKX1jYXRjaCh0KXtvZSYmbGUuZXJyb3IoYEVycm9yIHdoaWxlIGluc3RydW1lbnRpbmcgJHtlfWAsdCl9fX1mdW5jdGlvbiB3ZShlLHQpe2NvbnN0IG49ZSYmbWVbZV07aWYobilmb3IoY29uc3QgciBvZiBuKXRyeXtyKHQpfWNhdGNoKHQpe29lJiZsZS5lcnJvcihgRXJyb3Igd2hpbGUgdHJpZ2dlcmluZyBpbnN0cnVtZW50YXRpb24gaGFuZGxlci5cXG5UeXBlOiAke2V9XFxuTmFtZTogJHt2ZShyKX1cXG5FcnJvcjpgLHQpfX1sZXQgU2U9bnVsbDtmdW5jdGlvbiBrZSgpe1NlPXJlLm9uZXJyb3IscmUub25lcnJvcj1mdW5jdGlvbihlLHQsbixyLGkpe3JldHVybiB3ZShcImVycm9yXCIse2NvbHVtbjpyLGVycm9yOmksbGluZTpuLG1zZzplLHVybDp0fSksISFTZSYmU2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyZS5vbmVycm9yLl9fU0VOVFJZX0lOU1RSVU1FTlRFRF9fPSEwfWxldCBNZT1udWxsO2Z1bmN0aW9uIENlKCl7TWU9cmUub251bmhhbmRsZWRyZWplY3Rpb24scmUub251bmhhbmRsZWRyZWplY3Rpb249ZnVuY3Rpb24oZSl7cmV0dXJuIHdlKFwidW5oYW5kbGVkcmVqZWN0aW9uXCIsZSksIU1lfHxNZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHJlLm9udW5oYW5kbGVkcmVqZWN0aW9uLl9fU0VOVFJZX0lOU1RSVU1FTlRFRF9fPSEwfWZ1bmN0aW9uIEVlKCl7cmV0dXJuIFRlKHJlKSxyZX1mdW5jdGlvbiBUZShlKXtjb25zdCB0PWUuX19TRU5UUllfXz1lLl9fU0VOVFJZX198fHt9O3JldHVybiB0LnZlcnNpb249dC52ZXJzaW9ufHxuZSx0W25lXT10W25lXXx8e319Y29uc3QgT2U9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztmdW5jdGlvbiBQZShlKXtzd2l0Y2goT2UuY2FsbChlKSl7Y2FzZVwiW29iamVjdCBFcnJvcl1cIjpjYXNlXCJbb2JqZWN0IEV4Y2VwdGlvbl1cIjpjYXNlXCJbb2JqZWN0IERPTUV4Y2VwdGlvbl1cIjpjYXNlXCJbb2JqZWN0IFdlYkFzc2VtYmx5LkV4Y2VwdGlvbl1cIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiBCZShlLEVycm9yKX19ZnVuY3Rpb24gQWUoZSx0KXtyZXR1cm4gT2UuY2FsbChlKT09PWBbb2JqZWN0ICR7dH1dYH1mdW5jdGlvbiBqZShlKXtyZXR1cm4gQWUoZSxcIkVycm9yRXZlbnRcIil9ZnVuY3Rpb24gSWUoZSl7cmV0dXJuIEFlKGUsXCJET01FcnJvclwiKX1mdW5jdGlvbiB4ZShlKXtyZXR1cm4gQWUoZSxcIlN0cmluZ1wiKX1mdW5jdGlvbiBMZShlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJlwiX19zZW50cnlfdGVtcGxhdGVfc3RyaW5nX19cImluIGUmJlwiX19zZW50cnlfdGVtcGxhdGVfdmFsdWVzX19cImluIGV9ZnVuY3Rpb24gRGUoZSl7cmV0dXJuIG51bGw9PT1lfHxMZShlKXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGV9ZnVuY3Rpb24gTmUoZSl7cmV0dXJuIEFlKGUsXCJPYmplY3RcIil9ZnVuY3Rpb24gUmUoZSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEV2ZW50JiZCZShlLEV2ZW50KX1mdW5jdGlvbiBGZShlKXtyZXR1cm4gQm9vbGVhbihlJiZlLnRoZW4mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUudGhlbil9ZnVuY3Rpb24gQmUoZSx0KXt0cnl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0fWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBVZShlKXtyZXR1cm4hKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZXx8IWUuX19pc1Z1ZSYmIWUuX2lzVnVlKX1jb25zdCBWZT1yZTtmdW5jdGlvbiBKZShlLHQ9e30pe2lmKCFlKXJldHVyblwiPHVua25vd24+XCI7dHJ5e2xldCBuPWU7Y29uc3Qgcj01LGk9W107bGV0IG89MCxzPTA7Y29uc3QgYT1cIiA+IFwiLGM9YS5sZW5ndGg7bGV0IGw7Y29uc3QgdT1BcnJheS5pc0FycmF5KHQpP3Q6dC5rZXlBdHRycyxkPSFBcnJheS5pc0FycmF5KHQpJiZ0Lm1heFN0cmluZ0xlbmd0aHx8ODA7Zm9yKDtuJiZvKys8ciYmKGw9JGUobix1KSwhKFwiaHRtbFwiPT09bHx8bz4xJiZzK2kubGVuZ3RoKmMrbC5sZW5ndGg+PWQpKTspaS5wdXNoKGwpLHMrPWwubGVuZ3RoLG49bi5wYXJlbnROb2RlO3JldHVybiBpLnJldmVyc2UoKS5qb2luKGEpfWNhdGNoKGUpe3JldHVyblwiPHVua25vd24+XCJ9fWZ1bmN0aW9uICRlKGUsdCl7Y29uc3Qgbj1lLHI9W107aWYoIW58fCFuLnRhZ05hbWUpcmV0dXJuXCJcIjtpZihWZS5IVE1MRWxlbWVudCYmbiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50JiZuLmRhdGFzZXQpe2lmKG4uZGF0YXNldC5zZW50cnlDb21wb25lbnQpcmV0dXJuIG4uZGF0YXNldC5zZW50cnlDb21wb25lbnQ7aWYobi5kYXRhc2V0LnNlbnRyeUVsZW1lbnQpcmV0dXJuIG4uZGF0YXNldC5zZW50cnlFbGVtZW50fXIucHVzaChuLnRhZ05hbWUudG9Mb3dlckNhc2UoKSk7Y29uc3QgaT10JiZ0Lmxlbmd0aD90LmZpbHRlcigoZT0+bi5nZXRBdHRyaWJ1dGUoZSkpKS5tYXAoKGU9PltlLG4uZ2V0QXR0cmlidXRlKGUpXSkpOm51bGw7aWYoaSYmaS5sZW5ndGgpaS5mb3JFYWNoKChlPT57ci5wdXNoKGBbJHtlWzBdfT1cIiR7ZVsxXX1cIl1gKX0pKTtlbHNle24uaWQmJnIucHVzaChgIyR7bi5pZH1gKTtjb25zdCBlPW4uY2xhc3NOYW1lO2lmKGUmJnhlKGUpKXtjb25zdCB0PWUuc3BsaXQoL1xccysvKTtmb3IoY29uc3QgZSBvZiB0KXIucHVzaChgLiR7ZX1gKX19Y29uc3Qgbz1bXCJhcmlhLWxhYmVsXCIsXCJ0eXBlXCIsXCJuYW1lXCIsXCJ0aXRsZVwiLFwiYWx0XCJdO2Zvcihjb25zdCBlIG9mIG8pe2NvbnN0IHQ9bi5nZXRBdHRyaWJ1dGUoZSk7dCYmci5wdXNoKGBbJHtlfT1cIiR7dH1cIl1gKX1yZXR1cm4gci5qb2luKFwiXCIpfWZ1bmN0aW9uIHFlKGUsdD0wKXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgZXx8MD09PXR8fGUubGVuZ3RoPD10P2U6YCR7ZS5zbGljZSgwLHQpfS4uLmB9ZnVuY3Rpb24gemUoZSx0KXtpZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm5cIlwiO2NvbnN0IG49W107Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IHI9ZVt0XTt0cnl7VWUocik/bi5wdXNoKFwiW1Z1ZVZpZXdNb2RlbF1cIik6bi5wdXNoKFN0cmluZyhyKSl9Y2F0Y2goZSl7bi5wdXNoKFwiW3ZhbHVlIGNhbm5vdCBiZSBzZXJpYWxpemVkXVwiKX19cmV0dXJuIG4uam9pbih0KX1mdW5jdGlvbiBXZShlLHQsbj0hMSl7cmV0dXJuISF4ZShlKSYmKEFlKHQsXCJSZWdFeHBcIik/dC50ZXN0KGUpOiEheGUodCkmJihuP2U9PT10OmUuaW5jbHVkZXModCkpKX1mdW5jdGlvbiBIZShlLHQ9W10sbj0hMSl7cmV0dXJuIHQuc29tZSgodD0+V2UoZSx0LG4pKSl9ZnVuY3Rpb24gR2UoZSx0LG4pe2lmKCEodCBpbiBlKSlyZXR1cm47Y29uc3Qgcj1lW3RdLGk9bihyKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiZLZShpLHIpO3RyeXtlW3RdPWl9Y2F0Y2gobil7b2UmJmxlLmxvZyhgRmFpbGVkIHRvIHJlcGxhY2UgbWV0aG9kIFwiJHt0fVwiIGluIG9iamVjdGAsZSl9fWZ1bmN0aW9uIFFlKGUsdCxuKXt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bix3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX1jYXRjaChuKXtvZSYmbGUubG9nKGBGYWlsZWQgdG8gYWRkIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IFwiJHt0fVwiIHRvIG9iamVjdGAsZSl9fWZ1bmN0aW9uIEtlKGUsdCl7dHJ5e2NvbnN0IG49dC5wcm90b3R5cGV8fHt9O2UucHJvdG90eXBlPXQucHJvdG90eXBlPW4sUWUoZSxcIl9fc2VudHJ5X29yaWdpbmFsX19cIix0KX1jYXRjaChlKXt9fWZ1bmN0aW9uIFllKGUpe3JldHVybiBlLl9fc2VudHJ5X29yaWdpbmFsX199ZnVuY3Rpb24gWGUoZSl7aWYoUGUoZSkpcmV0dXJue21lc3NhZ2U6ZS5tZXNzYWdlLG5hbWU6ZS5uYW1lLHN0YWNrOmUuc3RhY2ssLi4uZXQoZSl9O2lmKFJlKGUpKXtjb25zdCB0PXt0eXBlOmUudHlwZSx0YXJnZXQ6WmUoZS50YXJnZXQpLGN1cnJlbnRUYXJnZXQ6WmUoZS5jdXJyZW50VGFyZ2V0KSwuLi5ldChlKX07cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEN1c3RvbUV2ZW50JiZCZShlLEN1c3RvbUV2ZW50KSYmKHQuZGV0YWlsPWUuZGV0YWlsKSx0fXJldHVybiBlfWZ1bmN0aW9uIFplKGUpe3RyeXtyZXR1cm4gdD1lLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBFbGVtZW50JiZCZSh0LEVsZW1lbnQpP0plKGUpOk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1jYXRjaChlKXtyZXR1cm5cIjx1bmtub3duPlwifXZhciB0fWZ1bmN0aW9uIGV0KGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSl7Y29uc3QgdD17fTtmb3IoY29uc3QgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1lW25dKTtyZXR1cm4gdH1yZXR1cm57fX1mdW5jdGlvbiB0dChlKXtyZXR1cm4gbnQoZSxuZXcgTWFwKX1mdW5jdGlvbiBudChlLHQpe2lmKGZ1bmN0aW9uKGUpe2lmKCFOZShlKSlyZXR1cm4hMTt0cnl7Y29uc3QgdD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY29uc3RydWN0b3IubmFtZTtyZXR1cm4hdHx8XCJPYmplY3RcIj09PXR9Y2F0Y2goZSl7cmV0dXJuITB9fShlKSl7Y29uc3Qgbj10LmdldChlKTtpZih2b2lkIDAhPT1uKXJldHVybiBuO2NvbnN0IHI9e307dC5zZXQoZSxyKTtmb3IoY29uc3QgbiBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSl2b2lkIDAhPT1lW25dJiYocltuXT1udChlW25dLHQpKTtyZXR1cm4gcn1pZihBcnJheS5pc0FycmF5KGUpKXtjb25zdCBuPXQuZ2V0KGUpO2lmKHZvaWQgMCE9PW4pcmV0dXJuIG47Y29uc3Qgcj1bXTtyZXR1cm4gdC5zZXQoZSxyKSxlLmZvckVhY2goKGU9PntyLnB1c2gobnQoZSx0KSl9KSkscn1yZXR1cm4gZX1mdW5jdGlvbiBydCgpe3JldHVybiBEYXRlLm5vdygpLzFlM31jb25zdCBpdD1mdW5jdGlvbigpe2NvbnN0e3BlcmZvcm1hbmNlOmV9PXJlO2lmKCFlfHwhZS5ub3cpcmV0dXJuIHJ0O2NvbnN0IHQ9RGF0ZS5ub3coKS1lLm5vdygpLG49bnVsbD09ZS50aW1lT3JpZ2luP3Q6ZS50aW1lT3JpZ2luO3JldHVybigpPT4obitlLm5vdygpKS8xZTN9KCk7ZnVuY3Rpb24gb3QoKXtjb25zdCBlPXJlLHQ9ZS5jcnlwdG98fGUubXNDcnlwdG87bGV0IG49KCk9PjE2Kk1hdGgucmFuZG9tKCk7dHJ5e2lmKHQmJnQucmFuZG9tVVVJRClyZXR1cm4gdC5yYW5kb21VVUlEKCkucmVwbGFjZSgvLS9nLFwiXCIpO3QmJnQuZ2V0UmFuZG9tVmFsdWVzJiYobj0oKT0+e2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIHQuZ2V0UmFuZG9tVmFsdWVzKGUpLGVbMF19KX1jYXRjaChlKXt9cmV0dXJuKFsxZTddKzFlMys0ZTMrOGUzKzFlMTEpLnJlcGxhY2UoL1swMThdL2csKGU9PihlXigxNSZuKCkpPj5lLzQpLnRvU3RyaW5nKDE2KSkpfWZ1bmN0aW9uIHN0KGUpe3JldHVybiBlLmV4Y2VwdGlvbiYmZS5leGNlcHRpb24udmFsdWVzP2UuZXhjZXB0aW9uLnZhbHVlc1swXTp2b2lkIDB9ZnVuY3Rpb24gYXQoZSl7Y29uc3R7bWVzc2FnZTp0LGV2ZW50X2lkOm59PWU7aWYodClyZXR1cm4gdDtjb25zdCByPXN0KGUpO3JldHVybiByP3IudHlwZSYmci52YWx1ZT9gJHtyLnR5cGV9OiAke3IudmFsdWV9YDpyLnR5cGV8fHIudmFsdWV8fG58fFwiPHVua25vd24+XCI6bnx8XCI8dW5rbm93bj5cIn1mdW5jdGlvbiBjdChlLHQsbil7Y29uc3Qgcj1lLmV4Y2VwdGlvbj1lLmV4Y2VwdGlvbnx8e30saT1yLnZhbHVlcz1yLnZhbHVlc3x8W10sbz1pWzBdPWlbMF18fHt9O28udmFsdWV8fChvLnZhbHVlPXR8fFwiXCIpLG8udHlwZXx8KG8udHlwZT1ufHxcIkVycm9yXCIpfWZ1bmN0aW9uIGx0KGUsdCl7Y29uc3Qgbj1zdChlKTtpZighbilyZXR1cm47Y29uc3Qgcj1uLm1lY2hhbmlzbTtpZihuLm1lY2hhbmlzbT17dHlwZTpcImdlbmVyaWNcIixoYW5kbGVkOiEwLC4uLnIsLi4udH0sdCYmXCJkYXRhXCJpbiB0KXtjb25zdCBlPXsuLi5yJiZyLmRhdGEsLi4udC5kYXRhfTtuLm1lY2hhbmlzbS5kYXRhPWV9fWZ1bmN0aW9uIHV0KGUpe2lmKGZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZS5fX3NlbnRyeV9jYXB0dXJlZF9ffWNhdGNoKGUpe319KGUpKXJldHVybiEwO3RyeXtRZShlLFwiX19zZW50cnlfY2FwdHVyZWRfX1wiLCEwKX1jYXRjaChlKXt9cmV0dXJuITF9dmFyIGR0O2Z1bmN0aW9uIHB0KGUpe3JldHVybiBuZXcgZnQoKHQ9Pnt0KGUpfSkpfWZ1bmN0aW9uIGh0KGUpe3JldHVybiBuZXcgZnQoKCh0LG4pPT57bihlKX0pKX0oKCk9Pntjb25zdHtwZXJmb3JtYW5jZTplfT1yZTtpZighZXx8IWUubm93KXJldHVybjtjb25zdCB0PTM2ZTUsbj1lLm5vdygpLHI9RGF0ZS5ub3coKSxpPWUudGltZU9yaWdpbj9NYXRoLmFicyhlLnRpbWVPcmlnaW4rbi1yKTp0LG89aTx0LHM9ZS50aW1pbmcmJmUudGltaW5nLm5hdmlnYXRpb25TdGFydCxhPVwibnVtYmVyXCI9PXR5cGVvZiBzP01hdGguYWJzKHMrbi1yKTp0OyhvfHxhPHQpJiYoaTw9YSYmZS50aW1lT3JpZ2luKX0pKCksZnVuY3Rpb24oZSl7ZVtlLlBFTkRJTkc9MF09XCJQRU5ESU5HXCI7ZVtlLlJFU09MVkVEPTFdPVwiUkVTT0xWRURcIjtlW2UuUkVKRUNURUQ9Ml09XCJSRUpFQ1RFRFwifShkdHx8KGR0PXt9KSk7Y2xhc3MgZnR7Y29uc3RydWN0b3IoZSl7ZnQucHJvdG90eXBlLl9faW5pdC5jYWxsKHRoaXMpLGZ0LnByb3RvdHlwZS5fX2luaXQyLmNhbGwodGhpcyksZnQucHJvdG90eXBlLl9faW5pdDMuY2FsbCh0aGlzKSxmdC5wcm90b3R5cGUuX19pbml0NC5jYWxsKHRoaXMpLHRoaXMuX3N0YXRlPWR0LlBFTkRJTkcsdGhpcy5faGFuZGxlcnM9W107dHJ5e2UodGhpcy5fcmVzb2x2ZSx0aGlzLl9yZWplY3QpfWNhdGNoKGUpe3RoaXMuX3JlamVjdChlKX19dGhlbihlLHQpe3JldHVybiBuZXcgZnQoKChuLHIpPT57dGhpcy5faGFuZGxlcnMucHVzaChbITEsdD0+e2lmKGUpdHJ5e24oZSh0KSl9Y2F0Y2goZSl7cihlKX1lbHNlIG4odCl9LGU9PntpZih0KXRyeXtuKHQoZSkpfWNhdGNoKGUpe3IoZSl9ZWxzZSByKGUpfV0pLHRoaXMuX2V4ZWN1dGVIYW5kbGVycygpfSkpfWNhdGNoKGUpe3JldHVybiB0aGlzLnRoZW4oKGU9PmUpLGUpfWZpbmFsbHkoZSl7cmV0dXJuIG5ldyBmdCgoKHQsbik9PntsZXQgcixpO3JldHVybiB0aGlzLnRoZW4oKHQ9PntpPSExLHI9dCxlJiZlKCl9KSwodD0+e2k9ITAscj10LGUmJmUoKX0pKS50aGVuKCgoKT0+e2k/bihyKTp0KHIpfSkpfSkpfV9faW5pdCgpe3RoaXMuX3Jlc29sdmU9ZT0+e3RoaXMuX3NldFJlc3VsdChkdC5SRVNPTFZFRCxlKX19X19pbml0Migpe3RoaXMuX3JlamVjdD1lPT57dGhpcy5fc2V0UmVzdWx0KGR0LlJFSkVDVEVELGUpfX1fX2luaXQzKCl7dGhpcy5fc2V0UmVzdWx0PShlLHQpPT57dGhpcy5fc3RhdGU9PT1kdC5QRU5ESU5HJiYoRmUodCk/dC50aGVuKHRoaXMuX3Jlc29sdmUsdGhpcy5fcmVqZWN0KToodGhpcy5fc3RhdGU9ZSx0aGlzLl92YWx1ZT10LHRoaXMuX2V4ZWN1dGVIYW5kbGVycygpKSl9fV9faW5pdDQoKXt0aGlzLl9leGVjdXRlSGFuZGxlcnM9KCk9PntpZih0aGlzLl9zdGF0ZT09PWR0LlBFTkRJTkcpcmV0dXJuO2NvbnN0IGU9dGhpcy5faGFuZGxlcnMuc2xpY2UoKTt0aGlzLl9oYW5kbGVycz1bXSxlLmZvckVhY2goKGU9PntlWzBdfHwodGhpcy5fc3RhdGU9PT1kdC5SRVNPTFZFRCYmZVsxXSh0aGlzLl92YWx1ZSksdGhpcy5fc3RhdGU9PT1kdC5SRUpFQ1RFRCYmZVsyXSh0aGlzLl92YWx1ZSksZVswXT0hMCl9KSl9fX1mdW5jdGlvbiB2dChlKXtjb25zdCB0PWl0KCksbj17c2lkOm90KCksaW5pdDohMCx0aW1lc3RhbXA6dCxzdGFydGVkOnQsZHVyYXRpb246MCxzdGF0dXM6XCJva1wiLGVycm9yczowLGlnbm9yZUR1cmF0aW9uOiExLHRvSlNPTjooKT0+ZnVuY3Rpb24oZSl7cmV0dXJuIHR0KHtzaWQ6YCR7ZS5zaWR9YCxpbml0OmUuaW5pdCxzdGFydGVkOm5ldyBEYXRlKDFlMyplLnN0YXJ0ZWQpLnRvSVNPU3RyaW5nKCksdGltZXN0YW1wOm5ldyBEYXRlKDFlMyplLnRpbWVzdGFtcCkudG9JU09TdHJpbmcoKSxzdGF0dXM6ZS5zdGF0dXMsZXJyb3JzOmUuZXJyb3JzLGRpZDpcIm51bWJlclwiPT10eXBlb2YgZS5kaWR8fFwic3RyaW5nXCI9PXR5cGVvZiBlLmRpZD9gJHtlLmRpZH1gOnZvaWQgMCxkdXJhdGlvbjplLmR1cmF0aW9uLGFibm9ybWFsX21lY2hhbmlzbTplLmFibm9ybWFsX21lY2hhbmlzbSxhdHRyczp7cmVsZWFzZTplLnJlbGVhc2UsZW52aXJvbm1lbnQ6ZS5lbnZpcm9ubWVudCxpcF9hZGRyZXNzOmUuaXBBZGRyZXNzLHVzZXJfYWdlbnQ6ZS51c2VyQWdlbnR9fSl9KG4pfTtyZXR1cm4gZSYmZ3QobixlKSxufWZ1bmN0aW9uIGd0KGUsdD17fSl7aWYodC51c2VyJiYoIWUuaXBBZGRyZXNzJiZ0LnVzZXIuaXBfYWRkcmVzcyYmKGUuaXBBZGRyZXNzPXQudXNlci5pcF9hZGRyZXNzKSxlLmRpZHx8dC5kaWR8fChlLmRpZD10LnVzZXIuaWR8fHQudXNlci5lbWFpbHx8dC51c2VyLnVzZXJuYW1lKSksZS50aW1lc3RhbXA9dC50aW1lc3RhbXB8fGl0KCksdC5hYm5vcm1hbF9tZWNoYW5pc20mJihlLmFibm9ybWFsX21lY2hhbmlzbT10LmFibm9ybWFsX21lY2hhbmlzbSksdC5pZ25vcmVEdXJhdGlvbiYmKGUuaWdub3JlRHVyYXRpb249dC5pZ25vcmVEdXJhdGlvbiksdC5zaWQmJihlLnNpZD0zMj09PXQuc2lkLmxlbmd0aD90LnNpZDpvdCgpKSx2b2lkIDAhPT10LmluaXQmJihlLmluaXQ9dC5pbml0KSwhZS5kaWQmJnQuZGlkJiYoZS5kaWQ9YCR7dC5kaWR9YCksXCJudW1iZXJcIj09dHlwZW9mIHQuc3RhcnRlZCYmKGUuc3RhcnRlZD10LnN0YXJ0ZWQpLGUuaWdub3JlRHVyYXRpb24pZS5kdXJhdGlvbj12b2lkIDA7ZWxzZSBpZihcIm51bWJlclwiPT10eXBlb2YgdC5kdXJhdGlvbillLmR1cmF0aW9uPXQuZHVyYXRpb247ZWxzZXtjb25zdCB0PWUudGltZXN0YW1wLWUuc3RhcnRlZDtlLmR1cmF0aW9uPXQ+PTA/dDowfXQucmVsZWFzZSYmKGUucmVsZWFzZT10LnJlbGVhc2UpLHQuZW52aXJvbm1lbnQmJihlLmVudmlyb25tZW50PXQuZW52aXJvbm1lbnQpLCFlLmlwQWRkcmVzcyYmdC5pcEFkZHJlc3MmJihlLmlwQWRkcmVzcz10LmlwQWRkcmVzcyksIWUudXNlckFnZW50JiZ0LnVzZXJBZ2VudCYmKGUudXNlckFnZW50PXQudXNlckFnZW50KSxcIm51bWJlclwiPT10eXBlb2YgdC5lcnJvcnMmJihlLmVycm9ycz10LmVycm9ycyksdC5zdGF0dXMmJihlLnN0YXR1cz10LnN0YXR1cyl9ZnVuY3Rpb24gbXQoKXtyZXR1cm4gb3QoKX1mdW5jdGlvbiB5dCgpe3JldHVybiBvdCgpLnN1YnN0cmluZygxNil9ZnVuY3Rpb24gYnQoZSx0LG49Mil7aWYoIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0fHxuPD0wKXJldHVybiB0O2lmKGUmJnQmJjA9PT1PYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIGU7Y29uc3Qgcj17Li4uZX07Zm9yKGNvbnN0IGUgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmKHJbZV09YnQocltlXSx0W2VdLG4tMSkpO3JldHVybiByfWNvbnN0IF90PVwiX3NlbnRyeVNwYW5cIjtmdW5jdGlvbiB3dChlLHQpe3Q/UWUoZSxfdCx0KTpkZWxldGUgZVtfdF19ZnVuY3Rpb24gU3QoZSl7cmV0dXJuIGVbX3RdfWNsYXNzIGt0e2NvbnN0cnVjdG9yKCl7dGhpcy5fbm90aWZ5aW5nTGlzdGVuZXJzPSExLHRoaXMuX3Njb3BlTGlzdGVuZXJzPVtdLHRoaXMuX2V2ZW50UHJvY2Vzc29ycz1bXSx0aGlzLl9icmVhZGNydW1icz1bXSx0aGlzLl9hdHRhY2htZW50cz1bXSx0aGlzLl91c2VyPXt9LHRoaXMuX3RhZ3M9e30sdGhpcy5fZXh0cmE9e30sdGhpcy5fY29udGV4dHM9e30sdGhpcy5fc2RrUHJvY2Vzc2luZ01ldGFkYXRhPXt9LHRoaXMuX3Byb3BhZ2F0aW9uQ29udGV4dD17dHJhY2VJZDptdCgpLHNwYW5JZDp5dCgpfX1jbG9uZSgpe2NvbnN0IGU9bmV3IGt0O3JldHVybiBlLl9icmVhZGNydW1icz1bLi4udGhpcy5fYnJlYWRjcnVtYnNdLGUuX3RhZ3M9ey4uLnRoaXMuX3RhZ3N9LGUuX2V4dHJhPXsuLi50aGlzLl9leHRyYX0sZS5fY29udGV4dHM9ey4uLnRoaXMuX2NvbnRleHRzfSx0aGlzLl9jb250ZXh0cy5mbGFncyYmKGUuX2NvbnRleHRzLmZsYWdzPXt2YWx1ZXM6Wy4uLnRoaXMuX2NvbnRleHRzLmZsYWdzLnZhbHVlc119KSxlLl91c2VyPXRoaXMuX3VzZXIsZS5fbGV2ZWw9dGhpcy5fbGV2ZWwsZS5fc2Vzc2lvbj10aGlzLl9zZXNzaW9uLGUuX3RyYW5zYWN0aW9uTmFtZT10aGlzLl90cmFuc2FjdGlvbk5hbWUsZS5fZmluZ2VycHJpbnQ9dGhpcy5fZmluZ2VycHJpbnQsZS5fZXZlbnRQcm9jZXNzb3JzPVsuLi50aGlzLl9ldmVudFByb2Nlc3NvcnNdLGUuX3JlcXVlc3RTZXNzaW9uPXRoaXMuX3JlcXVlc3RTZXNzaW9uLGUuX2F0dGFjaG1lbnRzPVsuLi50aGlzLl9hdHRhY2htZW50c10sZS5fc2RrUHJvY2Vzc2luZ01ldGFkYXRhPXsuLi50aGlzLl9zZGtQcm9jZXNzaW5nTWV0YWRhdGF9LGUuX3Byb3BhZ2F0aW9uQ29udGV4dD17Li4udGhpcy5fcHJvcGFnYXRpb25Db250ZXh0fSxlLl9jbGllbnQ9dGhpcy5fY2xpZW50LGUuX2xhc3RFdmVudElkPXRoaXMuX2xhc3RFdmVudElkLHd0KGUsU3QodGhpcykpLGV9c2V0Q2xpZW50KGUpe3RoaXMuX2NsaWVudD1lfXNldExhc3RFdmVudElkKGUpe3RoaXMuX2xhc3RFdmVudElkPWV9Z2V0Q2xpZW50KCl7cmV0dXJuIHRoaXMuX2NsaWVudH1sYXN0RXZlbnRJZCgpe3JldHVybiB0aGlzLl9sYXN0RXZlbnRJZH1hZGRTY29wZUxpc3RlbmVyKGUpe3RoaXMuX3Njb3BlTGlzdGVuZXJzLnB1c2goZSl9YWRkRXZlbnRQcm9jZXNzb3IoZSl7cmV0dXJuIHRoaXMuX2V2ZW50UHJvY2Vzc29ycy5wdXNoKGUpLHRoaXN9c2V0VXNlcihlKXtyZXR1cm4gdGhpcy5fdXNlcj1lfHx7ZW1haWw6dm9pZCAwLGlkOnZvaWQgMCxpcF9hZGRyZXNzOnZvaWQgMCx1c2VybmFtZTp2b2lkIDB9LHRoaXMuX3Nlc3Npb24mJmd0KHRoaXMuX3Nlc3Npb24se3VzZXI6ZX0pLHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCksdGhpc31nZXRVc2VyKCl7cmV0dXJuIHRoaXMuX3VzZXJ9Z2V0UmVxdWVzdFNlc3Npb24oKXtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlc3Npb259c2V0UmVxdWVzdFNlc3Npb24oZSl7cmV0dXJuIHRoaXMuX3JlcXVlc3RTZXNzaW9uPWUsdGhpc31zZXRUYWdzKGUpe3JldHVybiB0aGlzLl90YWdzPXsuLi50aGlzLl90YWdzLC4uLmV9LHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCksdGhpc31zZXRUYWcoZSx0KXtyZXR1cm4gdGhpcy5fdGFncz17Li4udGhpcy5fdGFncyxbZV06dH0sdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKSx0aGlzfXNldEV4dHJhcyhlKXtyZXR1cm4gdGhpcy5fZXh0cmE9ey4uLnRoaXMuX2V4dHJhLC4uLmV9LHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCksdGhpc31zZXRFeHRyYShlLHQpe3JldHVybiB0aGlzLl9leHRyYT17Li4udGhpcy5fZXh0cmEsW2VdOnR9LHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCksdGhpc31zZXRGaW5nZXJwcmludChlKXtyZXR1cm4gdGhpcy5fZmluZ2VycHJpbnQ9ZSx0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpLHRoaXN9c2V0TGV2ZWwoZSl7cmV0dXJuIHRoaXMuX2xldmVsPWUsdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKSx0aGlzfXNldFRyYW5zYWN0aW9uTmFtZShlKXtyZXR1cm4gdGhpcy5fdHJhbnNhY3Rpb25OYW1lPWUsdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKSx0aGlzfXNldENvbnRleHQoZSx0KXtyZXR1cm4gbnVsbD09PXQ/ZGVsZXRlIHRoaXMuX2NvbnRleHRzW2VdOnRoaXMuX2NvbnRleHRzW2VdPXQsdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKSx0aGlzfXNldFNlc3Npb24oZSl7cmV0dXJuIGU/dGhpcy5fc2Vzc2lvbj1lOmRlbGV0ZSB0aGlzLl9zZXNzaW9uLHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCksdGhpc31nZXRTZXNzaW9uKCl7cmV0dXJuIHRoaXMuX3Nlc3Npb259dXBkYXRlKGUpe2lmKCFlKXJldHVybiB0aGlzO2NvbnN0IHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lKHRoaXMpOmUsW24scl09dCBpbnN0YW5jZW9mIE10P1t0LmdldFNjb3BlRGF0YSgpLHQuZ2V0UmVxdWVzdFNlc3Npb24oKV06TmUodCk/W2UsZS5yZXF1ZXN0U2Vzc2lvbl06W10se3RhZ3M6aSxleHRyYTpvLHVzZXI6cyxjb250ZXh0czphLGxldmVsOmMsZmluZ2VycHJpbnQ6bD1bXSxwcm9wYWdhdGlvbkNvbnRleHQ6dX09bnx8e307cmV0dXJuIHRoaXMuX3RhZ3M9ey4uLnRoaXMuX3RhZ3MsLi4uaX0sdGhpcy5fZXh0cmE9ey4uLnRoaXMuX2V4dHJhLC4uLm99LHRoaXMuX2NvbnRleHRzPXsuLi50aGlzLl9jb250ZXh0cywuLi5hfSxzJiZPYmplY3Qua2V5cyhzKS5sZW5ndGgmJih0aGlzLl91c2VyPXMpLGMmJih0aGlzLl9sZXZlbD1jKSxsLmxlbmd0aCYmKHRoaXMuX2ZpbmdlcnByaW50PWwpLHUmJih0aGlzLl9wcm9wYWdhdGlvbkNvbnRleHQ9dSksciYmKHRoaXMuX3JlcXVlc3RTZXNzaW9uPXIpLHRoaXN9Y2xlYXIoKXtyZXR1cm4gdGhpcy5fYnJlYWRjcnVtYnM9W10sdGhpcy5fdGFncz17fSx0aGlzLl9leHRyYT17fSx0aGlzLl91c2VyPXt9LHRoaXMuX2NvbnRleHRzPXt9LHRoaXMuX2xldmVsPXZvaWQgMCx0aGlzLl90cmFuc2FjdGlvbk5hbWU9dm9pZCAwLHRoaXMuX2ZpbmdlcnByaW50PXZvaWQgMCx0aGlzLl9yZXF1ZXN0U2Vzc2lvbj12b2lkIDAsdGhpcy5fc2Vzc2lvbj12b2lkIDAsd3QodGhpcyx2b2lkIDApLHRoaXMuX2F0dGFjaG1lbnRzPVtdLHRoaXMuc2V0UHJvcGFnYXRpb25Db250ZXh0KHt0cmFjZUlkOm10KCl9KSx0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpLHRoaXN9YWRkQnJlYWRjcnVtYihlLHQpe2NvbnN0IG49XCJudW1iZXJcIj09dHlwZW9mIHQ/dDoxMDA7aWYobjw9MClyZXR1cm4gdGhpcztjb25zdCByPXt0aW1lc3RhbXA6cnQoKSwuLi5lfTtyZXR1cm4gdGhpcy5fYnJlYWRjcnVtYnMucHVzaChyKSx0aGlzLl9icmVhZGNydW1icy5sZW5ndGg+biYmKHRoaXMuX2JyZWFkY3J1bWJzPXRoaXMuX2JyZWFkY3J1bWJzLnNsaWNlKC1uKSx0aGlzLl9jbGllbnQmJnRoaXMuX2NsaWVudC5yZWNvcmREcm9wcGVkRXZlbnQoXCJidWZmZXJfb3ZlcmZsb3dcIixcImxvZ19pdGVtXCIpKSx0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpLHRoaXN9Z2V0TGFzdEJyZWFkY3J1bWIoKXtyZXR1cm4gdGhpcy5fYnJlYWRjcnVtYnNbdGhpcy5fYnJlYWRjcnVtYnMubGVuZ3RoLTFdfWNsZWFyQnJlYWRjcnVtYnMoKXtyZXR1cm4gdGhpcy5fYnJlYWRjcnVtYnM9W10sdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKSx0aGlzfWFkZEF0dGFjaG1lbnQoZSl7cmV0dXJuIHRoaXMuX2F0dGFjaG1lbnRzLnB1c2goZSksdGhpc31jbGVhckF0dGFjaG1lbnRzKCl7cmV0dXJuIHRoaXMuX2F0dGFjaG1lbnRzPVtdLHRoaXN9Z2V0U2NvcGVEYXRhKCl7cmV0dXJue2JyZWFkY3J1bWJzOnRoaXMuX2JyZWFkY3J1bWJzLGF0dGFjaG1lbnRzOnRoaXMuX2F0dGFjaG1lbnRzLGNvbnRleHRzOnRoaXMuX2NvbnRleHRzLHRhZ3M6dGhpcy5fdGFncyxleHRyYTp0aGlzLl9leHRyYSx1c2VyOnRoaXMuX3VzZXIsbGV2ZWw6dGhpcy5fbGV2ZWwsZmluZ2VycHJpbnQ6dGhpcy5fZmluZ2VycHJpbnR8fFtdLGV2ZW50UHJvY2Vzc29yczp0aGlzLl9ldmVudFByb2Nlc3NvcnMscHJvcGFnYXRpb25Db250ZXh0OnRoaXMuX3Byb3BhZ2F0aW9uQ29udGV4dCxzZGtQcm9jZXNzaW5nTWV0YWRhdGE6dGhpcy5fc2RrUHJvY2Vzc2luZ01ldGFkYXRhLHRyYW5zYWN0aW9uTmFtZTp0aGlzLl90cmFuc2FjdGlvbk5hbWUsc3BhbjpTdCh0aGlzKX19c2V0U0RLUHJvY2Vzc2luZ01ldGFkYXRhKGUpe3JldHVybiB0aGlzLl9zZGtQcm9jZXNzaW5nTWV0YWRhdGE9YnQodGhpcy5fc2RrUHJvY2Vzc2luZ01ldGFkYXRhLGUsMiksdGhpc31zZXRQcm9wYWdhdGlvbkNvbnRleHQoZSl7cmV0dXJuIHRoaXMuX3Byb3BhZ2F0aW9uQ29udGV4dD17c3BhbklkOnl0KCksLi4uZX0sdGhpc31nZXRQcm9wYWdhdGlvbkNvbnRleHQoKXtyZXR1cm4gdGhpcy5fcHJvcGFnYXRpb25Db250ZXh0fWNhcHR1cmVFeGNlcHRpb24oZSx0KXtjb25zdCBuPXQmJnQuZXZlbnRfaWQ/dC5ldmVudF9pZDpvdCgpO2lmKCF0aGlzLl9jbGllbnQpcmV0dXJuIGxlLndhcm4oXCJObyBjbGllbnQgY29uZmlndXJlZCBvbiBzY29wZSAtIHdpbGwgbm90IGNhcHR1cmUgZXhjZXB0aW9uIVwiKSxuO2NvbnN0IHI9bmV3IEVycm9yKFwiU2VudHJ5IHN5bnRoZXRpY0V4Y2VwdGlvblwiKTtyZXR1cm4gdGhpcy5fY2xpZW50LmNhcHR1cmVFeGNlcHRpb24oZSx7b3JpZ2luYWxFeGNlcHRpb246ZSxzeW50aGV0aWNFeGNlcHRpb246ciwuLi50LGV2ZW50X2lkOm59LHRoaXMpLG59Y2FwdHVyZU1lc3NhZ2UoZSx0LG4pe2NvbnN0IHI9biYmbi5ldmVudF9pZD9uLmV2ZW50X2lkOm90KCk7aWYoIXRoaXMuX2NsaWVudClyZXR1cm4gbGUud2FybihcIk5vIGNsaWVudCBjb25maWd1cmVkIG9uIHNjb3BlIC0gd2lsbCBub3QgY2FwdHVyZSBtZXNzYWdlIVwiKSxyO2NvbnN0IGk9bmV3IEVycm9yKGUpO3JldHVybiB0aGlzLl9jbGllbnQuY2FwdHVyZU1lc3NhZ2UoZSx0LHtvcmlnaW5hbEV4Y2VwdGlvbjplLHN5bnRoZXRpY0V4Y2VwdGlvbjppLC4uLm4sZXZlbnRfaWQ6cn0sdGhpcykscn1jYXB0dXJlRXZlbnQoZSx0KXtjb25zdCBuPXQmJnQuZXZlbnRfaWQ/dC5ldmVudF9pZDpvdCgpO3JldHVybiB0aGlzLl9jbGllbnQ/KHRoaXMuX2NsaWVudC5jYXB0dXJlRXZlbnQoZSx7Li4udCxldmVudF9pZDpufSx0aGlzKSxuKToobGUud2FybihcIk5vIGNsaWVudCBjb25maWd1cmVkIG9uIHNjb3BlIC0gd2lsbCBub3QgY2FwdHVyZSBldmVudCFcIiksbil9X25vdGlmeVNjb3BlTGlzdGVuZXJzKCl7dGhpcy5fbm90aWZ5aW5nTGlzdGVuZXJzfHwodGhpcy5fbm90aWZ5aW5nTGlzdGVuZXJzPSEwLHRoaXMuX3Njb3BlTGlzdGVuZXJzLmZvckVhY2goKGU9PntlKHRoaXMpfSkpLHRoaXMuX25vdGlmeWluZ0xpc3RlbmVycz0hMSl9fWNvbnN0IE10PWt0O2NsYXNzIEN0e2NvbnN0cnVjdG9yKGUsdCl7bGV0IG4scjtuPWV8fG5ldyBNdCxyPXR8fG5ldyBNdCx0aGlzLl9zdGFjaz1be3Njb3BlOm59XSx0aGlzLl9pc29sYXRpb25TY29wZT1yfXdpdGhTY29wZShlKXtjb25zdCB0PXRoaXMuX3B1c2hTY29wZSgpO2xldCBuO3RyeXtuPWUodCl9Y2F0Y2goZSl7dGhyb3cgdGhpcy5fcG9wU2NvcGUoKSxlfXJldHVybiBGZShuKT9uLnRoZW4oKGU9Pih0aGlzLl9wb3BTY29wZSgpLGUpKSwoZT0+e3Rocm93IHRoaXMuX3BvcFNjb3BlKCksZX0pKToodGhpcy5fcG9wU2NvcGUoKSxuKX1nZXRDbGllbnQoKXtyZXR1cm4gdGhpcy5nZXRTdGFja1RvcCgpLmNsaWVudH1nZXRTY29wZSgpe3JldHVybiB0aGlzLmdldFN0YWNrVG9wKCkuc2NvcGV9Z2V0SXNvbGF0aW9uU2NvcGUoKXtyZXR1cm4gdGhpcy5faXNvbGF0aW9uU2NvcGV9Z2V0U3RhY2tUb3AoKXtyZXR1cm4gdGhpcy5fc3RhY2tbdGhpcy5fc3RhY2subGVuZ3RoLTFdfV9wdXNoU2NvcGUoKXtjb25zdCBlPXRoaXMuZ2V0U2NvcGUoKS5jbG9uZSgpO3JldHVybiB0aGlzLl9zdGFjay5wdXNoKHtjbGllbnQ6dGhpcy5nZXRDbGllbnQoKSxzY29wZTplfSksZX1fcG9wU2NvcGUoKXtyZXR1cm4hKHRoaXMuX3N0YWNrLmxlbmd0aDw9MSkmJiEhdGhpcy5fc3RhY2sucG9wKCl9fWZ1bmN0aW9uIEV0KCl7Y29uc3QgZT1UZShFZSgpKTtyZXR1cm4gZS5zdGFjaz1lLnN0YWNrfHxuZXcgQ3QoaWUoXCJkZWZhdWx0Q3VycmVudFNjb3BlXCIsKCgpPT5uZXcgTXQpKSxpZShcImRlZmF1bHRJc29sYXRpb25TY29wZVwiLCgoKT0+bmV3IE10KSkpfWZ1bmN0aW9uIFR0KGUpe3JldHVybiBFdCgpLndpdGhTY29wZShlKX1mdW5jdGlvbiBPdChlLHQpe2NvbnN0IG49RXQoKTtyZXR1cm4gbi53aXRoU2NvcGUoKCgpPT4obi5nZXRTdGFja1RvcCgpLnNjb3BlPWUsdChlKSkpKX1mdW5jdGlvbiBQdChlKXtyZXR1cm4gRXQoKS53aXRoU2NvcGUoKCgpPT5lKEV0KCkuZ2V0SXNvbGF0aW9uU2NvcGUoKSkpKX1mdW5jdGlvbiBBdChlKXtjb25zdCB0PVRlKGUpO3JldHVybiB0LmFjcz90LmFjczp7d2l0aElzb2xhdGlvblNjb3BlOlB0LHdpdGhTY29wZTpUdCx3aXRoU2V0U2NvcGU6T3Qsd2l0aFNldElzb2xhdGlvblNjb3BlOihlLHQpPT5QdCh0KSxnZXRDdXJyZW50U2NvcGU6KCk9PkV0KCkuZ2V0U2NvcGUoKSxnZXRJc29sYXRpb25TY29wZTooKT0+RXQoKS5nZXRJc29sYXRpb25TY29wZSgpfX1mdW5jdGlvbiBqdCgpe3JldHVybiBBdChFZSgpKS5nZXRDdXJyZW50U2NvcGUoKX1mdW5jdGlvbiBJdCgpe3JldHVybiBBdChFZSgpKS5nZXRJc29sYXRpb25TY29wZSgpfWZ1bmN0aW9uIHh0KCl7cmV0dXJuIGp0KCkuZ2V0Q2xpZW50KCl9ZnVuY3Rpb24gTHQoZSl7Y29uc3QgdD1lLmdldFByb3BhZ2F0aW9uQ29udGV4dCgpLHt0cmFjZUlkOm4sc3BhbklkOnIscGFyZW50U3BhbklkOml9PXQ7cmV0dXJuIHR0KHt0cmFjZV9pZDpuLHNwYW5faWQ6cixwYXJlbnRfc3Bhbl9pZDppfSl9ZnVuY3Rpb24gRHQoZSl7Y29uc3QgdD1lLl9zZW50cnlNZXRyaWNzO2lmKCF0KXJldHVybjtjb25zdCBuPXt9O2Zvcihjb25zdFssW2Uscl1db2YgdCl7KG5bZV18fChuW2VdPVtdKSkucHVzaCh0dChyKSl9cmV0dXJuIG59Y29uc3QgTnQ9L15zZW50cnktLztmdW5jdGlvbiBSdChlKXtjb25zdCB0PWZ1bmN0aW9uKGUpe2lmKCFlfHwheGUoZSkmJiFBcnJheS5pc0FycmF5KGUpKXJldHVybjtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlLnJlZHVjZSgoKGUsdCk9Pntjb25zdCBuPUZ0KHQpO3JldHVybiBPYmplY3QuZW50cmllcyhuKS5mb3JFYWNoKCgoW3Qsbl0pPT57ZVt0XT1ufSkpLGV9KSx7fSk7cmV0dXJuIEZ0KGUpfShlKTtpZighdClyZXR1cm47Y29uc3Qgbj1PYmplY3QuZW50cmllcyh0KS5yZWR1Y2UoKChlLFt0LG5dKT0+e2lmKHQubWF0Y2goTnQpKXtlW3Quc2xpY2UoNyldPW59cmV0dXJuIGV9KSx7fSk7cmV0dXJuIE9iamVjdC5rZXlzKG4pLmxlbmd0aD4wP246dm9pZCAwfWZ1bmN0aW9uIEZ0KGUpe3JldHVybiBlLnNwbGl0KFwiLFwiKS5tYXAoKGU9PmUuc3BsaXQoXCI9XCIpLm1hcCgoZT0+ZGVjb2RlVVJJQ29tcG9uZW50KGUudHJpbSgpKSkpKSkucmVkdWNlKCgoZSxbdCxuXSk9Pih0JiZuJiYoZVt0XT1uKSxlKSkse30pfWxldCBCdD0hMTtmdW5jdGlvbiBVdChlKXtjb25zdHtzcGFuSWQ6dCx0cmFjZUlkOm4saXNSZW1vdGU6cn09ZS5zcGFuQ29udGV4dCgpO3JldHVybiB0dCh7cGFyZW50X3NwYW5faWQ6cj90OiR0KGUpLnBhcmVudF9zcGFuX2lkLHNwYW5faWQ6cj95dCgpOnQsdHJhY2VfaWQ6bn0pfWZ1bmN0aW9uIFZ0KGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlP0p0KGUpOkFycmF5LmlzQXJyYXkoZSk/ZVswXStlWzFdLzFlOTplIGluc3RhbmNlb2YgRGF0ZT9KdChlLmdldFRpbWUoKSk6aXQoKX1mdW5jdGlvbiBKdChlKXtyZXR1cm4gZT45OTk5OTk5OTk5P2UvMWUzOmV9ZnVuY3Rpb24gJHQoZSl7aWYoZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZS5nZXRTcGFuSlNPTn0oZSkpcmV0dXJuIGUuZ2V0U3BhbkpTT04oKTt0cnl7Y29uc3R7c3BhbklkOnQsdHJhY2VJZDpufT1lLnNwYW5Db250ZXh0KCk7aWYoZnVuY3Rpb24oZSl7Y29uc3QgdD1lO3JldHVybiEhKHQuYXR0cmlidXRlcyYmdC5zdGFydFRpbWUmJnQubmFtZSYmdC5lbmRUaW1lJiZ0LnN0YXR1cyl9KGUpKXtjb25zdHthdHRyaWJ1dGVzOnIsc3RhcnRUaW1lOmksbmFtZTpvLGVuZFRpbWU6cyxwYXJlbnRTcGFuSWQ6YSxzdGF0dXM6Y309ZTtyZXR1cm4gdHQoe3NwYW5faWQ6dCx0cmFjZV9pZDpuLGRhdGE6cixkZXNjcmlwdGlvbjpvLHBhcmVudF9zcGFuX2lkOmEsc3RhcnRfdGltZXN0YW1wOlZ0KGkpLHRpbWVzdGFtcDpWdChzKXx8dm9pZCAwLHN0YXR1czpxdChjKSxvcDpyW1wic2VudHJ5Lm9wXCJdLG9yaWdpbjpyW1wic2VudHJ5Lm9yaWdpblwiXSxfbWV0cmljc19zdW1tYXJ5OkR0KGUpfSl9cmV0dXJue3NwYW5faWQ6dCx0cmFjZV9pZDpufX1jYXRjaChlKXtyZXR1cm57fX19ZnVuY3Rpb24gcXQoZSl7aWYoZSYmMCE9PWUuY29kZSlyZXR1cm4gMT09PWUuY29kZT9cIm9rXCI6ZS5tZXNzYWdlfHxcInVua25vd25fZXJyb3JcIn1mdW5jdGlvbiB6dChlKXtyZXR1cm4gZS5fc2VudHJ5Um9vdFNwYW58fGV9ZnVuY3Rpb24gV3QoKXtCdHx8KGNlKCgoKT0+e2NvbnNvbGUud2FybihcIltTZW50cnldIERlcHJlY2F0aW9uIHdhcm5pbmc6IFJldHVybmluZyBudWxsIGZyb20gYGJlZm9yZVNlbmRTcGFuYCB3aWxsIGJlIGRpc2FsbG93ZWQgZnJvbSBTREsgdmVyc2lvbiA5LjAuMCBvbndhcmRzLiBUaGUgY2FsbGJhY2sgd2lsbCBvbmx5IHN1cHBvcnQgbXV0YXRpbmcgc3BhbnMuIFRvIGRyb3AgY2VydGFpbiBzcGFucywgY29uZmlndXJlIHRoZSByZXNwZWN0aXZlIGludGVncmF0aW9ucyBkaXJlY3RseS5cIil9KSksQnQ9ITApfWNvbnN0IEh0PVwicHJvZHVjdGlvblwiO2Z1bmN0aW9uIEd0KGUsdCl7Y29uc3Qgbj10LmdldE9wdGlvbnMoKSx7cHVibGljS2V5OnJ9PXQuZ2V0RHNuKCl8fHt9LGk9dHQoe2Vudmlyb25tZW50Om4uZW52aXJvbm1lbnR8fEh0LHJlbGVhc2U6bi5yZWxlYXNlLHB1YmxpY19rZXk6cix0cmFjZV9pZDplfSk7cmV0dXJuIHQuZW1pdChcImNyZWF0ZURzY1wiLGkpLGl9ZnVuY3Rpb24gUXQoZSl7Y29uc3QgdD14dCgpO2lmKCF0KXJldHVybnt9O2NvbnN0IG49enQoZSkscj1uLl9mcm96ZW5Ec2M7aWYocilyZXR1cm4gcjtjb25zdCBpPW4uc3BhbkNvbnRleHQoKS50cmFjZVN0YXRlLG89aSYmaS5nZXQoXCJzZW50cnkuZHNjXCIpLHM9byYmUnQobyk7aWYocylyZXR1cm4gcztjb25zdCBhPUd0KGUuc3BhbkNvbnRleHQoKS50cmFjZUlkLHQpLGM9JHQobiksbD1jLmRhdGF8fHt9LHU9bFtcInNlbnRyeS5zYW1wbGVfcmF0ZVwiXTtudWxsIT11JiYoYS5zYW1wbGVfcmF0ZT1gJHt1fWApO2NvbnN0IGQ9bFtcInNlbnRyeS5zb3VyY2VcIl0scD1jLmRlc2NyaXB0aW9uO3JldHVyblwidXJsXCIhPT1kJiZwJiYoYS50cmFuc2FjdGlvbj1wKSxmdW5jdGlvbihlKXtpZihcImJvb2xlYW5cIj09dHlwZW9mIF9fU0VOVFJZX1RSQUNJTkdfXyYmIV9fU0VOVFJZX1RSQUNJTkdfXylyZXR1cm4hMTtjb25zdCB0PXh0KCksbj1lfHx0JiZ0LmdldE9wdGlvbnMoKTtyZXR1cm4hIW4mJihuLmVuYWJsZVRyYWNpbmd8fFwidHJhY2VzU2FtcGxlUmF0ZVwiaW4gbnx8XCJ0cmFjZXNTYW1wbGVyXCJpbiBuKX0oKSYmKGEuc2FtcGxlZD1TdHJpbmcoZnVuY3Rpb24oZSl7Y29uc3R7dHJhY2VGbGFnczp0fT1lLnNwYW5Db250ZXh0KCk7cmV0dXJuIDE9PT10fShuKSkpLHQuZW1pdChcImNyZWF0ZURzY1wiLGEsbiksYX1jb25zdCBLdD0vXig/OihcXHcrKTopXFwvXFwvKD86KFxcdyspKD86OihcXHcrKT8pP0ApKFtcXHcuLV0rKSg/OjooXFxkKykpP1xcLyguKykvO2Z1bmN0aW9uIFl0KGUsdD0hMSl7Y29uc3R7aG9zdDpuLHBhdGg6cixwYXNzOmkscG9ydDpvLHByb2plY3RJZDpzLHByb3RvY29sOmEscHVibGljS2V5OmN9PWU7cmV0dXJuYCR7YX06Ly8ke2N9JHt0JiZpP2A6JHtpfWA6XCJcIn1AJHtufSR7bz9gOiR7b31gOlwiXCJ9LyR7cj9gJHtyfS9gOnJ9JHtzfWB9ZnVuY3Rpb24gWHQoZSl7cmV0dXJue3Byb3RvY29sOmUucHJvdG9jb2wscHVibGljS2V5OmUucHVibGljS2V5fHxcIlwiLHBhc3M6ZS5wYXNzfHxcIlwiLGhvc3Q6ZS5ob3N0LHBvcnQ6ZS5wb3J0fHxcIlwiLHBhdGg6ZS5wYXRofHxcIlwiLHByb2plY3RJZDplLnByb2plY3RJZH19ZnVuY3Rpb24gWnQoZSl7Y29uc3QgdD1cInN0cmluZ1wiPT10eXBlb2YgZT9mdW5jdGlvbihlKXtjb25zdCB0PUt0LmV4ZWMoZSk7aWYoIXQpcmV0dXJuIHZvaWQgY2UoKCgpPT57Y29uc29sZS5lcnJvcihgSW52YWxpZCBTZW50cnkgRHNuOiAke2V9YCl9KSk7Y29uc3RbbixyLGk9XCJcIixvPVwiXCIscz1cIlwiLGE9XCJcIl09dC5zbGljZSgxKTtsZXQgYz1cIlwiLGw9YTtjb25zdCB1PWwuc3BsaXQoXCIvXCIpO2lmKHUubGVuZ3RoPjEmJihjPXUuc2xpY2UoMCwtMSkuam9pbihcIi9cIiksbD11LnBvcCgpKSxsKXtjb25zdCBlPWwubWF0Y2goL15cXGQrLyk7ZSYmKGw9ZVswXSl9cmV0dXJuIFh0KHtob3N0Om8scGFzczppLHBhdGg6Yyxwcm9qZWN0SWQ6bCxwb3J0OnMscHJvdG9jb2w6bixwdWJsaWNLZXk6cn0pfShlKTpYdChlKTtpZih0JiZmdW5jdGlvbihlKXtpZighb2UpcmV0dXJuITA7Y29uc3R7cG9ydDp0LHByb2plY3RJZDpuLHByb3RvY29sOnJ9PWU7cmV0dXJuIShbXCJwcm90b2NvbFwiLFwicHVibGljS2V5XCIsXCJob3N0XCIsXCJwcm9qZWN0SWRcIl0uZmluZCgodD0+IWVbdF0mJihsZS5lcnJvcihgSW52YWxpZCBTZW50cnkgRHNuOiAke3R9IG1pc3NpbmdgKSwhMCkpKXx8KG4ubWF0Y2goL15cXGQrJC8pP2Z1bmN0aW9uKGUpe3JldHVyblwiaHR0cFwiPT09ZXx8XCJodHRwc1wiPT09ZX0ocik/dCYmaXNOYU4ocGFyc2VJbnQodCwxMCkpJiYobGUuZXJyb3IoYEludmFsaWQgU2VudHJ5IERzbjogSW52YWxpZCBwb3J0ICR7dH1gKSwxKToobGUuZXJyb3IoYEludmFsaWQgU2VudHJ5IERzbjogSW52YWxpZCBwcm90b2NvbCAke3J9YCksMSk6KGxlLmVycm9yKGBJbnZhbGlkIFNlbnRyeSBEc246IEludmFsaWQgcHJvamVjdElkICR7bn1gKSwxKSkpfSh0KSlyZXR1cm4gdH1mdW5jdGlvbiBlbihlLHQ9MTAwLG49MS8wKXt0cnl7cmV0dXJuIG5uKFwiXCIsZSx0LG4pfWNhdGNoKGUpe3JldHVybntFUlJPUjpgKipub24tc2VyaWFsaXphYmxlKiogKCR7ZX0pYH19fWZ1bmN0aW9uIHRuKGUsdD0zLG49MTAyNDAwKXtjb25zdCByPWVuKGUsdCk7cmV0dXJuIGk9cixmdW5jdGlvbihlKXtyZXR1cm5+LWVuY29kZVVSSShlKS5zcGxpdCgvJS4ufC4vKS5sZW5ndGh9KEpTT04uc3RyaW5naWZ5KGkpKT5uP3RuKGUsdC0xLG4pOnI7dmFyIGl9ZnVuY3Rpb24gbm4oZSx0LG49MS8wLHI9MS8wLGk9ZnVuY3Rpb24oKXtjb25zdCBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIFdlYWtTZXQsdD1lP25ldyBXZWFrU2V0OltdO3JldHVybltmdW5jdGlvbihuKXtpZihlKXJldHVybiEhdC5oYXMobil8fCh0LmFkZChuKSwhMSk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXT09PW4pcmV0dXJuITA7cmV0dXJuIHQucHVzaChuKSwhMX0sZnVuY3Rpb24obil7aWYoZSl0LmRlbGV0ZShuKTtlbHNlIGZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRbZV09PT1uKXt0LnNwbGljZShlLDEpO2JyZWFrfX1dfSgpKXtjb25zdFtvLHNdPWk7aWYobnVsbD09dHx8W1wiYm9vbGVhblwiLFwic3RyaW5nXCJdLmluY2x1ZGVzKHR5cGVvZiB0KXx8XCJudW1iZXJcIj09dHlwZW9mIHQmJk51bWJlci5pc0Zpbml0ZSh0KSlyZXR1cm4gdDtjb25zdCBhPWZ1bmN0aW9uKGUsdCl7dHJ5e2lmKFwiZG9tYWluXCI9PT1lJiZ0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdC5fZXZlbnRzKXJldHVyblwiW0RvbWFpbl1cIjtpZihcImRvbWFpbkVtaXR0ZXJcIj09PWUpcmV0dXJuXCJbRG9tYWluRW1pdHRlcl1cIjtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsJiZ0PT09Z2xvYmFsKXJldHVyblwiW0dsb2JhbF1cIjtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ0PT09d2luZG93KXJldHVyblwiW1dpbmRvd11cIjtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJnQ9PT1kb2N1bWVudClyZXR1cm5cIltEb2N1bWVudF1cIjtpZihVZSh0KSlyZXR1cm5cIltWdWVWaWV3TW9kZWxdXCI7aWYoTmUobj10KSYmXCJuYXRpdmVFdmVudFwiaW4gbiYmXCJwcmV2ZW50RGVmYXVsdFwiaW4gbiYmXCJzdG9wUHJvcGFnYXRpb25cImluIG4pcmV0dXJuXCJbU3ludGhldGljRXZlbnRdXCI7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQmJiFOdW1iZXIuaXNGaW5pdGUodCkpcmV0dXJuYFske3R9XWA7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdClyZXR1cm5gW0Z1bmN0aW9uOiAke3ZlKHQpfV1gO2lmKFwic3ltYm9sXCI9PXR5cGVvZiB0KXJldHVybmBbJHtTdHJpbmcodCl9XWA7aWYoXCJiaWdpbnRcIj09dHlwZW9mIHQpcmV0dXJuYFtCaWdJbnQ6ICR7U3RyaW5nKHQpfV1gO2NvbnN0IHI9ZnVuY3Rpb24oZSl7Y29uc3QgdD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7cmV0dXJuIHQ/dC5jb25zdHJ1Y3Rvci5uYW1lOlwibnVsbCBwcm90b3R5cGVcIn0odCk7cmV0dXJuL15IVE1MKFxcdyopRWxlbWVudCQvLnRlc3Qocik/YFtIVE1MRWxlbWVudDogJHtyfV1gOmBbb2JqZWN0ICR7cn1dYH1jYXRjaChlKXtyZXR1cm5gKipub24tc2VyaWFsaXphYmxlKiogKCR7ZX0pYH12YXIgbn0oZSx0KTtpZighYS5zdGFydHNXaXRoKFwiW29iamVjdCBcIikpcmV0dXJuIGE7aWYodC5fX3NlbnRyeV9za2lwX25vcm1hbGl6YXRpb25fXylyZXR1cm4gdDtjb25zdCBjPVwibnVtYmVyXCI9PXR5cGVvZiB0Ll9fc2VudHJ5X292ZXJyaWRlX25vcm1hbGl6YXRpb25fZGVwdGhfXz90Ll9fc2VudHJ5X292ZXJyaWRlX25vcm1hbGl6YXRpb25fZGVwdGhfXzpuO2lmKDA9PT1jKXJldHVybiBhLnJlcGxhY2UoXCJvYmplY3QgXCIsXCJcIik7aWYobyh0KSlyZXR1cm5cIltDaXJjdWxhciB+XVwiO2NvbnN0IGw9dDtpZihsJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBsLnRvSlNPTil0cnl7cmV0dXJuIG5uKFwiXCIsbC50b0pTT04oKSxjLTEscixpKX1jYXRjaChlKXt9Y29uc3QgdT1BcnJheS5pc0FycmF5KHQpP1tdOnt9O2xldCBkPTA7Y29uc3QgcD1YZSh0KTtmb3IoY29uc3QgZSBpbiBwKXtpZighT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHAsZSkpY29udGludWU7aWYoZD49cil7dVtlXT1cIltNYXhQcm9wZXJ0aWVzIH5dXCI7YnJlYWt9Y29uc3QgdD1wW2VdO3VbZV09bm4oZSx0LGMtMSxyLGkpLGQrK31yZXR1cm4gcyh0KSx1fWZ1bmN0aW9uIHJuKGUsdD1bXSl7cmV0dXJuW2UsdF19ZnVuY3Rpb24gb24oZSx0KXtjb25zdFtuLHJdPWU7cmV0dXJuW24sWy4uLnIsdF1dfWZ1bmN0aW9uIHNuKGUsdCl7Y29uc3Qgbj1lWzFdO2Zvcihjb25zdCBlIG9mIG4pe2lmKHQoZSxlWzBdLnR5cGUpKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGFuKGUpe3JldHVybiByZS5fX1NFTlRSWV9fJiZyZS5fX1NFTlRSWV9fLmVuY29kZVBvbHlmaWxsP3JlLl9fU0VOVFJZX18uZW5jb2RlUG9seWZpbGwoZSk6KG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpfWZ1bmN0aW9uIGNuKGUpe2NvbnN0W3Qsbl09ZTtsZXQgcj1KU09OLnN0cmluZ2lmeSh0KTtmdW5jdGlvbiBpKGUpe1wic3RyaW5nXCI9PXR5cGVvZiByP3I9XCJzdHJpbmdcIj09dHlwZW9mIGU/citlOlthbihyKSxlXTpyLnB1c2goXCJzdHJpbmdcIj09dHlwZW9mIGU/YW4oZSk6ZSl9Zm9yKGNvbnN0IGUgb2Ygbil7Y29uc3RbdCxuXT1lO2lmKGkoYFxcbiR7SlNPTi5zdHJpbmdpZnkodCl9XFxuYCksXCJzdHJpbmdcIj09dHlwZW9mIG58fG4gaW5zdGFuY2VvZiBVaW50OEFycmF5KWkobik7ZWxzZXtsZXQgZTt0cnl7ZT1KU09OLnN0cmluZ2lmeShuKX1jYXRjaCh0KXtlPUpTT04uc3RyaW5naWZ5KGVuKG4pKX1pKGUpfX1yZXR1cm5cInN0cmluZ1wiPT10eXBlb2Ygcj9yOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5yZWR1Y2UoKChlLHQpPT5lK3QubGVuZ3RoKSwwKSxuPW5ldyBVaW50OEFycmF5KHQpO2xldCByPTA7Zm9yKGNvbnN0IHQgb2YgZSluLnNldCh0LHIpLHIrPXQubGVuZ3RoO3JldHVybiBufShyKX1mdW5jdGlvbiBsbihlKXtjb25zdCB0PVwic3RyaW5nXCI9PXR5cGVvZiBlLmRhdGE/YW4oZS5kYXRhKTplLmRhdGE7cmV0dXJuW3R0KHt0eXBlOlwiYXR0YWNobWVudFwiLGxlbmd0aDp0Lmxlbmd0aCxmaWxlbmFtZTplLmZpbGVuYW1lLGNvbnRlbnRfdHlwZTplLmNvbnRlbnRUeXBlLGF0dGFjaG1lbnRfdHlwZTplLmF0dGFjaG1lbnRUeXBlfSksdF19Y29uc3QgdW49e3Nlc3Npb246XCJzZXNzaW9uXCIsc2Vzc2lvbnM6XCJzZXNzaW9uXCIsYXR0YWNobWVudDpcImF0dGFjaG1lbnRcIix0cmFuc2FjdGlvbjpcInRyYW5zYWN0aW9uXCIsZXZlbnQ6XCJlcnJvclwiLGNsaWVudF9yZXBvcnQ6XCJpbnRlcm5hbFwiLHVzZXJfcmVwb3J0OlwiZGVmYXVsdFwiLHByb2ZpbGU6XCJwcm9maWxlXCIscHJvZmlsZV9jaHVuazpcInByb2ZpbGVcIixyZXBsYXlfZXZlbnQ6XCJyZXBsYXlcIixyZXBsYXlfcmVjb3JkaW5nOlwicmVwbGF5XCIsY2hlY2tfaW46XCJtb25pdG9yXCIsZmVlZGJhY2s6XCJmZWVkYmFja1wiLHNwYW46XCJzcGFuXCIsc3RhdHNkOlwibWV0cmljX2J1Y2tldFwiLHJhd19zZWN1cml0eTpcInNlY3VyaXR5XCJ9O2Z1bmN0aW9uIGRuKGUpe3JldHVybiB1bltlXX1mdW5jdGlvbiBwbihlKXtpZighZXx8IWUuc2RrKXJldHVybjtjb25zdHtuYW1lOnQsdmVyc2lvbjpufT1lLnNkaztyZXR1cm57bmFtZTp0LHZlcnNpb246bn19ZnVuY3Rpb24gaG4oZSx0LG4scil7Y29uc3QgaT1wbihuKSxvPWUudHlwZSYmXCJyZXBsYXlfZXZlbnRcIiE9PWUudHlwZT9lLnR5cGU6XCJldmVudFwiOyFmdW5jdGlvbihlLHQpe3QmJihlLnNkaz1lLnNka3x8e30sZS5zZGsubmFtZT1lLnNkay5uYW1lfHx0Lm5hbWUsZS5zZGsudmVyc2lvbj1lLnNkay52ZXJzaW9ufHx0LnZlcnNpb24sZS5zZGsuaW50ZWdyYXRpb25zPVsuLi5lLnNkay5pbnRlZ3JhdGlvbnN8fFtdLC4uLnQuaW50ZWdyYXRpb25zfHxbXV0sZS5zZGsucGFja2FnZXM9Wy4uLmUuc2RrLnBhY2thZ2VzfHxbXSwuLi50LnBhY2thZ2VzfHxbXV0pfShlLG4mJm4uc2RrKTtjb25zdCBzPWZ1bmN0aW9uKGUsdCxuLHIpe2NvbnN0IGk9ZS5zZGtQcm9jZXNzaW5nTWV0YWRhdGEmJmUuc2RrUHJvY2Vzc2luZ01ldGFkYXRhLmR5bmFtaWNTYW1wbGluZ0NvbnRleHQ7cmV0dXJue2V2ZW50X2lkOmUuZXZlbnRfaWQsc2VudF9hdDoobmV3IERhdGUpLnRvSVNPU3RyaW5nKCksLi4udCYme3Nkazp0fSwuLi4hIW4mJnImJntkc246WXQocil9LC4uLmkmJnt0cmFjZTp0dCh7Li4uaX0pfX19KGUsaSxyLHQpO2RlbGV0ZSBlLnNka1Byb2Nlc3NpbmdNZXRhZGF0YTtyZXR1cm4gcm4ocyxbW3t0eXBlOm99LGVdXSl9ZnVuY3Rpb24gZm4oZSx0LG4scj0wKXtyZXR1cm4gbmV3IGZ0KCgoaSxvKT0+e2NvbnN0IHM9ZVtyXTtpZihudWxsPT09dHx8XCJmdW5jdGlvblwiIT10eXBlb2YgcylpKHQpO2Vsc2V7Y29uc3QgYT1zKHsuLi50fSxuKTt0ZSYmcy5pZCYmbnVsbD09PWEmJmxlLmxvZyhgRXZlbnQgcHJvY2Vzc29yIFwiJHtzLmlkfVwiIGRyb3BwZWQgZXZlbnRgKSxGZShhKT9hLnRoZW4oKHQ9PmZuKGUsdCxuLHIrMSkudGhlbihpKSkpLnRoZW4obnVsbCxvKTpmbihlLGEsbixyKzEpLnRoZW4oaSkudGhlbihudWxsLG8pfX0pKX1sZXQgdm4sZ24sbW47ZnVuY3Rpb24geW4oZSx0KXtjb25zdHtmaW5nZXJwcmludDpuLHNwYW46cixicmVhZGNydW1iczppLHNka1Byb2Nlc3NpbmdNZXRhZGF0YTpvfT10OyFmdW5jdGlvbihlLHQpe2NvbnN0e2V4dHJhOm4sdGFnczpyLHVzZXI6aSxjb250ZXh0czpvLGxldmVsOnMsdHJhbnNhY3Rpb25OYW1lOmF9PXQsYz10dChuKTtjJiZPYmplY3Qua2V5cyhjKS5sZW5ndGgmJihlLmV4dHJhPXsuLi5jLC4uLmUuZXh0cmF9KTtjb25zdCBsPXR0KHIpO2wmJk9iamVjdC5rZXlzKGwpLmxlbmd0aCYmKGUudGFncz17Li4ubCwuLi5lLnRhZ3N9KTtjb25zdCB1PXR0KGkpO3UmJk9iamVjdC5rZXlzKHUpLmxlbmd0aCYmKGUudXNlcj17Li4udSwuLi5lLnVzZXJ9KTtjb25zdCBkPXR0KG8pO2QmJk9iamVjdC5rZXlzKGQpLmxlbmd0aCYmKGUuY29udGV4dHM9ey4uLmQsLi4uZS5jb250ZXh0c30pO3MmJihlLmxldmVsPXMpO2EmJlwidHJhbnNhY3Rpb25cIiE9PWUudHlwZSYmKGUudHJhbnNhY3Rpb249YSl9KGUsdCksciYmZnVuY3Rpb24oZSx0KXtlLmNvbnRleHRzPXt0cmFjZTpVdCh0KSwuLi5lLmNvbnRleHRzfSxlLnNka1Byb2Nlc3NpbmdNZXRhZGF0YT17ZHluYW1pY1NhbXBsaW5nQ29udGV4dDpRdCh0KSwuLi5lLnNka1Byb2Nlc3NpbmdNZXRhZGF0YX07Y29uc3Qgbj16dCh0KSxyPSR0KG4pLmRlc2NyaXB0aW9uO3ImJiFlLnRyYW5zYWN0aW9uJiZcInRyYW5zYWN0aW9uXCI9PT1lLnR5cGUmJihlLnRyYW5zYWN0aW9uPXIpfShlLHIpLGZ1bmN0aW9uKGUsdCl7ZS5maW5nZXJwcmludD1lLmZpbmdlcnByaW50P0FycmF5LmlzQXJyYXkoZS5maW5nZXJwcmludCk/ZS5maW5nZXJwcmludDpbZS5maW5nZXJwcmludF06W10sdCYmKGUuZmluZ2VycHJpbnQ9ZS5maW5nZXJwcmludC5jb25jYXQodCkpO2UuZmluZ2VycHJpbnQmJiFlLmZpbmdlcnByaW50Lmxlbmd0aCYmZGVsZXRlIGUuZmluZ2VycHJpbnR9KGUsbiksZnVuY3Rpb24oZSx0KXtjb25zdCBuPVsuLi5lLmJyZWFkY3J1bWJzfHxbXSwuLi50XTtlLmJyZWFkY3J1bWJzPW4ubGVuZ3RoP246dm9pZCAwfShlLGkpLGZ1bmN0aW9uKGUsdCl7ZS5zZGtQcm9jZXNzaW5nTWV0YWRhdGE9ey4uLmUuc2RrUHJvY2Vzc2luZ01ldGFkYXRhLC4uLnR9fShlLG8pfWZ1bmN0aW9uIGJuKGUsdCl7Y29uc3R7ZXh0cmE6bix0YWdzOnIsdXNlcjppLGNvbnRleHRzOm8sbGV2ZWw6cyxzZGtQcm9jZXNzaW5nTWV0YWRhdGE6YSxicmVhZGNydW1iczpjLGZpbmdlcnByaW50OmwsZXZlbnRQcm9jZXNzb3JzOnUsYXR0YWNobWVudHM6ZCxwcm9wYWdhdGlvbkNvbnRleHQ6cCx0cmFuc2FjdGlvbk5hbWU6aCxzcGFuOmZ9PXQ7X24oZSxcImV4dHJhXCIsbiksX24oZSxcInRhZ3NcIixyKSxfbihlLFwidXNlclwiLGkpLF9uKGUsXCJjb250ZXh0c1wiLG8pLGUuc2RrUHJvY2Vzc2luZ01ldGFkYXRhPWJ0KGUuc2RrUHJvY2Vzc2luZ01ldGFkYXRhLGEsMikscyYmKGUubGV2ZWw9cyksaCYmKGUudHJhbnNhY3Rpb25OYW1lPWgpLGYmJihlLnNwYW49ZiksYy5sZW5ndGgmJihlLmJyZWFkY3J1bWJzPVsuLi5lLmJyZWFkY3J1bWJzLC4uLmNdKSxsLmxlbmd0aCYmKGUuZmluZ2VycHJpbnQ9Wy4uLmUuZmluZ2VycHJpbnQsLi4ubF0pLHUubGVuZ3RoJiYoZS5ldmVudFByb2Nlc3NvcnM9Wy4uLmUuZXZlbnRQcm9jZXNzb3JzLC4uLnVdKSxkLmxlbmd0aCYmKGUuYXR0YWNobWVudHM9Wy4uLmUuYXR0YWNobWVudHMsLi4uZF0pLGUucHJvcGFnYXRpb25Db250ZXh0PXsuLi5lLnByb3BhZ2F0aW9uQ29udGV4dCwuLi5wfX1mdW5jdGlvbiBfbihlLHQsbil7ZVt0XT1idChlW3RdLG4sMSl9ZnVuY3Rpb24gd24oZSx0LG4scixpLG8pe2NvbnN0e25vcm1hbGl6ZURlcHRoOnM9Myxub3JtYWxpemVNYXhCcmVhZHRoOmE9MWUzfT1lLGM9ey4uLnQsZXZlbnRfaWQ6dC5ldmVudF9pZHx8bi5ldmVudF9pZHx8b3QoKSx0aW1lc3RhbXA6dC50aW1lc3RhbXB8fHJ0KCl9LGw9bi5pbnRlZ3JhdGlvbnN8fGUuaW50ZWdyYXRpb25zLm1hcCgoZT0+ZS5uYW1lKSk7IWZ1bmN0aW9uKGUsdCl7Y29uc3R7ZW52aXJvbm1lbnQ6bixyZWxlYXNlOnIsZGlzdDppLG1heFZhbHVlTGVuZ3RoOm89MjUwfT10O2UuZW52aXJvbm1lbnQ9ZS5lbnZpcm9ubWVudHx8bnx8SHQsIWUucmVsZWFzZSYmciYmKGUucmVsZWFzZT1yKTshZS5kaXN0JiZpJiYoZS5kaXN0PWkpO2UubWVzc2FnZSYmKGUubWVzc2FnZT1xZShlLm1lc3NhZ2UsbykpO2NvbnN0IHM9ZS5leGNlcHRpb24mJmUuZXhjZXB0aW9uLnZhbHVlcyYmZS5leGNlcHRpb24udmFsdWVzWzBdO3MmJnMudmFsdWUmJihzLnZhbHVlPXFlKHMudmFsdWUsbykpO2NvbnN0IGE9ZS5yZXF1ZXN0O2EmJmEudXJsJiYoYS51cmw9cWUoYS51cmwsbykpfShjLGUpLGZ1bmN0aW9uKGUsdCl7dC5sZW5ndGg+MCYmKGUuc2RrPWUuc2RrfHx7fSxlLnNkay5pbnRlZ3JhdGlvbnM9Wy4uLmUuc2RrLmludGVncmF0aW9uc3x8W10sLi4udF0pfShjLGwpLGkmJmkuZW1pdChcImFwcGx5RnJhbWVNZXRhZGF0YVwiLHQpLHZvaWQgMD09PXQudHlwZSYmZnVuY3Rpb24oZSx0KXtjb25zdCBuPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9cmUuX3NlbnRyeURlYnVnSWRzO2lmKCF0KXJldHVybnt9O2NvbnN0IG49T2JqZWN0LmtleXModCk7cmV0dXJuIG1uJiZuLmxlbmd0aD09PWdufHwoZ249bi5sZW5ndGgsbW49bi5yZWR1Y2UoKChuLHIpPT57dm58fCh2bj17fSk7Y29uc3QgaT12bltyXTtpZihpKW5baVswXV09aVsxXTtlbHNle2NvbnN0IGk9ZShyKTtmb3IobGV0IGU9aS5sZW5ndGgtMTtlPj0wO2UtLSl7Y29uc3Qgbz1pW2VdLHM9byYmby5maWxlbmFtZSxhPXRbcl07aWYocyYmYSl7bltzXT1hLHZuW3JdPVtzLGFdO2JyZWFrfX19cmV0dXJuIG59KSx7fSkpLG1ufSh0KTt0cnl7ZS5leGNlcHRpb24udmFsdWVzLmZvckVhY2goKGU9PntlLnN0YWNrdHJhY2UuZnJhbWVzLmZvckVhY2goKGU9PntuJiZlLmZpbGVuYW1lJiYoZS5kZWJ1Z19pZD1uW2UuZmlsZW5hbWVdKX0pKX0pKX1jYXRjaChlKXt9fShjLGUuc3RhY2tQYXJzZXIpO2NvbnN0IHU9ZnVuY3Rpb24oZSx0KXtpZighdClyZXR1cm4gZTtjb25zdCBuPWU/ZS5jbG9uZSgpOm5ldyBNdDtyZXR1cm4gbi51cGRhdGUodCksbn0ocixuLmNhcHR1cmVDb250ZXh0KTtuLm1lY2hhbmlzbSYmbHQoYyxuLm1lY2hhbmlzbSk7Y29uc3QgZD1pP2kuZ2V0RXZlbnRQcm9jZXNzb3JzKCk6W10scD1pZShcImdsb2JhbFNjb3BlXCIsKCgpPT5uZXcgTXQpKS5nZXRTY29wZURhdGEoKTtpZihvKXtibihwLG8uZ2V0U2NvcGVEYXRhKCkpfWlmKHUpe2JuKHAsdS5nZXRTY29wZURhdGEoKSl9Y29uc3QgaD1bLi4ubi5hdHRhY2htZW50c3x8W10sLi4ucC5hdHRhY2htZW50c107aC5sZW5ndGgmJihuLmF0dGFjaG1lbnRzPWgpLHluKGMscCk7cmV0dXJuIGZuKFsuLi5kLC4uLnAuZXZlbnRQcm9jZXNzb3JzXSxjLG4pLnRoZW4oKGU9PihlJiZmdW5jdGlvbihlKXtjb25zdCB0PXt9O3RyeXtlLmV4Y2VwdGlvbi52YWx1ZXMuZm9yRWFjaCgoZT0+e2Uuc3RhY2t0cmFjZS5mcmFtZXMuZm9yRWFjaCgoZT0+e2UuZGVidWdfaWQmJihlLmFic19wYXRoP3RbZS5hYnNfcGF0aF09ZS5kZWJ1Z19pZDplLmZpbGVuYW1lJiYodFtlLmZpbGVuYW1lXT1lLmRlYnVnX2lkKSxkZWxldGUgZS5kZWJ1Z19pZCl9KSl9KSl9Y2F0Y2goZSl7fWlmKDA9PT1PYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuO2UuZGVidWdfbWV0YT1lLmRlYnVnX21ldGF8fHt9LGUuZGVidWdfbWV0YS5pbWFnZXM9ZS5kZWJ1Z19tZXRhLmltYWdlc3x8W107Y29uc3Qgbj1lLmRlYnVnX21ldGEuaW1hZ2VzO09iamVjdC5lbnRyaWVzKHQpLmZvckVhY2goKChbZSx0XSk9PntuLnB1c2goe3R5cGU6XCJzb3VyY2VtYXBcIixjb2RlX2ZpbGU6ZSxkZWJ1Z19pZDp0fSl9KSl9KGUpLFwibnVtYmVyXCI9PXR5cGVvZiBzJiZzPjA/ZnVuY3Rpb24oZSx0LG4pe2lmKCFlKXJldHVybiBudWxsO2NvbnN0IHI9ey4uLmUsLi4uZS5icmVhZGNydW1icyYme2JyZWFkY3J1bWJzOmUuYnJlYWRjcnVtYnMubWFwKChlPT4oey4uLmUsLi4uZS5kYXRhJiZ7ZGF0YTplbihlLmRhdGEsdCxuKX19KSkpfSwuLi5lLnVzZXImJnt1c2VyOmVuKGUudXNlcix0LG4pfSwuLi5lLmNvbnRleHRzJiZ7Y29udGV4dHM6ZW4oZS5jb250ZXh0cyx0LG4pfSwuLi5lLmV4dHJhJiZ7ZXh0cmE6ZW4oZS5leHRyYSx0LG4pfX07ZS5jb250ZXh0cyYmZS5jb250ZXh0cy50cmFjZSYmci5jb250ZXh0cyYmKHIuY29udGV4dHMudHJhY2U9ZS5jb250ZXh0cy50cmFjZSxlLmNvbnRleHRzLnRyYWNlLmRhdGEmJihyLmNvbnRleHRzLnRyYWNlLmRhdGE9ZW4oZS5jb250ZXh0cy50cmFjZS5kYXRhLHQsbikpKTtlLnNwYW5zJiYoci5zcGFucz1lLnNwYW5zLm1hcCgoZT0+KHsuLi5lLC4uLmUuZGF0YSYme2RhdGE6ZW4oZS5kYXRhLHQsbil9fSkpKSk7ZS5jb250ZXh0cyYmZS5jb250ZXh0cy5mbGFncyYmci5jb250ZXh0cyYmKHIuY29udGV4dHMuZmxhZ3M9ZW4oZS5jb250ZXh0cy5mbGFncywzLG4pKTtyZXR1cm4gcn0oZSxzLGEpOmUpKSl9ZnVuY3Rpb24gU24oZSl7aWYoZSlyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBNdHx8XCJmdW5jdGlvblwiPT10eXBlb2YgZX0oZSl8fGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKS5zb21lKChlPT5rbi5pbmNsdWRlcyhlKSkpfShlKT97Y2FwdHVyZUNvbnRleHQ6ZX06ZX1jb25zdCBrbj1bXCJ1c2VyXCIsXCJsZXZlbFwiLFwiZXh0cmFcIixcImNvbnRleHRzXCIsXCJ0YWdzXCIsXCJmaW5nZXJwcmludFwiLFwicmVxdWVzdFNlc3Npb25cIixcInByb3BhZ2F0aW9uQ29udGV4dFwiXTtmdW5jdGlvbiBNbihlLHQpe3JldHVybiBqdCgpLmNhcHR1cmVFdmVudChlLHQpfWZ1bmN0aW9uIENuKGUpe2NvbnN0IHQ9eHQoKSxuPUl0KCkscj1qdCgpLHtyZWxlYXNlOmksZW52aXJvbm1lbnQ6bz1IdH09dCYmdC5nZXRPcHRpb25zKCl8fHt9LHt1c2VyQWdlbnQ6c309cmUubmF2aWdhdG9yfHx7fSxhPXZ0KHtyZWxlYXNlOmksZW52aXJvbm1lbnQ6byx1c2VyOnIuZ2V0VXNlcigpfHxuLmdldFVzZXIoKSwuLi5zJiZ7dXNlckFnZW50OnN9LC4uLmV9KSxjPW4uZ2V0U2Vzc2lvbigpO3JldHVybiBjJiZcIm9rXCI9PT1jLnN0YXR1cyYmZ3QoYyx7c3RhdHVzOlwiZXhpdGVkXCJ9KSxFbigpLG4uc2V0U2Vzc2lvbihhKSxyLnNldFNlc3Npb24oYSksYX1mdW5jdGlvbiBFbigpe2NvbnN0IGU9SXQoKSx0PWp0KCksbj10LmdldFNlc3Npb24oKXx8ZS5nZXRTZXNzaW9uKCk7biYmZnVuY3Rpb24oZSx0KXtsZXQgbj17fTt0P249e3N0YXR1czp0fTpcIm9rXCI9PT1lLnN0YXR1cyYmKG49e3N0YXR1czpcImV4aXRlZFwifSksZ3QoZSxuKX0obiksVG4oKSxlLnNldFNlc3Npb24oKSx0LnNldFNlc3Npb24oKX1mdW5jdGlvbiBUbigpe2NvbnN0IGU9SXQoKSx0PWp0KCksbj14dCgpLHI9dC5nZXRTZXNzaW9uKCl8fGUuZ2V0U2Vzc2lvbigpO3ImJm4mJm4uY2FwdHVyZVNlc3Npb24ocil9ZnVuY3Rpb24gT24oZT0hMSl7ZT9FbigpOlRuKCl9ZnVuY3Rpb24gUG4oZSx0LG4pe3JldHVybiB0fHxgJHtmdW5jdGlvbihlKXtyZXR1cm5gJHtmdW5jdGlvbihlKXtjb25zdCB0PWUucHJvdG9jb2w/YCR7ZS5wcm90b2NvbH06YDpcIlwiLG49ZS5wb3J0P2A6JHtlLnBvcnR9YDpcIlwiO3JldHVybmAke3R9Ly8ke2UuaG9zdH0ke259JHtlLnBhdGg/YC8ke2UucGF0aH1gOlwiXCJ9L2FwaS9gfShlKX0ke2UucHJvamVjdElkfS9lbnZlbG9wZS9gfShlKX0/JHtmdW5jdGlvbihlLHQpe2NvbnN0IG49e3NlbnRyeV92ZXJzaW9uOlwiN1wifTtyZXR1cm4gZS5wdWJsaWNLZXkmJihuLnNlbnRyeV9rZXk9ZS5wdWJsaWNLZXkpLHQmJihuLnNlbnRyeV9jbGllbnQ9YCR7dC5uYW1lfS8ke3QudmVyc2lvbn1gKSxuZXcgVVJMU2VhcmNoUGFyYW1zKG4pLnRvU3RyaW5nKCl9KGUsbil9YH1jb25zdCBBbj1bXTtmdW5jdGlvbiBqbihlLHQpe2Zvcihjb25zdCBuIG9mIHQpbiYmbi5hZnRlckFsbFNldHVwJiZuLmFmdGVyQWxsU2V0dXAoZSl9ZnVuY3Rpb24gSW4oZSx0LG4pe2lmKG5bdC5uYW1lXSl0ZSYmbGUubG9nKGBJbnRlZ3JhdGlvbiBza2lwcGVkIGJlY2F1c2UgaXQgd2FzIGFscmVhZHkgaW5zdGFsbGVkOiAke3QubmFtZX1gKTtlbHNle2lmKG5bdC5uYW1lXT10LC0xPT09QW4uaW5kZXhPZih0Lm5hbWUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnNldHVwT25jZSYmKHQuc2V0dXBPbmNlKCksQW4ucHVzaCh0Lm5hbWUpKSx0LnNldHVwJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnNldHVwJiZ0LnNldHVwKGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQucHJlcHJvY2Vzc0V2ZW50KXtjb25zdCBuPXQucHJlcHJvY2Vzc0V2ZW50LmJpbmQodCk7ZS5vbihcInByZXByb2Nlc3NFdmVudFwiLCgodCxyKT0+bih0LHIsZSkpKX1pZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnByb2Nlc3NFdmVudCl7Y29uc3Qgbj10LnByb2Nlc3NFdmVudC5iaW5kKHQpLHI9T2JqZWN0LmFzc2lnbigoKHQscik9Pm4odCxyLGUpKSx7aWQ6dC5uYW1lfSk7ZS5hZGRFdmVudFByb2Nlc3NvcihyKX10ZSYmbGUubG9nKGBJbnRlZ3JhdGlvbiBpbnN0YWxsZWQ6ICR7dC5uYW1lfWApfX1jbGFzcyB4biBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsdD1cIndhcm5cIil7c3VwZXIoZSksdGhpcy5tZXNzYWdlPWUsdGhpcy5sb2dMZXZlbD10fX1jb25zdCBMbj1cIk5vdCBjYXB0dXJpbmcgZXhjZXB0aW9uIGJlY2F1c2UgaXQncyBhbHJlYWR5IGJlZW4gY2FwdHVyZWQuXCI7Y2xhc3MgRG57Y29uc3RydWN0b3IoZSl7aWYodGhpcy5fb3B0aW9ucz1lLHRoaXMuX2ludGVncmF0aW9ucz17fSx0aGlzLl9udW1Qcm9jZXNzaW5nPTAsdGhpcy5fb3V0Y29tZXM9e30sdGhpcy5faG9va3M9e30sdGhpcy5fZXZlbnRQcm9jZXNzb3JzPVtdLGUuZHNuP3RoaXMuX2Rzbj1adChlLmRzbik6dGUmJmxlLndhcm4oXCJObyBEU04gcHJvdmlkZWQsIGNsaWVudCB3aWxsIG5vdCBzZW5kIGV2ZW50cy5cIiksdGhpcy5fZHNuKXtjb25zdCB0PVBuKHRoaXMuX2RzbixlLnR1bm5lbCxlLl9tZXRhZGF0YT9lLl9tZXRhZGF0YS5zZGs6dm9pZCAwKTt0aGlzLl90cmFuc3BvcnQ9ZS50cmFuc3BvcnQoe3R1bm5lbDp0aGlzLl9vcHRpb25zLnR1bm5lbCxyZWNvcmREcm9wcGVkRXZlbnQ6dGhpcy5yZWNvcmREcm9wcGVkRXZlbnQuYmluZCh0aGlzKSwuLi5lLnRyYW5zcG9ydE9wdGlvbnMsdXJsOnR9KX1jb25zdCB0PVtcImVuYWJsZVRyYWNpbmdcIixcInRyYWNlc1NhbXBsZVJhdGVcIixcInRyYWNlc1NhbXBsZXJcIl0uZmluZCgodD0+dCBpbiBlJiZudWxsPT1lW3RdKSk7dCYmY2UoKCgpPT57Y29uc29sZS53YXJuKGBbU2VudHJ5XSBEZXByZWNhdGlvbiB3YXJuaW5nOiBcXGAke3R9XFxgIGlzIHNldCB0byB1bmRlZmluZWQsIHdoaWNoIGxlYWRzIHRvIHRyYWNpbmcgYmVpbmcgZW5hYmxlZC4gSW4gdjksIGEgdmFsdWUgb2YgXFxgdW5kZWZpbmVkXFxgIHdpbGwgcmVzdWx0IGluIHRyYWNpbmcgYmVpbmcgZGlzYWJsZWQuYCl9KSl9Y2FwdHVyZUV4Y2VwdGlvbihlLHQsbil7Y29uc3Qgcj1vdCgpO2lmKHV0KGUpKXJldHVybiB0ZSYmbGUubG9nKExuKSxyO2NvbnN0IGk9e2V2ZW50X2lkOnIsLi4udH07cmV0dXJuIHRoaXMuX3Byb2Nlc3ModGhpcy5ldmVudEZyb21FeGNlcHRpb24oZSxpKS50aGVuKChlPT50aGlzLl9jYXB0dXJlRXZlbnQoZSxpLG4pKSkpLGkuZXZlbnRfaWR9Y2FwdHVyZU1lc3NhZ2UoZSx0LG4scil7Y29uc3QgaT17ZXZlbnRfaWQ6b3QoKSwuLi5ufSxvPUxlKGUpP2U6U3RyaW5nKGUpLHM9RGUoZSk/dGhpcy5ldmVudEZyb21NZXNzYWdlKG8sdCxpKTp0aGlzLmV2ZW50RnJvbUV4Y2VwdGlvbihlLGkpO3JldHVybiB0aGlzLl9wcm9jZXNzKHMudGhlbigoZT0+dGhpcy5fY2FwdHVyZUV2ZW50KGUsaSxyKSkpKSxpLmV2ZW50X2lkfWNhcHR1cmVFdmVudChlLHQsbil7Y29uc3Qgcj1vdCgpO2lmKHQmJnQub3JpZ2luYWxFeGNlcHRpb24mJnV0KHQub3JpZ2luYWxFeGNlcHRpb24pKXJldHVybiB0ZSYmbGUubG9nKExuKSxyO2NvbnN0IGk9e2V2ZW50X2lkOnIsLi4udH0sbz0oZS5zZGtQcm9jZXNzaW5nTWV0YWRhdGF8fHt9KS5jYXB0dXJlZFNwYW5TY29wZTtyZXR1cm4gdGhpcy5fcHJvY2Vzcyh0aGlzLl9jYXB0dXJlRXZlbnQoZSxpLG98fG4pKSxpLmV2ZW50X2lkfWNhcHR1cmVTZXNzaW9uKGUpe1wic3RyaW5nXCIhPXR5cGVvZiBlLnJlbGVhc2U/dGUmJmxlLndhcm4oXCJEaXNjYXJkZWQgc2Vzc2lvbiBiZWNhdXNlIG9mIG1pc3Npbmcgb3Igbm9uLXN0cmluZyByZWxlYXNlXCIpOih0aGlzLnNlbmRTZXNzaW9uKGUpLGd0KGUse2luaXQ6ITF9KSl9Z2V0RHNuKCl7cmV0dXJuIHRoaXMuX2Rzbn1nZXRPcHRpb25zKCl7cmV0dXJuIHRoaXMuX29wdGlvbnN9Z2V0U2RrTWV0YWRhdGEoKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy5fbWV0YWRhdGF9Z2V0VHJhbnNwb3J0KCl7cmV0dXJuIHRoaXMuX3RyYW5zcG9ydH1mbHVzaChlKXtjb25zdCB0PXRoaXMuX3RyYW5zcG9ydDtyZXR1cm4gdD8odGhpcy5lbWl0KFwiZmx1c2hcIiksdGhpcy5faXNDbGllbnREb25lUHJvY2Vzc2luZyhlKS50aGVuKChuPT50LmZsdXNoKGUpLnRoZW4oKGU9Pm4mJmUpKSkpKTpwdCghMCl9Y2xvc2UoZSl7cmV0dXJuIHRoaXMuZmx1c2goZSkudGhlbigoZT0+KHRoaXMuZ2V0T3B0aW9ucygpLmVuYWJsZWQ9ITEsdGhpcy5lbWl0KFwiY2xvc2VcIiksZSkpKX1nZXRFdmVudFByb2Nlc3NvcnMoKXtyZXR1cm4gdGhpcy5fZXZlbnRQcm9jZXNzb3JzfWFkZEV2ZW50UHJvY2Vzc29yKGUpe3RoaXMuX2V2ZW50UHJvY2Vzc29ycy5wdXNoKGUpfWluaXQoKXsodGhpcy5faXNFbmFibGVkKCl8fHRoaXMuX29wdGlvbnMuaW50ZWdyYXRpb25zLnNvbWUoKCh7bmFtZTplfSk9PmUuc3RhcnRzV2l0aChcIlNwb3RsaWdodFwiKSkpKSYmdGhpcy5fc2V0dXBJbnRlZ3JhdGlvbnMoKX1nZXRJbnRlZ3JhdGlvbkJ5TmFtZShlKXtyZXR1cm4gdGhpcy5faW50ZWdyYXRpb25zW2VdfWFkZEludGVncmF0aW9uKGUpe2NvbnN0IHQ9dGhpcy5faW50ZWdyYXRpb25zW2UubmFtZV07SW4odGhpcyxlLHRoaXMuX2ludGVncmF0aW9ucyksdHx8am4odGhpcyxbZV0pfXNlbmRFdmVudChlLHQ9e30pe3RoaXMuZW1pdChcImJlZm9yZVNlbmRFdmVudFwiLGUsdCk7bGV0IG49aG4oZSx0aGlzLl9kc24sdGhpcy5fb3B0aW9ucy5fbWV0YWRhdGEsdGhpcy5fb3B0aW9ucy50dW5uZWwpO2Zvcihjb25zdCBlIG9mIHQuYXR0YWNobWVudHN8fFtdKW49b24obixsbihlKSk7Y29uc3Qgcj10aGlzLnNlbmRFbnZlbG9wZShuKTtyJiZyLnRoZW4oKHQ9PnRoaXMuZW1pdChcImFmdGVyU2VuZEV2ZW50XCIsZSx0KSksbnVsbCl9c2VuZFNlc3Npb24oZSl7Y29uc3QgdD1mdW5jdGlvbihlLHQsbixyKXtjb25zdCBpPXBuKG4pO3JldHVybiBybih7c2VudF9hdDoobmV3IERhdGUpLnRvSVNPU3RyaW5nKCksLi4uaSYme3NkazppfSwuLi4hIXImJnQmJntkc246WXQodCl9fSxbXCJhZ2dyZWdhdGVzXCJpbiBlP1t7dHlwZTpcInNlc3Npb25zXCJ9LGVdOlt7dHlwZTpcInNlc3Npb25cIn0sZS50b0pTT04oKV1dKX0oZSx0aGlzLl9kc24sdGhpcy5fb3B0aW9ucy5fbWV0YWRhdGEsdGhpcy5fb3B0aW9ucy50dW5uZWwpO3RoaXMuc2VuZEVudmVsb3BlKHQpfXJlY29yZERyb3BwZWRFdmVudChlLHQsbil7aWYodGhpcy5fb3B0aW9ucy5zZW5kQ2xpZW50UmVwb3J0cyl7Y29uc3Qgcj1cIm51bWJlclwiPT10eXBlb2Ygbj9uOjEsaT1gJHtlfToke3R9YDt0ZSYmbGUubG9nKGBSZWNvcmRpbmcgb3V0Y29tZTogXCIke2l9XCIke3I+MT9gICgke3J9IHRpbWVzKWA6XCJcIn1gKSx0aGlzLl9vdXRjb21lc1tpXT0odGhpcy5fb3V0Y29tZXNbaV18fDApK3J9fW9uKGUsdCl7Y29uc3Qgbj10aGlzLl9ob29rc1tlXT10aGlzLl9ob29rc1tlXXx8W107cmV0dXJuIG4ucHVzaCh0KSwoKT0+e2NvbnN0IGU9bi5pbmRleE9mKHQpO2U+LTEmJm4uc3BsaWNlKGUsMSl9fWVtaXQoZSwuLi50KXtjb25zdCBuPXRoaXMuX2hvb2tzW2VdO24mJm4uZm9yRWFjaCgoZT0+ZSguLi50KSkpfXNlbmRFbnZlbG9wZShlKXtyZXR1cm4gdGhpcy5lbWl0KFwiYmVmb3JlRW52ZWxvcGVcIixlKSx0aGlzLl9pc0VuYWJsZWQoKSYmdGhpcy5fdHJhbnNwb3J0P3RoaXMuX3RyYW5zcG9ydC5zZW5kKGUpLnRoZW4obnVsbCwoZT0+KHRlJiZsZS5lcnJvcihcIkVycm9yIHdoaWxlIHNlbmRpbmcgZW52ZWxvcGU6XCIsZSksZSkpKToodGUmJmxlLmVycm9yKFwiVHJhbnNwb3J0IGRpc2FibGVkXCIpLHB0KHt9KSl9X3NldHVwSW50ZWdyYXRpb25zKCl7Y29uc3R7aW50ZWdyYXRpb25zOmV9PXRoaXMuX29wdGlvbnM7dGhpcy5faW50ZWdyYXRpb25zPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj17fTtyZXR1cm4gdC5mb3JFYWNoKCh0PT57dCYmSW4oZSx0LG4pfSkpLG59KHRoaXMsZSksam4odGhpcyxlKX1fdXBkYXRlU2Vzc2lvbkZyb21FdmVudChlLHQpe2xldCBuPVwiZmF0YWxcIj09PXQubGV2ZWwscj0hMTtjb25zdCBpPXQuZXhjZXB0aW9uJiZ0LmV4Y2VwdGlvbi52YWx1ZXM7aWYoaSl7cj0hMDtmb3IoY29uc3QgZSBvZiBpKXtjb25zdCB0PWUubWVjaGFuaXNtO2lmKHQmJiExPT09dC5oYW5kbGVkKXtuPSEwO2JyZWFrfX19Y29uc3Qgbz1cIm9rXCI9PT1lLnN0YXR1czsobyYmMD09PWUuZXJyb3JzfHxvJiZuKSYmKGd0KGUsey4uLm4mJntzdGF0dXM6XCJjcmFzaGVkXCJ9LGVycm9yczplLmVycm9yc3x8TnVtYmVyKHJ8fG4pfSksdGhpcy5jYXB0dXJlU2Vzc2lvbihlKSl9X2lzQ2xpZW50RG9uZVByb2Nlc3NpbmcoZSl7cmV0dXJuIG5ldyBmdCgodD0+e2xldCBuPTA7Y29uc3Qgcj1zZXRJbnRlcnZhbCgoKCk9PnswPT10aGlzLl9udW1Qcm9jZXNzaW5nPyhjbGVhckludGVydmFsKHIpLHQoITApKToobis9MSxlJiZuPj1lJiYoY2xlYXJJbnRlcnZhbChyKSx0KCExKSkpfSksMSl9KSl9X2lzRW5hYmxlZCgpe3JldHVybiExIT09dGhpcy5nZXRPcHRpb25zKCkuZW5hYmxlZCYmdm9pZCAwIT09dGhpcy5fdHJhbnNwb3J0fV9wcmVwYXJlRXZlbnQoZSx0LG49anQoKSxyPUl0KCkpe2NvbnN0IGk9dGhpcy5nZXRPcHRpb25zKCksbz1PYmplY3Qua2V5cyh0aGlzLl9pbnRlZ3JhdGlvbnMpO3JldHVybiF0LmludGVncmF0aW9ucyYmby5sZW5ndGg+MCYmKHQuaW50ZWdyYXRpb25zPW8pLHRoaXMuZW1pdChcInByZXByb2Nlc3NFdmVudFwiLGUsdCksZS50eXBlfHxyLnNldExhc3RFdmVudElkKGUuZXZlbnRfaWR8fHQuZXZlbnRfaWQpLHduKGksZSx0LG4sdGhpcyxyKS50aGVuKChlPT57aWYobnVsbD09PWUpcmV0dXJuIGU7ZS5jb250ZXh0cz17dHJhY2U6THQobiksLi4uZS5jb250ZXh0c307Y29uc3QgdD1mdW5jdGlvbihlLHQpe2NvbnN0IG49dC5nZXRQcm9wYWdhdGlvbkNvbnRleHQoKTtyZXR1cm4gbi5kc2N8fEd0KG4udHJhY2VJZCxlKX0odGhpcyxuKTtyZXR1cm4gZS5zZGtQcm9jZXNzaW5nTWV0YWRhdGE9e2R5bmFtaWNTYW1wbGluZ0NvbnRleHQ6dCwuLi5lLnNka1Byb2Nlc3NpbmdNZXRhZGF0YX0sZX0pKX1fY2FwdHVyZUV2ZW50KGUsdD17fSxuKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc0V2ZW50KGUsdCxuKS50aGVuKChlPT5lLmV2ZW50X2lkKSwoZT0+e3RlJiYoZSBpbnN0YW5jZW9mIHhuJiZcImxvZ1wiPT09ZS5sb2dMZXZlbD9sZS5sb2coZS5tZXNzYWdlKTpsZS53YXJuKGUpKX0pKX1fcHJvY2Vzc0V2ZW50KGUsdCxuKXtjb25zdCByPXRoaXMuZ2V0T3B0aW9ucygpLHtzYW1wbGVSYXRlOml9PXIsbz1SbihlKSxzPU5uKGUpLGE9ZS50eXBlfHxcImVycm9yXCIsYz1gYmVmb3JlIHNlbmQgZm9yIHR5cGUgXFxgJHthfVxcYGAsbD12b2lkIDA9PT1pP3ZvaWQgMDpmdW5jdGlvbihlKXtpZihcImJvb2xlYW5cIj09dHlwZW9mIGUpcmV0dXJuIE51bWJlcihlKTtjb25zdCB0PVwic3RyaW5nXCI9PXR5cGVvZiBlP3BhcnNlRmxvYXQoZSk6ZTtpZighKFwibnVtYmVyXCIhPXR5cGVvZiB0fHxpc05hTih0KXx8dDwwfHx0PjEpKXJldHVybiB0O3RlJiZsZS53YXJuKGBbVHJhY2luZ10gR2l2ZW4gc2FtcGxlIHJhdGUgaXMgaW52YWxpZC4gU2FtcGxlIHJhdGUgbXVzdCBiZSBhIGJvb2xlYW4gb3IgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLiBHb3QgJHtKU09OLnN0cmluZ2lmeShlKX0gb2YgdHlwZSAke0pTT04uc3RyaW5naWZ5KHR5cGVvZiBlKX0uYCl9KGkpO2lmKHMmJlwibnVtYmVyXCI9PXR5cGVvZiBsJiZNYXRoLnJhbmRvbSgpPmwpcmV0dXJuIHRoaXMucmVjb3JkRHJvcHBlZEV2ZW50KFwic2FtcGxlX3JhdGVcIixcImVycm9yXCIsZSksaHQobmV3IHhuKGBEaXNjYXJkaW5nIGV2ZW50IGJlY2F1c2UgaXQncyBub3QgaW5jbHVkZWQgaW4gdGhlIHJhbmRvbSBzYW1wbGUgKHNhbXBsaW5nIHJhdGUgPSAke2l9KWAsXCJsb2dcIikpO2NvbnN0IHU9XCJyZXBsYXlfZXZlbnRcIj09PWE/XCJyZXBsYXlcIjphLGQ9KGUuc2RrUHJvY2Vzc2luZ01ldGFkYXRhfHx7fSkuY2FwdHVyZWRTcGFuSXNvbGF0aW9uU2NvcGU7cmV0dXJuIHRoaXMuX3ByZXBhcmVFdmVudChlLHQsbixkKS50aGVuKChuPT57aWYobnVsbD09PW4pdGhyb3cgdGhpcy5yZWNvcmREcm9wcGVkRXZlbnQoXCJldmVudF9wcm9jZXNzb3JcIix1LGUpLG5ldyB4bihcIkFuIGV2ZW50IHByb2Nlc3NvciByZXR1cm5lZCBgbnVsbGAsIHdpbGwgbm90IHNlbmQgZXZlbnQuXCIsXCJsb2dcIik7aWYodC5kYXRhJiYhMD09PXQuZGF0YS5fX3NlbnRyeV9fKXJldHVybiBuO2NvbnN0IGk9ZnVuY3Rpb24oZSx0LG4scil7Y29uc3R7YmVmb3JlU2VuZDppLGJlZm9yZVNlbmRUcmFuc2FjdGlvbjpvLGJlZm9yZVNlbmRTcGFuOnN9PXQ7aWYoTm4obikmJmkpcmV0dXJuIGkobixyKTtpZihSbihuKSl7aWYobi5zcGFucyYmcyl7Y29uc3QgdD1bXTtmb3IoY29uc3QgciBvZiBuLnNwYW5zKXtjb25zdCBuPXMocik7bj90LnB1c2gobik6KFd0KCksZS5yZWNvcmREcm9wcGVkRXZlbnQoXCJiZWZvcmVfc2VuZFwiLFwic3BhblwiKSl9bi5zcGFucz10fWlmKG8pe2lmKG4uc3BhbnMpe2NvbnN0IGU9bi5zcGFucy5sZW5ndGg7bi5zZGtQcm9jZXNzaW5nTWV0YWRhdGE9ey4uLm4uc2RrUHJvY2Vzc2luZ01ldGFkYXRhLHNwYW5Db3VudEJlZm9yZVByb2Nlc3Npbmc6ZX19cmV0dXJuIG8obixyKX19cmV0dXJuIG59KHRoaXMscixuLHQpO3JldHVybiBmdW5jdGlvbihlLHQpe2NvbnN0IG49YCR7dH0gbXVzdCByZXR1cm4gXFxgbnVsbFxcYCBvciBhIHZhbGlkIGV2ZW50LmA7aWYoRmUoZSkpcmV0dXJuIGUudGhlbigoZT0+e2lmKCFOZShlKSYmbnVsbCE9PWUpdGhyb3cgbmV3IHhuKG4pO3JldHVybiBlfSksKGU9Pnt0aHJvdyBuZXcgeG4oYCR7dH0gcmVqZWN0ZWQgd2l0aCAke2V9YCl9KSk7aWYoIU5lKGUpJiZudWxsIT09ZSl0aHJvdyBuZXcgeG4obik7cmV0dXJuIGV9KGksYyl9KSkudGhlbigocj0+e2lmKG51bGw9PT1yKXtpZih0aGlzLnJlY29yZERyb3BwZWRFdmVudChcImJlZm9yZV9zZW5kXCIsdSxlKSxvKXtjb25zdCB0PTErKGUuc3BhbnN8fFtdKS5sZW5ndGg7dGhpcy5yZWNvcmREcm9wcGVkRXZlbnQoXCJiZWZvcmVfc2VuZFwiLFwic3BhblwiLHQpfXRocm93IG5ldyB4bihgJHtjfSByZXR1cm5lZCBcXGBudWxsXFxgLCB3aWxsIG5vdCBzZW5kIGV2ZW50LmAsXCJsb2dcIil9Y29uc3QgaT1uJiZuLmdldFNlc3Npb24oKTtpZighbyYmaSYmdGhpcy5fdXBkYXRlU2Vzc2lvbkZyb21FdmVudChpLHIpLG8pe2NvbnN0IGU9KHIuc2RrUHJvY2Vzc2luZ01ldGFkYXRhJiZyLnNka1Byb2Nlc3NpbmdNZXRhZGF0YS5zcGFuQ291bnRCZWZvcmVQcm9jZXNzaW5nfHwwKS0oci5zcGFucz9yLnNwYW5zLmxlbmd0aDowKTtlPjAmJnRoaXMucmVjb3JkRHJvcHBlZEV2ZW50KFwiYmVmb3JlX3NlbmRcIixcInNwYW5cIixlKX1jb25zdCBzPXIudHJhbnNhY3Rpb25faW5mbztpZihvJiZzJiZyLnRyYW5zYWN0aW9uIT09ZS50cmFuc2FjdGlvbil7Y29uc3QgZT1cImN1c3RvbVwiO3IudHJhbnNhY3Rpb25faW5mbz17Li4ucyxzb3VyY2U6ZX19cmV0dXJuIHRoaXMuc2VuZEV2ZW50KHIsdCkscn0pKS50aGVuKG51bGwsKGU9PntpZihlIGluc3RhbmNlb2YgeG4pdGhyb3cgZTt0aHJvdyB0aGlzLmNhcHR1cmVFeGNlcHRpb24oZSx7ZGF0YTp7X19zZW50cnlfXzohMH0sb3JpZ2luYWxFeGNlcHRpb246ZX0pLG5ldyB4bihgRXZlbnQgcHJvY2Vzc2luZyBwaXBlbGluZSB0aHJldyBhbiBlcnJvciwgb3JpZ2luYWwgZXZlbnQgd2lsbCBub3QgYmUgc2VudC4gRGV0YWlscyBoYXZlIGJlZW4gc2VudCBhcyBhIG5ldyBldmVudC5cXG5SZWFzb246ICR7ZX1gKX0pKX1fcHJvY2VzcyhlKXt0aGlzLl9udW1Qcm9jZXNzaW5nKyssZS50aGVuKChlPT4odGhpcy5fbnVtUHJvY2Vzc2luZy0tLGUpKSwoZT0+KHRoaXMuX251bVByb2Nlc3NpbmctLSxlKSkpfV9jbGVhck91dGNvbWVzKCl7Y29uc3QgZT10aGlzLl9vdXRjb21lcztyZXR1cm4gdGhpcy5fb3V0Y29tZXM9e30sT2JqZWN0LmVudHJpZXMoZSkubWFwKCgoW2UsdF0pPT57Y29uc3RbbixyXT1lLnNwbGl0KFwiOlwiKTtyZXR1cm57cmVhc29uOm4sY2F0ZWdvcnk6cixxdWFudGl0eTp0fX0pKX1fZmx1c2hPdXRjb21lcygpe3RlJiZsZS5sb2coXCJGbHVzaGluZyBvdXRjb21lcy4uLlwiKTtjb25zdCBlPXRoaXMuX2NsZWFyT3V0Y29tZXMoKTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIHZvaWQodGUmJmxlLmxvZyhcIk5vIG91dGNvbWVzIHRvIHNlbmRcIikpO2lmKCF0aGlzLl9kc24pcmV0dXJuIHZvaWQodGUmJmxlLmxvZyhcIk5vIGRzbiBwcm92aWRlZCwgd2lsbCBub3Qgc2VuZCBvdXRjb21lc1wiKSk7dGUmJmxlLmxvZyhcIlNlbmRpbmcgb3V0Y29tZXM6XCIsZSk7Y29uc3QgdD0obj1lLHJuKChyPXRoaXMuX29wdGlvbnMudHVubmVsJiZZdCh0aGlzLl9kc24pKT97ZHNuOnJ9Ont9LFtbe3R5cGU6XCJjbGllbnRfcmVwb3J0XCJ9LHt0aW1lc3RhbXA6aXx8cnQoKSxkaXNjYXJkZWRfZXZlbnRzOm59XV0pKTt2YXIgbixyLGk7dGhpcy5zZW5kRW52ZWxvcGUodCl9fWZ1bmN0aW9uIE5uKGUpe3JldHVybiB2b2lkIDA9PT1lLnR5cGV9ZnVuY3Rpb24gUm4oZSl7cmV0dXJuXCJ0cmFuc2FjdGlvblwiPT09ZS50eXBlfWZ1bmN0aW9uIEZuKGUpe2NvbnN0IHQ9W107ZnVuY3Rpb24gbihlKXtyZXR1cm4gdC5zcGxpY2UodC5pbmRleE9mKGUpLDEpWzBdfHxQcm9taXNlLnJlc29sdmUodm9pZCAwKX1yZXR1cm57JDp0LGFkZDpmdW5jdGlvbihyKXtpZighKHZvaWQgMD09PWV8fHQubGVuZ3RoPGUpKXJldHVybiBodChuZXcgeG4oXCJOb3QgYWRkaW5nIFByb21pc2UgYmVjYXVzZSBidWZmZXIgbGltaXQgd2FzIHJlYWNoZWQuXCIpKTtjb25zdCBpPXIoKTtyZXR1cm4tMT09PXQuaW5kZXhPZihpKSYmdC5wdXNoKGkpLGkudGhlbigoKCk9Pm4oaSkpKS50aGVuKG51bGwsKCgpPT5uKGkpLnRoZW4obnVsbCwoKCk9Pnt9KSkpKSxpfSxkcmFpbjpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGZ0KCgobixyKT0+e2xldCBpPXQubGVuZ3RoO2lmKCFpKXJldHVybiBuKCEwKTtjb25zdCBvPXNldFRpbWVvdXQoKCgpPT57ZSYmZT4wJiZuKCExKX0pLGUpO3QuZm9yRWFjaCgoZT0+e3B0KGUpLnRoZW4oKCgpPT57LS1pfHwoY2xlYXJUaW1lb3V0KG8pLG4oITApKX0pLHIpfSkpfSkpfX19ZnVuY3Rpb24gQm4oZSx7c3RhdHVzQ29kZTp0LGhlYWRlcnM6bn0scj1EYXRlLm5vdygpKXtjb25zdCBpPXsuLi5lfSxvPW4mJm5bXCJ4LXNlbnRyeS1yYXRlLWxpbWl0c1wiXSxzPW4mJm5bXCJyZXRyeS1hZnRlclwiXTtpZihvKWZvcihjb25zdCBlIG9mIG8udHJpbSgpLnNwbGl0KFwiLFwiKSl7Y29uc3RbdCxuLCwsb109ZS5zcGxpdChcIjpcIiw1KSxzPXBhcnNlSW50KHQsMTApLGE9MWUzKihpc05hTihzKT82MDpzKTtpZihuKWZvcihjb25zdCBlIG9mIG4uc3BsaXQoXCI7XCIpKVwibWV0cmljX2J1Y2tldFwiPT09ZSYmbyYmIW8uc3BsaXQoXCI7XCIpLmluY2x1ZGVzKFwiY3VzdG9tXCIpfHwoaVtlXT1yK2EpO2Vsc2UgaS5hbGw9cithfWVsc2Ugcz9pLmFsbD1yK2Z1bmN0aW9uKGUsdD1EYXRlLm5vdygpKXtjb25zdCBuPXBhcnNlSW50KGAke2V9YCwxMCk7aWYoIWlzTmFOKG4pKXJldHVybiAxZTMqbjtjb25zdCByPURhdGUucGFyc2UoYCR7ZX1gKTtyZXR1cm4gaXNOYU4ocik/NmU0OnItdH0ocyxyKTo0Mjk9PT10JiYoaS5hbGw9cis2ZTQpO3JldHVybiBpfWZ1bmN0aW9uIFVuKGUsdCxuPUZuKGUuYnVmZmVyU2l6ZXx8NjQpKXtsZXQgcj17fTtyZXR1cm57c2VuZDpmdW5jdGlvbihpKXtjb25zdCBvPVtdO2lmKHNuKGksKCh0LG4pPT57Y29uc3QgaT1kbihuKTtpZihmdW5jdGlvbihlLHQsbj1EYXRlLm5vdygpKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XXx8ZS5hbGx8fDB9KGUsdCk+bn0ocixpKSl7Y29uc3Qgcj1Wbih0LG4pO2UucmVjb3JkRHJvcHBlZEV2ZW50KFwicmF0ZWxpbWl0X2JhY2tvZmZcIixpLHIpfWVsc2Ugby5wdXNoKHQpfSkpLDA9PT1vLmxlbmd0aClyZXR1cm4gcHQoe30pO2NvbnN0IHM9cm4oaVswXSxvKSxhPXQ9PntzbihzLCgobixyKT0+e2NvbnN0IGk9Vm4obixyKTtlLnJlY29yZERyb3BwZWRFdmVudCh0LGRuKHIpLGkpfSkpfTtyZXR1cm4gbi5hZGQoKCgpPT50KHtib2R5OmNuKHMpfSkudGhlbigoZT0+KHZvaWQgMCE9PWUuc3RhdHVzQ29kZSYmKGUuc3RhdHVzQ29kZTwyMDB8fGUuc3RhdHVzQ29kZT49MzAwKSYmdGUmJmxlLndhcm4oYFNlbnRyeSByZXNwb25kZWQgd2l0aCBzdGF0dXMgY29kZSAke2Uuc3RhdHVzQ29kZX0gdG8gc2VudCBldmVudC5gKSxyPUJuKHIsZSksZSkpLChlPT57dGhyb3cgYShcIm5ldHdvcmtfZXJyb3JcIiksZX0pKSkpLnRoZW4oKGU9PmUpLChlPT57aWYoZSBpbnN0YW5jZW9mIHhuKXJldHVybiB0ZSYmbGUuZXJyb3IoXCJTa2lwcGVkIHNlbmRpbmcgZXZlbnQgYmVjYXVzZSBidWZmZXIgaXMgZnVsbC5cIiksYShcInF1ZXVlX292ZXJmbG93XCIpLHB0KHt9KTt0aHJvdyBlfSkpfSxmbHVzaDplPT5uLmRyYWluKGUpfX1mdW5jdGlvbiBWbihlLHQpe2lmKFwiZXZlbnRcIj09PXR8fFwidHJhbnNhY3Rpb25cIj09PXQpcmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZVsxXTp2b2lkIDB9Y29uc3QgSm49MTAwO2Z1bmN0aW9uICRuKGUsdCl7Y29uc3Qgbj14dCgpLHI9SXQoKTtpZighbilyZXR1cm47Y29uc3R7YmVmb3JlQnJlYWRjcnVtYjppPW51bGwsbWF4QnJlYWRjcnVtYnM6bz1Kbn09bi5nZXRPcHRpb25zKCk7aWYobzw9MClyZXR1cm47Y29uc3Qgcz17dGltZXN0YW1wOnJ0KCksLi4uZX0sYT1pP2NlKCgoKT0+aShzLHQpKSk6cztudWxsIT09YSYmKG4uZW1pdCYmbi5lbWl0KFwiYmVmb3JlQWRkQnJlYWRjcnVtYlwiLGEsdCksci5hZGRCcmVhZGNydW1iKGEsbykpfWxldCBxbjtjb25zdCB6bj1uZXcgV2Vha01hcCxXbj0oKT0+KHtuYW1lOlwiRnVuY3Rpb25Ub1N0cmluZ1wiLHNldHVwT25jZSgpe3FuPUZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZzt0cnl7RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKC4uLmUpe2NvbnN0IHQ9WWUodGhpcyksbj16bi5oYXMoeHQoKSkmJnZvaWQgMCE9PXQ/dDp0aGlzO3JldHVybiBxbi5hcHBseShuLGUpfX1jYXRjaChlKXt9fSxzZXR1cChlKXt6bi5zZXQoZSwhMCl9fSksSG49Wy9eU2NyaXB0IGVycm9yXFwuPyQvLC9eSmF2YXNjcmlwdCBlcnJvcjogU2NyaXB0IGVycm9yXFwuPyBvbiBsaW5lIDAkLywvXlJlc2l6ZU9ic2VydmVyIGxvb3AgY29tcGxldGVkIHdpdGggdW5kZWxpdmVyZWQgbm90aWZpY2F0aW9ucy4kLywvXkNhbm5vdCByZWRlZmluZSBwcm9wZXJ0eTogZ29vZ2xldGFnJC8sXCJ1bmRlZmluZWQgaXMgbm90IGFuIG9iamVjdCAoZXZhbHVhdGluZyAnYS5MJylcIiwnY2FuXFwndCByZWRlZmluZSBub24tY29uZmlndXJhYmxlIHByb3BlcnR5IFwic29sYW5hXCInLFwidnYoKS5nZXRSZXN0cmljdGlvbnMgaXMgbm90IGEgZnVuY3Rpb24uIChJbiAndnYoKS5nZXRSZXN0cmljdGlvbnMoMSxhKScsICd2digpLmdldFJlc3RyaWN0aW9ucycgaXMgdW5kZWZpbmVkKVwiLFwiQ2FuJ3QgZmluZCB2YXJpYWJsZTogX0F1dG9maWxsQ2FsbGJhY2tIYW5kbGVyXCIsL15Ob24tRXJyb3IgcHJvbWlzZSByZWplY3Rpb24gY2FwdHVyZWQgd2l0aCB2YWx1ZTogT2JqZWN0IE5vdCBGb3VuZCBNYXRjaGluZyBJZDpcXGQrLCBNZXRob2ROYW1lOnNpbXVsYXRlRXZlbnQsIFBhcmFtQ291bnQ6XFxkKyQvXSxHbj0oZT17fSk9Pih7bmFtZTpcIkluYm91bmRGaWx0ZXJzXCIscHJvY2Vzc0V2ZW50KHQsbixyKXtjb25zdCBpPXIuZ2V0T3B0aW9ucygpLG89ZnVuY3Rpb24oZT17fSx0PXt9KXtyZXR1cm57YWxsb3dVcmxzOlsuLi5lLmFsbG93VXJsc3x8W10sLi4udC5hbGxvd1VybHN8fFtdXSxkZW55VXJsczpbLi4uZS5kZW55VXJsc3x8W10sLi4udC5kZW55VXJsc3x8W11dLGlnbm9yZUVycm9yczpbLi4uZS5pZ25vcmVFcnJvcnN8fFtdLC4uLnQuaWdub3JlRXJyb3JzfHxbXSwuLi5lLmRpc2FibGVFcnJvckRlZmF1bHRzP1tdOkhuXSxpZ25vcmVUcmFuc2FjdGlvbnM6Wy4uLmUuaWdub3JlVHJhbnNhY3Rpb25zfHxbXSwuLi50Lmlnbm9yZVRyYW5zYWN0aW9uc3x8W11dLGlnbm9yZUludGVybmFsOnZvaWQgMD09PWUuaWdub3JlSW50ZXJuYWx8fGUuaWdub3JlSW50ZXJuYWx9fShlLGkpO3JldHVybiBmdW5jdGlvbihlLHQpe2lmKHQuaWdub3JlSW50ZXJuYWwmJmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm5cIlNlbnRyeUVycm9yXCI9PT1lLmV4Y2VwdGlvbi52YWx1ZXNbMF0udHlwZX1jYXRjaChlKXt9cmV0dXJuITF9KGUpKXJldHVybiB0ZSYmbGUud2FybihgRXZlbnQgZHJvcHBlZCBkdWUgdG8gYmVpbmcgaW50ZXJuYWwgU2VudHJ5IEVycm9yLlxcbkV2ZW50OiAke2F0KGUpfWApLCEwO2lmKGZ1bmN0aW9uKGUsdCl7aWYoZS50eXBlfHwhdHx8IXQubGVuZ3RoKXJldHVybiExO3JldHVybiBmdW5jdGlvbihlKXtjb25zdCB0PVtdO2UubWVzc2FnZSYmdC5wdXNoKGUubWVzc2FnZSk7bGV0IG47dHJ5e249ZS5leGNlcHRpb24udmFsdWVzW2UuZXhjZXB0aW9uLnZhbHVlcy5sZW5ndGgtMV19Y2F0Y2goZSl7fW4mJm4udmFsdWUmJih0LnB1c2gobi52YWx1ZSksbi50eXBlJiZ0LnB1c2goYCR7bi50eXBlfTogJHtuLnZhbHVlfWApKTtyZXR1cm4gdH0oZSkuc29tZSgoZT0+SGUoZSx0KSkpfShlLHQuaWdub3JlRXJyb3JzKSlyZXR1cm4gdGUmJmxlLndhcm4oYEV2ZW50IGRyb3BwZWQgZHVlIHRvIGJlaW5nIG1hdGNoZWQgYnkgXFxgaWdub3JlRXJyb3JzXFxgIG9wdGlvbi5cXG5FdmVudDogJHthdChlKX1gKSwhMDtpZihmdW5jdGlvbihlKXtpZihlLnR5cGUpcmV0dXJuITE7aWYoIWUuZXhjZXB0aW9ufHwhZS5leGNlcHRpb24udmFsdWVzfHwwPT09ZS5leGNlcHRpb24udmFsdWVzLmxlbmd0aClyZXR1cm4hMTtyZXR1cm4hZS5tZXNzYWdlJiYhZS5leGNlcHRpb24udmFsdWVzLnNvbWUoKGU9PmUuc3RhY2t0cmFjZXx8ZS50eXBlJiZcIkVycm9yXCIhPT1lLnR5cGV8fGUudmFsdWUpKX0oZSkpcmV0dXJuIHRlJiZsZS53YXJuKGBFdmVudCBkcm9wcGVkIGR1ZSB0byBub3QgaGF2aW5nIGFuIGVycm9yIG1lc3NhZ2UsIGVycm9yIHR5cGUgb3Igc3RhY2t0cmFjZS5cXG5FdmVudDogJHthdChlKX1gKSwhMDtpZihmdW5jdGlvbihlLHQpe2lmKFwidHJhbnNhY3Rpb25cIiE9PWUudHlwZXx8IXR8fCF0Lmxlbmd0aClyZXR1cm4hMTtjb25zdCBuPWUudHJhbnNhY3Rpb247cmV0dXJuISFuJiZIZShuLHQpfShlLHQuaWdub3JlVHJhbnNhY3Rpb25zKSlyZXR1cm4gdGUmJmxlLndhcm4oYEV2ZW50IGRyb3BwZWQgZHVlIHRvIGJlaW5nIG1hdGNoZWQgYnkgXFxgaWdub3JlVHJhbnNhY3Rpb25zXFxgIG9wdGlvbi5cXG5FdmVudDogJHthdChlKX1gKSwhMDtpZihmdW5jdGlvbihlLHQpe2lmKCF0fHwhdC5sZW5ndGgpcmV0dXJuITE7Y29uc3Qgbj1RbihlKTtyZXR1cm4hIW4mJkhlKG4sdCl9KGUsdC5kZW55VXJscykpcmV0dXJuIHRlJiZsZS53YXJuKGBFdmVudCBkcm9wcGVkIGR1ZSB0byBiZWluZyBtYXRjaGVkIGJ5IFxcYGRlbnlVcmxzXFxgIG9wdGlvbi5cXG5FdmVudDogJHthdChlKX0uXFxuVXJsOiAke1FuKGUpfWApLCEwO2lmKCFmdW5jdGlvbihlLHQpe2lmKCF0fHwhdC5sZW5ndGgpcmV0dXJuITA7Y29uc3Qgbj1RbihlKTtyZXR1cm4hbnx8SGUobix0KX0oZSx0LmFsbG93VXJscykpcmV0dXJuIHRlJiZsZS53YXJuKGBFdmVudCBkcm9wcGVkIGR1ZSB0byBub3QgYmVpbmcgbWF0Y2hlZCBieSBcXGBhbGxvd1VybHNcXGAgb3B0aW9uLlxcbkV2ZW50OiAke2F0KGUpfS5cXG5Vcmw6ICR7UW4oZSl9YCksITA7cmV0dXJuITF9KHQsbyk/bnVsbDp0fX0pO2Z1bmN0aW9uIFFuKGUpe3RyeXtsZXQgdDt0cnl7dD1lLmV4Y2VwdGlvbi52YWx1ZXNbMF0uc3RhY2t0cmFjZS5mcmFtZXN9Y2F0Y2goZSl7fXJldHVybiB0P2Z1bmN0aW9uKGU9W10pe2ZvcihsZXQgdD1lLmxlbmd0aC0xO3Q+PTA7dC0tKXtjb25zdCBuPWVbdF07aWYobiYmXCI8YW5vbnltb3VzPlwiIT09bi5maWxlbmFtZSYmXCJbbmF0aXZlIGNvZGVdXCIhPT1uLmZpbGVuYW1lKXJldHVybiBuLmZpbGVuYW1lfHxudWxsfXJldHVybiBudWxsfSh0KTpudWxsfWNhdGNoKHQpe3JldHVybiB0ZSYmbGUuZXJyb3IoYENhbm5vdCBleHRyYWN0IHVybCBmb3IgZXZlbnQgJHthdChlKX1gKSxudWxsfX1mdW5jdGlvbiBLbihlLHQsbj0yNTAscixpLG8scyl7aWYoIShvLmV4Y2VwdGlvbiYmby5leGNlcHRpb24udmFsdWVzJiZzJiZCZShzLm9yaWdpbmFsRXhjZXB0aW9uLEVycm9yKSkpcmV0dXJuO2NvbnN0IGE9by5leGNlcHRpb24udmFsdWVzLmxlbmd0aD4wP28uZXhjZXB0aW9uLnZhbHVlc1tvLmV4Y2VwdGlvbi52YWx1ZXMubGVuZ3RoLTFdOnZvaWQgMDt2YXIgYyxsO2EmJihvLmV4Y2VwdGlvbi52YWx1ZXM9KGM9WW4oZSx0LGkscy5vcmlnaW5hbEV4Y2VwdGlvbixyLG8uZXhjZXB0aW9uLnZhbHVlcyxhLDApLGw9bixjLm1hcCgoZT0+KGUudmFsdWUmJihlLnZhbHVlPXFlKGUudmFsdWUsbCkpLGUpKSkpKX1mdW5jdGlvbiBZbihlLHQsbixyLGksbyxzLGEpe2lmKG8ubGVuZ3RoPj1uKzEpcmV0dXJuIG87bGV0IGM9Wy4uLm9dO2lmKEJlKHJbaV0sRXJyb3IpKXtYbihzLGEpO2NvbnN0IG89ZSh0LHJbaV0pLGw9Yy5sZW5ndGg7Wm4obyxpLGwsYSksYz1ZbihlLHQsbixyW2ldLGksW28sLi4uY10sbyxsKX1yZXR1cm4gQXJyYXkuaXNBcnJheShyLmVycm9ycykmJnIuZXJyb3JzLmZvckVhY2goKChyLG8pPT57aWYoQmUocixFcnJvcikpe1huKHMsYSk7Y29uc3QgbD1lKHQsciksdT1jLmxlbmd0aDtabihsLGBlcnJvcnNbJHtvfV1gLHUsYSksYz1ZbihlLHQsbixyLGksW2wsLi4uY10sbCx1KX19KSksY31mdW5jdGlvbiBYbihlLHQpe2UubWVjaGFuaXNtPWUubWVjaGFuaXNtfHx7dHlwZTpcImdlbmVyaWNcIixoYW5kbGVkOiEwfSxlLm1lY2hhbmlzbT17Li4uZS5tZWNoYW5pc20sLi4uXCJBZ2dyZWdhdGVFcnJvclwiPT09ZS50eXBlJiZ7aXNfZXhjZXB0aW9uX2dyb3VwOiEwfSxleGNlcHRpb25faWQ6dH19ZnVuY3Rpb24gWm4oZSx0LG4scil7ZS5tZWNoYW5pc209ZS5tZWNoYW5pc218fHt0eXBlOlwiZ2VuZXJpY1wiLGhhbmRsZWQ6ITB9LGUubWVjaGFuaXNtPXsuLi5lLm1lY2hhbmlzbSx0eXBlOlwiY2hhaW5lZFwiLHNvdXJjZTp0LGV4Y2VwdGlvbl9pZDpuLHBhcmVudF9pZDpyfX1mdW5jdGlvbiBlcihlKXtpZighZSlyZXR1cm57fTtjb25zdCB0PWUubWF0Y2goL14oKFteOi8/I10rKTopPyhcXC9cXC8oW14vPyNdKikpPyhbXj8jXSopKFxcPyhbXiNdKikpPygjKC4qKSk/JC8pO2lmKCF0KXJldHVybnt9O2NvbnN0IG49dFs2XXx8XCJcIixyPXRbOF18fFwiXCI7cmV0dXJue2hvc3Q6dFs0XSxwYXRoOnRbNV0scHJvdG9jb2w6dFsyXSxzZWFyY2g6bixoYXNoOnIscmVsYXRpdmU6dFs1XStuK3J9fWZ1bmN0aW9uIHRyKCl7XCJjb25zb2xlXCJpbiByZSYmc2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSBpbiByZS5jb25zb2xlJiZHZShyZS5jb25zb2xlLGUsKGZ1bmN0aW9uKHQpe3JldHVybiBhZVtlXT10LGZ1bmN0aW9uKC4uLnQpe3dlKFwiY29uc29sZVwiLHthcmdzOnQsbGV2ZWw6ZX0pO2NvbnN0IG49YWVbZV07biYmbi5hcHBseShyZS5jb25zb2xlLHQpfX0pKX0pKX1mdW5jdGlvbiBucihlKXtyZXR1cm5cIndhcm5cIj09PWU/XCJ3YXJuaW5nXCI6W1wiZmF0YWxcIixcImVycm9yXCIsXCJ3YXJuaW5nXCIsXCJsb2dcIixcImluZm9cIixcImRlYnVnXCJdLmluY2x1ZGVzKGUpP2U6XCJsb2dcIn1jb25zdCBycj0oKT0+e2xldCBlO3JldHVybntuYW1lOlwiRGVkdXBlXCIscHJvY2Vzc0V2ZW50KHQpe2lmKHQudHlwZSlyZXR1cm4gdDt0cnl7aWYoZnVuY3Rpb24oZSx0KXtpZighdClyZXR1cm4hMTtpZihmdW5jdGlvbihlLHQpe2NvbnN0IG49ZS5tZXNzYWdlLHI9dC5tZXNzYWdlO2lmKCFuJiYhcilyZXR1cm4hMTtpZihuJiYhcnx8IW4mJnIpcmV0dXJuITE7aWYobiE9PXIpcmV0dXJuITE7aWYoIW9yKGUsdCkpcmV0dXJuITE7aWYoIWlyKGUsdCkpcmV0dXJuITE7cmV0dXJuITB9KGUsdCkpcmV0dXJuITA7aWYoZnVuY3Rpb24oZSx0KXtjb25zdCBuPXNyKHQpLHI9c3IoZSk7aWYoIW58fCFyKXJldHVybiExO2lmKG4udHlwZSE9PXIudHlwZXx8bi52YWx1ZSE9PXIudmFsdWUpcmV0dXJuITE7aWYoIW9yKGUsdCkpcmV0dXJuITE7aWYoIWlyKGUsdCkpcmV0dXJuITE7cmV0dXJuITB9KGUsdCkpcmV0dXJuITA7cmV0dXJuITF9KHQsZSkpcmV0dXJuIHRlJiZsZS53YXJuKFwiRXZlbnQgZHJvcHBlZCBkdWUgdG8gYmVpbmcgYSBkdXBsaWNhdGUgb2YgcHJldmlvdXNseSBjYXB0dXJlZCBldmVudC5cIiksbnVsbH1jYXRjaChlKXt9cmV0dXJuIGU9dH19fTtmdW5jdGlvbiBpcihlLHQpe2xldCBuPWdlKGUpLHI9Z2UodCk7aWYoIW4mJiFyKXJldHVybiEwO2lmKG4mJiFyfHwhbiYmcilyZXR1cm4hMTtpZihyLmxlbmd0aCE9PW4ubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgZT0wO2U8ci5sZW5ndGg7ZSsrKXtjb25zdCB0PXJbZV0saT1uW2VdO2lmKHQuZmlsZW5hbWUhPT1pLmZpbGVuYW1lfHx0LmxpbmVubyE9PWkubGluZW5vfHx0LmNvbG5vIT09aS5jb2xub3x8dC5mdW5jdGlvbiE9PWkuZnVuY3Rpb24pcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gb3IoZSx0KXtsZXQgbj1lLmZpbmdlcnByaW50LHI9dC5maW5nZXJwcmludDtpZighbiYmIXIpcmV0dXJuITA7aWYobiYmIXJ8fCFuJiZyKXJldHVybiExO3RyeXtyZXR1cm4hKG4uam9pbihcIlwiKSE9PXIuam9pbihcIlwiKSl9Y2F0Y2goZSl7cmV0dXJuITF9fWZ1bmN0aW9uIHNyKGUpe3JldHVybiBlLmV4Y2VwdGlvbiYmZS5leGNlcHRpb24udmFsdWVzJiZlLmV4Y2VwdGlvbi52YWx1ZXNbMF19ZnVuY3Rpb24gYXIoZSl7cmV0dXJuIHZvaWQgMD09PWU/dm9pZCAwOmU+PTQwMCYmZTw1MDA/XCJ3YXJuaW5nXCI6ZT49NTAwP1wiZXJyb3JcIjp2b2lkIDB9Y29uc3QgY3I9cmU7ZnVuY3Rpb24gbHIoZSl7cmV0dXJuIGUmJi9eZnVuY3Rpb25cXHMrXFx3K1xcKFxcKVxccytcXHtcXHMrXFxbbmF0aXZlIGNvZGVcXF1cXHMrXFx9JC8udGVzdChlLnRvU3RyaW5nKCkpfWZ1bmN0aW9uIHVyKCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIEVkZ2VSdW50aW1lKXJldHVybiEwO2lmKCFmdW5jdGlvbigpe2lmKCEoXCJmZXRjaFwiaW4gY3IpKXJldHVybiExO3RyeXtyZXR1cm4gbmV3IEhlYWRlcnMsbmV3IFJlcXVlc3QoXCJodHRwOi8vd3d3LmV4YW1wbGUuY29tXCIpLG5ldyBSZXNwb25zZSwhMH1jYXRjaChlKXtyZXR1cm4hMX19KCkpcmV0dXJuITE7aWYobHIoY3IuZmV0Y2gpKXJldHVybiEwO2xldCBlPSExO2NvbnN0IHQ9Y3IuZG9jdW1lbnQ7aWYodCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jcmVhdGVFbGVtZW50KXRyeXtjb25zdCBuPXQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtuLmhpZGRlbj0hMCx0LmhlYWQuYXBwZW5kQ2hpbGQobiksbi5jb250ZW50V2luZG93JiZuLmNvbnRlbnRXaW5kb3cuZmV0Y2gmJihlPWxyKG4uY29udGVudFdpbmRvdy5mZXRjaCkpLHQuaGVhZC5yZW1vdmVDaGlsZChuKX1jYXRjaChlKXtvZSYmbGUud2FybihcIkNvdWxkIG5vdCBjcmVhdGUgc2FuZGJveCBpZnJhbWUgZm9yIHB1cmUgZmV0Y2ggY2hlY2ssIGJhaWxpbmcgdG8gd2luZG93LmZldGNoOiBcIixlKX1yZXR1cm4gZX1mdW5jdGlvbiBkcihlLHQpe2NvbnN0IG49XCJmZXRjaFwiO2JlKG4sZSksX2UobiwoKCk9PmZ1bmN0aW9uKGUsdD0hMSl7aWYodCYmIXVyKCkpcmV0dXJuO0dlKHJlLFwiZmV0Y2hcIiwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKC4uLm4pe2NvbnN0IHI9bmV3IEVycm9yLHttZXRob2Q6aSx1cmw6b309ZnVuY3Rpb24oZSl7aWYoMD09PWUubGVuZ3RoKXJldHVybnttZXRob2Q6XCJHRVRcIix1cmw6XCJcIn07aWYoMj09PWUubGVuZ3RoKXtjb25zdFt0LG5dPWU7cmV0dXJue3VybDpocih0KSxtZXRob2Q6cHIobixcIm1ldGhvZFwiKT9TdHJpbmcobi5tZXRob2QpLnRvVXBwZXJDYXNlKCk6XCJHRVRcIn19Y29uc3QgdD1lWzBdO3JldHVybnt1cmw6aHIodCksbWV0aG9kOnByKHQsXCJtZXRob2RcIik/U3RyaW5nKHQubWV0aG9kKS50b1VwcGVyQ2FzZSgpOlwiR0VUXCJ9fShuKSxzPXthcmdzOm4sZmV0Y2hEYXRhOnttZXRob2Q6aSx1cmw6b30sc3RhcnRUaW1lc3RhbXA6MWUzKml0KCksdmlydHVhbEVycm9yOnJ9O3JldHVybiBlfHx3ZShcImZldGNoXCIsey4uLnN9KSx0LmFwcGx5KHJlLG4pLnRoZW4oKGFzeW5jIHQ9PihlP2UodCk6d2UoXCJmZXRjaFwiLHsuLi5zLGVuZFRpbWVzdGFtcDoxZTMqaXQoKSxyZXNwb25zZTp0fSksdCkpLChlPT57dGhyb3cgd2UoXCJmZXRjaFwiLHsuLi5zLGVuZFRpbWVzdGFtcDoxZTMqaXQoKSxlcnJvcjplfSksUGUoZSkmJnZvaWQgMD09PWUuc3RhY2smJihlLnN0YWNrPXIuc3RhY2ssUWUoZSxcImZyYW1lc1RvUG9wXCIsMSkpLGV9KSl9fSkpfSh2b2lkIDAsdCkpKX1mdW5jdGlvbiBwcihlLHQpe3JldHVybiEhZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJiEhZVt0XX1mdW5jdGlvbiBocihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9lOmU/cHIoZSxcInVybFwiKT9lLnVybDplLnRvU3RyaW5nP2UudG9TdHJpbmcoKTpcIlwiOlwiXCJ9Y29uc3QgZnI9cmU7Y29uc3QgdnI9cmU7bGV0IGdyPTA7ZnVuY3Rpb24gbXIoKXtyZXR1cm4gZ3I+MH1mdW5jdGlvbiB5cihlLHQ9e30pe2lmKCFmdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfShlKSlyZXR1cm4gZTt0cnl7Y29uc3QgdD1lLl9fc2VudHJ5X3dyYXBwZWRfXztpZih0KXJldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDplO2lmKFllKGUpKXJldHVybiBlfWNhdGNoKHQpe3JldHVybiBlfWNvbnN0IG49ZnVuY3Rpb24oLi4ubil7dHJ5e2NvbnN0IHI9bi5tYXAoKGU9PnlyKGUsdCkpKTtyZXR1cm4gZS5hcHBseSh0aGlzLHIpfWNhdGNoKGUpe3Rocm93IGdyKyssc2V0VGltZW91dCgoKCk9Pntnci0tfSkpLGZ1bmN0aW9uKC4uLmUpe2NvbnN0IHQ9QXQoRWUoKSk7aWYoMj09PWUubGVuZ3RoKXtjb25zdFtuLHJdPWU7cmV0dXJuIG4/dC53aXRoU2V0U2NvcGUobixyKTp0LndpdGhTY29wZShyKX10LndpdGhTY29wZShlWzBdKX0oKHI9Pnt2YXIgaSxvO3IuYWRkRXZlbnRQcm9jZXNzb3IoKGU9Pih0Lm1lY2hhbmlzbSYmKGN0KGUsdm9pZCAwLHZvaWQgMCksbHQoZSx0Lm1lY2hhbmlzbSkpLGUuZXh0cmE9ey4uLmUuZXh0cmEsYXJndW1lbnRzOm59LGUpKSksaT1lLGp0KCkuY2FwdHVyZUV4Y2VwdGlvbihpLFNuKG8pKX0pKSxlfX07dHJ5e2Zvcihjb25zdCB0IGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkmJihuW3RdPWVbdF0pfWNhdGNoKGUpe31LZShuLGUpLFFlKGUsXCJfX3NlbnRyeV93cmFwcGVkX19cIixuKTt0cnl7T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLFwibmFtZVwiKS5jb25maWd1cmFibGUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwibmFtZVwiLHtnZXQ6KCk9PmUubmFtZX0pfWNhdGNoKGUpe31yZXR1cm4gbn1jb25zdCBicj1cInVuZGVmaW5lZFwiPT10eXBlb2YgX19TRU5UUllfREVCVUdfX3x8X19TRU5UUllfREVCVUdfXztmdW5jdGlvbiBfcihlLHQpe2NvbnN0IG49a3IoZSx0KSxyPXt0eXBlOkVyKHQpLHZhbHVlOlRyKHQpfTtyZXR1cm4gbi5sZW5ndGgmJihyLnN0YWNrdHJhY2U9e2ZyYW1lczpufSksdm9pZCAwPT09ci50eXBlJiZcIlwiPT09ci52YWx1ZSYmKHIudmFsdWU9XCJVbnJlY292ZXJhYmxlIGVycm9yIGNhdWdodFwiKSxyfWZ1bmN0aW9uIHdyKGUsdCxuLHIpe2NvbnN0IGk9eHQoKSxvPWkmJmkuZ2V0T3B0aW9ucygpLm5vcm1hbGl6ZURlcHRoLHM9ZnVuY3Rpb24oZSl7Zm9yKGNvbnN0IHQgaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSl7Y29uc3Qgbj1lW3RdO2lmKG4gaW5zdGFuY2VvZiBFcnJvcilyZXR1cm4gbn1yZXR1cm59KHQpLGE9e19fc2VyaWFsaXplZF9fOnRuKHQsbyl9O2lmKHMpcmV0dXJue2V4Y2VwdGlvbjp7dmFsdWVzOltfcihlLHMpXX0sZXh0cmE6YX07Y29uc3QgYz17ZXhjZXB0aW9uOnt2YWx1ZXM6W3t0eXBlOlJlKHQpP3QuY29uc3RydWN0b3IubmFtZTpyP1wiVW5oYW5kbGVkUmVqZWN0aW9uXCI6XCJFcnJvclwiLHZhbHVlOkFyKHQse2lzVW5oYW5kbGVkUmVqZWN0aW9uOnJ9KX1dfSxleHRyYTphfTtpZihuKXtjb25zdCB0PWtyKGUsbik7dC5sZW5ndGgmJihjLmV4Y2VwdGlvbi52YWx1ZXNbMF0uc3RhY2t0cmFjZT17ZnJhbWVzOnR9KX1yZXR1cm4gY31mdW5jdGlvbiBTcihlLHQpe3JldHVybntleGNlcHRpb246e3ZhbHVlczpbX3IoZSx0KV19fX1mdW5jdGlvbiBrcihlLHQpe2NvbnN0IG49dC5zdGFja3RyYWNlfHx0LnN0YWNrfHxcIlwiLHI9ZnVuY3Rpb24oZSl7aWYoZSYmTXIudGVzdChlLm1lc3NhZ2UpKXJldHVybiAxO3JldHVybiAwfSh0KSxpPWZ1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlLmZyYW1lc1RvUG9wKXJldHVybiBlLmZyYW1lc1RvUG9wO3JldHVybiAwfSh0KTt0cnl7cmV0dXJuIGUobixyLGkpfWNhdGNoKGUpe31yZXR1cm5bXX1jb25zdCBNcj0vTWluaWZpZWQgUmVhY3QgZXJyb3IgI1xcZCs7L2k7ZnVuY3Rpb24gQ3IoZSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdlYkFzc2VtYmx5JiZ2b2lkIDAhPT1XZWJBc3NlbWJseS5FeGNlcHRpb24mJmUgaW5zdGFuY2VvZiBXZWJBc3NlbWJseS5FeGNlcHRpb259ZnVuY3Rpb24gRXIoZSl7Y29uc3QgdD1lJiZlLm5hbWU7aWYoIXQmJkNyKGUpKXtyZXR1cm4gZS5tZXNzYWdlJiZBcnJheS5pc0FycmF5KGUubWVzc2FnZSkmJjI9PWUubWVzc2FnZS5sZW5ndGg/ZS5tZXNzYWdlWzBdOlwiV2ViQXNzZW1ibHkuRXhjZXB0aW9uXCJ9cmV0dXJuIHR9ZnVuY3Rpb24gVHIoZSl7Y29uc3QgdD1lJiZlLm1lc3NhZ2U7cmV0dXJuIHQ/dC5lcnJvciYmXCJzdHJpbmdcIj09dHlwZW9mIHQuZXJyb3IubWVzc2FnZT90LmVycm9yLm1lc3NhZ2U6Q3IoZSkmJkFycmF5LmlzQXJyYXkoZS5tZXNzYWdlKSYmMj09ZS5tZXNzYWdlLmxlbmd0aD9lLm1lc3NhZ2VbMV06dDpcIk5vIGVycm9yIG1lc3NhZ2VcIn1mdW5jdGlvbiBPcihlLHQsbixyLGkpe2xldCBvO2lmKGplKHQpJiZ0LmVycm9yKXtyZXR1cm4gU3IoZSx0LmVycm9yKX1pZihJZSh0KXx8QWUodCxcIkRPTUV4Y2VwdGlvblwiKSl7Y29uc3QgaT10O2lmKFwic3RhY2tcImluIHQpbz1TcihlLHQpO2Vsc2V7Y29uc3QgdD1pLm5hbWV8fChJZShpKT9cIkRPTUVycm9yXCI6XCJET01FeGNlcHRpb25cIikscz1pLm1lc3NhZ2U/YCR7dH06ICR7aS5tZXNzYWdlfWA6dDtvPVByKGUscyxuLHIpLGN0KG8scyl9cmV0dXJuXCJjb2RlXCJpbiBpJiYoby50YWdzPXsuLi5vLnRhZ3MsXCJET01FeGNlcHRpb24uY29kZVwiOmAke2kuY29kZX1gfSksb31pZihQZSh0KSlyZXR1cm4gU3IoZSx0KTtpZihOZSh0KXx8UmUodCkpe3JldHVybiBvPXdyKGUsdCxuLGkpLGx0KG8se3N5bnRoZXRpYzohMH0pLG99cmV0dXJuIG89UHIoZSx0LG4sciksY3QobyxgJHt0fWAsdm9pZCAwKSxsdChvLHtzeW50aGV0aWM6ITB9KSxvfWZ1bmN0aW9uIFByKGUsdCxuLHIpe2NvbnN0IGk9e307aWYociYmbil7Y29uc3Qgcj1rcihlLG4pO3IubGVuZ3RoJiYoaS5leGNlcHRpb249e3ZhbHVlczpbe3ZhbHVlOnQsc3RhY2t0cmFjZTp7ZnJhbWVzOnJ9fV19KSxsdChpLHtzeW50aGV0aWM6ITB9KX1pZihMZSh0KSl7Y29uc3R7X19zZW50cnlfdGVtcGxhdGVfc3RyaW5nX186ZSxfX3NlbnRyeV90ZW1wbGF0ZV92YWx1ZXNfXzpufT10O3JldHVybiBpLmxvZ2VudHJ5PXttZXNzYWdlOmUscGFyYW1zOm59LGl9cmV0dXJuIGkubWVzc2FnZT10LGl9ZnVuY3Rpb24gQXIoZSx7aXNVbmhhbmRsZWRSZWplY3Rpb246dH0pe2NvbnN0IG49ZnVuY3Rpb24oZSx0PTQwKXtjb25zdCBuPU9iamVjdC5rZXlzKFhlKGUpKTtuLnNvcnQoKTtjb25zdCByPW5bMF07aWYoIXIpcmV0dXJuXCJbb2JqZWN0IGhhcyBubyBrZXlzXVwiO2lmKHIubGVuZ3RoPj10KXJldHVybiBxZShyLHQpO2ZvcihsZXQgZT1uLmxlbmd0aDtlPjA7ZS0tKXtjb25zdCByPW4uc2xpY2UoMCxlKS5qb2luKFwiLCBcIik7aWYoIShyLmxlbmd0aD50KSlyZXR1cm4gZT09PW4ubGVuZ3RoP3I6cWUocix0KX1yZXR1cm5cIlwifShlKSxyPXQ/XCJwcm9taXNlIHJlamVjdGlvblwiOlwiZXhjZXB0aW9uXCI7aWYoamUoZSkpcmV0dXJuYEV2ZW50IFxcYEVycm9yRXZlbnRcXGAgY2FwdHVyZWQgYXMgJHtyfSB3aXRoIG1lc3NhZ2UgXFxgJHtlLm1lc3NhZ2V9XFxgYDtpZihSZShlKSl7cmV0dXJuYEV2ZW50IFxcYCR7ZnVuY3Rpb24oZSl7dHJ5e2NvbnN0IHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO3JldHVybiB0P3QuY29uc3RydWN0b3IubmFtZTp2b2lkIDB9Y2F0Y2goZSl7fX0oZSl9XFxgICh0eXBlPSR7ZS50eXBlfSkgY2FwdHVyZWQgYXMgJHtyfWB9cmV0dXJuYE9iamVjdCBjYXB0dXJlZCBhcyAke3J9IHdpdGgga2V5czogJHtufWB9Y2xhc3MganIgZXh0ZW5kcyBEbntjb25zdHJ1Y3RvcihlKXtjb25zdCB0PXtwYXJlbnRTcGFuSXNBbHdheXNSb290U3BhbjohMCwuLi5lfTshZnVuY3Rpb24oZSx0LG49W3RdLHI9XCJucG1cIil7Y29uc3QgaT1lLl9tZXRhZGF0YXx8e307aS5zZGt8fChpLnNkaz17bmFtZTpgc2VudHJ5LmphdmFzY3JpcHQuJHt0fWAscGFja2FnZXM6bi5tYXAoKGU9Pih7bmFtZTpgJHtyfTpAc2VudHJ5LyR7ZX1gLHZlcnNpb246bmV9KSkpLHZlcnNpb246bmV9KSxlLl9tZXRhZGF0YT1pfSh0LFwiYnJvd3NlclwiLFtcImJyb3dzZXJcIl0sdnIuU0VOVFJZX1NES19TT1VSQ0V8fFwibnBtXCIpLHN1cGVyKHQpLHQuc2VuZENsaWVudFJlcG9ydHMmJnZyLmRvY3VtZW50JiZ2ci5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCgoKT0+e1wiaGlkZGVuXCI9PT12ci5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUmJnRoaXMuX2ZsdXNoT3V0Y29tZXMoKX0pKX1ldmVudEZyb21FeGNlcHRpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4scil7Y29uc3QgaT1PcihlLHQsbiYmbi5zeW50aGV0aWNFeGNlcHRpb258fHZvaWQgMCxyKTtyZXR1cm4gbHQoaSksaS5sZXZlbD1cImVycm9yXCIsbiYmbi5ldmVudF9pZCYmKGkuZXZlbnRfaWQ9bi5ldmVudF9pZCkscHQoaSl9KHRoaXMuX29wdGlvbnMuc3RhY2tQYXJzZXIsZSx0LHRoaXMuX29wdGlvbnMuYXR0YWNoU3RhY2t0cmFjZSl9ZXZlbnRGcm9tTWVzc2FnZShlLHQ9XCJpbmZvXCIsbil7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuPVwiaW5mb1wiLHIsaSl7Y29uc3Qgbz1QcihlLHQsciYmci5zeW50aGV0aWNFeGNlcHRpb258fHZvaWQgMCxpKTtyZXR1cm4gby5sZXZlbD1uLHImJnIuZXZlbnRfaWQmJihvLmV2ZW50X2lkPXIuZXZlbnRfaWQpLHB0KG8pfSh0aGlzLl9vcHRpb25zLnN0YWNrUGFyc2VyLGUsdCxuLHRoaXMuX29wdGlvbnMuYXR0YWNoU3RhY2t0cmFjZSl9Y2FwdHVyZVVzZXJGZWVkYmFjayhlKXtpZighdGhpcy5faXNFbmFibGVkKCkpcmV0dXJuIHZvaWQoYnImJmxlLndhcm4oXCJTREsgbm90IGVuYWJsZWQsIHdpbGwgbm90IGNhcHR1cmUgdXNlciBmZWVkYmFjay5cIikpO2NvbnN0IHQ9ZnVuY3Rpb24oZSx7bWV0YWRhdGE6dCx0dW5uZWw6bixkc246cn0pe2NvbnN0IGk9e2V2ZW50X2lkOmUuZXZlbnRfaWQsc2VudF9hdDoobmV3IERhdGUpLnRvSVNPU3RyaW5nKCksLi4udCYmdC5zZGsmJntzZGs6e25hbWU6dC5zZGsubmFtZSx2ZXJzaW9uOnQuc2RrLnZlcnNpb259fSwuLi4hIW4mJiEhciYme2RzbjpZdChyKX19LG89ZnVuY3Rpb24oZSl7cmV0dXJuW3t0eXBlOlwidXNlcl9yZXBvcnRcIn0sZV19KGUpO3JldHVybiBybihpLFtvXSl9KGUse21ldGFkYXRhOnRoaXMuZ2V0U2RrTWV0YWRhdGEoKSxkc246dGhpcy5nZXREc24oKSx0dW5uZWw6dGhpcy5nZXRPcHRpb25zKCkudHVubmVsfSk7dGhpcy5zZW5kRW52ZWxvcGUodCl9X3ByZXBhcmVFdmVudChlLHQsbil7cmV0dXJuIGUucGxhdGZvcm09ZS5wbGF0Zm9ybXx8XCJqYXZhc2NyaXB0XCIsc3VwZXIuX3ByZXBhcmVFdmVudChlLHQsbil9fWNvbnN0IElyPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBfX1NFTlRSWV9ERUJVR19ffHxfX1NFTlRSWV9ERUJVR19fLHhyPXJlO2xldCBMcixEcixOcixScjtmdW5jdGlvbiBGcigpe2lmKCF4ci5kb2N1bWVudClyZXR1cm47Y29uc3QgZT13ZS5iaW5kKG51bGwsXCJkb21cIiksdD1CcihlLCEwKTt4ci5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0LCExKSx4ci5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIix0LCExKSxbXCJFdmVudFRhcmdldFwiLFwiTm9kZVwiXS5mb3JFYWNoKCh0PT57Y29uc3Qgbj14clt0XSxyPW4mJm4ucHJvdG90eXBlO3ImJnIuaGFzT3duUHJvcGVydHkmJnIuaGFzT3duUHJvcGVydHkoXCJhZGRFdmVudExpc3RlbmVyXCIpJiYoR2UocixcImFkZEV2ZW50TGlzdGVuZXJcIiwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4scixpKXtpZihcImNsaWNrXCI9PT1ufHxcImtleXByZXNzXCI9PW4pdHJ5e2NvbnN0IHI9dGhpcy5fX3NlbnRyeV9pbnN0cnVtZW50YXRpb25faGFuZGxlcnNfXz10aGlzLl9fc2VudHJ5X2luc3RydW1lbnRhdGlvbl9oYW5kbGVyc19ffHx7fSxvPXJbbl09cltuXXx8e3JlZkNvdW50OjB9O2lmKCFvLmhhbmRsZXIpe2NvbnN0IHI9QnIoZSk7by5oYW5kbGVyPXIsdC5jYWxsKHRoaXMsbixyLGkpfW8ucmVmQ291bnQrK31jYXRjaChlKXt9cmV0dXJuIHQuY2FsbCh0aGlzLG4scixpKX19KSksR2UocixcInJlbW92ZUV2ZW50TGlzdGVuZXJcIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXtpZihcImNsaWNrXCI9PT10fHxcImtleXByZXNzXCI9PXQpdHJ5e2NvbnN0IG49dGhpcy5fX3NlbnRyeV9pbnN0cnVtZW50YXRpb25faGFuZGxlcnNfX3x8e30saT1uW3RdO2kmJihpLnJlZkNvdW50LS0saS5yZWZDb3VudDw9MCYmKGUuY2FsbCh0aGlzLHQsaS5oYW5kbGVyLHIpLGkuaGFuZGxlcj12b2lkIDAsZGVsZXRlIG5bdF0pLDA9PT1PYmplY3Qua2V5cyhuKS5sZW5ndGgmJmRlbGV0ZSB0aGlzLl9fc2VudHJ5X2luc3RydW1lbnRhdGlvbl9oYW5kbGVyc19fKX1jYXRjaChlKXt9cmV0dXJuIGUuY2FsbCh0aGlzLHQsbixyKX19KSkpfSkpfWZ1bmN0aW9uIEJyKGUsdD0hMSl7cmV0dXJuIG49PntpZighbnx8bi5fc2VudHJ5Q2FwdHVyZWQpcmV0dXJuO2NvbnN0IHI9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBlLnRhcmdldH1jYXRjaChlKXtyZXR1cm4gbnVsbH19KG4pO2lmKGZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJrZXlwcmVzc1wiPT09ZSYmKCF0fHwhdC50YWdOYW1lfHxcIklOUFVUXCIhPT10LnRhZ05hbWUmJlwiVEVYVEFSRUFcIiE9PXQudGFnTmFtZSYmIXQuaXNDb250ZW50RWRpdGFibGUpfShuLnR5cGUscikpcmV0dXJuO1FlKG4sXCJfc2VudHJ5Q2FwdHVyZWRcIiwhMCksciYmIXIuX3NlbnRyeUlkJiZRZShyLFwiX3NlbnRyeUlkXCIsb3QoKSk7Y29uc3QgaT1cImtleXByZXNzXCI9PT1uLnR5cGU/XCJpbnB1dFwiOm4udHlwZTtpZighZnVuY3Rpb24oZSl7aWYoZS50eXBlIT09RHIpcmV0dXJuITE7dHJ5e2lmKCFlLnRhcmdldHx8ZS50YXJnZXQuX3NlbnRyeUlkIT09TnIpcmV0dXJuITF9Y2F0Y2goZSl7fXJldHVybiEwfShuKSl7ZSh7ZXZlbnQ6bixuYW1lOmksZ2xvYmFsOnR9KSxEcj1uLnR5cGUsTnI9cj9yLl9zZW50cnlJZDp2b2lkIDB9Y2xlYXJUaW1lb3V0KExyKSxMcj14ci5zZXRUaW1lb3V0KCgoKT0+e05yPXZvaWQgMCxEcj12b2lkIDB9KSwxZTMpfX1mdW5jdGlvbiBVcihlKXtjb25zdCB0PVwiaGlzdG9yeVwiO2JlKHQsZSksX2UodCxWcil9ZnVuY3Rpb24gVnIoKXtpZighZnVuY3Rpb24oKXtjb25zdCBlPWZyLmNocm9tZSx0PWUmJmUuYXBwJiZlLmFwcC5ydW50aW1lLG49XCJoaXN0b3J5XCJpbiBmciYmISFmci5oaXN0b3J5LnB1c2hTdGF0ZSYmISFmci5oaXN0b3J5LnJlcGxhY2VTdGF0ZTtyZXR1cm4hdCYmbn0oKSlyZXR1cm47Y29uc3QgZT14ci5vbnBvcHN0YXRlO2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGZ1bmN0aW9uKC4uLnQpe2NvbnN0IG49dC5sZW5ndGg+Mj90WzJdOnZvaWQgMDtpZihuKXtjb25zdCBlPVJyLHQ9U3RyaW5nKG4pO1JyPXQ7d2UoXCJoaXN0b3J5XCIse2Zyb206ZSx0bzp0fSl9cmV0dXJuIGUuYXBwbHkodGhpcyx0KX19eHIub25wb3BzdGF0ZT1mdW5jdGlvbiguLi50KXtjb25zdCBuPXhyLmxvY2F0aW9uLmhyZWYscj1ScjtScj1uO2lmKHdlKFwiaGlzdG9yeVwiLHtmcm9tOnIsdG86bn0pLGUpdHJ5e3JldHVybiBlLmFwcGx5KHRoaXMsdCl9Y2F0Y2goZSl7fX0sR2UoeHIuaGlzdG9yeSxcInB1c2hTdGF0ZVwiLHQpLEdlKHhyLmhpc3RvcnksXCJyZXBsYWNlU3RhdGVcIix0KX1jb25zdCBKcj17fTtmdW5jdGlvbiAkcihlKXtKcltlXT12b2lkIDB9Y29uc3QgcXI9XCJfX3NlbnRyeV94aHJfdjNfX1wiO2Z1bmN0aW9uIHpyKCl7aWYoIXhyLlhNTEh0dHBSZXF1ZXN0KXJldHVybjtjb25zdCBlPVhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZTtlLm9wZW49bmV3IFByb3h5KGUub3Blbix7YXBwbHkoZSx0LG4pe2NvbnN0IHI9bmV3IEVycm9yLGk9MWUzKml0KCksbz14ZShuWzBdKT9uWzBdLnRvVXBwZXJDYXNlKCk6dm9pZCAwLHM9ZnVuY3Rpb24oZSl7aWYoeGUoZSkpcmV0dXJuIGU7dHJ5e3JldHVybiBlLnRvU3RyaW5nKCl9Y2F0Y2goZSl7fXJldHVybn0oblsxXSk7aWYoIW98fCFzKXJldHVybiBlLmFwcGx5KHQsbik7dFtxcl09e21ldGhvZDpvLHVybDpzLHJlcXVlc3RfaGVhZGVyczp7fX0sXCJQT1NUXCI9PT1vJiZzLm1hdGNoKC9zZW50cnlfa2V5LykmJih0Ll9fc2VudHJ5X293bl9yZXF1ZXN0X189ITApO2NvbnN0IGE9KCk9Pntjb25zdCBlPXRbcXJdO2lmKGUmJjQ9PT10LnJlYWR5U3RhdGUpe3RyeXtlLnN0YXR1c19jb2RlPXQuc3RhdHVzfWNhdGNoKGUpe313ZShcInhoclwiLHtlbmRUaW1lc3RhbXA6MWUzKml0KCksc3RhcnRUaW1lc3RhbXA6aSx4aHI6dCx2aXJ0dWFsRXJyb3I6cn0pfX07cmV0dXJuXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQub25yZWFkeXN0YXRlY2hhbmdlP3Qub25yZWFkeXN0YXRlY2hhbmdlPW5ldyBQcm94eSh0Lm9ucmVhZHlzdGF0ZWNoYW5nZSx7YXBwbHk6KGUsdCxuKT0+KGEoKSxlLmFwcGx5KHQsbikpfSk6dC5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLGEpLHQuc2V0UmVxdWVzdEhlYWRlcj1uZXcgUHJveHkodC5zZXRSZXF1ZXN0SGVhZGVyLHthcHBseShlLHQsbil7Y29uc3RbcixpXT1uLG89dFtxcl07cmV0dXJuIG8mJnhlKHIpJiZ4ZShpKSYmKG8ucmVxdWVzdF9oZWFkZXJzW3IudG9Mb3dlckNhc2UoKV09aSksZS5hcHBseSh0LG4pfX0pLGUuYXBwbHkodCxuKX19KSxlLnNlbmQ9bmV3IFByb3h5KGUuc2VuZCx7YXBwbHkoZSx0LG4pe2NvbnN0IHI9dFtxcl07aWYoIXIpcmV0dXJuIGUuYXBwbHkodCxuKTt2b2lkIDAhPT1uWzBdJiYoci5ib2R5PW5bMF0pO3JldHVybiB3ZShcInhoclwiLHtzdGFydFRpbWVzdGFtcDoxZTMqaXQoKSx4aHI6dH0pLGUuYXBwbHkodCxuKX19KX1mdW5jdGlvbiBXcihlLHQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD1KcltlXTtpZih0KXJldHVybiB0O2xldCBuPXhyW2VdO2lmKGxyKG4pKXJldHVybiBKcltlXT1uLmJpbmQoeHIpO2NvbnN0IHI9eHIuZG9jdW1lbnQ7aWYociYmXCJmdW5jdGlvblwiPT10eXBlb2Ygci5jcmVhdGVFbGVtZW50KXRyeXtjb25zdCB0PXIuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTt0LmhpZGRlbj0hMCxyLmhlYWQuYXBwZW5kQ2hpbGQodCk7Y29uc3QgaT10LmNvbnRlbnRXaW5kb3c7aSYmaVtlXSYmKG49aVtlXSksci5oZWFkLnJlbW92ZUNoaWxkKHQpfWNhdGNoKHQpe0lyJiZsZS53YXJuKGBDb3VsZCBub3QgY3JlYXRlIHNhbmRib3ggaWZyYW1lIGZvciAke2V9IGNoZWNrLCBiYWlsaW5nIHRvIHdpbmRvdy4ke2V9OiBgLHQpfXJldHVybiBuP0pyW2VdPW4uYmluZCh4cik6bn0oXCJmZXRjaFwiKSl7bGV0IG49MCxyPTA7cmV0dXJuIFVuKGUsKGZ1bmN0aW9uKGkpe2NvbnN0IG89aS5ib2R5Lmxlbmd0aDtuKz1vLHIrKztjb25zdCBzPXtib2R5OmkuYm9keSxtZXRob2Q6XCJQT1NUXCIscmVmZXJyZXJQb2xpY3k6XCJvcmlnaW5cIixoZWFkZXJzOmUuaGVhZGVycyxrZWVwYWxpdmU6bjw9NmU0JiZyPDE1LC4uLmUuZmV0Y2hPcHRpb25zfTtpZighdClyZXR1cm4gJHIoXCJmZXRjaFwiKSxodChcIk5vIGZldGNoIGltcGxlbWVudGF0aW9uIGF2YWlsYWJsZVwiKTt0cnl7cmV0dXJuIHQoZS51cmwscykudGhlbigoZT0+KG4tPW8sci0tLHtzdGF0dXNDb2RlOmUuc3RhdHVzLGhlYWRlcnM6e1wieC1zZW50cnktcmF0ZS1saW1pdHNcIjplLmhlYWRlcnMuZ2V0KFwiWC1TZW50cnktUmF0ZS1MaW1pdHNcIiksXCJyZXRyeS1hZnRlclwiOmUuaGVhZGVycy5nZXQoXCJSZXRyeS1BZnRlclwiKX19KSkpfWNhdGNoKGUpe3JldHVybiAkcihcImZldGNoXCIpLG4tPW8sci0tLGh0KGUpfX0pKX1mdW5jdGlvbiBIcihlLHQsbixyKXtjb25zdCBpPXtmaWxlbmFtZTplLGZ1bmN0aW9uOlwiPGFub255bW91cz5cIj09PXQ/dWU6dCxpbl9hcHA6ITB9O3JldHVybiB2b2lkIDAhPT1uJiYoaS5saW5lbm89biksdm9pZCAwIT09ciYmKGkuY29sbm89ciksaX1jb25zdCBHcj0vXlxccyphdCAoXFxTKz8pKD86OihcXGQrKSkoPzo6KFxcZCspKVxccyokL2ksUXI9L15cXHMqYXQgKD86KC4rP1xcKSg/OiBcXFsuK1xcXSk/fC4qPykgP1xcKCg/OmFkZHJlc3MgYXQgKT8pPyg/OmFzeW5jICk/KCg/Ojxhbm9ueW1vdXM+fFstYS16XSs6fC4qYnVuZGxlfFxcLyk/Lio/KSg/OjooXFxkKykpPyg/OjooXFxkKykpP1xcKT9cXHMqJC9pLEtyPS9cXCgoXFxTKikoPzo6KFxcZCspKSg/OjooXFxkKykpXFwpLyxZcj0vXlxccyooLio/KSg/OlxcKCguKj8pXFwpKT8oPzpefEApPygoPzpbLWEtel0rKT86XFwvLio/fFxcW25hdGl2ZSBjb2RlXFxdfFteQF0qKD86YnVuZGxlfFxcZCtcXC5qcyl8XFwvW1xcd1xcLS4gLz1dKykoPzo6KFxcZCspKT8oPzo6KFxcZCspKT9cXHMqJC9pLFhyPS8oXFxTKykgbGluZSAoXFxkKykoPzogPiBldmFsIGxpbmUgXFxkKykqID4gZXZhbC9pLFpyPWZ1bmN0aW9uKC4uLmUpe2NvbnN0IHQ9ZS5zb3J0KCgoZSx0KT0+ZVswXS10WzBdKSkubWFwKChlPT5lWzFdKSk7cmV0dXJuKGUsbj0wLHI9MCk9Pntjb25zdCBpPVtdLG89ZS5zcGxpdChcIlxcblwiKTtmb3IobGV0IGU9bjtlPG8ubGVuZ3RoO2UrKyl7Y29uc3Qgbj1vW2VdO2lmKG4ubGVuZ3RoPjEwMjQpY29udGludWU7Y29uc3Qgcz1kZS50ZXN0KG4pP24ucmVwbGFjZShkZSxcIiQxXCIpOm47aWYoIXMubWF0Y2goL1xcUypFcnJvcjogLykpe2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9ZShzKTtpZih0KXtpLnB1c2godCk7YnJlYWt9fWlmKGkubGVuZ3RoPj01MCtyKWJyZWFrfX1yZXR1cm4gZnVuY3Rpb24oZSl7aWYoIWUubGVuZ3RoKXJldHVybltdO2NvbnN0IHQ9QXJyYXkuZnJvbShlKTsvc2VudHJ5V3JhcHBlZC8udGVzdChoZSh0KS5mdW5jdGlvbnx8XCJcIikmJnQucG9wKCk7dC5yZXZlcnNlKCkscGUudGVzdChoZSh0KS5mdW5jdGlvbnx8XCJcIikmJih0LnBvcCgpLHBlLnRlc3QoaGUodCkuZnVuY3Rpb258fFwiXCIpJiZ0LnBvcCgpKTtyZXR1cm4gdC5zbGljZSgwLDUwKS5tYXAoKGU9Pih7Li4uZSxmaWxlbmFtZTplLmZpbGVuYW1lfHxoZSh0KS5maWxlbmFtZSxmdW5jdGlvbjplLmZ1bmN0aW9ufHx1ZX0pKSl9KGkuc2xpY2UocikpfX0oLi4uW1szMCxlPT57Y29uc3QgdD1Hci5leGVjKGUpO2lmKHQpe2NvbnN0WyxlLG4scl09dDtyZXR1cm4gSHIoZSx1ZSwrbiwrcil9Y29uc3Qgbj1Rci5leGVjKGUpO2lmKG4pe2lmKG5bMl0mJjA9PT1uWzJdLmluZGV4T2YoXCJldmFsXCIpKXtjb25zdCBlPUtyLmV4ZWMoblsyXSk7ZSYmKG5bMl09ZVsxXSxuWzNdPWVbMl0sbls0XT1lWzNdKX1jb25zdFtlLHRdPWVpKG5bMV18fHVlLG5bMl0pO3JldHVybiBIcih0LGUsblszXT8rblszXTp2b2lkIDAsbls0XT8rbls0XTp2b2lkIDApfX1dLFs1MCxlPT57Y29uc3QgdD1Zci5leGVjKGUpO2lmKHQpe2lmKHRbM10mJnRbM10uaW5kZXhPZihcIiA+IGV2YWxcIik+LTEpe2NvbnN0IGU9WHIuZXhlYyh0WzNdKTtlJiYodFsxXT10WzFdfHxcImV2YWxcIix0WzNdPWVbMV0sdFs0XT1lWzJdLHRbNV09XCJcIil9bGV0IGU9dFszXSxuPXRbMV18fHVlO3JldHVybltuLGVdPWVpKG4sZSksSHIoZSxuLHRbNF0/K3RbNF06dm9pZCAwLHRbNV0/K3RbNV06dm9pZCAwKX19XV0pLGVpPShlLHQpPT57Y29uc3Qgbj0tMSE9PWUuaW5kZXhPZihcInNhZmFyaS1leHRlbnNpb25cIikscj0tMSE9PWUuaW5kZXhPZihcInNhZmFyaS13ZWItZXh0ZW5zaW9uXCIpO3JldHVybiBufHxyP1stMSE9PWUuaW5kZXhPZihcIkBcIik/ZS5zcGxpdChcIkBcIilbMF06dWUsbj9gc2FmYXJpLWV4dGVuc2lvbjoke3R9YDpgc2FmYXJpLXdlYi1leHRlbnNpb246JHt0fWBdOltlLHRdfSx0aT0xMDI0LG5pPShlPXt9KT0+e2NvbnN0IHQ9e2NvbnNvbGU6ITAsZG9tOiEwLGZldGNoOiEwLGhpc3Rvcnk6ITAsc2VudHJ5OiEwLHhocjohMCwuLi5lfTtyZXR1cm57bmFtZTpcIkJyZWFkY3J1bWJzXCIsc2V0dXAoZSl7dmFyIG47dC5jb25zb2xlJiZmdW5jdGlvbihlKXtjb25zdCB0PVwiY29uc29sZVwiO2JlKHQsZSksX2UodCx0cil9KGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtpZih4dCgpIT09ZSlyZXR1cm47Y29uc3Qgbj17Y2F0ZWdvcnk6XCJjb25zb2xlXCIsZGF0YTp7YXJndW1lbnRzOnQuYXJncyxsb2dnZXI6XCJjb25zb2xlXCJ9LGxldmVsOm5yKHQubGV2ZWwpLG1lc3NhZ2U6emUodC5hcmdzLFwiIFwiKX07aWYoXCJhc3NlcnRcIj09PXQubGV2ZWwpe2lmKCExIT09dC5hcmdzWzBdKXJldHVybjtuLm1lc3NhZ2U9YEFzc2VydGlvbiBmYWlsZWQ6ICR7emUodC5hcmdzLnNsaWNlKDEpLFwiIFwiKXx8XCJjb25zb2xlLmFzc2VydFwifWAsbi5kYXRhLmFyZ3VtZW50cz10LmFyZ3Muc2xpY2UoMSl9JG4obix7aW5wdXQ6dC5hcmdzLGxldmVsOnQubGV2ZWx9KX19KGUpKSx0LmRvbSYmKG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24obil7aWYoeHQoKSE9PWUpcmV0dXJuO2xldCByLGksbz1cIm9iamVjdFwiPT10eXBlb2YgdD90LnNlcmlhbGl6ZUF0dHJpYnV0ZTp2b2lkIDAscz1cIm9iamVjdFwiPT10eXBlb2YgdCYmXCJudW1iZXJcIj09dHlwZW9mIHQubWF4U3RyaW5nTGVuZ3RoP3QubWF4U3RyaW5nTGVuZ3RoOnZvaWQgMDtzJiZzPnRpJiYoYnImJmxlLndhcm4oYFxcYGRvbS5tYXhTdHJpbmdMZW5ndGhcXGAgY2Fubm90IGV4Y2VlZCAxMDI0LCBidXQgYSB2YWx1ZSBvZiAke3N9IHdhcyBjb25maWd1cmVkLiBTZW50cnkgd2lsbCB1c2UgMTAyNCBpbnN0ZWFkLmApLHM9dGkpLFwic3RyaW5nXCI9PXR5cGVvZiBvJiYobz1bb10pO3RyeXtjb25zdCBlPW4uZXZlbnQsdD1mdW5jdGlvbihlKXtyZXR1cm4hIWUmJiEhZS50YXJnZXR9KGUpP2UudGFyZ2V0OmU7cj1KZSh0LHtrZXlBdHRyczpvLG1heFN0cmluZ0xlbmd0aDpzfSksaT1mdW5jdGlvbihlKXtpZighVmUuSFRNTEVsZW1lbnQpcmV0dXJuIG51bGw7bGV0IHQ9ZTtmb3IobGV0IGU9MDtlPDU7ZSsrKXtpZighdClyZXR1cm4gbnVsbDtpZih0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpe2lmKHQuZGF0YXNldC5zZW50cnlDb21wb25lbnQpcmV0dXJuIHQuZGF0YXNldC5zZW50cnlDb21wb25lbnQ7aWYodC5kYXRhc2V0LnNlbnRyeUVsZW1lbnQpcmV0dXJuIHQuZGF0YXNldC5zZW50cnlFbGVtZW50fXQ9dC5wYXJlbnROb2RlfXJldHVybiBudWxsfSh0KX1jYXRjaChlKXtyPVwiPHVua25vd24+XCJ9aWYoMD09PXIubGVuZ3RoKXJldHVybjtjb25zdCBhPXtjYXRlZ29yeTpgdWkuJHtuLm5hbWV9YCxtZXNzYWdlOnJ9O2kmJihhLmRhdGE9e1widWkuY29tcG9uZW50X25hbWVcIjppfSksJG4oYSx7ZXZlbnQ6bi5ldmVudCxuYW1lOm4ubmFtZSxnbG9iYWw6bi5nbG9iYWx9KX19KGUsdC5kb20pLGJlKFwiZG9tXCIsbiksX2UoXCJkb21cIixGcikpLHQueGhyJiZmdW5jdGlvbihlKXtiZShcInhoclwiLGUpLF9lKFwieGhyXCIsenIpfShmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoeHQoKSE9PWUpcmV0dXJuO2NvbnN0e3N0YXJ0VGltZXN0YW1wOm4sZW5kVGltZXN0YW1wOnJ9PXQsaT10Lnhocltxcl07aWYoIW58fCFyfHwhaSlyZXR1cm47Y29uc3R7bWV0aG9kOm8sdXJsOnMsc3RhdHVzX2NvZGU6YSxib2R5OmN9PWksbD17bWV0aG9kOm8sdXJsOnMsc3RhdHVzX2NvZGU6YX0sdT17eGhyOnQueGhyLGlucHV0OmMsc3RhcnRUaW1lc3RhbXA6bixlbmRUaW1lc3RhbXA6cn07JG4oe2NhdGVnb3J5OlwieGhyXCIsZGF0YTpsLHR5cGU6XCJodHRwXCIsbGV2ZWw6YXIoYSl9LHUpfX0oZSkpLHQuZmV0Y2gmJmRyKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtpZih4dCgpIT09ZSlyZXR1cm47Y29uc3R7c3RhcnRUaW1lc3RhbXA6bixlbmRUaW1lc3RhbXA6cn09dDtpZihyJiYoIXQuZmV0Y2hEYXRhLnVybC5tYXRjaCgvc2VudHJ5X2tleS8pfHxcIlBPU1RcIiE9PXQuZmV0Y2hEYXRhLm1ldGhvZCkpaWYodC5lcnJvcil7JG4oe2NhdGVnb3J5OlwiZmV0Y2hcIixkYXRhOnQuZmV0Y2hEYXRhLGxldmVsOlwiZXJyb3JcIix0eXBlOlwiaHR0cFwifSx7ZGF0YTp0LmVycm9yLGlucHV0OnQuYXJncyxzdGFydFRpbWVzdGFtcDpuLGVuZFRpbWVzdGFtcDpyfSl9ZWxzZXtjb25zdCBlPXQucmVzcG9uc2UsaT17Li4udC5mZXRjaERhdGEsc3RhdHVzX2NvZGU6ZSYmZS5zdGF0dXN9LG89e2lucHV0OnQuYXJncyxyZXNwb25zZTplLHN0YXJ0VGltZXN0YW1wOm4sZW5kVGltZXN0YW1wOnJ9OyRuKHtjYXRlZ29yeTpcImZldGNoXCIsZGF0YTppLHR5cGU6XCJodHRwXCIsbGV2ZWw6YXIoaS5zdGF0dXNfY29kZSl9LG8pfX19KGUpKSx0Lmhpc3RvcnkmJlVyKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtpZih4dCgpIT09ZSlyZXR1cm47bGV0IG49dC5mcm9tLHI9dC50bztjb25zdCBpPWVyKHZyLmxvY2F0aW9uLmhyZWYpO2xldCBvPW4/ZXIobik6dm9pZCAwO2NvbnN0IHM9ZXIocik7byYmby5wYXRofHwobz1pKSxpLnByb3RvY29sPT09cy5wcm90b2NvbCYmaS5ob3N0PT09cy5ob3N0JiYocj1zLnJlbGF0aXZlKSxpLnByb3RvY29sPT09by5wcm90b2NvbCYmaS5ob3N0PT09by5ob3N0JiYobj1vLnJlbGF0aXZlKSwkbih7Y2F0ZWdvcnk6XCJuYXZpZ2F0aW9uXCIsZGF0YTp7ZnJvbTpuLHRvOnJ9fSl9fShlKSksdC5zZW50cnkmJmUub24oXCJiZWZvcmVTZW5kRXZlbnRcIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7eHQoKT09PWUmJiRuKHtjYXRlZ29yeTpcInNlbnRyeS5cIisoXCJ0cmFuc2FjdGlvblwiPT09dC50eXBlP1widHJhbnNhY3Rpb25cIjpcImV2ZW50XCIpLGV2ZW50X2lkOnQuZXZlbnRfaWQsbGV2ZWw6dC5sZXZlbCxtZXNzYWdlOmF0KHQpfSx7ZXZlbnQ6dH0pfX0oZSkpfX19O2NvbnN0IHJpPVtcIkV2ZW50VGFyZ2V0XCIsXCJXaW5kb3dcIixcIk5vZGVcIixcIkFwcGxpY2F0aW9uQ2FjaGVcIixcIkF1ZGlvVHJhY2tMaXN0XCIsXCJCcm9hZGNhc3RDaGFubmVsXCIsXCJDaGFubmVsTWVyZ2VyTm9kZVwiLFwiQ3J5cHRvT3BlcmF0aW9uXCIsXCJFdmVudFNvdXJjZVwiLFwiRmlsZVJlYWRlclwiLFwiSFRNTFVua25vd25FbGVtZW50XCIsXCJJREJEYXRhYmFzZVwiLFwiSURCUmVxdWVzdFwiLFwiSURCVHJhbnNhY3Rpb25cIixcIktleU9wZXJhdGlvblwiLFwiTWVkaWFDb250cm9sbGVyXCIsXCJNZXNzYWdlUG9ydFwiLFwiTW9kYWxXaW5kb3dcIixcIk5vdGlmaWNhdGlvblwiLFwiU1ZHRWxlbWVudEluc3RhbmNlXCIsXCJTY3JlZW5cIixcIlNoYXJlZFdvcmtlclwiLFwiVGV4dFRyYWNrXCIsXCJUZXh0VHJhY2tDdWVcIixcIlRleHRUcmFja0xpc3RcIixcIldlYlNvY2tldFwiLFwiV2ViU29ja2V0V29ya2VyXCIsXCJXb3JrZXJcIixcIlhNTEh0dHBSZXF1ZXN0XCIsXCJYTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0XCIsXCJYTUxIdHRwUmVxdWVzdFVwbG9hZFwiXSxpaT0oZT17fSk9Pntjb25zdCB0PXtYTUxIdHRwUmVxdWVzdDohMCxldmVudFRhcmdldDohMCxyZXF1ZXN0QW5pbWF0aW9uRnJhbWU6ITAsc2V0SW50ZXJ2YWw6ITAsc2V0VGltZW91dDohMCwuLi5lfTtyZXR1cm57bmFtZTpcIkJyb3dzZXJBcGlFcnJvcnNcIixzZXR1cE9uY2UoKXt0LnNldFRpbWVvdXQmJkdlKHZyLFwic2V0VGltZW91dFwiLG9pKSx0LnNldEludGVydmFsJiZHZSh2cixcInNldEludGVydmFsXCIsb2kpLHQucmVxdWVzdEFuaW1hdGlvbkZyYW1lJiZHZSh2cixcInJlcXVlc3RBbmltYXRpb25GcmFtZVwiLHNpKSx0LlhNTEh0dHBSZXF1ZXN0JiZcIlhNTEh0dHBSZXF1ZXN0XCJpbiB2ciYmR2UoWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLFwic2VuZFwiLGFpKTtjb25zdCBlPXQuZXZlbnRUYXJnZXQ7aWYoZSl7KEFycmF5LmlzQXJyYXkoZSk/ZTpyaSkuZm9yRWFjaChjaSl9fX19O2Z1bmN0aW9uIG9pKGUpe3JldHVybiBmdW5jdGlvbiguLi50KXtjb25zdCBuPXRbMF07cmV0dXJuIHRbMF09eXIobix7bWVjaGFuaXNtOntkYXRhOntmdW5jdGlvbjp2ZShlKX0saGFuZGxlZDohMSx0eXBlOlwiaW5zdHJ1bWVudFwifX0pLGUuYXBwbHkodGhpcyx0KX19ZnVuY3Rpb24gc2koZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KHRoaXMsW3lyKHQse21lY2hhbmlzbTp7ZGF0YTp7ZnVuY3Rpb246XCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIixoYW5kbGVyOnZlKGUpfSxoYW5kbGVkOiExLHR5cGU6XCJpbnN0cnVtZW50XCJ9fSldKX19ZnVuY3Rpb24gYWkoZSl7cmV0dXJuIGZ1bmN0aW9uKC4uLnQpe2NvbnN0IG49dGhpcztyZXR1cm5bXCJvbmxvYWRcIixcIm9uZXJyb3JcIixcIm9ucHJvZ3Jlc3NcIixcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiXS5mb3JFYWNoKChlPT57ZSBpbiBuJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuW2VdJiZHZShuLGUsKGZ1bmN0aW9uKHQpe2NvbnN0IG49e21lY2hhbmlzbTp7ZGF0YTp7ZnVuY3Rpb246ZSxoYW5kbGVyOnZlKHQpfSxoYW5kbGVkOiExLHR5cGU6XCJpbnN0cnVtZW50XCJ9fSxyPVllKHQpO3JldHVybiByJiYobi5tZWNoYW5pc20uZGF0YS5oYW5kbGVyPXZlKHIpKSx5cih0LG4pfSkpfSkpLGUuYXBwbHkodGhpcyx0KX19ZnVuY3Rpb24gY2koZSl7Y29uc3QgdD12cltlXSxuPXQmJnQucHJvdG90eXBlO24mJm4uaGFzT3duUHJvcGVydHkmJm4uaGFzT3duUHJvcGVydHkoXCJhZGRFdmVudExpc3RlbmVyXCIpJiYoR2UobixcImFkZEV2ZW50TGlzdGVuZXJcIiwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4scixpKXt0cnl7XCJmdW5jdGlvblwiPT10eXBlb2Ygci5oYW5kbGVFdmVudCYmKHIuaGFuZGxlRXZlbnQ9eXIoci5oYW5kbGVFdmVudCx7bWVjaGFuaXNtOntkYXRhOntmdW5jdGlvbjpcImhhbmRsZUV2ZW50XCIsaGFuZGxlcjp2ZShyKSx0YXJnZXQ6ZX0saGFuZGxlZDohMSx0eXBlOlwiaW5zdHJ1bWVudFwifX0pKX1jYXRjaChlKXt9cmV0dXJuIHQuYXBwbHkodGhpcyxbbix5cihyLHttZWNoYW5pc206e2RhdGE6e2Z1bmN0aW9uOlwiYWRkRXZlbnRMaXN0ZW5lclwiLGhhbmRsZXI6dmUociksdGFyZ2V0OmV9LGhhbmRsZWQ6ITEsdHlwZTpcImluc3RydW1lbnRcIn19KSxpXSl9fSkpLEdlKG4sXCJyZW1vdmVFdmVudExpc3RlbmVyXCIsKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4scil7dHJ5e2NvbnN0IGk9bi5fX3NlbnRyeV93cmFwcGVkX187aSYmZS5jYWxsKHRoaXMsdCxpLHIpfWNhdGNoKGUpe31yZXR1cm4gZS5jYWxsKHRoaXMsdCxuLHIpfX0pKSl9Y29uc3QgbGk9KCk9Pih7bmFtZTpcIkJyb3dzZXJTZXNzaW9uXCIsc2V0dXBPbmNlKCl7dm9pZCAwIT09dnIuZG9jdW1lbnQ/KENuKHtpZ25vcmVEdXJhdGlvbjohMH0pLE9uKCksVXIoKCh7ZnJvbTplLHRvOnR9KT0+e3ZvaWQgMCE9PWUmJmUhPT10JiYoQ24oe2lnbm9yZUR1cmF0aW9uOiEwfSksT24oKSl9KSkpOmJyJiZsZS53YXJuKFwiVXNpbmcgdGhlIGBicm93c2VyU2Vzc2lvbkludGVncmF0aW9uYCBpbiBub24tYnJvd3NlciBlbnZpcm9ubWVudHMgaXMgbm90IHN1cHBvcnRlZC5cIil9fSksdWk9KGU9e30pPT57Y29uc3QgdD17b25lcnJvcjohMCxvbnVuaGFuZGxlZHJlamVjdGlvbjohMCwuLi5lfTtyZXR1cm57bmFtZTpcIkdsb2JhbEhhbmRsZXJzXCIsc2V0dXBPbmNlKCl7RXJyb3Iuc3RhY2tUcmFjZUxpbWl0PTUwfSxzZXR1cChlKXt0Lm9uZXJyb3ImJighZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe2NvbnN0IHQ9XCJlcnJvclwiO2JlKHQsZSksX2UodCxrZSl9KCh0PT57Y29uc3R7c3RhY2tQYXJzZXI6bixhdHRhY2hTdGFja3RyYWNlOnJ9PXBpKCk7aWYoeHQoKSE9PWV8fG1yKCkpcmV0dXJuO2NvbnN0e21zZzppLHVybDpvLGxpbmU6cyxjb2x1bW46YSxlcnJvcjpjfT10LGw9ZnVuY3Rpb24oZSx0LG4scil7Y29uc3QgaT1lLmV4Y2VwdGlvbj1lLmV4Y2VwdGlvbnx8e30sbz1pLnZhbHVlcz1pLnZhbHVlc3x8W10scz1vWzBdPW9bMF18fHt9LGE9cy5zdGFja3RyYWNlPXMuc3RhY2t0cmFjZXx8e30sYz1hLmZyYW1lcz1hLmZyYW1lc3x8W10sbD1yLHU9bixkPXhlKHQpJiZ0Lmxlbmd0aD4wP3Q6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIFZlLmRvY3VtZW50LmxvY2F0aW9uLmhyZWZ9Y2F0Y2goZSl7cmV0dXJuXCJcIn19KCk7MD09PWMubGVuZ3RoJiZjLnB1c2goe2NvbG5vOmwsZmlsZW5hbWU6ZCxmdW5jdGlvbjp1ZSxpbl9hcHA6ITAsbGluZW5vOnV9KTtyZXR1cm4gZX0oT3IobixjfHxpLHZvaWQgMCxyLCExKSxvLHMsYSk7bC5sZXZlbD1cImVycm9yXCIsTW4obCx7b3JpZ2luYWxFeGNlcHRpb246YyxtZWNoYW5pc206e2hhbmRsZWQ6ITEsdHlwZTpcIm9uZXJyb3JcIn19KX0pKX0oZSksZGkoXCJvbmVycm9yXCIpKSx0Lm9udW5oYW5kbGVkcmVqZWN0aW9uJiYoIWZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXtjb25zdCB0PVwidW5oYW5kbGVkcmVqZWN0aW9uXCI7YmUodCxlKSxfZSh0LENlKX0oKHQ9Pntjb25zdHtzdGFja1BhcnNlcjpuLGF0dGFjaFN0YWNrdHJhY2U6cn09cGkoKTtpZih4dCgpIT09ZXx8bXIoKSlyZXR1cm47Y29uc3QgaT1mdW5jdGlvbihlKXtpZihEZShlKSlyZXR1cm4gZTt0cnl7aWYoXCJyZWFzb25cImluIGUpcmV0dXJuIGUucmVhc29uO2lmKFwiZGV0YWlsXCJpbiBlJiZcInJlYXNvblwiaW4gZS5kZXRhaWwpcmV0dXJuIGUuZGV0YWlsLnJlYXNvbn1jYXRjaChlKXt9cmV0dXJuIGV9KHQpLG89RGUoaSk/e2V4Y2VwdGlvbjp7dmFsdWVzOlt7dHlwZTpcIlVuaGFuZGxlZFJlamVjdGlvblwiLHZhbHVlOmBOb24tRXJyb3IgcHJvbWlzZSByZWplY3Rpb24gY2FwdHVyZWQgd2l0aCB2YWx1ZTogJHtTdHJpbmcoaSl9YH1dfX06T3IobixpLHZvaWQgMCxyLCEwKTtvLmxldmVsPVwiZXJyb3JcIixNbihvLHtvcmlnaW5hbEV4Y2VwdGlvbjppLG1lY2hhbmlzbTp7aGFuZGxlZDohMSx0eXBlOlwib251bmhhbmRsZWRyZWplY3Rpb25cIn19KX0pKX0oZSksZGkoXCJvbnVuaGFuZGxlZHJlamVjdGlvblwiKSl9fX07ZnVuY3Rpb24gZGkoZSl7YnImJmxlLmxvZyhgR2xvYmFsIEhhbmRsZXIgYXR0YWNoZWQ6ICR7ZX1gKX1mdW5jdGlvbiBwaSgpe2NvbnN0IGU9eHQoKTtyZXR1cm4gZSYmZS5nZXRPcHRpb25zKCl8fHtzdGFja1BhcnNlcjooKT0+W10sYXR0YWNoU3RhY2t0cmFjZTohMX19Y29uc3QgaGk9KCk9Pih7bmFtZTpcIkh0dHBDb250ZXh0XCIscHJlcHJvY2Vzc0V2ZW50KGUpe2lmKCF2ci5uYXZpZ2F0b3ImJiF2ci5sb2NhdGlvbiYmIXZyLmRvY3VtZW50KXJldHVybjtjb25zdCB0PWUucmVxdWVzdCYmZS5yZXF1ZXN0LnVybHx8dnIubG9jYXRpb24mJnZyLmxvY2F0aW9uLmhyZWYse3JlZmVycmVyOm59PXZyLmRvY3VtZW50fHx7fSx7dXNlckFnZW50OnJ9PXZyLm5hdmlnYXRvcnx8e30saT17Li4uZS5yZXF1ZXN0JiZlLnJlcXVlc3QuaGVhZGVycywuLi5uJiZ7UmVmZXJlcjpufSwuLi5yJiZ7XCJVc2VyLUFnZW50XCI6cn19LG89ey4uLmUucmVxdWVzdCwuLi50JiZ7dXJsOnR9LGhlYWRlcnM6aX07ZS5yZXF1ZXN0PW99fSksZmk9KGU9e30pPT57Y29uc3QgdD1lLmxpbWl0fHw1LG49ZS5rZXl8fFwiY2F1c2VcIjtyZXR1cm57bmFtZTpcIkxpbmtlZEVycm9yc1wiLHByZXByb2Nlc3NFdmVudChlLHIsaSl7Y29uc3Qgbz1pLmdldE9wdGlvbnMoKTtLbihfcixvLnN0YWNrUGFyc2VyLG8ubWF4VmFsdWVMZW5ndGgsbix0LGUscil9fX07dmFyIHZpPVwibmV3XCIsZ2k9XCJsb2FkaW5nXCIsbWk9XCJsb2FkZWRcIix5aT1cImpvaW5pbmctbWVldGluZ1wiLGJpPVwiam9pbmVkLW1lZXRpbmdcIixfaT1cImxlZnQtbWVldGluZ1wiLHdpPVwiZXJyb3JcIixTaT1cImJsb2NrZWRcIixraT1cIm9mZlwiLE1pPVwic2VuZGFibGVcIixDaT1cImxvYWRpbmdcIixFaT1cImludGVycnVwdGVkXCIsVGk9XCJwbGF5YWJsZVwiLE9pPVwidW5rbm93blwiLFBpPVwiZnVsbFwiLEFpPVwibG9iYnlcIixqaT1cIm5vbmVcIixJaT1cImJhc2VcIix4aT1cIipcIixMaT1cImVqZWN0ZWRcIixEaT1cIm5iZi1yb29tXCIsTmk9XCJuYmYtdG9rZW5cIixSaT1cImV4cC1yb29tXCIsRmk9XCJleHAtdG9rZW5cIixCaT1cIm5vLXJvb21cIixVaT1cIm1lZXRpbmctZnVsbFwiLFZpPVwiZW5kLW9mLWxpZmVcIixKaT1cIm5vdC1hbGxvd2VkXCIsJGk9XCJjb25uZWN0aW9uLWVycm9yXCIscWk9XCJjYW0taW4tdXNlXCIsemk9XCJtaWMtaW4tdXNlXCIsV2k9XCJjYW0tbWljLWluLXVzZVwiLEhpPVwicGVybWlzc2lvbnNcIixHaT1cInVuZGVmaW5lZC1tZWRpYWRldmljZXNcIixRaT1cIm5vdC1mb3VuZFwiLEtpPVwiY29uc3RyYWludHNcIixZaT1cInVua25vd25cIixYaT1cImlmcmFtZS1yZWFkeS1mb3ItbGF1bmNoLWNvbmZpZ1wiLFppPVwiaWZyYW1lLWxhdW5jaC1jb25maWdcIixlbz1cInRoZW1lLXVwZGF0ZWRcIix0bz1cImxvYWRpbmdcIixubz1cImxvYWQtYXR0ZW1wdC1mYWlsZWRcIixybz1cImxvYWRlZFwiLGlvPVwic3RhcnRlZC1jYW1lcmFcIixvbz1cImNhbWVyYS1lcnJvclwiLHNvPVwiam9pbmluZy1tZWV0aW5nXCIsYW89XCJqb2luZWQtbWVldGluZ1wiLGNvPVwibGVmdC1tZWV0aW5nXCIsbG89XCJwYXJ0aWNpcGFudC1qb2luZWRcIix1bz1cInBhcnRpY2lwYW50LXVwZGF0ZWRcIixwbz1cInBhcnRpY2lwYW50LWxlZnRcIixobz1cInBhcnRpY2lwYW50LWNvdW50cy11cGRhdGVkXCIsZm89XCJhY2Nlc3Mtc3RhdGUtdXBkYXRlZFwiLHZvPVwibWVldGluZy1zZXNzaW9uLXN1bW1hcnktdXBkYXRlZFwiLGdvPVwibWVldGluZy1zZXNzaW9uLXN0YXRlLXVwZGF0ZWRcIixtbz1cIm1lZXRpbmctc2Vzc2lvbi1kYXRhLWVycm9yXCIseW89XCJ3YWl0aW5nLXBhcnRpY2lwYW50LWFkZGVkXCIsYm89XCJ3YWl0aW5nLXBhcnRpY2lwYW50LXVwZGF0ZWRcIixfbz1cIndhaXRpbmctcGFydGljaXBhbnQtcmVtb3ZlZFwiLHdvPVwidHJhY2stc3RhcnRlZFwiLFNvPVwidHJhY2stc3RvcHBlZFwiLGtvPVwidHJhbnNjcmlwdGlvbi1zdGFydGVkXCIsTW89XCJ0cmFuc2NyaXB0aW9uLXN0b3BwZWRcIixDbz1cInRyYW5zY3JpcHRpb24tZXJyb3JcIixFbz1cInJlY29yZGluZy1zdGFydGVkXCIsVG89XCJyZWNvcmRpbmctc3RvcHBlZFwiLE9vPVwicmVjb3JkaW5nLXN0YXRzXCIsUG89XCJyZWNvcmRpbmctZXJyb3JcIixBbz1cInJlY29yZGluZy11cGxvYWQtY29tcGxldGVkXCIsam89XCJyZWNvcmRpbmctZGF0YVwiLElvPVwiYXBwLW1lc3NhZ2VcIix4bz1cInRyYW5zY3JpcHRpb24tbWVzc2FnZVwiLExvPVwicmVtb3RlLW1lZGlhLXBsYXllci1zdGFydGVkXCIsRG89XCJyZW1vdGUtbWVkaWEtcGxheWVyLXVwZGF0ZWRcIixObz1cInJlbW90ZS1tZWRpYS1wbGF5ZXItc3RvcHBlZFwiLFJvPVwibG9jYWwtc2NyZWVuLXNoYXJlLXN0YXJ0ZWRcIixGbz1cImxvY2FsLXNjcmVlbi1zaGFyZS1zdG9wcGVkXCIsQm89XCJsb2NhbC1zY3JlZW4tc2hhcmUtY2FuY2VsZWRcIixVbz1cImFjdGl2ZS1zcGVha2VyLWNoYW5nZVwiLFZvPVwiYWN0aXZlLXNwZWFrZXItbW9kZS1jaGFuZ2VcIixKbz1cIm5ldHdvcmstcXVhbGl0eS1jaGFuZ2VcIiwkbz1cIm5ldHdvcmstY29ubmVjdGlvblwiLHFvPVwiY3B1LWxvYWQtY2hhbmdlXCIsem89XCJmYWNlLWNvdW50cy11cGRhdGVkXCIsV289XCJmdWxsc2NyZWVuXCIsSG89XCJleGl0ZWQtZnVsbHNjcmVlblwiLEdvPVwibGl2ZS1zdHJlYW1pbmctc3RhcnRlZFwiLFFvPVwibGl2ZS1zdHJlYW1pbmctdXBkYXRlZFwiLEtvPVwibGl2ZS1zdHJlYW1pbmctc3RvcHBlZFwiLFlvPVwibGl2ZS1zdHJlYW1pbmctZXJyb3JcIixYbz1cImxhbmctdXBkYXRlZFwiLFpvPVwicmVjZWl2ZS1zZXR0aW5ncy11cGRhdGVkXCIsZXM9XCJpbnB1dC1zZXR0aW5ncy11cGRhdGVkXCIsdHM9XCJub25mYXRhbC1lcnJvclwiLG5zPVwiZXJyb3JcIixycz00MDk2LGlzPTEwMjQwMCxvcz1cImlmcmFtZS1jYWxsLW1lc3NhZ2VcIixzcz1cImxvY2FsLXNjcmVlbi1zdGFydFwiLGFzPVwiZGFpbHktbWV0aG9kLXVwZGF0ZS1saXZlLXN0cmVhbWluZy1lbmRwb2ludHNcIixjcz1cInRyYW5zbWl0LWxvZ1wiLGxzPVwiZGFpbHktY3VzdG9tLXRyYWNrXCIsdXM9e05PTkU6XCJub25lXCIsQkdCTFVSOlwiYmFja2dyb3VuZC1ibHVyXCIsQkdJTUFHRTpcImJhY2tncm91bmQtaW1hZ2VcIixGQUNFX0RFVEVDVElPTjpcImZhY2UtZGV0ZWN0aW9uXCJ9LGRzPXtOT05FOlwibm9uZVwiLE5PSVNFX0NBTkNFTExBVElPTjpcIm5vaXNlLWNhbmNlbGxhdGlvblwifSxwcz17UExBWTpcInBsYXlcIixQQVVTRTpcInBhdXNlXCJ9LGhzPVtcImpwZ1wiLFwicG5nXCIsXCJqcGVnXCJdLGZzPVwiYWRkLWVuZHBvaW50c1wiLHZzPVwicmVtb3ZlLWVuZHBvaW50c1wiLGdzPVwic2lwLWNhbGwtdHJhbnNmZXJcIjtmdW5jdGlvbiBtcygpe3JldHVybiF5cygpJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubmF2aWdhdG9yJiZ3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudD93aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDpcIlwifWZ1bmN0aW9uIHlzKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLnByb2R1Y3QmJlwiUmVhY3ROYXRpdmVcIj09PW5hdmlnYXRvci5wcm9kdWN0fWZ1bmN0aW9uIGJzKCl7cmV0dXJuIG5hdmlnYXRvciYmbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWF9ZnVuY3Rpb24gX3MoKXtyZXR1cm4hIShuYXZpZ2F0b3ImJm5hdmlnYXRvci5tZWRpYURldmljZXMmJm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0RGlzcGxheU1lZGlhKSYmKGZ1bmN0aW9uKGUsdCl7aWYoIWV8fCF0KXJldHVybiEwO3N3aXRjaChlKXtjYXNlXCJDaHJvbWVcIjpyZXR1cm4gdC5tYWpvcj49NzU7Y2FzZVwiU2FmYXJpXCI6cmV0dXJuIFJUQ1J0cFRyYW5zY2VpdmVyLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShcImN1cnJlbnREaXJlY3Rpb25cIikmJiEoMTM9PT10Lm1ham9yJiYwPT09dC5taW5vciYmMD09PXQucG9pbnQpO2Nhc2VcIkZpcmVmb3hcIjpyZXR1cm4gdC5tYWpvcj49Njd9cmV0dXJuITB9KE9zKCksUHMoKSl8fHlzKCkpfWZ1bmN0aW9uIHdzKCl7aWYoeXMoKSlyZXR1cm4hMTtpZighZG9jdW1lbnQpcmV0dXJuITE7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtyZXR1cm4hIWUucmVxdWVzdEZ1bGxzY3JlZW58fCEhZS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbn12YXIgU3M9ZnVuY3Rpb24oKXt0cnl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0PW51bGwhPShuYXZpZ2F0b3Iud2ViZHJpdmVyP2UuZ2V0Q29udGV4dChcIndlYmdsMlwiKTplLmdldENvbnRleHQoXCJ3ZWJnbDJcIix7ZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDohMH0pKTtyZXR1cm4gZS5yZW1vdmUoKSx0fWNhdGNoKGUpe3JldHVybiExfX0oKTtmdW5jdGlvbiBrcygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07cmV0dXJuIXlzKCkmJighIVNzJiYoZT9mdW5jdGlvbigpe2lmKFRzKCkpcmV0dXJuITE7cmV0dXJuW1wiQ2hyb21lXCIsXCJGaXJlZm94XCJdLmluY2x1ZGVzKE9zKCkpfSgpOmZ1bmN0aW9uKCl7aWYoVHMoKSlyZXR1cm4hMTt2YXIgZT1PcygpO2lmKFwiU2FmYXJpXCI9PT1lKXt2YXIgdD14cygpO2lmKHQubWFqb3I8MTV8fDE1PT09dC5tYWpvciYmdC5taW5vcjw0KXJldHVybiExfWlmKFwiQ2hyb21lXCI9PT1lKXtyZXR1cm4gQXMoKS5tYWpvcj49Nzd9aWYoXCJGaXJlZm94XCI9PT1lKXtyZXR1cm4gTHMoKS5tYWpvcj49OTd9cmV0dXJuW1wiQ2hyb21lXCIsXCJGaXJlZm94XCIsXCJTYWZhcmlcIl0uaW5jbHVkZXMoZSl9KCkpKX1mdW5jdGlvbiBNcygpe2lmKHlzKCkpcmV0dXJuITE7aWYoRXMoKSlyZXR1cm4hMTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgQXVkaW9Xb3JrbGV0Tm9kZSlyZXR1cm4hMTtzd2l0Y2goT3MoKSl7Y2FzZVwiQ2hyb21lXCI6Y2FzZVwiRmlyZWZveFwiOnJldHVybiEwO2Nhc2VcIlNhZmFyaVwiOnZhciBlPVBzKCk7cmV0dXJuIGUubWFqb3I+MTd8fDE3PT09ZS5tYWpvciYmZS5taW5vcj49NH1yZXR1cm4hMX1mdW5jdGlvbiBDcygpe3JldHVybiBicygpJiYhZnVuY3Rpb24oKXt2YXIgZSx0PU9zKCk7aWYoIW1zKCkpcmV0dXJuITA7c3dpdGNoKHQpe2Nhc2VcIkNocm9tZVwiOnJldHVybihlPUFzKCkpLm1ham9yJiZlLm1ham9yPjAmJmUubWFqb3I8NzU7Y2FzZVwiRmlyZWZveFwiOnJldHVybihlPUxzKCkpLm1ham9yPDkxO2Nhc2VcIlNhZmFyaVwiOnJldHVybihlPXhzKCkpLm1ham9yPDEzfHwxMz09PWUubWFqb3ImJmUubWlub3I8MTtkZWZhdWx0OnJldHVybiEwfX0oKX1mdW5jdGlvbiBFcygpe3JldHVybiBtcygpLm1hdGNoKC9MaW51eDsgQW5kcm9pZC8pfWZ1bmN0aW9uIFRzKCl7dmFyIGUsdD1tcygpLG49dC5tYXRjaCgvTWFjLykmJigheXMoKSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmbnVsbCE9PShlPXdpbmRvdykmJnZvaWQgMCE9PWUmJm51bGwhPT0oZT1lLm5hdmlnYXRvcikmJnZvaWQgMCE9PWUmJmUubWF4VG91Y2hQb2ludHM/d2luZG93Lm5hdmlnYXRvci5tYXhUb3VjaFBvaW50czowKT49NTtyZXR1cm4hISh0Lm1hdGNoKC9Nb2JpLyl8fHQubWF0Y2goL0FuZHJvaWQvKXx8bil8fCghIW1zKCkubWF0Y2goL0RhaWx5QW5kXFwvLyl8fHZvaWQgMCl9ZnVuY3Rpb24gT3MoKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXt2YXIgZT1tcygpO3JldHVybiBqcygpP1wiU2FmYXJpXCI6ZS5pbmRleE9mKFwiRWRnZVwiKT4tMT9cIkVkZ2VcIjplLm1hdGNoKC9DaHJvbWVcXC8vKT9cIkNocm9tZVwiOmUuaW5kZXhPZihcIlNhZmFyaVwiKT4tMXx8SXMoKT9cIlNhZmFyaVwiOmUuaW5kZXhPZihcIkZpcmVmb3hcIik+LTE/XCJGaXJlZm94XCI6ZS5pbmRleE9mKFwiTVNJRVwiKT4tMXx8ZS5pbmRleE9mKFwiLk5FVFwiKT4tMT9cIklFXCI6XCJVbmtub3duIEJyb3dzZXJcIn19ZnVuY3Rpb24gUHMoKXtzd2l0Y2goT3MoKSl7Y2FzZVwiQ2hyb21lXCI6cmV0dXJuIEFzKCk7Y2FzZVwiU2FmYXJpXCI6cmV0dXJuIHhzKCk7Y2FzZVwiRmlyZWZveFwiOnJldHVybiBMcygpO2Nhc2VcIkVkZ2VcIjpyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT0wLHQ9MDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXt2YXIgbj1tcygpLm1hdGNoKC9FZGdlXFwvKFxcZCspLihcXGQrKS8pO2lmKG4pdHJ5e2U9cGFyc2VJbnQoblsxXSksdD1wYXJzZUludChuWzJdKX1jYXRjaChlKXt9fXJldHVybnttYWpvcjplLG1pbm9yOnR9fSgpfX1mdW5jdGlvbiBBcygpe3ZhciBlPTAsdD0wLG49MCxyPTAsaT0hMTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXt2YXIgbz1tcygpLHM9by5tYXRjaCgvQ2hyb21lXFwvKFxcZCspLihcXGQrKS4oXFxkKykuKFxcZCspLyk7aWYocyl0cnl7ZT1wYXJzZUludChzWzFdKSx0PXBhcnNlSW50KHNbMl0pLG49cGFyc2VJbnQoc1szXSkscj1wYXJzZUludChzWzRdKSxpPW8uaW5kZXhPZihcIk9QUi9cIik+LTF9Y2F0Y2goZSl7fX1yZXR1cm57bWFqb3I6ZSxtaW5vcjp0LGJ1aWxkOm4scGF0Y2g6cixvcGVyYTppfX1mdW5jdGlvbiBqcygpe3JldHVybiEhbXMoKS5tYXRjaCgvaVBhZHxpUGhvbmV8aVBvZC9pKSYmYnMoKX1mdW5jdGlvbiBJcygpe3JldHVybiBtcygpLmluZGV4T2YoXCJBcHBsZVdlYktpdC82MDUuMS4xNVwiKT4tMX1mdW5jdGlvbiB4cygpe3ZhciBlPTAsdD0wLG49MDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXt2YXIgcj1tcygpLm1hdGNoKC9WZXJzaW9uXFwvKFxcZCspLihcXGQrKSguKFxcZCspKT8vKTtpZihyKXRyeXtlPXBhcnNlSW50KHJbMV0pLHQ9cGFyc2VJbnQoclsyXSksbj1wYXJzZUludChyWzRdKX1jYXRjaChlKXt9ZWxzZShqcygpfHxJcygpKSYmKGU9MTQsdD0wLG49Myl9cmV0dXJue21ham9yOmUsbWlub3I6dCxwb2ludDpufX1mdW5jdGlvbiBMcygpe3ZhciBlPTAsdD0wO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpe3ZhciBuPW1zKCkubWF0Y2goL0ZpcmVmb3hcXC8oXFxkKykuKFxcZCspLyk7aWYobil0cnl7ZT1wYXJzZUludChuWzFdKSx0PXBhcnNlSW50KG5bMl0pfWNhdGNoKGUpe319cmV0dXJue21ham9yOmUsbWlub3I6dH19dmFyIERzPWZ1bmN0aW9uKCl7cmV0dXJuIG8oKGZ1bmN0aW9uIGUoKXt0KHRoaXMsZSl9KSxbe2tleTpcImFkZExpc3RlbmVyRm9yTWVzc2FnZXNGcm9tQ2FsbE1hY2hpbmVcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7WSgpfX0se2tleTpcImFkZExpc3RlbmVyRm9yTWVzc2FnZXNGcm9tRGFpbHlKc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtZKCl9fSx7a2V5Olwic2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4scil7WSgpfX0se2tleTpcInNlbmRNZXNzYWdlVG9EYWlseUpzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtZKCl9fSx7a2V5OlwicmVtb3ZlTGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbihlKXtZKCl9fV0pfSgpO2Z1bmN0aW9uIE5zKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBScyhlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9OcyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3UoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOk5zKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIEZzKCl7dHJ5e3ZhciBlPSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKGUpe31yZXR1cm4oRnM9ZnVuY3Rpb24oKXtyZXR1cm4hIWV9KSgpfXZhciBCcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgbixyLGksbztyZXR1cm4gdCh0aGlzLGUpLHI9dGhpcyxpPWEoaT1lKSwobj1zKHIsRnMoKT9SZWZsZWN0LmNvbnN0cnVjdChpLG98fFtdLGEocikuY29uc3RydWN0b3IpOmkuYXBwbHkocixvKSkpLl93cmFwcGVkTGlzdGVuZXJzPXt9LG4uX21lc3NhZ2VDYWxsYmFja3M9e30sbn1yZXR1cm4gbChlLERzKSxvKGUsW3trZXk6XCJhZGRMaXN0ZW5lckZvck1lc3NhZ2VzRnJvbUNhbGxNYWNoaW5lXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMsaT1mdW5jdGlvbihpKXtpZihpLmRhdGEmJlwiaWZyYW1lLWNhbGwtbWVzc2FnZVwiPT09aS5kYXRhLndoYXQmJighaS5kYXRhLmNhbGxDbGllbnRJZHx8aS5kYXRhLmNhbGxDbGllbnRJZD09PXQpJiYoIWkuZGF0YS5mcm9tfHxcIm1vZHVsZVwiIT09aS5kYXRhLmZyb20pKXt2YXIgbz1Scyh7fSxpLmRhdGEpO2lmKGRlbGV0ZSBvLmZyb20sby5jYWxsYmFja1N0YW1wJiZyLl9tZXNzYWdlQ2FsbGJhY2tzW28uY2FsbGJhY2tTdGFtcF0pe3ZhciBzPW8uY2FsbGJhY2tTdGFtcDtyLl9tZXNzYWdlQ2FsbGJhY2tzW3NdLmNhbGwobixvKSxkZWxldGUgci5fbWVzc2FnZUNhbGxiYWNrc1tzXX1kZWxldGUgby53aGF0LGRlbGV0ZSBvLmNhbGxiYWNrU3RhbXAsZS5jYWxsKG4sbyl9fTt0aGlzLl93cmFwcGVkTGlzdGVuZXJzW2VdPWksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsaSl9fSx7a2V5OlwiYWRkTGlzdGVuZXJGb3JNZXNzYWdlc0Zyb21EYWlseUpzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKHIpe3ZhciBpO2lmKCEoIXIuZGF0YXx8ci5kYXRhLndoYXQhPT1vc3x8IXIuZGF0YS5hY3Rpb258fHIuZGF0YS5mcm9tJiZcIm1vZHVsZVwiIT09ci5kYXRhLmZyb218fHIuZGF0YS5jYWxsQ2xpZW50SWQmJnQmJnIuZGF0YS5jYWxsQ2xpZW50SWQhPT10fHxudWxsIT1yJiZudWxsIT09KGk9ci5kYXRhKSYmdm9pZCAwIT09aSYmaS5jYWxsRnJhbWVJZCkpe3ZhciBvPXIuZGF0YTtlLmNhbGwobixvKX19O3RoaXMuX3dyYXBwZWRMaXN0ZW5lcnNbZV09cix3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixyKX19LHtrZXk6XCJzZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmVcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixyKXtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJ1bmRlZmluZWQgY2FsbENsaWVudElkLiBBcmUgeW91IHRyeWluZyB0byB1c2UgYSBEYWlseUNhbGwgaW5zdGFuY2UgcHJldmlvdXNseSBkZXN0cm95ZWQ/XCIpO3ZhciBpPVJzKHt9LGUpO2lmKGkud2hhdD1vcyxpLmZyb209XCJtb2R1bGVcIixpLmNhbGxDbGllbnRJZD1uLHQpe3ZhciBvPUsoKTt0aGlzLl9tZXNzYWdlQ2FsbGJhY2tzW29dPXQsaS5jYWxsYmFja1N0YW1wPW99dmFyIHM9cj9yLmNvbnRlbnRXaW5kb3c6d2luZG93LGE9dGhpcy5fY2FsbE1hY2hpbmVUYXJnZXRPcmlnaW4ocik7YSYmcy5wb3N0TWVzc2FnZShpLGEpfX0se2tleTpcInNlbmRNZXNzYWdlVG9EYWlseUpzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtlLndoYXQ9b3MsZS5jYWxsQ2xpZW50SWQ9dCxlLmZyb209XCJlbWJlZGRlZFwiLHdpbmRvdy5wb3N0TWVzc2FnZShlLHRoaXMuX3RhcmdldE9yaWdpbkZyb21XaW5kb3dMb2NhdGlvbigpKX19LHtrZXk6XCJyZW1vdmVMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3dyYXBwZWRMaXN0ZW5lcnNbZV07dCYmKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHQpLGRlbGV0ZSB0aGlzLl93cmFwcGVkTGlzdGVuZXJzW2VdKX19LHtrZXk6XCJmb3J3YXJkUGFja2FnZWRNZXNzYWdlVG9DYWxsTWFjaGluZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1Scyh7fSxlKTtyLmNhbGxDbGllbnRJZD1uO3ZhciBpPXQ/dC5jb250ZW50V2luZG93OndpbmRvdyxvPXRoaXMuX2NhbGxNYWNoaW5lVGFyZ2V0T3JpZ2luKHQpO28mJmkucG9zdE1lc3NhZ2UocixvKX19LHtrZXk6XCJhZGRMaXN0ZW5lckZvclBhY2thZ2VkTWVzc2FnZXNGcm9tQ2FsbE1hY2hpbmVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKG4pe2lmKG4uZGF0YSYmXCJpZnJhbWUtY2FsbC1tZXNzYWdlXCI9PT1uLmRhdGEud2hhdCYmKCFuLmRhdGEuY2FsbENsaWVudElkfHxuLmRhdGEuY2FsbENsaWVudElkPT09dCkmJighbi5kYXRhLmZyb218fFwibW9kdWxlXCIhPT1uLmRhdGEuZnJvbSkpe3ZhciByPW4uZGF0YTtlKHIpfX07cmV0dXJuIHRoaXMuX3dyYXBwZWRMaXN0ZW5lcnNbZV09bix3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixuKSxlfX0se2tleTpcInJlbW92ZUxpc3RlbmVyRm9yUGFja2FnZWRNZXNzYWdlc0Zyb21DYWxsTWFjaGluZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3dyYXBwZWRMaXN0ZW5lcnNbZV07dCYmKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHQpLGRlbGV0ZSB0aGlzLl93cmFwcGVkTGlzdGVuZXJzW2VdKX19LHtrZXk6XCJfY2FsbE1hY2hpbmVUYXJnZXRPcmlnaW5cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT9lLnNyYz9uZXcgVVJMKGUuc3JjKS5vcmlnaW46dm9pZCAwOnRoaXMuX3RhcmdldE9yaWdpbkZyb21XaW5kb3dMb2NhdGlvbigpfX0se2tleTpcIl90YXJnZXRPcmlnaW5Gcm9tV2luZG93TG9jYXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiZmlsZTpcIj09PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbD9cIipcIjp3aW5kb3cubG9jYXRpb24ub3JpZ2lufX1dKX0oKTtmdW5jdGlvbiBVcyhlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gVnMoKXt0cnl7dmFyIGU9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2goZSl7fXJldHVybihWcz1mdW5jdGlvbigpe3JldHVybiEhZX0pKCl9dmFyIEpzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciBuLHIsaSxvO3JldHVybiB0KHRoaXMsZSkscj10aGlzLGk9YShpPWUpLG49cyhyLFZzKCk/UmVmbGVjdC5jb25zdHJ1Y3QoaSxvfHxbXSxhKHIpLmNvbnN0cnVjdG9yKTppLmFwcGx5KHIsbykpLGdsb2JhbC5jYWxsTWFjaGluZVRvRGFpbHlKc0VtaXR0ZXI9Z2xvYmFsLmNhbGxNYWNoaW5lVG9EYWlseUpzRW1pdHRlcnx8bmV3IEkuRXZlbnRFbWl0dGVyLGdsb2JhbC5kYWlseUpzVG9DYWxsTWFjaGluZUVtaXR0ZXI9Z2xvYmFsLmRhaWx5SnNUb0NhbGxNYWNoaW5lRW1pdHRlcnx8bmV3IEkuRXZlbnRFbWl0dGVyLG4uX3dyYXBwZWRMaXN0ZW5lcnM9e30sbi5fbWVzc2FnZUNhbGxiYWNrcz17fSxufXJldHVybiBsKGUsRHMpLG8oZSxbe2tleTpcImFkZExpc3RlbmVyRm9yTWVzc2FnZXNGcm9tQ2FsbE1hY2hpbmVcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dGhpcy5fYWRkTGlzdGVuZXIoZSxnbG9iYWwuY2FsbE1hY2hpbmVUb0RhaWx5SnNFbWl0dGVyLHQsbixcInJlY2VpdmVkIGNhbGwgbWFjaGluZSBtZXNzYWdlXCIpfX0se2tleTpcImFkZExpc3RlbmVyRm9yTWVzc2FnZXNGcm9tRGFpbHlKc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLl9hZGRMaXN0ZW5lcihlLGdsb2JhbC5kYWlseUpzVG9DYWxsTWFjaGluZUVtaXR0ZXIsdCxuLFwicmVjZWl2ZWQgZGFpbHktanMgbWVzc2FnZVwiKX19LHtrZXk6XCJzZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmVcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dGhpcy5fc2VuZE1lc3NhZ2UoZSxnbG9iYWwuZGFpbHlKc1RvQ2FsbE1hY2hpbmVFbWl0dGVyLG4sdCxcInNlbmRpbmcgbWVzc2FnZSB0byBjYWxsIG1hY2hpbmVcIil9fSx7a2V5Olwic2VuZE1lc3NhZ2VUb0RhaWx5SnNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX3NlbmRNZXNzYWdlKGUsZ2xvYmFsLmNhbGxNYWNoaW5lVG9EYWlseUpzRW1pdHRlcix0LG51bGwsXCJzZW5kaW5nIG1lc3NhZ2UgdG8gZGFpbHktanNcIil9fSx7a2V5OlwicmVtb3ZlTGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl93cmFwcGVkTGlzdGVuZXJzW2VdO3QmJihnbG9iYWwuY2FsbE1hY2hpbmVUb0RhaWx5SnNFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKFwibWVzc2FnZVwiLHQpLGdsb2JhbC5kYWlseUpzVG9DYWxsTWFjaGluZUVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoXCJtZXNzYWdlXCIsdCksZGVsZXRlIHRoaXMuX3dyYXBwZWRMaXN0ZW5lcnNbZV0pfX0se2tleTpcIl9hZGRMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG89dGhpcyxzPWZ1bmN0aW9uKHQpe2lmKHQuY2FsbENsaWVudElkPT09bil7aWYodC5jYWxsYmFja1N0YW1wJiZvLl9tZXNzYWdlQ2FsbGJhY2tzW3QuY2FsbGJhY2tTdGFtcF0pe3ZhciBpPXQuY2FsbGJhY2tTdGFtcDtvLl9tZXNzYWdlQ2FsbGJhY2tzW2ldLmNhbGwocix0KSxkZWxldGUgby5fbWVzc2FnZUNhbGxiYWNrc1tpXX1lLmNhbGwocix0KX19O3RoaXMuX3dyYXBwZWRMaXN0ZW5lcnNbZV09cyx0LmFkZExpc3RlbmVyKFwibWVzc2FnZVwiLHMpfX0se2tleTpcIl9zZW5kTWVzc2FnZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/VXMoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXt1KGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpVcyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX0oe30sZSk7aWYoby5jYWxsQ2xpZW50SWQ9bixyKXt2YXIgcz1LKCk7dGhpcy5fbWVzc2FnZUNhbGxiYWNrc1tzXT1yLG8uY2FsbGJhY2tTdGFtcD1zfXQuZW1pdChcIm1lc3NhZ2VcIixvKX19XSl9KCksJHM9XCJyZXBsYWNlXCIscXM9XCJzaGFsbG93LW1lcmdlXCIsenM9WyRzLHFzXTt2YXIgV3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHI9bi5kYXRhLGk9bi5tZXJnZVN0cmF0ZWd5LG89dm9pZCAwPT09aT8kczppO3QodGhpcyxlKSxlLl92YWxpZGF0ZU1lcmdlU3RyYXRlZ3kobyksZS5fdmFsaWRhdGVEYXRhKHIsbyksdGhpcy5tZXJnZVN0cmF0ZWd5PW8sdGhpcy5kYXRhPXJ9cmV0dXJuIG8oZSxbe2tleTpcImlzTm9PcFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGUuaXNOb09wVXBkYXRlKHRoaXMuZGF0YSx0aGlzLm1lcmdlU3RyYXRlZ3kpfX1dLFt7a2V5OlwiaXNOb09wVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09PU9iamVjdC5rZXlzKGUpLmxlbmd0aCYmdD09PXFzfX0se2tleTpcIl92YWxpZGF0ZU1lcmdlU3RyYXRlZ3lcIix2YWx1ZTpmdW5jdGlvbihlKXtpZighenMuaW5jbHVkZXMoZSkpdGhyb3cgRXJyb3IoXCJVbnJlY29nbml6ZWQgbWVyZ2VTdHJhdGVneSBwcm92aWRlZC4gT3B0aW9ucyBhcmU6IFtcIi5jb25jYXQoenMsXCJdXCIpKX19LHtrZXk6XCJfdmFsaWRhdGVEYXRhXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZighZnVuY3Rpb24oZSl7aWYobnVsbD09ZXx8XCJvYmplY3RcIiE9PW4oZSkpcmV0dXJuITE7dmFyIHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO3JldHVybiBudWxsPT10fHx0PT09T2JqZWN0LnByb3RvdHlwZX0oZSkpdGhyb3cgRXJyb3IoXCJNZWV0aW5nIHNlc3Npb24gZGF0YSBtdXN0IGJlIGEgcGxhaW4gKG1hcC1saWtlKSBvYmplY3RcIik7dmFyIHI7dHJ5e2lmKHI9SlNPTi5zdHJpbmdpZnkoZSksdD09PSRzKXt2YXIgaT1KU09OLnBhcnNlKHIpO04oaSxlKXx8Y29uc29sZS53YXJuKFwiVGhlIG1lZXRpbmcgc2Vzc2lvbiBkYXRhIHByb3ZpZGVkIHdpbGwgYmUgbW9kaWZpZWQgd2hlbiBzZXJpYWxpemVkLlwiLGksZSl9ZWxzZSBpZih0PT09cXMpZm9yKHZhciBvIGluIGUpaWYoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxvKSYmdm9pZCAwIT09ZVtvXSl7dmFyIHM9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlW29dKSk7TihlW29dLHMpfHxjb25zb2xlLndhcm4oXCJBdCBsZWFzdCBvbmUga2V5IGluIHRoZSBtZWV0aW5nIHNlc3Npb24gZGF0YSBwcm92aWRlZCB3aWxsIGJlIG1vZGlmaWVkIHdoZW4gc2VyaWFsaXplZC5cIixzLGVbb10pfX1jYXRjaChlKXt0aHJvdyBFcnJvcihcIk1lZXRpbmcgc2Vzc2lvbiBkYXRhIG11c3QgYmUgc2VyaWFsaXphYmxlIHRvIEpTT046IFwiLmNvbmNhdChlKSl9aWYoci5sZW5ndGg+aXMpdGhyb3cgRXJyb3IoXCJNZWV0aW5nIHNlc3Npb24gZGF0YSBpcyB0b28gbGFyZ2UgKFwiLmNvbmNhdChyLmxlbmd0aCxcIiBjaGFyYWN0ZXJzKS4gTWF4aW11bSBzaXplIHN1cHBwb3J0ZWQgaXMgXCIpLmNvbmNhdChpcyxcIi5cIikpfX1dKX0oKTtmdW5jdGlvbiBIcygpe3RyeXt2YXIgZT0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaChlKXt9cmV0dXJuKEhzPWZ1bmN0aW9uKCl7cmV0dXJuISFlfSkoKX1mdW5jdGlvbiBHcyhlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBNYXA/bmV3IE1hcDp2b2lkIDA7cmV0dXJuIEdzPWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lfHwhZnVuY3Rpb24oZSl7dHJ5e3JldHVybi0xIT09RnVuY3Rpb24udG9TdHJpbmcuY2FsbChlKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKX1jYXRjaCh0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfX0oZSkpcmV0dXJuIGU7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7aWYodm9pZCAwIT09dCl7aWYodC5oYXMoZSkpcmV0dXJuIHQuZ2V0KGUpO3Quc2V0KGUsbil9ZnVuY3Rpb24gbigpe3JldHVybiBmdW5jdGlvbihlLHQsbil7aWYoSHMoKSlyZXR1cm4gUmVmbGVjdC5jb25zdHJ1Y3QuYXBwbHkobnVsbCxhcmd1bWVudHMpO3ZhciByPVtudWxsXTtyLnB1c2guYXBwbHkocix0KTt2YXIgaT1uZXcoZS5iaW5kLmFwcGx5KGUscikpO3JldHVybiBuJiZjKGksbi5wcm90b3R5cGUpLGl9KGUsYXJndW1lbnRzLGEodGhpcykuY29uc3RydWN0b3IpfXJldHVybiBuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6bixlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxjKG4sZSl9LEdzKGUpfWZ1bmN0aW9uIFFzKCl7dHJ5e3ZhciBlPSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKGUpe31yZXR1cm4oUXM9ZnVuY3Rpb24oKXtyZXR1cm4hIWV9KSgpfWZ1bmN0aW9uIEtzKGUpe3ZhciB0LG49bnVsbD09PSh0PXdpbmRvdy5fZGFpbHkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnBlbmRpbmdzO2lmKG4pe3ZhciByPW4uaW5kZXhPZihlKTstMSE9PXImJm4uc3BsaWNlKHIsMSl9fXZhciBZcz1mdW5jdGlvbigpe3JldHVybiBvKChmdW5jdGlvbiBlKG4pe3QodGhpcyxlKSx0aGlzLl9jdXJyZW50TG9hZD1udWxsLHRoaXMuX2NhbGxDbGllbnRJZD1ufSksW3trZXk6XCJsb2FkXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30scj1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxpPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwO2lmKHRoaXMubG9hZGVkKXJldHVybiB3aW5kb3cuX2RhaWx5Lmluc3RhbmNlc1t0aGlzLl9jYWxsQ2xpZW50SWRdLmNhbGxNYWNoaW5lLnJlc2V0KCksdm9pZCByKCEwKTtlPXRoaXMuX2NhbGxDbGllbnRJZCx3aW5kb3cuX2RhaWx5LnBlbmRpbmdzLnB1c2goZSksdGhpcy5fY3VycmVudExvYWQmJnRoaXMuX2N1cnJlbnRMb2FkLmNhbmNlbCgpLHRoaXMuX2N1cnJlbnRMb2FkPW5ldyBYcyhuLChmdW5jdGlvbigpe3IoITEpfSksKGZ1bmN0aW9uKGUsbil7bnx8S3ModC5fY2FsbENsaWVudElkKSxpKGUsbil9KSksdGhpcy5fY3VycmVudExvYWQuc3RhcnQoKX19LHtrZXk6XCJjYW5jZWxcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2N1cnJlbnRMb2FkJiZ0aGlzLl9jdXJyZW50TG9hZC5jYW5jZWwoKSxLcyh0aGlzLl9jYWxsQ2xpZW50SWQpfX0se2tleTpcImxvYWRlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50TG9hZCYmdGhpcy5fY3VycmVudExvYWQuc3VjY2VlZGVkfX1dKX0oKSxYcz1mdW5jdGlvbigpe3JldHVybiBvKChmdW5jdGlvbiBlKCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHI9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsaT1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDt0KHRoaXMsZSksdGhpcy5fYXR0ZW1wdHNSZW1haW5pbmc9Myx0aGlzLl9jdXJyZW50QXR0ZW1wdD1udWxsLHRoaXMuX2RhaWx5Q29uZmlnPW4sdGhpcy5fc3VjY2Vzc0NhbGxiYWNrPXIsdGhpcy5fZmFpbHVyZUNhbGxiYWNrPWl9KSxbe2tleTpcInN0YXJ0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKCF0aGlzLl9jdXJyZW50QXR0ZW1wdCl7dmFyIHQ9ZnVuY3Rpb24obil7ZS5fY3VycmVudEF0dGVtcHQuY2FuY2VsbGVkfHwoZS5fYXR0ZW1wdHNSZW1haW5pbmctLSxlLl9mYWlsdXJlQ2FsbGJhY2sobixlLl9hdHRlbXB0c1JlbWFpbmluZz4wKSxlLl9hdHRlbXB0c1JlbWFpbmluZzw9MHx8c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLl9jdXJyZW50QXR0ZW1wdC5jYW5jZWxsZWR8fChlLl9jdXJyZW50QXR0ZW1wdD1uZXcgdGEoZS5fZGFpbHlDb25maWcsZS5fc3VjY2Vzc0NhbGxiYWNrLHQpLGUuX2N1cnJlbnRBdHRlbXB0LnN0YXJ0KCkpfSksM2UzKSl9O3RoaXMuX2N1cnJlbnRBdHRlbXB0PW5ldyB0YSh0aGlzLl9kYWlseUNvbmZpZyx0aGlzLl9zdWNjZXNzQ2FsbGJhY2ssdCksdGhpcy5fY3VycmVudEF0dGVtcHQuc3RhcnQoKX19fSx7a2V5OlwiY2FuY2VsXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50QXR0ZW1wdCYmdGhpcy5fY3VycmVudEF0dGVtcHQuY2FuY2VsKCl9fSx7a2V5OlwiY2FuY2VsbGVkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRBdHRlbXB0JiZ0aGlzLl9jdXJyZW50QXR0ZW1wdC5jYW5jZWxsZWR9fSx7a2V5Olwic3VjY2VlZGVkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRBdHRlbXB0JiZ0aGlzLl9jdXJyZW50QXR0ZW1wdC5zdWNjZWVkZWR9fV0pfSgpLFpzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3JldHVybiB0KHRoaXMsZSksbj10aGlzLGk9YXJndW1lbnRzLHI9YShyPWUpLHMobixRcygpP1JlZmxlY3QuY29uc3RydWN0KHIsaXx8W10sYShuKS5jb25zdHJ1Y3Rvcik6ci5hcHBseShuLGkpKTt2YXIgbixyLGl9cmV0dXJuIGwoZSxHcyhFcnJvcikpLG8oZSl9KCksZWE9MmU0LHRhPWZ1bmN0aW9uKCl7cmV0dXJuIG8oKGZ1bmN0aW9uIGUobixyLGkpe3QodGhpcyxlKSx0aGlzLl9sb2FkQXR0ZW1wdEltcGw9eXMoKXx8IW4uYXZvaWRFdmFsP25ldyBuYShuLHIsaSk6bmV3IHJhKG4scixpKX0pLFt7a2V5Olwic3RhcnRcIix2YWx1ZTooZT1wKChmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5fbG9hZEF0dGVtcHRJbXBsLnN0YXJ0KCl9KSksZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImNhbmNlbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fbG9hZEF0dGVtcHRJbXBsLmNhbmNlbCgpfX0se2tleTpcImNhbmNlbGxlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2FkQXR0ZW1wdEltcGwuY2FuY2VsbGVkfX0se2tleTpcInN1Y2NlZWRlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2FkQXR0ZW1wdEltcGwuc3VjY2VlZGVkfX1dKTt2YXIgZX0oKSxuYT1mdW5jdGlvbigpe3JldHVybiBvKChmdW5jdGlvbiBlKG4scixpKXt0KHRoaXMsZSksdGhpcy5jYW5jZWxsZWQ9ITEsdGhpcy5zdWNjZWVkZWQ9ITEsdGhpcy5fbmV0d29ya1RpbWVkT3V0PSExLHRoaXMuX25ldHdvcmtUaW1lb3V0PW51bGwsdGhpcy5faW9zQ2FjaGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGlPU0NhbGxPYmplY3RCdW5kbGVDYWNoZSYmaU9TQ2FsbE9iamVjdEJ1bmRsZUNhY2hlLHRoaXMuX3JlZmV0Y2hIZWFkZXJzPW51bGwsdGhpcy5fZGFpbHlDb25maWc9bix0aGlzLl9zdWNjZXNzQ2FsbGJhY2s9cix0aGlzLl9mYWlsdXJlQ2FsbGJhY2s9aX0pLFt7a2V5Olwic3RhcnRcIix2YWx1ZTooaT1wKChmdW5jdGlvbiooKXt2YXIgZT1aKHRoaXMuX2RhaWx5Q29uZmlnKTshKHlpZWxkIHRoaXMuX3RyeUxvYWRGcm9tSU9TQ2FjaGUoZSkpJiZ0aGlzLl9sb2FkRnJvbU5ldHdvcmsoZSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImNhbmNlbFwiLHZhbHVlOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX25ldHdvcmtUaW1lb3V0KSx0aGlzLmNhbmNlbGxlZD0hMH19LHtrZXk6XCJfdHJ5TG9hZEZyb21JT1NDYWNoZVwiLHZhbHVlOihyPXAoKGZ1bmN0aW9uKihlKXtpZighdGhpcy5faW9zQ2FjaGUpcmV0dXJuITE7dHJ5e3ZhciB0PXlpZWxkIHRoaXMuX2lvc0NhY2hlLmdldChlKTtyZXR1cm4hIXRoaXMuY2FuY2VsbGVkfHwhIXQmJih0LmNvZGU/KEZ1bmN0aW9uKCdcInVzZSBzdHJpY3RcIjsnK3QuY29kZSkoKSx0aGlzLnN1Y2NlZWRlZD0hMCx0aGlzLl9zdWNjZXNzQ2FsbGJhY2soKSwhMCk6KHRoaXMuX3JlZmV0Y2hIZWFkZXJzPXQucmVmZXRjaEhlYWRlcnMsITEpKX1jYXRjaChlKXtyZXR1cm4hMX19KSksZnVuY3Rpb24oZSl7cmV0dXJuIHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJfbG9hZEZyb21OZXR3b3JrXCIsdmFsdWU6KG49cCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXM7dGhpcy5fbmV0d29ya1RpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0Ll9uZXR3b3JrVGltZWRPdXQ9ITAsdC5fZmFpbHVyZUNhbGxiYWNrKHttc2c6XCJUaW1lZCBvdXQgKD5cIi5jb25jYXQoZWEsXCIgbXMpIHdoZW4gbG9hZGluZyBjYWxsIG9iamVjdCBidW5kbGUgXCIpLmNvbmNhdChlKSx0eXBlOlwidGltZW91dFwifSl9KSxlYSk7dHJ5e3ZhciBuPXRoaXMuX3JlZmV0Y2hIZWFkZXJzP3toZWFkZXJzOnRoaXMuX3JlZmV0Y2hIZWFkZXJzfTp7fSxyPXlpZWxkIGZldGNoKGUsbik7aWYoY2xlYXJUaW1lb3V0KHRoaXMuX25ldHdvcmtUaW1lb3V0KSx0aGlzLmNhbmNlbGxlZHx8dGhpcy5fbmV0d29ya1RpbWVkT3V0KXRocm93IG5ldyBaczt2YXIgaT15aWVsZCB0aGlzLl9nZXRCdW5kbGVDb2RlRnJvbVJlc3BvbnNlKGUscik7aWYodGhpcy5jYW5jZWxsZWQpdGhyb3cgbmV3IFpzO0Z1bmN0aW9uKCdcInVzZSBzdHJpY3RcIjsnK2kpKCksdGhpcy5faW9zQ2FjaGUmJnRoaXMuX2lvc0NhY2hlLnNldChlLGksci5oZWFkZXJzKSx0aGlzLnN1Y2NlZWRlZD0hMCx0aGlzLl9zdWNjZXNzQ2FsbGJhY2soKX1jYXRjaCh0KXtpZihjbGVhclRpbWVvdXQodGhpcy5fbmV0d29ya1RpbWVvdXQpLHQgaW5zdGFuY2VvZiBac3x8dGhpcy5jYW5jZWxsZWR8fHRoaXMuX25ldHdvcmtUaW1lZE91dClyZXR1cm47dGhpcy5fZmFpbHVyZUNhbGxiYWNrKHttc2c6XCJGYWlsZWQgdG8gbG9hZCBjYWxsIG9iamVjdCBidW5kbGUgXCIuY29uY2F0KGUsXCI6IFwiKS5jb25jYXQodCksdHlwZTp0Lm1lc3NhZ2V9KX19KSksZnVuY3Rpb24oZSl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJfZ2V0QnVuZGxlQ29kZUZyb21SZXNwb25zZVwiLHZhbHVlOihlPXAoKGZ1bmN0aW9uKihlLHQpe2lmKHQub2spcmV0dXJuIHlpZWxkIHQudGV4dCgpO2lmKHRoaXMuX2lvc0NhY2hlJiYzMDQ9PT10LnN0YXR1cylyZXR1cm4oeWllbGQgdGhpcy5faW9zQ2FjaGUucmVuZXcoZSx0LmhlYWRlcnMpKS5jb2RlO3Rocm93IG5ldyBFcnJvcihcIlJlY2VpdmVkIFwiLmNvbmNhdCh0LnN0YXR1cyxcIiByZXNwb25zZVwiKSl9KSksZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX1dKTt2YXIgZSxuLHIsaX0oKSxyYT1mdW5jdGlvbigpe3JldHVybiBvKChmdW5jdGlvbiBlKG4scixpKXt0KHRoaXMsZSksdGhpcy5jYW5jZWxsZWQ9ITEsdGhpcy5zdWNjZWVkZWQ9ITEsdGhpcy5fZGFpbHlDb25maWc9bix0aGlzLl9zdWNjZXNzQ2FsbGJhY2s9cix0aGlzLl9mYWlsdXJlQ2FsbGJhY2s9aSx0aGlzLl9hdHRlbXB0SWQ9SygpLHRoaXMuX25ldHdvcmtUaW1lb3V0PW51bGwsdGhpcy5fc2NyaXB0RWxlbWVudD1udWxsfSksW3trZXk6XCJzdGFydFwiLHZhbHVlOmZ1bmN0aW9uKCl7d2luZG93Ll9kYWlseUNhbGxNYWNoaW5lTG9hZFdhaXRsaXN0fHwod2luZG93Ll9kYWlseUNhbGxNYWNoaW5lTG9hZFdhaXRsaXN0PW5ldyBTZXQpO3ZhciBlPVoodGhpcy5fZGFpbHlDb25maWcpO1wib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50P1widW5kZWZpbmVkXCI6bihkb2N1bWVudCkpP3RoaXMuX3N0YXJ0TG9hZGluZyhlKTp0aGlzLl9mYWlsdXJlQ2FsbGJhY2soe21zZzpcIkNhbGwgb2JqZWN0IGJ1bmRsZSBtdXN0IGJlIGxvYWRlZCBpbiBhIERPTS93ZWIgY29udGV4dFwiLHR5cGU6XCJtaXNzaW5nIGNvbnRleHRcIn0pfX0se2tleTpcImNhbmNlbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fc3RvcExvYWRpbmcoKSx0aGlzLmNhbmNlbGxlZD0hMH19LHtrZXk6XCJfc3RhcnRMb2FkaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9zaWduVXBGb3JDYWxsTWFjaGluZUxvYWRXYWl0bGlzdCgpLHRoaXMuX25ldHdvcmtUaW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5fc3RvcExvYWRpbmcoKSx0Ll9mYWlsdXJlQ2FsbGJhY2soe21zZzpcIlRpbWVkIG91dCAoPlwiLmNvbmNhdChlYSxcIiBtcykgd2hlbiBsb2FkaW5nIGNhbGwgb2JqZWN0IGJ1bmRsZSBcIikuY29uY2F0KGUpLHR5cGU6XCJ0aW1lb3V0XCJ9KX0pLGVhKTt2YXIgbj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0scj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3RoaXMuX3NjcmlwdEVsZW1lbnQ9cixyLm9ubG9hZD1mdW5jdGlvbigpe3QuX3N0b3BMb2FkaW5nKCksdC5zdWNjZWVkZWQ9ITAsdC5fc3VjY2Vzc0NhbGxiYWNrKCl9LHIub25lcnJvcj1mdW5jdGlvbihlKXt0Ll9zdG9wTG9hZGluZygpLHQuX2ZhaWx1cmVDYWxsYmFjayh7bXNnOlwiRmFpbGVkIHRvIGxvYWQgY2FsbCBvYmplY3QgYnVuZGxlIFwiLmNvbmNhdChlLnRhcmdldC5zcmMpLHR5cGU6ZS5tZXNzYWdlfSl9LHIuc3JjPWUsbi5hcHBlbmRDaGlsZChyKX19LHtrZXk6XCJfc3RvcExvYWRpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3dpdGhkcmF3RnJvbUNhbGxNYWNoaW5lTG9hZFdhaXRsaXN0KCksY2xlYXJUaW1lb3V0KHRoaXMuX25ldHdvcmtUaW1lb3V0KSx0aGlzLl9zY3JpcHRFbGVtZW50JiYodGhpcy5fc2NyaXB0RWxlbWVudC5vbmxvYWQ9bnVsbCx0aGlzLl9zY3JpcHRFbGVtZW50Lm9uZXJyb3I9bnVsbCl9fSx7a2V5OlwiX3NpZ25VcEZvckNhbGxNYWNoaW5lTG9hZFdhaXRsaXN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt3aW5kb3cuX2RhaWx5Q2FsbE1hY2hpbmVMb2FkV2FpdGxpc3QuYWRkKHRoaXMuX2F0dGVtcHRJZCl9fSx7a2V5OlwiX3dpdGhkcmF3RnJvbUNhbGxNYWNoaW5lTG9hZFdhaXRsaXN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt3aW5kb3cuX2RhaWx5Q2FsbE1hY2hpbmVMb2FkV2FpdGxpc3QuZGVsZXRlKHRoaXMuX2F0dGVtcHRJZCl9fV0pfSgpLGlhPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hMD09PWFhKGUubG9jYWwsdCxuKX0sb2E9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLmxvY2FsLnN0cmVhbXMmJmUubG9jYWwuc3RyZWFtc1t0XSYmZS5sb2NhbC5zdHJlYW1zW3RdLnN0cmVhbSYmZS5sb2NhbC5zdHJlYW1zW3RdLnN0cmVhbVtcImdldFwiLmNvbmNhdChcInZpZGVvXCI9PT1uP1wiVmlkZW9cIjpcIkF1ZGlvXCIsXCJUcmFja3NcIildKClbMF19LHNhPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPWNhKGUsdCxuLHIpO3JldHVybiBpJiZpLnBlbmRpbmdUcmFja30sYWE9ZnVuY3Rpb24oZSx0LG4pe2lmKCFlKXJldHVybiExO3ZhciByPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlXCJhdmF0YXJcIjpyZXR1cm4hMDtjYXNlXCJzdGFnZWRcIjpyZXR1cm4gZTtkZWZhdWx0OnJldHVybiEhZX19LGk9ZS5wdWJsaWMuc3Vic2NyaWJlZFRyYWNrcztyZXR1cm4gaSYmaVt0XT8tMT09PVtcImNhbS1hdWRpb1wiLFwiY2FtLXZpZGVvXCIsXCJzY3JlZW4tdmlkZW9cIixcInNjcmVlbi1hdWRpb1wiLFwicm1wQXVkaW9cIixcInJtcFZpZGVvXCJdLmluZGV4T2YobikmJmlbdF0uY3VzdG9tP1shMCxcInN0YWdlZFwiXS5pbmNsdWRlcyhpW3RdLmN1c3RvbSk/cihpW3RdLmN1c3RvbSk6cihpW3RdLmN1c3RvbVtuXSk6cihpW3RdW25dKTohaXx8cihpLkFMTCl9LGNhPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPU9iamVjdC52YWx1ZXMoZS5zdHJlYW1zfHx7fSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJ0aWNpcGFudElkPT09dCYmZS50eXBlPT09biYmZS5wZW5kaW5nVHJhY2smJmUucGVuZGluZ1RyYWNrLmtpbmQ9PT1yfSkpLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBEYXRlKHQuc3RhcnR0aW1lKS1uZXcgRGF0ZShlLnN0YXJ0dGltZSl9KSk7cmV0dXJuIGkmJmlbMF19LGxhPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5sb2NhbC5wdWJsaWMuY3VzdG9tVHJhY2tzO2lmKG4mJm5bdF0pcmV0dXJuIG5bdF0udHJhY2t9O2Z1bmN0aW9uIHVhKGUsdCl7Zm9yKHZhciBuPXQuZ2V0U3RhdGUoKSxyPTAsaT1bXCJjYW1cIixcInNjcmVlblwiXTtyPGkubGVuZ3RoO3IrKylmb3IodmFyIG89aVtyXSxzPTAsYT1bXCJ2aWRlb1wiLFwiYXVkaW9cIl07czxhLmxlbmd0aDtzKyspe3ZhciBjPWFbc10sbD1cImNhbVwiPT09bz9jOlwic2NyZWVuXCIuY29uY2F0KGMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYy5zbGljZSgxKSksdT1lLnRyYWNrc1tsXTtpZih1KXt2YXIgZD1lLmxvY2FsP29hKG4sbyxjKTpzYShuLGUuc2Vzc2lvbl9pZCxvLGMpO1wicGxheWFibGVcIj09PXUuc3RhdGUmJih1LnRyYWNrPWQpLHUucGVyc2lzdGVudFRyYWNrPWR9fX1mdW5jdGlvbiBkYShlLHQpe3RyeXt2YXIgbj10LmdldFN0YXRlKCk7Zm9yKHZhciByIGluIGUudHJhY2tzKWlmKCFwYShyKSl7dmFyIGk9ZS50cmFja3Nbcl0ua2luZDtpZihpKXt2YXIgbz1lLnRyYWNrc1tyXTtpZihvKXt2YXIgcz1lLmxvY2FsP2xhKG4scik6c2EobixlLnNlc3Npb25faWQscixpKTtcInBsYXlhYmxlXCI9PT1vLnN0YXRlJiYoZS50cmFja3Nbcl0udHJhY2s9cyksby5wZXJzaXN0ZW50VHJhY2s9c319ZWxzZSBjb25zb2xlLmVycm9yKFwidW5rbm93biB0eXBlIGZvciBjdXN0b20gdHJhY2tcIil9fWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoZSl9fWZ1bmN0aW9uIHBhKGUpe3JldHVybltcInZpZGVvXCIsXCJhdWRpb1wiLFwic2NyZWVuVmlkZW9cIixcInNjcmVlbkF1ZGlvXCJdLmluY2x1ZGVzKGUpfWZ1bmN0aW9uIGhhKGUsdCxuKXt2YXIgcj1uLmdldFN0YXRlKCk7aWYoZS5sb2NhbCl7aWYoZS5hdWRpbyl0cnl7ZS5hdWRpb1RyYWNrPXIubG9jYWwuc3RyZWFtcy5jYW0uc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0sZS5hdWRpb1RyYWNrfHwoZS5hdWRpbz0hMSl9Y2F0Y2goZSl7fWlmKGUudmlkZW8pdHJ5e2UudmlkZW9UcmFjaz1yLmxvY2FsLnN0cmVhbXMuY2FtLnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdLGUudmlkZW9UcmFja3x8KGUudmlkZW89ITEpfWNhdGNoKGUpe31pZihlLnNjcmVlbil0cnl7ZS5zY3JlZW5WaWRlb1RyYWNrPXIubG9jYWwuc3RyZWFtcy5zY3JlZW4uc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0sZS5zY3JlZW5BdWRpb1RyYWNrPXIubG9jYWwuc3RyZWFtcy5zY3JlZW4uc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0sZS5zY3JlZW5WaWRlb1RyYWNrfHxlLnNjcmVlbkF1ZGlvVHJhY2t8fChlLnNjcmVlbj0hMSl9Y2F0Y2goZSl7fX1lbHNle3ZhciBpPSEwO3RyeXt2YXIgbz1yLnBhcnRpY2lwYW50c1tlLnNlc3Npb25faWRdO28mJm8ucHVibGljJiZvLnB1YmxpYy5ydGNUeXBlJiZcInBlZXItdG8tcGVlclwiPT09by5wdWJsaWMucnRjVHlwZS5pbXBsJiZvLnByaXZhdGUmJiFbXCJjb25uZWN0ZWRcIixcImNvbXBsZXRlZFwiXS5pbmNsdWRlcyhvLnByaXZhdGUucGVlcmluZ1N0YXRlKSYmKGk9ITEpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoZSl9aWYoIWkpcmV0dXJuIGUuYXVkaW89ITEsZS5hdWRpb1RyYWNrPSExLGUudmlkZW89ITEsZS52aWRlb1RyYWNrPSExLGUuc2NyZWVuPSExLHZvaWQoZS5zY3JlZW5UcmFjaz0hMSk7dHJ5e3Iuc3RyZWFtcztpZihlLmF1ZGlvJiZpYShyLGUuc2Vzc2lvbl9pZCxcImNhbS1hdWRpb1wiKSl7dmFyIHM9c2EocixlLnNlc3Npb25faWQsXCJjYW1cIixcImF1ZGlvXCIpO3MmJih0JiZ0LmF1ZGlvVHJhY2smJnQuYXVkaW9UcmFjay5pZD09PXMuaWQ/ZS5hdWRpb1RyYWNrPXM6cy5tdXRlZHx8KGUuYXVkaW9UcmFjaz1zKSksZS5hdWRpb1RyYWNrfHwoZS5hdWRpbz0hMSl9aWYoZS52aWRlbyYmaWEocixlLnNlc3Npb25faWQsXCJjYW0tdmlkZW9cIikpe3ZhciBhPXNhKHIsZS5zZXNzaW9uX2lkLFwiY2FtXCIsXCJ2aWRlb1wiKTthJiYodCYmdC52aWRlb1RyYWNrJiZ0LnZpZGVvVHJhY2suaWQ9PT1hLmlkP2UudmlkZW9UcmFjaz1hOmEubXV0ZWR8fChlLnZpZGVvVHJhY2s9YSkpLGUudmlkZW9UcmFja3x8KGUudmlkZW89ITEpfWlmKGUuc2NyZWVuJiZpYShyLGUuc2Vzc2lvbl9pZCxcInNjcmVlbi1hdWRpb1wiKSl7dmFyIGM9c2EocixlLnNlc3Npb25faWQsXCJzY3JlZW5cIixcImF1ZGlvXCIpO2MmJih0JiZ0LnNjcmVlbkF1ZGlvVHJhY2smJnQuc2NyZWVuQXVkaW9UcmFjay5pZD09PWMuaWQ/ZS5zY3JlZW5BdWRpb1RyYWNrPWM6Yy5tdXRlZHx8KGUuc2NyZWVuQXVkaW9UcmFjaz1jKSl9aWYoZS5zY3JlZW4mJmlhKHIsZS5zZXNzaW9uX2lkLFwic2NyZWVuLXZpZGVvXCIpKXt2YXIgbD1zYShyLGUuc2Vzc2lvbl9pZCxcInNjcmVlblwiLFwidmlkZW9cIik7bCYmKHQmJnQuc2NyZWVuVmlkZW9UcmFjayYmdC5zY3JlZW5WaWRlb1RyYWNrLmlkPT09bC5pZD9lLnNjcmVlblZpZGVvVHJhY2s9bDpsLm11dGVkfHwoZS5zY3JlZW5WaWRlb1RyYWNrPWwpKX1lLnNjcmVlblZpZGVvVHJhY2t8fGUuc2NyZWVuQXVkaW9UcmFja3x8KGUuc2NyZWVuPSExKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwidW5leHBlY3RlZCBlcnJvciBtYXRjaGluZyB1cCB0cmFja3NcIixlKX19fWZ1bmN0aW9uIGZhKGUsdCl7dmFyIG49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlW1wiQEBpdGVyYXRvclwiXTtpZighbil7aWYoQXJyYXkuaXNBcnJheShlKXx8KG49ZnVuY3Rpb24oZSx0KXtpZihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gdmEoZSx0KTt2YXIgbj17fS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKGUpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT92YShlLHQpOnZvaWQgMH19KGUpKXx8dCYmZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXtuJiYoZT1uKTt2YXIgcj0wLGk9ZnVuY3Rpb24oKXt9O3JldHVybntzOmksbjpmdW5jdGlvbigpe3JldHVybiByPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVtyKytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOml9fXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX12YXIgbyxzPSEwLGE9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtuPW4uY2FsbChlKX0sbjpmdW5jdGlvbigpe3ZhciBlPW4ubmV4dCgpO3JldHVybiBzPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe2E9ITAsbz1lfSxmOmZ1bmN0aW9uKCl7dHJ5e3N8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX19fWZ1bmN0aW9uIHZhKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgZ2E9bmV3IE1hcCxtYT1udWxsO2Z1bmN0aW9uIHlhKGUsdCl7dmFyIG49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlW1wiQEBpdGVyYXRvclwiXTtpZighbil7aWYoQXJyYXkuaXNBcnJheShlKXx8KG49ZnVuY3Rpb24oZSx0KXtpZihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gYmEoZSx0KTt2YXIgbj17fS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKGUpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9iYShlLHQpOnZvaWQgMH19KGUpKXx8dCYmZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXtuJiYoZT1uKTt2YXIgcj0wLGk9ZnVuY3Rpb24oKXt9O3JldHVybntzOmksbjpmdW5jdGlvbigpe3JldHVybiByPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVtyKytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOml9fXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX12YXIgbyxzPSEwLGE9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtuPW4uY2FsbChlKX0sbjpmdW5jdGlvbigpe3ZhciBlPW4ubmV4dCgpO3JldHVybiBzPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe2E9ITAsbz1lfSxmOmZ1bmN0aW9uKCl7dHJ5e3N8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX19fWZ1bmN0aW9uIGJhKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgX2E9bmV3IE1hcCx3YT1udWxsO2Z1bmN0aW9uIFNhKGUpe01hKCk/ZnVuY3Rpb24oZSl7Z2EuaGFzKGUpfHwoZ2Euc2V0KGUse30pLG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLnRoZW4oKGZ1bmN0aW9uKHQpe2dhLmhhcyhlKSYmKGdhLmdldChlKS5sYXN0RGV2aWNlc1N0cmluZz1KU09OLnN0cmluZ2lmeSh0KSxtYXx8KG1hPWZ1bmN0aW9uKCl7dmFyIGU9cCgoZnVuY3Rpb24qKCl7dmFyIGUsdD15aWVsZCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKSxuPWZhKGdhLmtleXMoKSk7dHJ5e2ZvcihuLnMoKTshKGU9bi5uKCkpLmRvbmU7KXt2YXIgcj1lLnZhbHVlLGk9SlNPTi5zdHJpbmdpZnkodCk7aSE9PWdhLmdldChyKS5sYXN0RGV2aWNlc1N0cmluZyYmKGdhLmdldChyKS5sYXN0RGV2aWNlc1N0cmluZz1pLHIodCkpfX1jYXRjaChlKXtuLmUoZSl9ZmluYWxseXtuLmYoKX19KSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIoXCJkZXZpY2VjaGFuZ2VcIixtYSkpKX0pKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSkpfShlKTpmdW5jdGlvbihlKXtfYS5oYXMoZSl8fChfYS5zZXQoZSx7fSksbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkudGhlbigoZnVuY3Rpb24odCl7X2EuaGFzKGUpJiYoX2EuZ2V0KGUpLmxhc3REZXZpY2VzU3RyaW5nPUpTT04uc3RyaW5naWZ5KHQpLHdhfHwod2E9c2V0SW50ZXJ2YWwocCgoZnVuY3Rpb24qKCl7dmFyIGUsdD15aWVsZCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKSxuPXlhKF9hLmtleXMoKSk7dHJ5e2ZvcihuLnMoKTshKGU9bi5uKCkpLmRvbmU7KXt2YXIgcj1lLnZhbHVlLGk9SlNPTi5zdHJpbmdpZnkodCk7aSE9PV9hLmdldChyKS5sYXN0RGV2aWNlc1N0cmluZyYmKF9hLmdldChyKS5sYXN0RGV2aWNlc1N0cmluZz1pLHIodCkpfX1jYXRjaChlKXtuLmUoZSl9ZmluYWxseXtuLmYoKX19KSksM2UzKSkpfSkpKX0oZSl9ZnVuY3Rpb24ga2EoZSl7TWEoKT9mdW5jdGlvbihlKXtnYS5oYXMoZSkmJihnYS5kZWxldGUoZSksMD09PWdhLnNpemUmJm1hJiYobmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlY2hhbmdlXCIsbWEpLG1hPW51bGwpKX0oZSk6ZnVuY3Rpb24oZSl7X2EuaGFzKGUpJiYoX2EuZGVsZXRlKGUpLDA9PT1fYS5zaXplJiZ3YSYmKGNsZWFySW50ZXJ2YWwod2EpLHdhPW51bGwpKX0oZSl9ZnVuY3Rpb24gTWEoKXt2YXIgZTtyZXR1cm4geXMoKXx8dm9pZCAwIT09KG51bGw9PT0oZT1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5vbmRldmljZWNoYW5nZSl9dmFyIENhPW5ldyBTZXQ7ZnVuY3Rpb24gRWEoZSx0KXt2YXIgbj10LmlzTG9jYWxTY3JlZW5WaWRlbztyZXR1cm4gZSYmXCJsaXZlXCI9PT1lLnJlYWR5U3RhdGUmJiFmdW5jdGlvbihlLHQpe3JldHVybighdC5pc0xvY2FsU2NyZWVuVmlkZW98fFwiQ2hyb21lXCIhPT1PcygpKSYmZS5tdXRlZCYmIUNhLmhhcyhlLmlkKX0oZSx7aXNMb2NhbFNjcmVlblZpZGVvOm59KX1mdW5jdGlvbiBUYShlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gT2EoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/VGEoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXt1KGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpUYShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX12YXIgUGE9T2JqZWN0LmZyZWV6ZSh7VklERU86XCJ2aWRlb1wiLEFVRElPOlwiYXVkaW9cIixTQ1JFRU5fVklERU86XCJzY3JlZW5WaWRlb1wiLFNDUkVFTl9BVURJTzpcInNjcmVlbkF1ZGlvXCIsQ1VTVE9NX1ZJREVPOlwiY3VzdG9tVmlkZW9cIixDVVNUT01fQVVESU86XCJjdXN0b21BdWRpb1wifSksQWE9T2JqZWN0LmZyZWV6ZSh7UEFSVElDSVBBTlRTOlwicGFydGljaXBhbnRzXCIsU1RSRUFNSU5HOlwic3RyZWFtaW5nXCIsVFJBTlNDUklQVElPTjpcInRyYW5zY3JpcHRpb25cIn0pLGphPU9iamVjdC52YWx1ZXMoUGEpLElhPVtcInZcIixcImFcIixcInN2XCIsXCJzYVwiLFwiY3ZcIixcImNhXCJdO09iamVjdC5mcmVlemUoamEucmVkdWNlKChmdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbdF09SWFbbl0sZX0pLHt9KSksT2JqZWN0LmZyZWV6ZShJYS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1qYVtuXSxlfSkse30pKTt2YXIgeGE9W1BhLlZJREVPLFBhLkFVRElPLFBhLlNDUkVFTl9WSURFTyxQYS5TQ1JFRU5fQVVESU9dLExhPU9iamVjdC52YWx1ZXMoQWEpLERhPVtcInBcIixcInNcIixcInRcIl07T2JqZWN0LmZyZWV6ZShMYS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1EYVtuXSxlfSkse30pKSxPYmplY3QuZnJlZXplKERhLnJlZHVjZSgoZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPUxhW25dLGV9KSx7fSkpO3ZhciBOYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30scj1uLmJhc2UsaT1uLmJ5VXNlcklkLG89bi5ieVBhcnRpY2lwYW50SWQ7dCh0aGlzLGUpLHRoaXMuYmFzZT1yLHRoaXMuYnlVc2VySWQ9aSx0aGlzLmJ5UGFydGljaXBhbnRJZD1vfXJldHVybiBvKGUsW3trZXk6XCJjbG9uZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7aWYodGhpcy5iYXNlIGluc3RhbmNlb2YgUmE/dC5iYXNlPXRoaXMuYmFzZS5jbG9uZSgpOnQuYmFzZT10aGlzLmJhc2Usdm9pZCAwIT09dGhpcy5ieVVzZXJJZClmb3IodmFyIG4gaW4gdC5ieVVzZXJJZD17fSx0aGlzLmJ5VXNlcklkKXt2YXIgcj10aGlzLmJ5VXNlcklkW25dO3QuYnlVc2VySWRbbl09ciBpbnN0YW5jZW9mIFJhP3IuY2xvbmUoKTpyfWlmKHZvaWQgMCE9PXRoaXMuYnlQYXJ0aWNpcGFudElkKWZvcih2YXIgaSBpbiB0LmJ5UGFydGljaXBhbnRJZD17fSx0aGlzLmJ5UGFydGljaXBhbnRJZCl7dmFyIG89dGhpcy5ieVBhcnRpY2lwYW50SWRbaV07dC5ieVBhcnRpY2lwYW50SWRbaV09byBpbnN0YW5jZW9mIFJhP28uY2xvbmUoKTpvfXJldHVybiB0fX0se2tleTpcInRvSlNPTk9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e307aWYoXCJib29sZWFuXCI9PXR5cGVvZiB0aGlzLmJhc2U/ZS5iYXNlPXRoaXMuYmFzZTp0aGlzLmJhc2UgaW5zdGFuY2VvZiBSYSYmKGUuYmFzZT10aGlzLmJhc2UudG9KU09OT2JqZWN0KCkpLHZvaWQgMCE9PXRoaXMuYnlVc2VySWQpZm9yKHZhciB0IGluIGUuYnlVc2VySWQ9e30sdGhpcy5ieVVzZXJJZCl7dmFyIG49dGhpcy5ieVVzZXJJZFt0XTtlLmJ5VXNlcklkW3RdPW4gaW5zdGFuY2VvZiBSYT9uLnRvSlNPTk9iamVjdCgpOm59aWYodm9pZCAwIT09dGhpcy5ieVBhcnRpY2lwYW50SWQpZm9yKHZhciByIGluIGUuYnlQYXJ0aWNpcGFudElkPXt9LHRoaXMuYnlQYXJ0aWNpcGFudElkKXt2YXIgaT10aGlzLmJ5UGFydGljaXBhbnRJZFtyXTtlLmJ5UGFydGljaXBhbnRJZFtyXT1pIGluc3RhbmNlb2YgUmE/aS50b0pTT05PYmplY3QoKTppfXJldHVybiBlfX0se2tleTpcInRvTWluaWZpZWRKU09OT2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17fTtpZih2b2lkIDAhPT10aGlzLmJhc2UmJihcImJvb2xlYW5cIj09dHlwZW9mIHRoaXMuYmFzZT9lLmI9dGhpcy5iYXNlOmUuYj10aGlzLmJhc2UudG9NaW5pZmllZEpTT05PYmplY3QoKSksdm9pZCAwIT09dGhpcy5ieVVzZXJJZClmb3IodmFyIHQgaW4gZS51PXt9LHRoaXMuYnlVc2VySWQpe3ZhciBuPXRoaXMuYnlVc2VySWRbdF07ZS51W3RdPVwiYm9vbGVhblwiPT10eXBlb2Ygbj9uOm4udG9NaW5pZmllZEpTT05PYmplY3QoKX1pZih2b2lkIDAhPT10aGlzLmJ5UGFydGljaXBhbnRJZClmb3IodmFyIHIgaW4gZS5wPXt9LHRoaXMuYnlQYXJ0aWNpcGFudElkKXt2YXIgaT10aGlzLmJ5UGFydGljaXBhbnRJZFtyXTtlLnBbcl09XCJib29sZWFuXCI9PXR5cGVvZiBpP2k6aS50b01pbmlmaWVkSlNPTk9iamVjdCgpfXJldHVybiBlfX0se2tleTpcIm5vcm1hbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmFzZSBpbnN0YW5jZW9mIFJhJiYodGhpcy5iYXNlPXRoaXMuYmFzZS5ub3JtYWxpemUoKSksdGhpcy5ieVVzZXJJZCYmKHRoaXMuYnlVc2VySWQ9T2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHRoaXMuYnlVc2VySWQpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZihlLDIpLG49dFswXSxyPXRbMV07cmV0dXJuW24sciBpbnN0YW5jZW9mIFJhP3Iubm9ybWFsaXplKCk6cl19KSkpKSx0aGlzLmJ5UGFydGljaXBhbnRJZCYmKHRoaXMuYnlQYXJ0aWNpcGFudElkPU9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0aGlzLmJ5UGFydGljaXBhbnRJZCkubWFwKChmdW5jdGlvbihlKXt2YXIgdD1mKGUsMiksbj10WzBdLHI9dFsxXTtyZXR1cm5bbixyIGluc3RhbmNlb2YgUmE/ci5ub3JtYWxpemUoKTpyXX0pKSkpLHRoaXN9fV0sW3trZXk6XCJmcm9tSlNPTk9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuLHIsaTtpZih2b2lkIDAhPT10LmJhc2UmJihuPVwiYm9vbGVhblwiPT10eXBlb2YgdC5iYXNlP3QuYmFzZTpSYS5mcm9tSlNPTk9iamVjdCh0LmJhc2UpKSx2b2lkIDAhPT10LmJ5VXNlcklkKWZvcih2YXIgbyBpbiByPXt9LHQuYnlVc2VySWQpe3ZhciBzPXQuYnlVc2VySWRbb107cltvXT1cImJvb2xlYW5cIj09dHlwZW9mIHM/czpSYS5mcm9tSlNPTk9iamVjdChzKX1pZih2b2lkIDAhPT10LmJ5UGFydGljaXBhbnRJZClmb3IodmFyIGEgaW4gaT17fSx0LmJ5UGFydGljaXBhbnRJZCl7dmFyIGM9dC5ieVBhcnRpY2lwYW50SWRbYV07aVthXT1cImJvb2xlYW5cIj09dHlwZW9mIGM/YzpSYS5mcm9tSlNPTk9iamVjdChjKX1yZXR1cm4gbmV3IGUoe2Jhc2U6bixieVVzZXJJZDpyLGJ5UGFydGljaXBhbnRJZDppfSl9fSx7a2V5OlwiZnJvbU1pbmlmaWVkSlNPTk9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuLHIsaTtpZih2b2lkIDAhPT10LmImJihuPVwiYm9vbGVhblwiPT10eXBlb2YgdC5iP3QuYjpSYS5mcm9tTWluaWZpZWRKU09OT2JqZWN0KHQuYikpLHZvaWQgMCE9PXQudSlmb3IodmFyIG8gaW4gcj17fSx0LnUpe3ZhciBzPXQudVtvXTtyW29dPVwiYm9vbGVhblwiPT10eXBlb2Ygcz9zOlJhLmZyb21NaW5pZmllZEpTT05PYmplY3Qocyl9aWYodm9pZCAwIT09dC5wKWZvcih2YXIgYSBpbiBpPXt9LHQucCl7dmFyIGM9dC5wW2FdO2lbYV09XCJib29sZWFuXCI9PXR5cGVvZiBjP2M6UmEuZnJvbU1pbmlmaWVkSlNPTk9iamVjdChjKX1yZXR1cm4gbmV3IGUoe2Jhc2U6bixieVVzZXJJZDpyLGJ5UGFydGljaXBhbnRJZDppfSl9fSx7a2V5OlwidmFsaWRhdGVKU09OT2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9PW4oZSkpcmV0dXJuWyExLFwiY2FuUmVjZWl2ZSBtdXN0IGJlIGFuIG9iamVjdFwiXTtmb3IodmFyIHQ9W1wiYmFzZVwiLFwiYnlVc2VySWRcIixcImJ5UGFydGljaXBhbnRJZFwiXSxyPTAsaT1PYmplY3Qua2V5cyhlKTtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTtpZighdC5pbmNsdWRlcyhvKSlyZXR1cm5bITEsXCJjYW5SZWNlaXZlIGNhbiBvbmx5IGNvbnRhaW4ga2V5cyAoXCIuY29uY2F0KHQuam9pbihcIiwgXCIpLFwiKVwiKV07aWYoXCJiYXNlXCI9PT1vKXt2YXIgcz1mKFJhLnZhbGlkYXRlSlNPTk9iamVjdChlLmJhc2UsITApLDIpLGE9c1swXSxjPXNbMV07aWYoIWEpcmV0dXJuWyExLGNdfWVsc2V7aWYoXCJvYmplY3RcIiE9PW4oZVtvXSkpcmV0dXJuWyExLFwiaW52YWxpZCAobm9uLW9iamVjdCkgdmFsdWUgZm9yIGZpZWxkICdcIi5jb25jYXQobyxcIicgaW4gY2FuUmVjZWl2ZVwiKV07Zm9yKHZhciBsPTAsdT1PYmplY3QudmFsdWVzKGVbb10pO2w8dS5sZW5ndGg7bCsrKXt2YXIgZD11W2xdLHA9ZihSYS52YWxpZGF0ZUpTT05PYmplY3QoZCksMiksaD1wWzBdLHY9cFsxXTtpZighaClyZXR1cm5bITEsdl19fX1yZXR1cm5bITBdfX1dKX0oKSxSYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30scj1uLnZpZGVvLGk9bi5hdWRpbyxvPW4uc2NyZWVuVmlkZW8scz1uLnNjcmVlbkF1ZGlvLGE9bi5jdXN0b21WaWRlbyxjPW4uY3VzdG9tQXVkaW87dCh0aGlzLGUpLHRoaXMudmlkZW89cix0aGlzLmF1ZGlvPWksdGhpcy5zY3JlZW5WaWRlbz1vLHRoaXMuc2NyZWVuQXVkaW89cyx0aGlzLmN1c3RvbVZpZGVvPWEsdGhpcy5jdXN0b21BdWRpbz1jfXJldHVybiBvKGUsW3trZXk6XCJjbG9uZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHZvaWQgMCE9PXRoaXMudmlkZW8mJih0LnZpZGVvPXRoaXMudmlkZW8pLHZvaWQgMCE9PXRoaXMuYXVkaW8mJih0LmF1ZGlvPXRoaXMuYXVkaW8pLHZvaWQgMCE9PXRoaXMuc2NyZWVuVmlkZW8mJih0LnNjcmVlblZpZGVvPXRoaXMuc2NyZWVuVmlkZW8pLHZvaWQgMCE9PXRoaXMuc2NyZWVuQXVkaW8mJih0LnNjcmVlbkF1ZGlvPXRoaXMuc2NyZWVuQXVkaW8pLHZvaWQgMCE9PXRoaXMuY3VzdG9tVmlkZW8mJih0LmN1c3RvbVZpZGVvPU9hKHt9LHRoaXMuY3VzdG9tVmlkZW8pKSx2b2lkIDAhPT10aGlzLmN1c3RvbUF1ZGlvJiYodC5jdXN0b21BdWRpbz1PYSh7fSx0aGlzLmN1c3RvbUF1ZGlvKSksdH19LHtrZXk6XCJ0b0pTT05PYmplY3RcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiB2b2lkIDAhPT10aGlzLnZpZGVvJiYoZS52aWRlbz10aGlzLnZpZGVvKSx2b2lkIDAhPT10aGlzLmF1ZGlvJiYoZS5hdWRpbz10aGlzLmF1ZGlvKSx2b2lkIDAhPT10aGlzLnNjcmVlblZpZGVvJiYoZS5zY3JlZW5WaWRlbz10aGlzLnNjcmVlblZpZGVvKSx2b2lkIDAhPT10aGlzLnNjcmVlbkF1ZGlvJiYoZS5zY3JlZW5BdWRpbz10aGlzLnNjcmVlbkF1ZGlvKSx2b2lkIDAhPT10aGlzLmN1c3RvbVZpZGVvJiYoZS5jdXN0b21WaWRlbz1PYSh7fSx0aGlzLmN1c3RvbVZpZGVvKSksdm9pZCAwIT09dGhpcy5jdXN0b21BdWRpbyYmKGUuY3VzdG9tQXVkaW89T2Eoe30sdGhpcy5jdXN0b21BdWRpbykpLGV9fSx7a2V5OlwidG9NaW5pZmllZEpTT05PYmplY3RcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiB2b2lkIDAhPT10aGlzLnZpZGVvJiYoZS52PXRoaXMudmlkZW8pLHZvaWQgMCE9PXRoaXMuYXVkaW8mJihlLmE9dGhpcy5hdWRpbyksdm9pZCAwIT09dGhpcy5zY3JlZW5WaWRlbyYmKGUuc3Y9dGhpcy5zY3JlZW5WaWRlbyksdm9pZCAwIT09dGhpcy5zY3JlZW5BdWRpbyYmKGUuc2E9dGhpcy5zY3JlZW5BdWRpbyksdm9pZCAwIT09dGhpcy5jdXN0b21WaWRlbyYmKGUuY3Y9T2Eoe30sdGhpcy5jdXN0b21WaWRlbykpLHZvaWQgMCE9PXRoaXMuY3VzdG9tQXVkaW8mJihlLmNhPU9hKHt9LHRoaXMuY3VzdG9tQXVkaW8pKSxlfX0se2tleTpcIm5vcm1hbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3JldHVybiBlJiYxPT09T2JqZWN0LmtleXMoZSkubGVuZ3RoJiZlW1wiKlwiXT09PXR9cmV0dXJuISghMCE9PXRoaXMudmlkZW98fCEwIT09dGhpcy5hdWRpb3x8ITAhPT10aGlzLnNjcmVlblZpZGVvfHwhMCE9PXRoaXMuc2NyZWVuQXVkaW98fCFlKHRoaXMuY3VzdG9tVmlkZW8sITApfHwhZSh0aGlzLmN1c3RvbUF1ZGlvLCEwKSl8fCghMSE9PXRoaXMudmlkZW98fCExIT09dGhpcy5hdWRpb3x8ITEhPT10aGlzLnNjcmVlblZpZGVvfHwhMSE9PXRoaXMuc2NyZWVuQXVkaW98fCFlKHRoaXMuY3VzdG9tVmlkZW8sITEpfHwhZSh0aGlzLmN1c3RvbUF1ZGlvLCExKSkmJnRoaXN9fV0sW3trZXk6XCJmcm9tQm9vbGVhblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh7dmlkZW86dCxhdWRpbzp0LHNjcmVlblZpZGVvOnQsc2NyZWVuQXVkaW86dCxjdXN0b21WaWRlbzp7XCIqXCI6dH0sY3VzdG9tQXVkaW86e1wiKlwiOnR9fSl9fSx7a2V5OlwiZnJvbUpTT05PYmplY3RcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUoe3ZpZGVvOnQudmlkZW8sYXVkaW86dC5hdWRpbyxzY3JlZW5WaWRlbzp0LnNjcmVlblZpZGVvLHNjcmVlbkF1ZGlvOnQuc2NyZWVuQXVkaW8sY3VzdG9tVmlkZW86dm9pZCAwIT09dC5jdXN0b21WaWRlbz9PYSh7fSx0LmN1c3RvbVZpZGVvKTp2b2lkIDAsY3VzdG9tQXVkaW86dm9pZCAwIT09dC5jdXN0b21BdWRpbz9PYSh7fSx0LmN1c3RvbUF1ZGlvKTp2b2lkIDB9KX19LHtrZXk6XCJmcm9tTWluaWZpZWRKU09OT2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHt2aWRlbzp0LnYsYXVkaW86dC5hLHNjcmVlblZpZGVvOnQuc3Ysc2NyZWVuQXVkaW86dC5zYSxjdXN0b21WaWRlbzp0LmN2LGN1c3RvbUF1ZGlvOnQuY2F9KX19LHtrZXk6XCJ2YWxpZGF0ZUpTT05PYmplY3RcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKFwiYm9vbGVhblwiPT10eXBlb2YgZSlyZXR1cm5bITBdO2lmKFwib2JqZWN0XCIhPT1uKGUpKXJldHVyblshMSxcImludmFsaWQgKG5vbi1vYmplY3QsIG5vbi1ib29sZWFuKSB2YWx1ZSBpbiBjYW5SZWNlaXZlXCJdO2Zvcih2YXIgcj1PYmplY3Qua2V5cyhlKSxpPTAsbz1yO2k8by5sZW5ndGg7aSsrKXt2YXIgcz1vW2ldO2lmKCFqYS5pbmNsdWRlcyhzKSlyZXR1cm5bITEsXCJpbnZhbGlkIG1lZGlhIHR5cGUgJ1wiLmNvbmNhdChzLFwiJyBpbiBjYW5SZWNlaXZlXCIpXTtpZih4YS5pbmNsdWRlcyhzKSl7aWYoXCJib29sZWFuXCIhPXR5cGVvZiBlW3NdKXJldHVyblshMSxcImludmFsaWQgKG5vbi1ib29sZWFuKSB2YWx1ZSBmb3IgbWVkaWEgdHlwZSAnXCIuY29uY2F0KHMsXCInIGluIGNhblJlY2VpdmVcIildfWVsc2V7aWYoXCJvYmplY3RcIiE9PW4oZVtzXSkpcmV0dXJuWyExLFwiaW52YWxpZCAobm9uLW9iamVjdCkgdmFsdWUgZm9yIG1lZGlhIHR5cGUgJ1wiLmNvbmNhdChzLFwiJyBpbiBjYW5SZWNlaXZlXCIpXTtmb3IodmFyIGE9MCxjPU9iamVjdC52YWx1ZXMoZVtzXSk7YTxjLmxlbmd0aDthKyspe2lmKFwiYm9vbGVhblwiIT10eXBlb2YgY1thXSlyZXR1cm5bITEsXCJpbnZhbGlkIChub24tYm9vbGVhbikgdmFsdWUgZm9yIGVudHJ5IHdpdGhpbiAnXCIuY29uY2F0KHMsXCInIGluIGNhblJlY2VpdmVcIildfWlmKHQmJnZvaWQgMD09PWVbc11bXCIqXCJdKXJldHVyblshMSwnY2FuUmVjZWl2ZSBcImJhc2VcIiBwZXJtaXNzaW9uIG11c3Qgc3BlY2lmeSBcIipcIiBhcyBhbiBlbnRyeSB3aXRoaW4gXFwnJy5jb25jYXQocyxcIidcIildfX1yZXR1cm4gdCYmci5sZW5ndGghPT1qYS5sZW5ndGg/WyExLCdjYW5SZWNlaXZlIFwiYmFzZVwiIHBlcm1pc3Npb24gbXVzdCBzcGVjaWZ5IGFsbCBtZWRpYSB0eXBlczogJy5jb25jYXQoamEuam9pbihcIiwgXCIpLFwiIChvciBiZSBzZXQgdG8gYSBib29sZWFuIHNob3J0aGFuZClcIildOlshMF19fV0pfSgpLEZhPVtcInJlc3VsdFwiXSxCYT1bXCJwcmVzZXJ2ZUlmcmFtZVwiXTtmdW5jdGlvbiBVYShlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gVmEoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/VWEoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXt1KGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpVYShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBKYSgpe3RyeXt2YXIgZT0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaChlKXt9cmV0dXJuKEphPWZ1bmN0aW9uKCl7cmV0dXJuISFlfSkoKX1mdW5jdGlvbiAkYShlLHQpe3ZhciBuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVtcIkBAaXRlcmF0b3JcIl07aWYoIW4pe2lmKEFycmF5LmlzQXJyYXkoZSl8fChuPWZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIHFhKGUsdCk7dmFyIG49e30udG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbShlKTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/cWEoZSx0KTp2b2lkIDB9fShlKSl8fHQmJmUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aCl7biYmKGU9bik7dmFyIHI9MCxpPWZ1bmN0aW9uKCl7fTtyZXR1cm57czppLG46ZnVuY3Rpb24oKXtyZXR1cm4gcj49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbcisrXX19LGU6ZnVuY3Rpb24oZSl7dGhyb3cgZX0sZjppfX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIG8scz0hMCxhPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1uLmNhbGwoZSl9LG46ZnVuY3Rpb24oKXt2YXIgZT1uLm5leHQoKTtyZXR1cm4gcz1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXthPSEwLG89ZX0sZjpmdW5jdGlvbigpe3RyeXtzfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgb319fX1mdW5jdGlvbiBxYShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIHphPXt9O3ZhciBXYT1cInZpZGVvXCIsSGE9XCJ2b2ljZVwiLEdhPXlzKCk/e2RhdGE6e319OntkYXRhOnt9LHRvcG9sb2d5Olwibm9uZVwifSxRYT17cHJlc2VudDowLGhpZGRlbjowfSxLYT17bWF4Qml0cmF0ZTp7bWluOjFlNSxtYXg6MjVlNX0sbWF4RnJhbWVyYXRlOnttaW46MSxtYXg6MzB9LHNjYWxlUmVzb2x1dGlvbkRvd25CeTp7bWluOjEsbWF4Ojh9fSxZYT1PYmplY3Qua2V5cyhLYSksWGE9W1wic3RhdGVcIixcInZvbHVtZVwiLFwic2ltdWxjYXN0RW5jb2RpbmdzXCJdLFphPXthbmRyb2lkSW5DYWxsTm90aWZpY2F0aW9uOnt0aXRsZTpcInN0cmluZ1wiLHN1YnRpdGxlOlwic3RyaW5nXCIsaWNvbk5hbWU6XCJzdHJpbmdcIixkaXNhYmxlRm9yQ3VzdG9tT3ZlcnJpZGU6XCJib29sZWFuXCJ9LGRpc2FibGVBdXRvRGV2aWNlTWFuYWdlbWVudDp7YXVkaW86XCJib29sZWFuXCIsdmlkZW86XCJib29sZWFuXCJ9fSxlYz17aWQ6e2ljb25QYXRoOlwic3RyaW5nXCIsaWNvblBhdGhEYXJrTW9kZTpcInN0cmluZ1wiLGxhYmVsOlwic3RyaW5nXCIsdG9vbHRpcDpcInN0cmluZ1wiLHZpc3VhbFN0YXRlOlwiJ2RlZmF1bHQnIHwgJ3NpZGViYXItb3BlbicgfCAnYWN0aXZlJ1wifX0sdGM9e2lkOnthbGxvdzpcInN0cmluZ1wiLGNvbnRyb2xsZWRCeTpcIicqJyB8ICdvd25lcnMnIHwgc3RyaW5nW11cIixjc3A6XCJzdHJpbmdcIixpY29uVVJMOlwic3RyaW5nXCIsbGFiZWw6XCJzdHJpbmdcIixsb2FkaW5nOlwiJ2VhZ2VyJyB8ICdsYXp5J1wiLGxvY2F0aW9uOlwiJ21haW4nIHwgJ3NpZGViYXInXCIsbmFtZTpcInN0cmluZ1wiLHJlZmVycmVyUG9saWN5Olwic3RyaW5nXCIsc2FuZGJveDpcInN0cmluZ1wiLHNyYzpcInN0cmluZ1wiLHNyY2RvYzpcInN0cmluZ1wiLHNoYXJlZDpcInN0cmluZ1tdIHwgJ293bmVycycgfCBib29sZWFuXCJ9fSxuYz17Y3VzdG9tSW50ZWdyYXRpb25zOnt2YWxpZGF0ZTpFYyxoZWxwOk1jKCl9LGN1c3RvbVRyYXlCdXR0b25zOnt2YWxpZGF0ZTpDYyxoZWxwOlwiY3VzdG9tVHJheUJ1dHRvbnMgc2hvdWxkIGJlIGEgZGljdGlvbmFyeSBvZiB0aGUgdHlwZSBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZWMpKX0sdXJsOnt2YWxpZGF0ZTpmdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZX0saGVscDpcInVybCBzaG91bGQgYmUgYSBzdHJpbmdcIn0sYmFzZVVybDp7dmFsaWRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV9LGhlbHA6XCJiYXNlVXJsIHNob3VsZCBiZSBhIHN0cmluZ1wifSx0b2tlbjp7dmFsaWRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV9LGhlbHA6XCJ0b2tlbiBzaG91bGQgYmUgYSBzdHJpbmdcIixxdWVyeVN0cmluZzpcInRcIn0sZGFpbHlDb25maWc6e3ZhbGlkYXRlOmZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiB0LnZhbGlkYXRlRGFpbHlDb25maWcoZSksITB9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcIkZhaWxlZCB0byB2YWxpZGF0ZSBkYWlseUNvbmZpZ1wiLGUpfXJldHVybiExfSxoZWxwOlwiVW5zdXBwb3J0ZWQgZGFpbHlDb25maWcuIENoZWNrIGVycm9yIGxvZ3MgZm9yIGRldGFpbGVkIGluZm8uXCJ9LHJlYWN0TmF0aXZlQ29uZmlnOnt2YWxpZGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gVGMoZSxaYSl9LGhlbHA6XCJyZWFjdE5hdGl2ZUNvbmZpZyBzaG91bGQgbG9vayBsaWtlIFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShaYSksXCIsIGFsbCBmaWVsZHMgb3B0aW9uYWxcIil9LGxhbmc6e3ZhbGlkYXRlOmZ1bmN0aW9uKGUpe3JldHVybltcImRhXCIsXCJkZVwiLFwiZW4tdXNcIixcImVuXCIsXCJlc1wiLFwiZmlcIixcImZyXCIsXCJpdFwiLFwianBcIixcImthXCIsXCJubFwiLFwibm9cIixcInBsXCIsXCJwdFwiLFwicHQtQlJcIixcInJ1XCIsXCJzdlwiLFwidHJcIixcInVzZXJcIl0uaW5jbHVkZXMoZSl9LGhlbHA6XCJsYW5ndWFnZSBub3Qgc3VwcG9ydGVkLiBPcHRpb25zIGFyZTogZGEsIGRlLCBlbi11cywgZW4sIGVzLCBmaSwgZnIsIGl0LCBqcCwga2EsIG5sLCBubywgcGwsIHB0LCBwdC1CUiwgcnUsIHN2LCB0ciwgdXNlclwifSx1c2VyTmFtZTohMCx1c2VyRGF0YTp7dmFsaWRhdGU6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiB2YyhlKSwhMH1jYXRjaChlKXtyZXR1cm4gY29uc29sZS5lcnJvcihlKSwhMX19LGhlbHA6XCJpbnZhbGlkIHVzZXJEYXRhIHR5cGUgcHJvdmlkZWRcIn0sc3RhcnRWaWRlb09mZjohMCxzdGFydEF1ZGlvT2ZmOiEwLGFsbG93TG9jYWxWaWRlbzohMCxhbGxvd0xvY2FsQXVkaW86ITAsYWN0aXZlU3BlYWtlck1vZGU6ITAsc2hvd0xlYXZlQnV0dG9uOiEwLHNob3dMb2NhbFZpZGVvOiEwLHNob3dQYXJ0aWNpcGFudHNCYXI6ITAsc2hvd0Z1bGxzY3JlZW5CdXR0b246ITAsc2hvd1VzZXJOYW1lQ2hhbmdlVUk6ITAsaWZyYW1lU3R5bGU6ITAsY3VzdG9tTGF5b3V0OiEwLGNzc0ZpbGU6ITAsY3NzVGV4dDohMCxib2R5Q2xhc3M6ITAsdmlkZW9Tb3VyY2U6e3ZhbGlkYXRlOmZ1bmN0aW9uKGUsdCl7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBlKXJldHVybiB0Ll9wcmVsb2FkQ2FjaGUuYWxsb3dMb2NhbFZpZGVvPWUsITA7dmFyIG47aWYoZSBpbnN0YW5jZW9mIE1lZGlhU3RyZWFtVHJhY2spdC5fc2hhcmVkVHJhY2tzLnZpZGVvVHJhY2s9ZSxuPXtjdXN0b21UcmFjazpsc307ZWxzZXtpZihkZWxldGUgdC5fc2hhcmVkVHJhY2tzLnZpZGVvVHJhY2ssXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJ2aWRlb1NvdXJjZSBtdXN0IGJlIGEgTWVkaWFTdHJlYW1UcmFjaywgYm9vbGVhbiwgb3IgYSBzdHJpbmdcIiksITE7bj17ZGV2aWNlSWQ6ZX19cmV0dXJuIHQuX3VwZGF0ZVByZWxvYWRDYWNoZUlucHV0U2V0dGluZ3Moe3ZpZGVvOntzZXR0aW5nczpufX0sITEpLCEwfX0sYXVkaW9Tb3VyY2U6e3ZhbGlkYXRlOmZ1bmN0aW9uKGUsdCl7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBlKXJldHVybiB0Ll9wcmVsb2FkQ2FjaGUuYWxsb3dMb2NhbEF1ZGlvPWUsITA7dmFyIG47aWYoZSBpbnN0YW5jZW9mIE1lZGlhU3RyZWFtVHJhY2spdC5fc2hhcmVkVHJhY2tzLmF1ZGlvVHJhY2s9ZSxuPXtjdXN0b21UcmFjazpsc307ZWxzZXtpZihkZWxldGUgdC5fc2hhcmVkVHJhY2tzLmF1ZGlvVHJhY2ssXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJhdWRpb1NvdXJjZSBtdXN0IGJlIGEgTWVkaWFTdHJlYW1UcmFjaywgYm9vbGVhbiwgb3IgYSBzdHJpbmdcIiksITE7bj17ZGV2aWNlSWQ6ZX19cmV0dXJuIHQuX3VwZGF0ZVByZWxvYWRDYWNoZUlucHV0U2V0dGluZ3Moe2F1ZGlvOntzZXR0aW5nczpufX0sITEpLCEwfX0sc3Vic2NyaWJlVG9UcmFja3NBdXRvbWF0aWNhbGx5Ont2YWxpZGF0ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0Ll9wcmVsb2FkQ2FjaGUuc3Vic2NyaWJlVG9UcmFja3NBdXRvbWF0aWNhbGx5PWUsITB9fSx0aGVtZTp7dmFsaWRhdGU6ZnVuY3Rpb24oZSl7dmFyIHQ9W1wiYWNjZW50XCIsXCJhY2NlbnRUZXh0XCIsXCJiYWNrZ3JvdW5kXCIsXCJiYWNrZ3JvdW5kQWNjZW50XCIsXCJiYXNlVGV4dFwiLFwiYm9yZGVyXCIsXCJtYWluQXJlYUJnXCIsXCJtYWluQXJlYUJnQWNjZW50XCIsXCJtYWluQXJlYVRleHRcIixcInN1cHBvcnRpdmVUZXh0XCJdLHI9ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPTAscj1PYmplY3Qua2V5cyhlKTtuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXTtpZighdC5pbmNsdWRlcyhpKSlyZXR1cm4gY29uc29sZS5lcnJvcigndW5zdXBwb3J0ZWQgY29sb3IgXCInLmNvbmNhdChpLCdcIi4gVmFsaWQgY29sb3JzOiAnKS5jb25jYXQodC5qb2luKFwiLCBcIikpKSwhMTtpZighZVtpXS5tYXRjaCgvXiNbMC05YS1mXXs2fXwjWzAtOWEtZl17M30kL2kpKXJldHVybiBjb25zb2xlLmVycm9yKFwiXCIuY29uY2F0KGksJyB0aGVtZSBjb2xvciBzaG91bGQgYmUgcHJvdmlkZWQgaW4gdmFsaWQgaGV4IGNvbG9yIGZvcm1hdC4gUmVjZWl2ZWQ6IFwiJykuY29uY2F0KGVbaV0sJ1wiJykpLCExfXJldHVybiEwfTtyZXR1cm5cIm9iamVjdFwiPT09bihlKSYmKFwibGlnaHRcImluIGUmJlwiZGFya1wiaW4gZXx8XCJjb2xvcnNcImluIGUpP1wibGlnaHRcImluIGUmJlwiZGFya1wiaW4gZT9cImNvbG9yc1wiaW4gZS5saWdodD9cImNvbG9yc1wiaW4gZS5kYXJrP3IoZS5saWdodC5jb2xvcnMpJiZyKGUuZGFyay5jb2xvcnMpOihjb25zb2xlLmVycm9yKCdEYXJrIHRoZW1lIGlzIG1pc3NpbmcgXCJjb2xvcnNcIiBwcm9wZXJ0eS4nLGUpLCExKTooY29uc29sZS5lcnJvcignTGlnaHQgdGhlbWUgaXMgbWlzc2luZyBcImNvbG9yc1wiIHByb3BlcnR5LicsZSksITEpOnIoZS5jb2xvcnMpOihjb25zb2xlLmVycm9yKCdUaGVtZSBtdXN0IGNvbnRhaW4gZWl0aGVyIGJvdGggXCJsaWdodFwiIGFuZCBcImRhcmtcIiBwcm9wZXJ0aWVzLCBvciBcImNvbG9yc1wiLicsZSksITEpfSxoZWxwOlwidW5zdXBwb3J0ZWQgdGhlbWUgY29uZmlndXJhdGlvbi4gQ2hlY2sgZXJyb3IgbG9ncyBmb3IgZGV0YWlsZWQgaW5mby5cIn0sbGF5b3V0Q29uZmlnOnt2YWxpZGF0ZTpmdW5jdGlvbihlKXtpZihcImdyaWRcImluIGUpe3ZhciB0PWUuZ3JpZDtpZihcIm1heFRpbGVzUGVyUGFnZVwiaW4gdCl7aWYoIU51bWJlci5pc0ludGVnZXIodC5tYXhUaWxlc1BlclBhZ2UpKXJldHVybiBjb25zb2xlLmVycm9yKFwiZ3JpZC5tYXhUaWxlc1BlclBhZ2Ugc2hvdWxkIGJlIGFuIGludGVnZXIuIFlvdSBwYXNzZWQgXCIuY29uY2F0KHQubWF4VGlsZXNQZXJQYWdlLFwiLlwiKSksITE7aWYodC5tYXhUaWxlc1BlclBhZ2U+NDkpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJncmlkLm1heFRpbGVzUGVyUGFnZSBjYW4ndCBiZSBsYXJnZXIgdGhhbiA0OSB3aXRob3V0IHNhY3JpZmljaW5nIGJyb3dzZXIgcGVyZm9ybWFuY2UuIFBsZWFzZSBjb250YWN0IHVzIGF0IGh0dHBzOi8vd3d3LmRhaWx5LmNvL2NvbnRhY3QgdG8gdGFsayBhYm91dCB5b3VyIHVzZSBjYXNlLlwiKSwhMX1pZihcIm1pblRpbGVzUGVyUGFnZVwiaW4gdCl7aWYoIU51bWJlci5pc0ludGVnZXIodC5taW5UaWxlc1BlclBhZ2UpKXJldHVybiBjb25zb2xlLmVycm9yKFwiZ3JpZC5taW5UaWxlc1BlclBhZ2Ugc2hvdWxkIGJlIGFuIGludGVnZXIuIFlvdSBwYXNzZWQgXCIuY29uY2F0KHQubWluVGlsZXNQZXJQYWdlLFwiLlwiKSksITE7aWYodC5taW5UaWxlc1BlclBhZ2U8MSlyZXR1cm4gY29uc29sZS5lcnJvcihcImdyaWQubWluVGlsZXNQZXJQYWdlIGNhbid0IGJlIGxvd2VyIHRoYW4gMS5cIiksITE7aWYoXCJtYXhUaWxlc1BlclBhZ2VcImluIHQmJnQubWluVGlsZXNQZXJQYWdlPnQubWF4VGlsZXNQZXJQYWdlKXJldHVybiBjb25zb2xlLmVycm9yKFwiZ3JpZC5taW5UaWxlc1BlclBhZ2UgY2FuJ3QgYmUgaGlnaGVyIHRoYW4gZ3JpZC5tYXhUaWxlc1BlclBhZ2UuXCIpLCExfX1yZXR1cm4hMH0saGVscDpcInVuc3VwcG9ydGVkIGxheW91dENvbmZpZy4gQ2hlY2sgZXJyb3IgbG9ncyBmb3IgZGV0YWlsZWQgaW5mby5cIn0scmVjZWl2ZVNldHRpbmdzOnt2YWxpZGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gZ2MoZSx7YWxsb3dBbGxQYXJ0aWNpcGFudHNLZXk6ITF9KX0saGVscDprYyh7YWxsb3dBbGxQYXJ0aWNpcGFudHNLZXk6ITF9KX0sc2VuZFNldHRpbmdzOnt2YWxpZGF0ZTpmdW5jdGlvbihlLHQpe3JldHVybiEhZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIHQudmFsaWRhdGVVcGRhdGVTZW5kU2V0dGluZ3MoZSksITB9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gdmFsaWRhdGUgc2VuZCBzZXR0aW5nc1wiLGUpLCExfX0oZSx0KSYmKHQuX3ByZWxvYWRDYWNoZS5zZW5kU2V0dGluZ3M9ZSwhMCl9LGhlbHA6XCJJbnZhbGlkIHNlbmRTZXR0aW5ncyBwcm92aWRlZC4gQ2hlY2sgZXJyb3IgbG9ncyBmb3IgZGV0YWlsZWQgaW5mby5cIn0saW5wdXRTZXR0aW5nczp7dmFsaWRhdGU6ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4hIW1jKGUpJiYodC5faW5wdXRTZXR0aW5nc3x8KHQuX2lucHV0U2V0dGluZ3M9e30pLHljKGUsbnVsbD09PShuPXQucHJvcGVydGllcyl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZGFpbHlDb25maWcsdC5fc2hhcmVkVHJhY2tzKSx0Ll91cGRhdGVQcmVsb2FkQ2FjaGVJbnB1dFNldHRpbmdzKGUsITApLCEwKX0saGVscDpTYygpfSxsYXlvdXQ6e3ZhbGlkYXRlOmZ1bmN0aW9uKGUpe3JldHVyblwiY3VzdG9tLXYxXCI9PT1lfHxcImJyb3dzZXJcIj09PWV8fFwibm9uZVwiPT09ZX0saGVscDonbGF5b3V0IG1heSBvbmx5IGJlIHNldCB0byBcImN1c3RvbS12MVwiJyxxdWVyeVN0cmluZzpcImxheW91dFwifSxlbWI6e3F1ZXJ5U3RyaW5nOlwiZW1iXCJ9LGVtYkhyZWY6e3F1ZXJ5U3RyaW5nOlwiZW1iSHJlZlwifSxkYWlseUpzVmVyc2lvbjp7cXVlcnlTdHJpbmc6XCJkYWlseUpzVmVyc2lvblwifSxwcm94eTp7cXVlcnlTdHJpbmc6XCJwcm94eVwifSxzdHJpY3RNb2RlOiEwLGFsbG93TXVsdGlwbGVDYWxsSW5zdGFuY2VzOiEwfSxyYz17c3R5bGVzOnt2YWxpZGF0ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSlpZihcImNhbVwiIT09dCYmXCJzY3JlZW5cIiE9PXQpcmV0dXJuITE7aWYoZS5jYW0pZm9yKHZhciBuIGluIGUuY2FtKWlmKFwiZGl2XCIhPT1uJiZcInZpZGVvXCIhPT1uKXJldHVybiExO2lmKGUuc2NyZWVuKWZvcih2YXIgciBpbiBlLnNjcmVlbilpZihcImRpdlwiIT09ciYmXCJ2aWRlb1wiIT09cilyZXR1cm4hMTtyZXR1cm4hMH0saGVscDpcInN0eWxlcyBmb3JtYXQgc2hvdWxkIGJlIGEgc3Vic2V0IG9mOiB7IGNhbToge2Rpdjoge30sIHZpZGVvOiB7fX0sIHNjcmVlbjoge2Rpdjoge30sIHZpZGVvOiB7fX0gfVwifSxzZXRTdWJzY3JpYmVkVHJhY2tzOnt2YWxpZGF0ZTpmdW5jdGlvbihlLHQpe2lmKHQuX3ByZWxvYWRDYWNoZS5zdWJzY3JpYmVUb1RyYWNrc0F1dG9tYXRpY2FsbHkpcmV0dXJuITE7dmFyIG49WyEwLCExLFwic3RhZ2VkXCJdO2lmKG4uaW5jbHVkZXMoZSl8fCF5cygpJiZcImF2YXRhclwiPT09ZSlyZXR1cm4hMDt2YXIgcj1bXCJhdWRpb1wiLFwidmlkZW9cIixcInNjcmVlbkF1ZGlvXCIsXCJzY3JlZW5WaWRlb1wiLFwicm1wQXVkaW9cIixcInJtcFZpZGVvXCJdLGk9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtmb3IodmFyIG8gaW4gZSlpZihcImN1c3RvbVwiPT09byl7aWYoIW4uaW5jbHVkZXMoZVtvXSkmJiFpKGVbb10sITApKXJldHVybiExfWVsc2V7dmFyIHM9IXQmJiFyLmluY2x1ZGVzKG8pLGE9IW4uaW5jbHVkZXMoZVtvXSk7aWYoc3x8YSlyZXR1cm4hMX1yZXR1cm4hMH07cmV0dXJuIGkoZSl9LGhlbHA6XCJzZXRTdWJzY3JpYmVkVHJhY2tzIGNhbm5vdCBiZSB1c2VkIHdoZW4gc2V0U3Vic2NyaWJlVG9UcmFja3NBdXRvbWF0aWNhbGx5IGlzIGVuYWJsZWQsIGFuZCBzaG91bGQgYmUgb2YgdGhlIGZvcm06IFwiK1widHJ1ZVwiLmNvbmNhdCh5cygpP1wiXCI6XCIgfCAnYXZhdGFyJ1wiLFwiIHwgZmFsc2UgfCAnc3RhZ2VkJyB8IHsgW2F1ZGlvOiB0cnVlfGZhbHNlfCdzdGFnZWQnXSwgW3ZpZGVvOiB0cnVlfGZhbHNlfCdzdGFnZWQnXSwgW3NjcmVlbkF1ZGlvOiB0cnVlfGZhbHNlfCdzdGFnZWQnXSwgW3NjcmVlblZpZGVvOiB0cnVlfGZhbHNlfCdzdGFnZWQnXSB9XCIpfSxzZXRBdWRpbzohMCxzZXRWaWRlbzohMCxzZXRTY3JlZW5TaGFyZTp7dmFsaWRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1lfSxoZWxwOlwic2V0U2NyZWVuU2hhcmUgbXVzdCBiZSBmYWxzZSwgYXMgaXQncyBvbmx5IG1lYW50IGZvciBzdG9wcGluZyByZW1vdGUgcGFydGljaXBhbnRzJyBzY3JlZW4gc2hhcmVzXCJ9LGVqZWN0OiEwLHVwZGF0ZVBlcm1pc3Npb25zOnt2YWxpZGF0ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPU9iamVjdC5lbnRyaWVzKGUpO3Q8bi5sZW5ndGg7dCsrKXt2YXIgcj1mKG5bdF0sMiksaT1yWzBdLG89clsxXTtzd2l0Y2goaSl7Y2FzZVwiaGFzUHJlc2VuY2VcIjppZihcImJvb2xlYW5cIiE9dHlwZW9mIG8pcmV0dXJuITE7YnJlYWs7Y2FzZVwiY2FuU2VuZFwiOmlmKG8gaW5zdGFuY2VvZiBTZXR8fG8gaW5zdGFuY2VvZiBBcnJheXx8QXJyYXkuaXNBcnJheShvKSl7dmFyIHMsYT1bXCJ2aWRlb1wiLFwiYXVkaW9cIixcInNjcmVlblZpZGVvXCIsXCJzY3JlZW5BdWRpb1wiLFwiY3VzdG9tVmlkZW9cIixcImN1c3RvbUF1ZGlvXCJdLGM9JGEobyk7dHJ5e2ZvcihjLnMoKTshKHM9Yy5uKCkpLmRvbmU7KXt2YXIgbD1zLnZhbHVlO2lmKCFhLmluY2x1ZGVzKGwpKXJldHVybiExfX1jYXRjaChlKXtjLmUoZSl9ZmluYWxseXtjLmYoKX19ZWxzZSBpZihcImJvb2xlYW5cIiE9dHlwZW9mIG8pcmV0dXJuITE7KG8gaW5zdGFuY2VvZiBBcnJheXx8QXJyYXkuaXNBcnJheShvKSkmJihlLmNhblNlbmQ9bmV3IFNldChvKSk7YnJlYWs7Y2FzZVwiY2FuUmVjZWl2ZVwiOnZhciB1PWYoTmEudmFsaWRhdGVKU09OT2JqZWN0KG8pLDIpLGQ9dVswXSxwPXVbMV07aWYoIWQpcmV0dXJuIGNvbnNvbGUuZXJyb3IocCksITE7YnJlYWs7Y2FzZVwiY2FuQWRtaW5cIjppZihvIGluc3RhbmNlb2YgU2V0fHxvIGluc3RhbmNlb2YgQXJyYXl8fEFycmF5LmlzQXJyYXkobykpe3ZhciBoLHY9W1wicGFydGljaXBhbnRzXCIsXCJzdHJlYW1pbmdcIixcInRyYW5zY3JpcHRpb25cIl0sZz0kYShvKTt0cnl7Zm9yKGcucygpOyEoaD1nLm4oKSkuZG9uZTspe3ZhciBtPWgudmFsdWU7aWYoIXYuaW5jbHVkZXMobSkpcmV0dXJuITF9fWNhdGNoKGUpe2cuZShlKX1maW5hbGx5e2cuZigpfX1lbHNlIGlmKFwiYm9vbGVhblwiIT10eXBlb2YgbylyZXR1cm4hMTsobyBpbnN0YW5jZW9mIEFycmF5fHxBcnJheS5pc0FycmF5KG8pKSYmKGUuY2FuQWRtaW49bmV3IFNldChvKSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4hMX19cmV0dXJuITB9LGhlbHA6XCJ1cGRhdGVQZXJtaXNzaW9ucyBjYW4gdGFrZSBoYXNQcmVzZW5jZSwgY2FuU2VuZCwgY2FuUmVjZWl2ZSwgYW5kIGNhbkFkbWluIHBlcm1pc3Npb25zLiBoYXNQcmVzZW5jZSBtdXN0IGJlIGEgYm9vbGVhbi4gY2FuU2VuZCBjYW4gYmUgYSBib29sZWFuIG9yIGFuIEFycmF5IG9yIFNldCBvZiBtZWRpYSB0eXBlcyAodmlkZW8sIGF1ZGlvLCBzY3JlZW5WaWRlbywgc2NyZWVuQXVkaW8sIGN1c3RvbVZpZGVvLCBjdXN0b21BdWRpbykuIGNhblJlY2VpdmUgbXVzdCBiZSBhbiBvYmplY3Qgc3BlY2lmeWluZyBiYXNlLCBieVVzZXJJZCwgYW5kL29yIGJ5UGFydGljaXBhbnRJZCBmaWVsZHMgKHNlZSBkb2N1bWVudGF0aW9uIGZvciBtb3JlIGRldGFpbHMpLiBjYW5BZG1pbiBjYW4gYmUgYSBib29sZWFuIG9yIGFuIEFycmF5IG9yIFNldCBvZiBhZG1pbiB0eXBlcyAocGFydGljaXBhbnRzLCBzdHJlYW1pbmcsIHRyYW5zY3JpcHRpb24pLlwifX07UHJvbWlzZS5hbnl8fChQcm9taXNlLmFueT1mdW5jdGlvbigpe3ZhciBlPXAoKGZ1bmN0aW9uKihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7dmFyIHI9W107ZS5mb3JFYWNoKChmdW5jdGlvbihpKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGkpLnRoZW4oKGZ1bmN0aW9uKGUpe3QoZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3IucHVzaCh0KSxyLmxlbmd0aD09PWUubGVuZ3RoJiZuKHIpfSkpfSkpfSkpfSkpO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpKTt2YXIgaWM9ZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUpe3ZhciBuLGksbyxjLGwsZCxoPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpZih0KHRoaXMsciksbz10aGlzLGM9YShjPXIpLHUoaT1zKG8sSmEoKT9SZWZsZWN0LmNvbnN0cnVjdChjLGx8fFtdLGEobykuY29uc3RydWN0b3IpOmMuYXBwbHkobyxsKSksXCJzdGFydExpc3RlbmluZ0ZvckRldmljZUNoYW5nZXNcIiwoZnVuY3Rpb24oKXtTYShpLmhhbmRsZURldmljZUNoYW5nZSl9KSksdShpLFwic3RvcExpc3RlbmluZ0ZvckRldmljZUNoYW5nZXNcIiwoZnVuY3Rpb24oKXtrYShpLmhhbmRsZURldmljZUNoYW5nZSl9KSksdShpLFwiaGFuZGxlRGV2aWNlQ2hhbmdlXCIsKGZ1bmN0aW9uKGUpe2U9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKX0pKSxpLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjpcImF2YWlsYWJsZS1kZXZpY2VzLXVwZGF0ZWRcIixhdmFpbGFibGVEZXZpY2VzOmV9KX0pKSx1KGksXCJoYW5kbGVOYXRpdmVBcHBTdGF0ZUNoYW5nZVwiLGZ1bmN0aW9uKCl7dmFyIGU9cCgoZnVuY3Rpb24qKGUpe2lmKFwiZGVzdHJveWVkXCI9PT1lKXJldHVybiBjb25zb2xlLndhcm4oXCJBcHAgaGFzIGJlZW4gZGVzdHJveWVkIGJlZm9yZSBsZWF2aW5nIHRoZSBtZWV0aW5nLiBDbGVhbmluZyB1cCBhbGwgdGhlIHJlc291cmNlcyFcIiksdm9pZCh5aWVsZCBpLmRlc3Ryb3koKSk7dmFyIHQ9XCJhY3RpdmVcIj09PWU7aS5kaXNhYmxlUmVhY3ROYXRpdmVBdXRvRGV2aWNlTWFuYWdlbWVudChcInZpZGVvXCIpfHwodD9pLmNhbVVubXV0ZWRCZWZvcmVMb3NpbmdOYXRpdmVBY3RpdmVTdGF0ZSYmaS5zZXRMb2NhbFZpZGVvKCEwKTooaS5jYW1Vbm11dGVkQmVmb3JlTG9zaW5nTmF0aXZlQWN0aXZlU3RhdGU9aS5sb2NhbFZpZGVvKCksaS5jYW1Vbm11dGVkQmVmb3JlTG9zaW5nTmF0aXZlQWN0aXZlU3RhdGUmJmkuc2V0TG9jYWxWaWRlbyghMSkpKX0pKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSksdShpLFwiaGFuZGxlTmF0aXZlQXVkaW9Gb2N1c0NoYW5nZVwiLChmdW5jdGlvbihlKXtpLmRpc2FibGVSZWFjdE5hdGl2ZUF1dG9EZXZpY2VNYW5hZ2VtZW50KFwiYXVkaW9cIil8fChpLl9oYXNOYXRpdmVBdWRpb0ZvY3VzPWUsaS50b2dnbGVQYXJ0aWNpcGFudEF1ZGlvQmFzZWRPbk5hdGl2ZUF1ZGlvRm9jdXMoKSxpLl9oYXNOYXRpdmVBdWRpb0ZvY3VzP2kubWljVW5tdXRlZEJlZm9yZUxvc2luZ05hdGl2ZUF1ZGlvRm9jdXMmJmkuc2V0TG9jYWxBdWRpbyghMCk6KGkubWljVW5tdXRlZEJlZm9yZUxvc2luZ05hdGl2ZUF1ZGlvRm9jdXM9aS5sb2NhbEF1ZGlvKCksaS5zZXRMb2NhbEF1ZGlvKCExKSkpfSkpLHUoaSxcImhhbmRsZU5hdGl2ZVN5c3RlbVNjcmVlbkNhcHR1cmVTdG9wXCIsKGZ1bmN0aW9uKCl7aS5zdG9wU2NyZWVuU2hhcmUoKX0pKSxpLnN0cmljdE1vZGU9dm9pZCAwPT09aC5zdHJpY3RNb2RlfHxoLnN0cmljdE1vZGUsaS5hbGxvd011bHRpcGxlQ2FsbEluc3RhbmNlcz1udWxsIT09KG49aC5hbGxvd011bHRpcGxlQ2FsbEluc3RhbmNlcykmJnZvaWQgMCE9PW4mJm4sT2JqZWN0LmtleXMoemEpLmxlbmd0aCYmKGkuX2xvZ0R1cGxpY2F0ZUluc3RhbmNlQXR0ZW1wdCgpLCFpLmFsbG93TXVsdGlwbGVDYWxsSW5zdGFuY2VzKSl7aWYoaS5zdHJpY3RNb2RlKXRocm93IG5ldyBFcnJvcihcIkR1cGxpY2F0ZSBEYWlseUlmcmFtZSBpbnN0YW5jZXMgYXJlIG5vdCBhbGxvd2VkXCIpO2NvbnNvbGUud2FybihcIlVzaW5nIHN0cmljdE1vZGU6IGZhbHNlIHRvIGFsbG93IG11bHRpcGxlIGNhbGwgaW5zdGFuY2VzIGlzIG5vdyBkZXByZWNhdGVkLiBTZXQgYGFsbG93TXVsdGlwbGVDYWxsSW5zdGFuY2VzOiB0cnVlYFwiKX1pZih3aW5kb3cuX2RhaWx5fHwod2luZG93Ll9kYWlseT17cGVuZGluZ3M6W10saW5zdGFuY2VzOnt9fSksaS5jYWxsQ2xpZW50SWQ9SygpLHphWyhkPWkpLmNhbGxDbGllbnRJZF09ZCx3aW5kb3cuX2RhaWx5Lmluc3RhbmNlc1tpLmNhbGxDbGllbnRJZF09e30saS5fc2hhcmVkVHJhY2tzPXt9LHdpbmRvdy5fZGFpbHkuaW5zdGFuY2VzW2kuY2FsbENsaWVudElkXS50cmFja3M9aS5fc2hhcmVkVHJhY2tzLGguZGFpbHlKc1ZlcnNpb249ci52ZXJzaW9uKCksaS5faWZyYW1lPWUsaS5fY2FsbE9iamVjdE1vZGU9XCJub25lXCI9PT1oLmxheW91dCYmIWkuX2lmcmFtZSxpLl9wcmVsb2FkQ2FjaGU9e3N1YnNjcmliZVRvVHJhY2tzQXV0b21hdGljYWxseTohMCxvdXRwdXREZXZpY2VJZDpudWxsLGlucHV0U2V0dGluZ3M6bnVsbCxzZW5kU2V0dGluZ3M6bnVsbCx2aWRlb1RyYWNrRm9yTmV0d29ya0Nvbm5lY3Rpdml0eVRlc3Q6bnVsbCx2aWRlb1RyYWNrRm9yQ29ubmVjdGlvblF1YWxpdHlUZXN0Om51bGx9LHZvaWQgMCE9PWguc2hvd0xvY2FsVmlkZW8/aS5fY2FsbE9iamVjdE1vZGU/Y29uc29sZS5lcnJvcihcInNob3dMb2NhbFZpZGVvIGlzIG5vdCBhdmFpbGFibGUgaW4gY2FsbCBvYmplY3QgbW9kZVwiKTppLl9zaG93TG9jYWxWaWRlbz0hIWguc2hvd0xvY2FsVmlkZW86aS5fc2hvd0xvY2FsVmlkZW89ITAsdm9pZCAwIT09aC5zaG93UGFydGljaXBhbnRzQmFyP2kuX2NhbGxPYmplY3RNb2RlP2NvbnNvbGUuZXJyb3IoXCJzaG93UGFydGljaXBhbnRzQmFyIGlzIG5vdCBhdmFpbGFibGUgaW4gY2FsbCBvYmplY3QgbW9kZVwiKTppLl9zaG93UGFydGljaXBhbnRzQmFyPSEhaC5zaG93UGFydGljaXBhbnRzQmFyOmkuX3Nob3dQYXJ0aWNpcGFudHNCYXI9ITAsdm9pZCAwIT09aC5jdXN0b21JbnRlZ3JhdGlvbnM/aS5fY2FsbE9iamVjdE1vZGU/Y29uc29sZS5lcnJvcihcImN1c3RvbUludGVncmF0aW9ucyBpcyBub3QgYXZhaWxhYmxlIGluIGNhbGwgb2JqZWN0IG1vZGVcIik6aS5fY3VzdG9tSW50ZWdyYXRpb25zPWguY3VzdG9tSW50ZWdyYXRpb25zOmkuX2N1c3RvbUludGVncmF0aW9ucz17fSx2b2lkIDAhPT1oLmN1c3RvbVRyYXlCdXR0b25zP2kuX2NhbGxPYmplY3RNb2RlP2NvbnNvbGUuZXJyb3IoXCJjdXN0b21UcmF5QnV0dG9ucyBpcyBub3QgYXZhaWxhYmxlIGluIGNhbGwgb2JqZWN0IG1vZGVcIik6aS5fY3VzdG9tVHJheUJ1dHRvbnM9aC5jdXN0b21UcmF5QnV0dG9uczppLl9jdXN0b21UcmF5QnV0dG9ucz17fSx2b2lkIDAhPT1oLmFjdGl2ZVNwZWFrZXJNb2RlP2kuX2NhbGxPYmplY3RNb2RlP2NvbnNvbGUuZXJyb3IoXCJhY3RpdmVTcGVha2VyTW9kZSBpcyBub3QgYXZhaWxhYmxlIGluIGNhbGwgb2JqZWN0IG1vZGVcIik6aS5fYWN0aXZlU3BlYWtlck1vZGU9ISFoLmFjdGl2ZVNwZWFrZXJNb2RlOmkuX2FjdGl2ZVNwZWFrZXJNb2RlPSExLGgucmVjZWl2ZVNldHRpbmdzP2kuX2NhbGxPYmplY3RNb2RlP2kuX3JlY2VpdmVTZXR0aW5ncz1oLnJlY2VpdmVTZXR0aW5nczpjb25zb2xlLmVycm9yKFwicmVjZWl2ZVNldHRpbmdzIGlzIG9ubHkgYXZhaWxhYmxlIGluIGNhbGwgb2JqZWN0IG1vZGVcIik6aS5fcmVjZWl2ZVNldHRpbmdzPXt9LGkudmFsaWRhdGVQcm9wZXJ0aWVzKGgpLGkucHJvcGVydGllcz1WYSh7fSxoKSxpLl9pbnB1dFNldHRpbmdzfHwoaS5faW5wdXRTZXR0aW5ncz17fSksaS5fY2FsbE9iamVjdExvYWRlcj1pLl9jYWxsT2JqZWN0TW9kZT9uZXcgWXMoaS5jYWxsQ2xpZW50SWQpOm51bGwsaS5fY2FsbFN0YXRlPXZpLGkuX2lzUHJlcGFyaW5nVG9Kb2luPSExLGkuX2FjY2Vzc1N0YXRlPXthY2Nlc3M6T2l9LGkuX21lZXRpbmdTZXNzaW9uU3VtbWFyeT17fSxpLl9maW5hbFN1bW1hcnlPZlByZXZTZXNzaW9uPXt9LGkuX21lZXRpbmdTZXNzaW9uU3RhdGU9amMoR2EsaS5fY2FsbE9iamVjdE1vZGUpLGkuX25hdGl2ZUluQ2FsbEF1ZGlvTW9kZT1XYSxpLl9wYXJ0aWNpcGFudHM9e30saS5faXNTY3JlZW5TaGFyaW5nPSExLGkuX3BhcnRpY2lwYW50Q291bnRzPVFhLGkuX3JtcFBsYXllclN0YXRlPXt9LGkuX3dhaXRpbmdQYXJ0aWNpcGFudHM9e30saS5fbmV0d29yaz17dGhyZXNob2xkOlwiZ29vZFwiLHF1YWxpdHk6MTAwLG5ldHdvcmtTdGF0ZTpcInVua25vd25cIixzdGF0czp7fX0saS5fYWN0aXZlU3BlYWtlcj17fSxpLl9sb2NhbEF1ZGlvTGV2ZWw9MCxpLl9pc0xvY2FsQXVkaW9MZXZlbE9ic2VydmVyUnVubmluZz0hMSxpLl9yZW1vdGVQYXJ0aWNpcGFudHNBdWRpb0xldmVsPXt9LGkuX2lzUmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbE9ic2VydmVyUnVubmluZz0hMSxpLl9tYXhBcHBNZXNzYWdlU2l6ZT1ycyxpLl9tZXNzYWdlQ2hhbm5lbD15cygpP25ldyBKczpuZXcgQnMsaS5faWZyYW1lJiYoaS5faWZyYW1lLnJlcXVlc3RGdWxsc2NyZWVuP2kuX2lmcmFtZS5hZGRFdmVudExpc3RlbmVyKFwiZnVsbHNjcmVlbmNoYW5nZVwiLChmdW5jdGlvbigpe2RvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50PT09aS5faWZyYW1lPyhpLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjpXb30pLGkuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246V299KSk6KGkuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOkhvfSksaS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpIb30pKX0pKTppLl9pZnJhbWUud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4mJmkuX2lmcmFtZS5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLChmdW5jdGlvbigpe2RvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50PT09aS5faWZyYW1lPyhpLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjpXb30pLGkuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246V299KSk6KGkuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOkhvfSksaS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpIb30pKX0pKSkseXMoKSl7dmFyIGY9aS5uYXRpdmVVdGlscygpO2YuYWRkQXVkaW9Gb2N1c0NoYW5nZUxpc3RlbmVyJiZmLnJlbW92ZUF1ZGlvRm9jdXNDaGFuZ2VMaXN0ZW5lciYmZi5hZGRBcHBTdGF0ZUNoYW5nZUxpc3RlbmVyJiZmLnJlbW92ZUFwcFN0YXRlQ2hhbmdlTGlzdGVuZXImJmYuYWRkU3lzdGVtU2NyZWVuQ2FwdHVyZVN0b3BMaXN0ZW5lciYmZi5yZW1vdmVTeXN0ZW1TY3JlZW5DYXB0dXJlU3RvcExpc3RlbmVyfHxjb25zb2xlLndhcm4oXCJleHBlY3RlZCAoYWRkfHJlbW92ZSkoQXVkaW9Gb2N1c0NoYW5nZXxBcHBBY3RpdmVTdGF0ZUNoYW5nZXxTeXN0ZW1TY3JlZW5DYXB0dXJlU3RvcClMaXN0ZW5lciB0byBiZSBhdmFpbGFibGUgaW4gUmVhY3QgTmF0aXZlXCIpLGkuX2hhc05hdGl2ZUF1ZGlvRm9jdXM9ITAsZi5hZGRBdWRpb0ZvY3VzQ2hhbmdlTGlzdGVuZXIoaS5oYW5kbGVOYXRpdmVBdWRpb0ZvY3VzQ2hhbmdlKSxmLmFkZEFwcFN0YXRlQ2hhbmdlTGlzdGVuZXIoaS5oYW5kbGVOYXRpdmVBcHBTdGF0ZUNoYW5nZSksZi5hZGRTeXN0ZW1TY3JlZW5DYXB0dXJlU3RvcExpc3RlbmVyKGkuaGFuZGxlTmF0aXZlU3lzdGVtU2NyZWVuQ2FwdHVyZVN0b3ApfXJldHVybiBpLl9jYWxsT2JqZWN0TW9kZSYmaS5zdGFydExpc3RlbmluZ0ZvckRldmljZUNoYW5nZXMoKSxpLl9tZXNzYWdlQ2hhbm5lbC5hZGRMaXN0ZW5lckZvck1lc3NhZ2VzRnJvbUNhbGxNYWNoaW5lKGkuaGFuZGxlTWVzc2FnZUZyb21DYWxsTWFjaGluZSxpLmNhbGxDbGllbnRJZCxpKSxpfXJldHVybiBsKHIseCksbyhyLFt7a2V5OlwiZGVzdHJveVwiLHZhbHVlOihlZT1wKChmdW5jdGlvbiooKXt2YXIgZTt0cnl7eWllbGQgdGhpcy5sZWF2ZSgpfWNhdGNoKGUpe312YXIgdD10aGlzLl9pZnJhbWU7aWYodCl7dmFyIG49dC5wYXJlbnRFbGVtZW50O24mJm4ucmVtb3ZlQ2hpbGQodCl9aWYodGhpcy5fbWVzc2FnZUNoYW5uZWwucmVtb3ZlTGlzdGVuZXIodGhpcy5oYW5kbGVNZXNzYWdlRnJvbUNhbGxNYWNoaW5lKSx5cygpKXt2YXIgcj10aGlzLm5hdGl2ZVV0aWxzKCk7ci5yZW1vdmVBdWRpb0ZvY3VzQ2hhbmdlTGlzdGVuZXIodGhpcy5oYW5kbGVOYXRpdmVBdWRpb0ZvY3VzQ2hhbmdlKSxyLnJlbW92ZUFwcFN0YXRlQ2hhbmdlTGlzdGVuZXIodGhpcy5oYW5kbGVOYXRpdmVBcHBTdGF0ZUNoYW5nZSksci5yZW1vdmVTeXN0ZW1TY3JlZW5DYXB0dXJlU3RvcExpc3RlbmVyKHRoaXMuaGFuZGxlTmF0aXZlU3lzdGVtU2NyZWVuQ2FwdHVyZVN0b3ApfXRoaXMuX2NhbGxPYmplY3RNb2RlJiZ0aGlzLnN0b3BMaXN0ZW5pbmdGb3JEZXZpY2VDaGFuZ2VzKCksdGhpcy5yZXNldE1lZXRpbmdEZXBlbmRlbnRWYXJzKCksdGhpcy5fZGVzdHJveWVkPSEwLHRoaXMuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOlwiY2FsbC1pbnN0YW5jZS1kZXN0cm95ZWRcIn0pLGRlbGV0ZSB6YVt0aGlzLmNhbGxDbGllbnRJZF0sKG51bGw9PT0oZT13aW5kb3cpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5fZGFpbHkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmluc3RhbmNlcykmJmRlbGV0ZSB3aW5kb3cuX2RhaWx5Lmluc3RhbmNlc1t0aGlzLmNhbGxDbGllbnRJZF0sdGhpcy5zdHJpY3RNb2RlJiYodGhpcy5jYWxsQ2xpZW50SWQ9dm9pZCAwKX0pKSxmdW5jdGlvbigpe3JldHVybiBlZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImlzRGVzdHJveWVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2Rlc3Ryb3llZH19LHtrZXk6XCJsb2FkQ3NzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5Q2xhc3Msbj1lLmNzc0ZpbGUscj1lLmNzc1RleHQ7cmV0dXJuIGhjKCksdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImxvYWQtY3NzXCIsY3NzRmlsZTp0aGlzLmFic29sdXRlVXJsKG4pLGJvZHlDbGFzczp0LGNzc1RleHQ6cn0pLHRoaXN9fSx7a2V5OlwiaWZyYW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gaGMoKSx0aGlzLl9pZnJhbWV9fSx7a2V5OlwibWVldGluZ1N0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FsbFN0YXRlfX0se2tleTpcImFjY2Vzc1N0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZGModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJhY2Nlc3NTdGF0ZSgpXCIpLHRoaXMuX2FjY2Vzc1N0YXRlfX0se2tleTpcInBhcnRpY2lwYW50c1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcnRpY2lwYW50c319LHtrZXk6XCJwYXJ0aWNpcGFudENvdW50c1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcnRpY2lwYW50Q291bnRzfX0se2tleTpcIndhaXRpbmdQYXJ0aWNpcGFudHNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBkYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcIndhaXRpbmdQYXJ0aWNpcGFudHMoKVwiKSx0aGlzLl93YWl0aW5nUGFydGljaXBhbnRzfX0se2tleTpcInZhbGlkYXRlUGFydGljaXBhbnRQcm9wZXJ0aWVzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl7aWYoIXJjW25dKXRocm93IG5ldyBFcnJvcihcInVucmVjb2duaXplZCB1cGRhdGVQYXJ0aWNpcGFudCBwcm9wZXJ0eSBcIi5jb25jYXQobikpO2lmKHJjW25dLnZhbGlkYXRlJiYhcmNbbl0udmFsaWRhdGUodFtuXSx0aGlzLHRoaXMuX3BhcnRpY2lwYW50c1tlXSkpdGhyb3cgbmV3IEVycm9yKHJjW25dLmhlbHApfX19LHtrZXk6XCJ1cGRhdGVQYXJ0aWNpcGFudFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BhcnRpY2lwYW50cy5sb2NhbCYmdGhpcy5fcGFydGljaXBhbnRzLmxvY2FsLnNlc3Npb25faWQ9PT1lJiYoZT1cImxvY2FsXCIpLGUmJnQmJih0aGlzLnZhbGlkYXRlUGFydGljaXBhbnRQcm9wZXJ0aWVzKGUsdCksdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInVwZGF0ZS1wYXJ0aWNpcGFudFwiLGlkOmUscHJvcGVydGllczp0fSkpLHRoaXN9fSx7a2V5OlwidXBkYXRlUGFydGljaXBhbnRzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcGFydGljaXBhbnRzLmxvY2FsJiZ0aGlzLl9wYXJ0aWNpcGFudHMubG9jYWwuc2Vzc2lvbl9pZDtmb3IodmFyIG4gaW4gZSluPT09dCYmKG49XCJsb2NhbFwiKSxuJiZlW25dJiZ0aGlzLnZhbGlkYXRlUGFydGljaXBhbnRQcm9wZXJ0aWVzKG4sZVtuXSk7cmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJ1cGRhdGUtcGFydGljaXBhbnRzXCIscGFydGljaXBhbnRzOmV9KSx0aGlzfX0se2tleTpcInVwZGF0ZVdhaXRpbmdQYXJ0aWNpcGFudFwiLHZhbHVlOihZPXAoKGZ1bmN0aW9uKigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJcIixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpZihkYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInVwZGF0ZVdhaXRpbmdQYXJ0aWNpcGFudCgpXCIpLHNjKHRoaXMuX2NhbGxTdGF0ZSxcInVwZGF0ZVdhaXRpbmdQYXJ0aWNpcGFudCgpXCIpLFwic3RyaW5nXCIhPXR5cGVvZiB0fHxcIm9iamVjdFwiIT09bihyKSl0aHJvdyBuZXcgRXJyb3IoXCJ1cGRhdGVXYWl0aW5nUGFydGljaXBhbnQoKSBtdXN0IHRha2UgYW4gaWQgc3RyaW5nIGFuZCBhIHVwZGF0ZXMgb2JqZWN0XCIpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixpKXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXVwZGF0ZS13YWl0aW5nLXBhcnRpY2lwYW50XCIsaWQ6dCx1cGRhdGVzOnJ9LChmdW5jdGlvbihlKXtlLmVycm9yJiZpKGUuZXJyb3IpLGUuaWR8fGkobmV3IEVycm9yKFwidW5rbm93biBlcnJvciBpbiB1cGRhdGVXYWl0aW5nUGFydGljaXBhbnQoKVwiKSksbih7aWQ6ZS5pZH0pfSkpfSkpfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIFkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJ1cGRhdGVXYWl0aW5nUGFydGljaXBhbnRzXCIsdmFsdWU6KEc9cCgoZnVuY3Rpb24qKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZihkYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInVwZGF0ZVdhaXRpbmdQYXJ0aWNpcGFudHMoKVwiKSxzYyh0aGlzLl9jYWxsU3RhdGUsXCJ1cGRhdGVXYWl0aW5nUGFydGljaXBhbnRzKClcIiksXCJvYmplY3RcIiE9PW4odCkpdGhyb3cgbmV3IEVycm9yKFwidXBkYXRlV2FpdGluZ1BhcnRpY2lwYW50cygpIG11c3QgdGFrZSBhIG1hcHBpbmcgYmV0d2VlbiBpZHMgYW5kIHVwZGF0ZSBvYmplY3RzXCIpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXVwZGF0ZS13YWl0aW5nLXBhcnRpY2lwYW50c1wiLHVwZGF0ZXNCeUlkOnR9LChmdW5jdGlvbihlKXtlLmVycm9yJiZyKGUuZXJyb3IpLGUuaWRzfHxyKG5ldyBFcnJvcihcInVua25vd24gZXJyb3IgaW4gdXBkYXRlV2FpdGluZ1BhcnRpY2lwYW50cygpXCIpKSxuKHtpZHM6ZS5pZHN9KX0pKX0pKX0pKSxmdW5jdGlvbigpe3JldHVybiBHLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwicmVxdWVzdEFjY2Vzc1wiLHZhbHVlOihIPXAoKGZ1bmN0aW9uKigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj10LmFjY2VzcyxyPXZvaWQgMD09PW4/e2xldmVsOlBpfTpuLGk9dC5uYW1lLG89dm9pZCAwPT09aT9cIlwiOmk7cmV0dXJuIGRjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwicmVxdWVzdEFjY2VzcygpXCIpLHNjKHRoaXMuX2NhbGxTdGF0ZSxcInJlcXVlc3RBY2Nlc3MoKVwiKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxuKXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXJlcXVlc3QtYWNjZXNzXCIsYWNjZXNzOnIsbmFtZTpvfSwoZnVuY3Rpb24oZSl7ZS5lcnJvciYmbihlLmVycm9yKSxlLmFjY2Vzc3x8bihuZXcgRXJyb3IoXCJ1bmtub3duIGVycm9yIGluIHJlcXVlc3RBY2Nlc3MoKVwiKSksdCh7YWNjZXNzOmUuYWNjZXNzLGdyYW50ZWQ6ZS5ncmFudGVkfSl9KSl9KSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gSC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImxvY2FsQXVkaW9cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJ0aWNpcGFudHMubG9jYWw/IVtcImJsb2NrZWRcIixcIm9mZlwiXS5pbmNsdWRlcyh0aGlzLl9wYXJ0aWNpcGFudHMubG9jYWwudHJhY2tzLmF1ZGlvLnN0YXRlKTpudWxsfX0se2tleTpcImxvY2FsVmlkZW9cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJ0aWNpcGFudHMubG9jYWw/IVtcImJsb2NrZWRcIixcIm9mZlwiXS5pbmNsdWRlcyh0aGlzLl9wYXJ0aWNpcGFudHMubG9jYWwudHJhY2tzLnZpZGVvLnN0YXRlKTpudWxsfX0se2tleTpcInNldExvY2FsQXVkaW9cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuXCJmb3JjZURpc2NhcmRUcmFja1wiaW4gdCYmKHlzKCk/KGNvbnNvbGUud2FybihcImZvcmNlRGlzY2FyZFRyYWNrIG9wdGlvbiBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZTsgaWdub3JpbmdcIiksdD17fSk6ZSYmKGNvbnNvbGUud2FybihcImZvcmNlRGlzY2FyZFRyYWNrIG9wdGlvbiBvbmx5IHN1cHBvcnRlZCB3aGVuIGNhbGxpbmcgc2V0TG9jYWxBdWRpbyhmYWxzZSk7IGlnbm9yaW5nXCIpLHQ9e30pKSx0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwibG9jYWwtYXVkaW9cIixzdGF0ZTplLG9wdGlvbnM6dH0pLHRoaXN9fSx7a2V5OlwibG9jYWxTY3JlZW5BdWRpb1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcnRpY2lwYW50cy5sb2NhbD8hW1wiYmxvY2tlZFwiLFwib2ZmXCJdLmluY2x1ZGVzKHRoaXMuX3BhcnRpY2lwYW50cy5sb2NhbC50cmFja3Muc2NyZWVuQXVkaW8uc3RhdGUpOm51bGx9fSx7a2V5OlwibG9jYWxTY3JlZW5WaWRlb1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcnRpY2lwYW50cy5sb2NhbD8hW1wiYmxvY2tlZFwiLFwib2ZmXCJdLmluY2x1ZGVzKHRoaXMuX3BhcnRpY2lwYW50cy5sb2NhbC50cmFja3Muc2NyZWVuVmlkZW8uc3RhdGUpOm51bGx9fSx7a2V5OlwidXBkYXRlU2NyZWVuU2hhcmVcIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLl9pc1NjcmVlblNoYXJpbmcpcmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJsb2NhbC1zY3JlZW4tdXBkYXRlXCIsb3B0aW9uczplfSksdGhpcztjb25zb2xlLndhcm4oXCJUaGVyZSBpcyBubyBzY3JlZW4gc2hhcmUgaW4gcHJvZ3Jlc3MuIFRyeSBjYWxsaW5nIHN0YXJ0U2NyZWVuU2hhcmUgZmlyc3QuXCIpfX0se2tleTpcInNldExvY2FsVmlkZW9cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImxvY2FsLXZpZGVvXCIsc3RhdGU6ZX0pLHRoaXN9fSx7a2V5OlwiX3NldEFsbG93TG9jYWxBdWRpb1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuX3ByZWxvYWRDYWNoZS5hbGxvd0xvY2FsQXVkaW89ZSx0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkKXJldHVybiB0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic2V0LWFsbG93LWxvY2FsLWF1ZGlvXCIsc3RhdGU6ZX0pLHRoaXN9fSx7a2V5OlwiX3NldEFsbG93TG9jYWxWaWRlb1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuX3ByZWxvYWRDYWNoZS5hbGxvd0xvY2FsVmlkZW89ZSx0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkKXJldHVybiB0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic2V0LWFsbG93LWxvY2FsLXZpZGVvXCIsc3RhdGU6ZX0pLHRoaXN9fSx7a2V5OlwiZ2V0UmVjZWl2ZVNldHRpbmdzXCIsdmFsdWU6KFc9cCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXMscj0oYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9KS5zaG93SW5oZXJpdGVkVmFsdWVzLGk9dm9pZCAwIT09ciYmcjtpZihkYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcImdldFJlY2VpdmVTZXR0aW5ncygpXCIpLCF0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkKXJldHVybiB0aGlzLl9yZWNlaXZlU2V0dGluZ3M7c3dpdGNoKG4oZSkpe2Nhc2VcInN0cmluZ1wiOnJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImdldC1zaW5nbGUtcGFydGljaXBhbnQtcmVjZWl2ZS1zZXR0aW5nc1wiLGlkOmUsc2hvd0luaGVyaXRlZFZhbHVlczppfSwoZnVuY3Rpb24oZSl7bihlLnJlY2VpdmVTZXR0aW5ncyl9KSl9KSk7Y2FzZVwidW5kZWZpbmVkXCI6cmV0dXJuIHRoaXMuX3JlY2VpdmVTZXR0aW5ncztkZWZhdWx0OnRocm93IG5ldyBFcnJvcignZmlyc3QgYXJndW1lbnQgdG8gZ2V0UmVjZWl2ZVNldHRpbmdzKCkgbXVzdCBiZSBhIHBhcnRpY2lwYW50IGlkIChvciBcImJhc2VcIiksIG9yIHRoZXJlIHNob3VsZCBiZSBubyBhcmd1bWVudHMnKX19KSksZnVuY3Rpb24oZSl7cmV0dXJuIFcuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJ1cGRhdGVSZWNlaXZlU2V0dGluZ3NcIix2YWx1ZTooej1wKChmdW5jdGlvbiooZSl7dmFyIHQ9dGhpcztpZihkYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInVwZGF0ZVJlY2VpdmVTZXR0aW5ncygpXCIpLCFnYyhlLHthbGxvd0FsbFBhcnRpY2lwYW50c0tleTohMH0pKXRocm93IG5ldyBFcnJvcihrYyh7YWxsb3dBbGxQYXJ0aWNpcGFudHNLZXk6ITB9KSk7cmV0dXJuIHNjKHRoaXMuX2NhbGxTdGF0ZSxcInVwZGF0ZVJlY2VpdmVTZXR0aW5ncygpXCIsXCJUbyBzcGVjaWZ5IHJlY2VpdmUgc2V0dGluZ3MgZWFybGllciwgdXNlIHRoZSByZWNlaXZlU2V0dGluZ3MgY29uZmlnIHByb3BlcnR5LlwiKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInVwZGF0ZS1yZWNlaXZlLXNldHRpbmdzXCIscmVjZWl2ZVNldHRpbmdzOmV9LChmdW5jdGlvbihlKXtuKHtyZWNlaXZlU2V0dGluZ3M6ZS5yZWNlaXZlU2V0dGluZ3N9KX0pKX0pKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gei5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcIl9wcmVwSW5wdXRTZXR0aW5nc0ZvclNoYXJpbmdcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKGUpe3ZhciBuPXt9O2lmKGUuYXVkaW8pe3ZhciByLGksbztlLmF1ZGlvLnNldHRpbmdzJiYoIU9iamVjdC5rZXlzKGUuYXVkaW8uc2V0dGluZ3MpLmxlbmd0aCYmdHx8KG4uYXVkaW89e3NldHRpbmdzOlZhKHt9LGUuYXVkaW8uc2V0dGluZ3MpfSkpLHQmJm51bGwhPT0ocj1uLmF1ZGlvKSYmdm9pZCAwIT09ciYmbnVsbCE9PShyPXIuc2V0dGluZ3MpJiZ2b2lkIDAhPT1yJiZyLmN1c3RvbVRyYWNrJiYobi5hdWRpby5zZXR0aW5ncz17Y3VzdG9tVHJhY2s6dGhpcy5fc2hhcmVkVHJhY2tzLmF1ZGlvVHJhY2t9KTt2YXIgcz1cIm5vbmVcIj09PShudWxsPT09KGk9ZS5hdWRpby5wcm9jZXNzb3IpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnR5cGUpJiYobnVsbD09PShvPWUuYXVkaW8ucHJvY2Vzc29yKXx8dm9pZCAwPT09bz92b2lkIDA6by5faXNEZWZhdWx0V2hlbk5vbmUpO2lmKGUuYXVkaW8ucHJvY2Vzc29yJiYhcyl7dmFyIGE9VmEoe30sZS5hdWRpby5wcm9jZXNzb3IpO2RlbGV0ZSBhLl9pc0RlZmF1bHRXaGVuTm9uZSxuLmF1ZGlvPVZhKFZhKHt9LG4uYXVkaW8pLHt9LHtwcm9jZXNzb3I6YX0pfX1pZihlLnZpZGVvKXt2YXIgYyxsLHU7ZS52aWRlby5zZXR0aW5ncyYmKCFPYmplY3Qua2V5cyhlLnZpZGVvLnNldHRpbmdzKS5sZW5ndGgmJnR8fChuLnZpZGVvPXtzZXR0aW5nczpWYSh7fSxlLnZpZGVvLnNldHRpbmdzKX0pKSx0JiZudWxsIT09KGM9bi52aWRlbykmJnZvaWQgMCE9PWMmJm51bGwhPT0oYz1jLnNldHRpbmdzKSYmdm9pZCAwIT09YyYmYy5jdXN0b21UcmFjayYmKG4udmlkZW8uc2V0dGluZ3M9e2N1c3RvbVRyYWNrOnRoaXMuX3NoYXJlZFRyYWNrcy52aWRlb1RyYWNrfSk7dmFyIGQ9XCJub25lXCI9PT0obnVsbD09PShsPWUudmlkZW8ucHJvY2Vzc29yKXx8dm9pZCAwPT09bD92b2lkIDA6bC50eXBlKSYmKG51bGw9PT0odT1lLnZpZGVvLnByb2Nlc3Nvcil8fHZvaWQgMD09PXU/dm9pZCAwOnUuX2lzRGVmYXVsdFdoZW5Ob25lKTtpZihlLnZpZGVvLnByb2Nlc3NvciYmIWQpe3ZhciBwPVZhKHt9LGUudmlkZW8ucHJvY2Vzc29yKTtkZWxldGUgcC5faXNEZWZhdWx0V2hlbk5vbmUsbi52aWRlbz1WYShWYSh7fSxuLnZpZGVvKSx7fSx7cHJvY2Vzc29yOnB9KX19cmV0dXJuIG59fX0se2tleTpcImdldElucHV0U2V0dGluZ3NcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGhjKCksbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe3QoZS5fZ2V0SW5wdXRTZXR0aW5ncygpKX0pKX19LHtrZXk6XCJfZ2V0SW5wdXRTZXR0aW5nc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLHM9e3Byb2Nlc3Nvcjp7dHlwZTpcIm5vbmVcIixfaXNEZWZhdWx0V2hlbk5vbmU6ITB9fTt0aGlzLl9pbnB1dFNldHRpbmdzPyhlPShudWxsPT09KG49dGhpcy5faW5wdXRTZXR0aW5ncyl8fHZvaWQgMD09PW4/dm9pZCAwOm4udmlkZW8pfHxzLHQ9KG51bGw9PT0ocj10aGlzLl9pbnB1dFNldHRpbmdzKXx8dm9pZCAwPT09cj92b2lkIDA6ci5hdWRpbyl8fHMpOihlPShudWxsPT09KGk9dGhpcy5fcHJlbG9hZENhY2hlKXx8dm9pZCAwPT09aXx8bnVsbD09PShpPWkuaW5wdXRTZXR0aW5ncyl8fHZvaWQgMD09PWk/dm9pZCAwOmkudmlkZW8pfHxzLHQ9KG51bGw9PT0obz10aGlzLl9wcmVsb2FkQ2FjaGUpfHx2b2lkIDA9PT1vfHxudWxsPT09KG89by5pbnB1dFNldHRpbmdzKXx8dm9pZCAwPT09bz92b2lkIDA6by5hdWRpbyl8fHMpO3ZhciBhPXthdWRpbzp0LHZpZGVvOmV9O3JldHVybiB0aGlzLl9wcmVwSW5wdXRTZXR0aW5nc0ZvclNoYXJpbmcoYSwhMCl9fSx7a2V5OlwiX3VwZGF0ZVByZWxvYWRDYWNoZUlucHV0U2V0dGluZ3NcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX2lucHV0U2V0dGluZ3N8fHt9LHI9e307aWYoZS52aWRlbyl7dmFyIGksbyxzO2lmKHIudmlkZW89e30sZS52aWRlby5zZXR0aW5ncylyLnZpZGVvLnNldHRpbmdzPXt9LHR8fGUudmlkZW8uc2V0dGluZ3MuY3VzdG9tVHJhY2t8fG51bGw9PT0ocz1uLnZpZGVvKXx8dm9pZCAwPT09c3x8IXMuc2V0dGluZ3M/ci52aWRlby5zZXR0aW5ncz1lLnZpZGVvLnNldHRpbmdzOnIudmlkZW8uc2V0dGluZ3M9VmEoVmEoe30sbi52aWRlby5zZXR0aW5ncyksZS52aWRlby5zZXR0aW5ncyksT2JqZWN0LmtleXMoci52aWRlby5zZXR0aW5ncykubGVuZ3RofHxkZWxldGUgci52aWRlby5zZXR0aW5ncztlbHNlIG51bGwhPT0oaT1uLnZpZGVvKSYmdm9pZCAwIT09aSYmaS5zZXR0aW5ncyYmKHIudmlkZW8uc2V0dGluZ3M9bi52aWRlby5zZXR0aW5ncyk7ZS52aWRlby5wcm9jZXNzb3I/ci52aWRlby5wcm9jZXNzb3I9ZS52aWRlby5wcm9jZXNzb3I6bnVsbCE9PShvPW4udmlkZW8pJiZ2b2lkIDAhPT1vJiZvLnByb2Nlc3NvciYmKHIudmlkZW8ucHJvY2Vzc29yPW4udmlkZW8ucHJvY2Vzc29yKX1lbHNlIG4udmlkZW8mJihyLnZpZGVvPW4udmlkZW8pO2lmKGUuYXVkaW8pe3ZhciBhLGMsbDtpZihyLmF1ZGlvPXt9LGUuYXVkaW8uc2V0dGluZ3Mpci5hdWRpby5zZXR0aW5ncz17fSx0fHxlLmF1ZGlvLnNldHRpbmdzLmN1c3RvbVRyYWNrfHxudWxsPT09KGw9bi5hdWRpbyl8fHZvaWQgMD09PWx8fCFsLnNldHRpbmdzP3IuYXVkaW8uc2V0dGluZ3M9ZS5hdWRpby5zZXR0aW5nczpyLmF1ZGlvLnNldHRpbmdzPVZhKFZhKHt9LG4uYXVkaW8uc2V0dGluZ3MpLGUuYXVkaW8uc2V0dGluZ3MpLE9iamVjdC5rZXlzKHIuYXVkaW8uc2V0dGluZ3MpLmxlbmd0aHx8ZGVsZXRlIHIuYXVkaW8uc2V0dGluZ3M7ZWxzZSBudWxsIT09KGE9bi5hdWRpbykmJnZvaWQgMCE9PWEmJmEuc2V0dGluZ3MmJihyLmF1ZGlvLnNldHRpbmdzPW4uYXVkaW8uc2V0dGluZ3MpO2UuYXVkaW8ucHJvY2Vzc29yP3IuYXVkaW8ucHJvY2Vzc29yPWUuYXVkaW8ucHJvY2Vzc29yOm51bGwhPT0oYz1uLmF1ZGlvKSYmdm9pZCAwIT09YyYmYy5wcm9jZXNzb3ImJihyLmF1ZGlvLnByb2Nlc3Nvcj1uLmF1ZGlvLnByb2Nlc3Nvcil9ZWxzZSBuLmF1ZGlvJiYoci5hdWRpbz1uLmF1ZGlvKTt0aGlzLl9tYXliZVVwZGF0ZUlucHV0U2V0dGluZ3Mocil9fSx7a2V5OlwiX2RldmljZXNGcm9tSW5wdXRTZXR0aW5nc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0obnVsbD09ZXx8bnVsbD09PSh0PWUudmlkZW8pfHx2b2lkIDA9PT10fHxudWxsPT09KHQ9dC5zZXR0aW5ncyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZGV2aWNlSWQpfHxudWxsLGk9KG51bGw9PWV8fG51bGw9PT0obj1lLmF1ZGlvKXx8dm9pZCAwPT09bnx8bnVsbD09PShuPW4uc2V0dGluZ3MpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmRldmljZUlkKXx8bnVsbCxvPXRoaXMuX3ByZWxvYWRDYWNoZS5vdXRwdXREZXZpY2VJZHx8bnVsbDtyZXR1cm57Y2FtZXJhOnI/e2RldmljZUlkOnJ9Ont9LG1pYzppP3tkZXZpY2VJZDppfTp7fSxzcGVha2VyOm8/e2RldmljZUlkOm99Ont9fX19LHtrZXk6XCJ1cGRhdGVJbnB1dFNldHRpbmdzXCIsdmFsdWU6KHE9cCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGhjKCksbWMoZSk/ZS52aWRlb3x8ZS5hdWRpbz8oeWMoZSx0aGlzLnByb3BlcnRpZXMuZGFpbHlDb25maWcsdGhpcy5fc2hhcmVkVHJhY2tzKSx0aGlzLl9jYWxsT2JqZWN0TW9kZSYmIXRoaXMuX2NhbGxNYWNoaW5lSW5pdGlhbGl6ZWQ/KHRoaXMuX3VwZGF0ZVByZWxvYWRDYWNoZUlucHV0U2V0dGluZ3MoZSwhMCksdGhpcy5fZ2V0SW5wdXRTZXR0aW5ncygpKTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwidXBkYXRlLWlucHV0LXNldHRpbmdzXCIsaW5wdXRTZXR0aW5nczplfSwoZnVuY3Rpb24oaSl7aWYoaS5lcnJvcilyKGkuZXJyb3IpO2Vsc2V7aWYoaS5yZXR1cm5QcmVsb2FkQ2FjaGUpcmV0dXJuIHQuX3VwZGF0ZVByZWxvYWRDYWNoZUlucHV0U2V0dGluZ3MoZSwhMCksdm9pZCBuKHQuX2dldElucHV0U2V0dGluZ3MoKSk7dC5fbWF5YmVVcGRhdGVJbnB1dFNldHRpbmdzKGkuaW5wdXRTZXR0aW5ncyksbih0Ll9wcmVwSW5wdXRTZXR0aW5nc0ZvclNoYXJpbmcoaS5pbnB1dFNldHRpbmdzLCEwKSl9fSkpfSkpKTp0aGlzLl9nZXRJbnB1dFNldHRpbmdzKCk6KGNvbnNvbGUuZXJyb3IoU2MoKSksUHJvbWlzZS5yZWplY3QoU2MoKSkpfSkpLGZ1bmN0aW9uKGUpe3JldHVybiBxLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5Olwic2V0QmFuZHdpZHRoXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rYnMsbj1lLnRyYWNrQ29uc3RyYWludHM7aWYoaGMoKSx0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkKXJldHVybiB0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic2V0LWJhbmR3aWR0aFwiLGticzp0LHRyYWNrQ29uc3RyYWludHM6bn0pLHRoaXN9fSx7a2V5OlwiZ2V0RGFpbHlMYW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKGhjKCksdGhpcy5fY2FsbE1hY2hpbmVJbml0aWFsaXplZClyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe2Uuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJnZXQtZGFpbHktbGFuZ1wifSwoZnVuY3Rpb24oZSl7ZGVsZXRlIGUuYWN0aW9uLGRlbGV0ZSBlLmNhbGxiYWNrU3RhbXAsdChlKX0pKX0pKX19LHtrZXk6XCJzZXREYWlseUxhbmdcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gaGMoKSx0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic2V0LWRhaWx5LWxhbmdcIixsYW5nOmV9KSx0aGlzfX0se2tleTpcInNldFByb3h5VXJsXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzZXQtcHJveHktdXJsXCIscHJveHlVcmw6ZX0pLHRoaXN9fSx7a2V5Olwic2V0SWNlQ29uZmlnXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzZXQtaWNlLWNvbmZpZ1wiLGljZUNvbmZpZzplfSksdGhpc319LHtrZXk6XCJtZWV0aW5nU2Vzc2lvblN1bW1hcnlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybltfaSx3aV0uaW5jbHVkZXModGhpcy5fY2FsbFN0YXRlKT90aGlzLl9maW5hbFN1bW1hcnlPZlByZXZTZXNzaW9uOnRoaXMuX21lZXRpbmdTZXNzaW9uU3VtbWFyeX19LHtrZXk6XCJnZXRNZWV0aW5nU2Vzc2lvblwiLHZhbHVlOigkPXAoKGZ1bmN0aW9uKigpe3ZhciBlPXRoaXM7cmV0dXJuIGNvbnNvbGUud2FybihcImdldE1lZXRpbmdTZXNzaW9uKCkgaXMgZGVwcmVjYXRlZDogdXNlIG1lZXRpbmdTZXNzaW9uU3VtbWFyeSgpLCB3aGljaCB3aWxsIHJldHVybiBpbW1lZGlhdGVseVwiKSxzYyh0aGlzLl9jYWxsU3RhdGUsXCJnZXRNZWV0aW5nU2Vzc2lvbigpXCIpLG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZ2V0LW1lZXRpbmctc2Vzc2lvblwifSwoZnVuY3Rpb24oZSl7ZGVsZXRlIGUuYWN0aW9uLGRlbGV0ZSBlLmNhbGxiYWNrU3RhbXAsdChlKX0pKX0pKX0pKSxmdW5jdGlvbigpe3JldHVybiAkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwibWVldGluZ1Nlc3Npb25TdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHNjKHRoaXMuX2NhbGxTdGF0ZSxcIm1lZXRpbmdTZXNzaW9uU3RhdGVcIiksdGhpcy5fbWVldGluZ1Nlc3Npb25TdGF0ZX19LHtrZXk6XCJzZXRNZWV0aW5nU2Vzc2lvbkRhdGFcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJyZXBsYWNlXCI7ZGModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJzZXRNZWV0aW5nU2Vzc2lvbkRhdGEoKVwiKSxzYyh0aGlzLl9jYWxsU3RhdGUsXCJzZXRNZWV0aW5nU2Vzc2lvbkRhdGFcIik7dHJ5eyFmdW5jdGlvbihlLHQpe25ldyBXcyh7ZGF0YTplLG1lcmdlU3RyYXRlZ3k6dH0pfShlLHQpfWNhdGNoKGUpe3Rocm93IGNvbnNvbGUuZXJyb3IoZSksZX10cnl7dGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1zZXNzaW9uLWRhdGFcIixkYXRhOmUsbWVyZ2VTdHJhdGVneTp0fSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc2V0dGluZyBtZWV0aW5nIHNlc3Npb24gZGF0YTogXCIuY29uY2F0KGUpKX19fSx7a2V5Olwic2V0VXNlck5hbWVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMucHJvcGVydGllcy51c2VyTmFtZT1lLG5ldyBQcm9taXNlKChmdW5jdGlvbihyKXtuLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic2V0LXVzZXItbmFtZVwiLG5hbWU6bnVsbCE9ZT9lOlwiXCIsdGhpc01lZXRpbmdPbmx5OnlzKCl8fCEhdCYmISF0LnRoaXNNZWV0aW5nT25seX0sKGZ1bmN0aW9uKGUpe2RlbGV0ZSBlLmFjdGlvbixkZWxldGUgZS5jYWxsYmFja1N0YW1wLHIoZSl9KSl9KSl9fSx7a2V5Olwic2V0VXNlckRhdGFcIix2YWx1ZTooSj1wKChmdW5jdGlvbiooZSl7dmFyIHQ9dGhpczt0cnl7dmMoZSl9Y2F0Y2goZSl7dGhyb3cgY29uc29sZS5lcnJvcihlKSxlfWlmKHRoaXMucHJvcGVydGllcy51c2VyRGF0YT1lLHRoaXMuX2NhbGxNYWNoaW5lSW5pdGlhbGl6ZWQpcmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuKXt0cnl7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC11c2VyLWRhdGFcIix1c2VyRGF0YTplfSwoZnVuY3Rpb24oZSl7ZGVsZXRlIGUuYWN0aW9uLGRlbGV0ZSBlLmNhbGxiYWNrU3RhbXAsbihlKX0pKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzZXR0aW5nIHVzZXIgZGF0YTogXCIuY29uY2F0KGUpKX19KSl9KSksZnVuY3Rpb24oZSl7cmV0dXJuIEouYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJ2YWxpZGF0ZUF1ZGlvTGV2ZWxJbnRlcnZhbFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGUmJihlPDEwMHx8XCJudW1iZXJcIiE9dHlwZW9mIGUpKXRocm93IG5ldyBFcnJvcihcIlRoZSBpbnRlcnZhbCBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAxMDAgbWlsbGlzZWNvbmRzLlwiKX19LHtrZXk6XCJzdGFydExvY2FsQXVkaW9MZXZlbE9ic2VydmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgQXVkaW9Xb3JrbGV0Tm9kZSYmIXlzKCkpdGhyb3cgbmV3IEVycm9yKFwic3RhcnRMb2NhbEF1ZGlvTGV2ZWxPYnNlcnZlcigpIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyXCIpO2lmKHRoaXMudmFsaWRhdGVBdWRpb0xldmVsSW50ZXJ2YWwoZSksdGhpcy5fY2FsbE1hY2hpbmVJbml0aWFsaXplZClyZXR1cm4gdGhpcy5faXNMb2NhbEF1ZGlvTGV2ZWxPYnNlcnZlclJ1bm5pbmc9ITAsbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInN0YXJ0LWxvY2FsLWF1ZGlvLWxldmVsLW9ic2VydmVyXCIsaW50ZXJ2YWw6ZX0sKGZ1bmN0aW9uKGUpe3QuX2lzTG9jYWxBdWRpb0xldmVsT2JzZXJ2ZXJSdW5uaW5nPSFlLmVycm9yLGUuZXJyb3I/cih7ZXJyb3I6ZS5lcnJvcn0pOm4oKX0pKX0pKTt0aGlzLl9wcmVsb2FkQ2FjaGUubG9jYWxBdWRpb0xldmVsT2JzZXJ2ZXI9e2VuYWJsZWQ6ITAsaW50ZXJ2YWw6ZX19fSx7a2V5OlwiaXNMb2NhbEF1ZGlvTGV2ZWxPYnNlcnZlclJ1bm5pbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0xvY2FsQXVkaW9MZXZlbE9ic2VydmVyUnVubmluZ319LHtrZXk6XCJzdG9wTG9jYWxBdWRpb0xldmVsT2JzZXJ2ZXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3ByZWxvYWRDYWNoZS5sb2NhbEF1ZGlvTGV2ZWxPYnNlcnZlcj1udWxsLHRoaXMuX2xvY2FsQXVkaW9MZXZlbD0wLHRoaXMuX2lzTG9jYWxBdWRpb0xldmVsT2JzZXJ2ZXJSdW5uaW5nPSExLHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzdG9wLWxvY2FsLWF1ZGlvLWxldmVsLW9ic2VydmVyXCJ9KX19LHtrZXk6XCJzdGFydFJlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWxPYnNlcnZlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy52YWxpZGF0ZUF1ZGlvTGV2ZWxJbnRlcnZhbChlKSx0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkKXJldHVybiB0aGlzLl9pc1JlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWxPYnNlcnZlclJ1bm5pbmc9ITAsbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInN0YXJ0LXJlbW90ZS1wYXJ0aWNpcGFudHMtYXVkaW8tbGV2ZWwtb2JzZXJ2ZXJcIixpbnRlcnZhbDplfSwoZnVuY3Rpb24oZSl7dC5faXNSZW1vdGVQYXJ0aWNpcGFudHNBdWRpb0xldmVsT2JzZXJ2ZXJSdW5uaW5nPSFlLmVycm9yLGUuZXJyb3I/cih7ZXJyb3I6ZS5lcnJvcn0pOm4oKX0pKX0pKTt0aGlzLl9wcmVsb2FkQ2FjaGUucmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbE9ic2VydmVyPXtlbmFibGVkOiEwLGludGVydmFsOmV9fX0se2tleTpcImlzUmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbE9ic2VydmVyUnVubmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzUmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbE9ic2VydmVyUnVubmluZ319LHtrZXk6XCJzdG9wUmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbE9ic2VydmVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9wcmVsb2FkQ2FjaGUucmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbE9ic2VydmVyPW51bGwsdGhpcy5fcmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbD17fSx0aGlzLl9pc1JlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWxPYnNlcnZlclJ1bm5pbmc9ITEsdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInN0b3AtcmVtb3RlLXBhcnRpY2lwYW50cy1hdWRpby1sZXZlbC1vYnNlcnZlclwifSl9fSx7a2V5Olwic3RhcnRDYW1lcmFcIix2YWx1ZTooVj1wKChmdW5jdGlvbiooKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2lmKGRjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwic3RhcnRDYW1lcmEoKVwiKSxjYyh0aGlzLl9jYWxsU3RhdGUsdGhpcy5faXNQcmVwYXJpbmdUb0pvaW4sXCJzdGFydENhbWVyYSgpXCIsXCJEaWQgeW91IG1lYW4gdG8gdXNlIHNldExvY2FsQXVkaW8oKSBhbmQvb3Igc2V0TG9jYWxWaWRlbygpIGluc3RlYWQ/XCIpLHRoaXMubmVlZHNMb2FkKCkpdHJ5e3lpZWxkIHRoaXMubG9hZCh0KX1jYXRjaChlKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZSl9ZWxzZXtpZih0aGlzLl9kaWRQcmVBdXRoKXtpZih0LnVybCYmdC51cmwhPT10aGlzLnByb3BlcnRpZXMudXJsKXJldHVybiBjb25zb2xlLmVycm9yKFwidXJsIGluIHN0YXJ0Q2FtZXJhKCkgaXMgZGlmZmVyZW50IHRoYW4gdGhlIG9uZSB1c2VkIGluIHByZUF1dGgoKVwiKSxQcm9taXNlLnJlamVjdCgpO2lmKHQudG9rZW4mJnQudG9rZW4hPT10aGlzLnByb3BlcnRpZXMudG9rZW4pcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJ0b2tlbiBpbiBzdGFydENhbWVyYSgpIGlzIGRpZmZlcmVudCB0aGFuIHRoZSBvbmUgdXNlZCBpbiBwcmVBdXRoKClcIiksUHJvbWlzZS5yZWplY3QoKX10aGlzLnZhbGlkYXRlUHJvcGVydGllcyh0KSx0aGlzLnByb3BlcnRpZXM9VmEoVmEoe30sdGhpcy5wcm9wZXJ0aWVzKSx0KX1yZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe2UuX3ByZWxvYWRDYWNoZS5pbnB1dFNldHRpbmdzPWUuX3ByZXBJbnB1dFNldHRpbmdzRm9yU2hhcmluZyhlLl9pbnB1dFNldHRpbmdzLCExKSxlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic3RhcnQtY2FtZXJhXCIscHJvcGVydGllczpvYyhlLnByb3BlcnRpZXMsZS5jYWxsQ2xpZW50SWQpLHByZWxvYWRDYWNoZTpvYyhlLl9wcmVsb2FkQ2FjaGUsZS5jYWxsQ2xpZW50SWQpfSwoZnVuY3Rpb24oZSl7dCh7Y2FtZXJhOmUuY2FtZXJhLG1pYzplLm1pYyxzcGVha2VyOmUuc3BlYWtlcn0pfSkpfSkpfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIFYuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJ2YWxpZGF0ZUN1c3RvbVRyYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe2lmKG4mJm4ubGVuZ3RoPjUwKXRocm93IG5ldyBFcnJvcihcIkN1c3RvbSB0cmFjayBgdHJhY2tOYW1lYCBtdXN0IG5vdCBiZSBtb3JlIHRoYW4gNTAgY2hhcmFjdGVyc1wiKTtpZih0JiZcIm11c2ljXCIhPT10JiZcInNwZWVjaFwiIT09dCYmISh0IGluc3RhbmNlb2YgT2JqZWN0KSl0aHJvdyBuZXcgRXJyb3IoXCJDdXN0b20gdHJhY2sgYG1vZGVgIG11c3QgYmUgZWl0aGVyIGBtdXNpY2AgfCBgc3BlZWNoYCB8IGBEYWlseU1pY0F1ZGlvTW9kZVNldHRpbmdzYCBvciBgdW5kZWZpbmVkYFwiKTtpZighIW4mJltcImNhbS1hdWRpb1wiLFwiY2FtLXZpZGVvXCIsXCJzY3JlZW4tdmlkZW9cIixcInNjcmVlbi1hdWRpb1wiLFwicm1wQXVkaW9cIixcInJtcFZpZGVvXCIsXCJjdXN0b21WaWRlb0RlZmF1bHRzXCJdLmluY2x1ZGVzKG4pKXRocm93IG5ldyBFcnJvcihcIkN1c3RvbSB0cmFjayBgdHJhY2tOYW1lYCBtdXN0IG5vdCBtYXRjaCBhIHRyYWNrIG5hbWUgYWxyZWFkeSB1c2VkIGJ5IGRhaWx5OiBjYW0tYXVkaW8sIGNhbS12aWRlbywgY3VzdG9tVmlkZW9EZWZhdWx0cywgc2NyZWVuLXZpZGVvLCBzY3JlZW4tYXVkaW8sIHJtcEF1ZGlvLCBybXBWaWRlb1wiKTtpZighKGUgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbVRyYWNrKSl0aHJvdyBuZXcgRXJyb3IoXCJDdXN0b20gdHJhY2tzIHByb3ZpZGVkIG11c3QgYmUgaW5zdGFuY2VzIG9mIE1lZGlhU3RyZWFtVHJhY2tcIil9fSx7a2V5Olwic3RhcnRDdXN0b21UcmFja1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7dHJhY2s6dHJhY2ssbW9kZTptb2RlLHRyYWNrTmFtZTp0cmFja05hbWV9O3JldHVybiBoYygpLHNjKHRoaXMuX2NhbGxTdGF0ZSxcInN0YXJ0Q3VzdG9tVHJhY2soKVwiKSx0aGlzLnZhbGlkYXRlQ3VzdG9tVHJhY2sodC50cmFjayx0Lm1vZGUsdC50cmFja05hbWUpLG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe2UuX3NoYXJlZFRyYWNrcy5jdXN0b21UcmFjaz10LnRyYWNrLHQudHJhY2s9bHMsZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInN0YXJ0LWN1c3RvbS10cmFja1wiLHByb3BlcnRpZXM6dH0sKGZ1bmN0aW9uKGUpe2UuZXJyb3I/cih7ZXJyb3I6ZS5lcnJvcn0pOm4oZS5tZWRpYVRhZyl9KSl9KSl9fSx7a2V5Olwic3RvcEN1c3RvbVRyYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gaGMoKSxzYyh0aGlzLl9jYWxsU3RhdGUsXCJzdG9wQ3VzdG9tVHJhY2soKVwiKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInN0b3AtY3VzdG9tLXRyYWNrXCIsbWVkaWFUYWc6ZX0sKGZ1bmN0aW9uKGUpe24oZS5tZWRpYVRhZyl9KSl9KSl9fSx7a2V5Olwic2V0Q2FtZXJhXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZmMoKSxsYyh0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkLFwic2V0Q2FtZXJhKClcIiksbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4pe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzZXQtY2FtZXJhXCIsY2FtZXJhRGV2aWNlSWQ6ZX0sKGZ1bmN0aW9uKGUpe24oe2RldmljZTplLmRldmljZX0pfSkpfSkpfX0se2tleTpcInNldEF1ZGlvRGV2aWNlXCIsdmFsdWU6KFU9cCgoZnVuY3Rpb24qKGUpe3JldHVybiBmYygpLHRoaXMubmF0aXZlVXRpbHMoKS5zZXRBdWRpb0RldmljZShlKSx7ZGV2aWNlSWQ6eWllbGQgdGhpcy5uYXRpdmVVdGlscygpLmdldEF1ZGlvRGV2aWNlKCl9fSkpLGZ1bmN0aW9uKGUpe3JldHVybiBVLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiY3ljbGVDYW1lcmFcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuKXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiY3ljbGUtY2FtZXJhXCIscHJvcGVydGllczp0fSwoZnVuY3Rpb24oZSl7bih7ZGV2aWNlOmUuZGV2aWNlfSl9KSl9KSl9fSx7a2V5OlwiY3ljbGVNaWNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGhjKCksbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe2Uuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJjeWNsZS1taWNcIn0sKGZ1bmN0aW9uKGUpe3Qoe2RldmljZTplLmRldmljZX0pfSkpfSkpfX0se2tleTpcImdldENhbWVyYUZhY2luZ01vZGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZjKCksbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe2Uuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJnZXQtY2FtZXJhLWZhY2luZy1tb2RlXCJ9LChmdW5jdGlvbihlKXt0KGUuZmFjaW5nTW9kZSl9KSl9KSl9fSx7a2V5Olwic2V0SW5wdXREZXZpY2VzQXN5bmNcIix2YWx1ZTooQj1wKChmdW5jdGlvbiooZSl7dmFyIHQ9dGhpcyxuPWUuYXVkaW9EZXZpY2VJZCxyPWUudmlkZW9EZXZpY2VJZCxpPWUuYXVkaW9Tb3VyY2Usbz1lLnZpZGVvU291cmNlO2lmKGhjKCksdm9pZCAwIT09aSYmKG49aSksdm9pZCAwIT09byYmKHI9byksXCJib29sZWFuXCI9PXR5cGVvZiBuJiYodGhpcy5fc2V0QWxsb3dMb2NhbEF1ZGlvKG4pLG49dm9pZCAwKSxcImJvb2xlYW5cIj09dHlwZW9mIHImJih0aGlzLl9zZXRBbGxvd0xvY2FsVmlkZW8ocikscj12b2lkIDApLCFuJiYhcilyZXR1cm4geWllbGQgdGhpcy5nZXRJbnB1dERldmljZXMoKTt2YXIgcz17fTtyZXR1cm4gbiYmKG4gaW5zdGFuY2VvZiBNZWRpYVN0cmVhbVRyYWNrPyh0aGlzLl9zaGFyZWRUcmFja3MuYXVkaW9UcmFjaz1uLG49bHMscy5hdWRpbz17c2V0dGluZ3M6e2N1c3RvbVRyYWNrOm59fSk6KGRlbGV0ZSB0aGlzLl9zaGFyZWRUcmFja3MuYXVkaW9UcmFjayxzLmF1ZGlvPXtzZXR0aW5nczp7ZGV2aWNlSWQ6bn19KSksciYmKHIgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbVRyYWNrPyh0aGlzLl9zaGFyZWRUcmFja3MudmlkZW9UcmFjaz1yLHI9bHMscy52aWRlbz17c2V0dGluZ3M6e2N1c3RvbVRyYWNrOnJ9fSk6KGRlbGV0ZSB0aGlzLl9zaGFyZWRUcmFja3MudmlkZW9UcmFjayxzLnZpZGVvPXtzZXR0aW5nczp7ZGV2aWNlSWQ6cn19KSksdGhpcy5fY2FsbE9iamVjdE1vZGUmJnRoaXMubmVlZHNMb2FkKCk/KHRoaXMuX3VwZGF0ZVByZWxvYWRDYWNoZUlucHV0U2V0dGluZ3MocywhMSksdGhpcy5fZGV2aWNlc0Zyb21JbnB1dFNldHRpbmdzKHRoaXMuX2lucHV0U2V0dGluZ3MpKTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1pbnB1dC1kZXZpY2VzXCIsYXVkaW9EZXZpY2VJZDpuLHZpZGVvRGV2aWNlSWQ6cn0sKGZ1bmN0aW9uKG4pe2lmKGRlbGV0ZSBuLmFjdGlvbixkZWxldGUgbi5jYWxsYmFja1N0YW1wLG4ucmV0dXJuUHJlbG9hZENhY2hlKXJldHVybiB0Ll91cGRhdGVQcmVsb2FkQ2FjaGVJbnB1dFNldHRpbmdzKHMsITEpLHZvaWQgZSh0Ll9kZXZpY2VzRnJvbUlucHV0U2V0dGluZ3ModC5faW5wdXRTZXR0aW5ncykpO2Uobil9KSl9KSl9KSksZnVuY3Rpb24oZSl7cmV0dXJuIEIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJzZXRPdXRwdXREZXZpY2VBc3luY1wiLHZhbHVlOihGPXAoKGZ1bmN0aW9uKihlKXt2YXIgdD10aGlzLG49ZS5vdXRwdXREZXZpY2VJZDtyZXR1cm4gaGMoKSxuJiYodGhpcy5fcHJlbG9hZENhY2hlLm91dHB1dERldmljZUlkPW4pLHRoaXMuX2NhbGxPYmplY3RNb2RlJiZ0aGlzLm5lZWRzTG9hZCgpP3RoaXMuX2RldmljZXNGcm9tSW5wdXRTZXR0aW5ncyh0aGlzLl9pbnB1dFNldHRpbmdzKTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1vdXRwdXQtZGV2aWNlXCIsb3V0cHV0RGV2aWNlSWQ6bn0sKGZ1bmN0aW9uKG4pe2RlbGV0ZSBuLmFjdGlvbixkZWxldGUgbi5jYWxsYmFja1N0YW1wLG4ucmV0dXJuUHJlbG9hZENhY2hlP2UodC5fZGV2aWNlc0Zyb21JbnB1dFNldHRpbmdzKHQuX2lucHV0U2V0dGluZ3MpKTplKG4pfSkpfSkpfSkpLGZ1bmN0aW9uKGUpe3JldHVybiBGLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiZ2V0SW5wdXREZXZpY2VzXCIsdmFsdWU6KFI9cCgoZnVuY3Rpb24qKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fY2FsbE9iamVjdE1vZGUmJnRoaXMubmVlZHNMb2FkKCk/dGhpcy5fZGV2aWNlc0Zyb21JbnB1dFNldHRpbmdzKHRoaXMuX2lucHV0U2V0dGluZ3MpOm5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZ2V0LWlucHV0LWRldmljZXNcIn0sKGZ1bmN0aW9uKG4pe24ucmV0dXJuUHJlbG9hZENhY2hlP3QoZS5fZGV2aWNlc0Zyb21JbnB1dFNldHRpbmdzKGUuX2lucHV0U2V0dGluZ3MpKTp0KHtjYW1lcmE6bi5jYW1lcmEsbWljOm4ubWljLHNwZWFrZXI6bi5zcGVha2VyfSl9KSl9KSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gUi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcIm5hdGl2ZUluQ2FsbEF1ZGlvTW9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGZjKCksdGhpcy5fbmF0aXZlSW5DYWxsQXVkaW9Nb2RlfX0se2tleTpcInNldE5hdGl2ZUluQ2FsbEF1ZGlvTW9kZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGZjKCksW1dhLEhhXS5pbmNsdWRlcyhlKSl7aWYoZSE9PXRoaXMuX25hdGl2ZUluQ2FsbEF1ZGlvTW9kZSlyZXR1cm4gdGhpcy5fbmF0aXZlSW5DYWxsQXVkaW9Nb2RlPWUsIXRoaXMuZGlzYWJsZVJlYWN0TmF0aXZlQXV0b0RldmljZU1hbmFnZW1lbnQoXCJhdWRpb1wiKSYmYWModGhpcy5fY2FsbFN0YXRlLHRoaXMuX2lzUHJlcGFyaW5nVG9Kb2luKSYmdGhpcy5uYXRpdmVVdGlscygpLnNldEF1ZGlvTW9kZSh0aGlzLl9uYXRpdmVJbkNhbGxBdWRpb01vZGUpLHRoaXN9ZWxzZSBjb25zb2xlLmVycm9yKFwiaW52YWxpZCBpbi1jYWxsIGF1ZGlvIG1vZGUgc3BlY2lmaWVkOiBcIixlKX19LHtrZXk6XCJwcmVBdXRoXCIsdmFsdWU6KEQ9cCgoZnVuY3Rpb24qKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZihkYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInByZUF1dGgoKVwiKSxjYyh0aGlzLl9jYWxsU3RhdGUsdGhpcy5faXNQcmVwYXJpbmdUb0pvaW4sXCJwcmVBdXRoKClcIiksdGhpcy5uZWVkc0xvYWQoKSYmKHlpZWxkIHRoaXMubG9hZCh0KSksIXQudXJsKXRocm93IG5ldyBFcnJvcihcInByZUF1dGgoKSByZXF1aXJlcyBhdCBsZWFzdCBhIHVybCB0byBiZSBwcm92aWRlZFwiKTtyZXR1cm4gdGhpcy52YWxpZGF0ZVByb3BlcnRpZXModCksdGhpcy5wcm9wZXJ0aWVzPVZhKFZhKHt9LHRoaXMucHJvcGVydGllcyksdCksbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7ZS5fcHJlbG9hZENhY2hlLmlucHV0U2V0dGluZ3M9ZS5fcHJlcElucHV0U2V0dGluZ3NGb3JTaGFyaW5nKGUuX2lucHV0U2V0dGluZ3MsITEpLGUuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJkYWlseS1tZXRob2QtcHJlYXV0aFwiLHByb3BlcnRpZXM6b2MoZS5wcm9wZXJ0aWVzLGUuY2FsbENsaWVudElkKSxwcmVsb2FkQ2FjaGU6b2MoZS5fcHJlbG9hZENhY2hlLGUuY2FsbENsaWVudElkKX0sKGZ1bmN0aW9uKHIpe3JldHVybiByLmVycm9yP24oci5lcnJvcik6ci5hY2Nlc3M/KGUuX2RpZFByZUF1dGg9ITAsdm9pZCB0KHthY2Nlc3M6ci5hY2Nlc3N9KSk6bihuZXcgRXJyb3IoXCJ1bmtub3duIGVycm9yIGluIHByZUF1dGgoKVwiKSl9KSl9KSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gRC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImxvYWRcIix2YWx1ZTooTD1wKChmdW5jdGlvbiooZSl7dmFyIHQ9dGhpcztpZih0aGlzLm5lZWRzTG9hZCgpKXtpZih0aGlzLl9kZXN0cm95ZWQmJih0aGlzLl9sb2dVc2VBZnRlckRlc3Ryb3koKSx0aGlzLnN0cmljdE1vZGUpKXRocm93IG5ldyBFcnJvcihcIlVzZSBhZnRlciBkZXN0cm95XCIpO2lmKGUmJih0aGlzLnZhbGlkYXRlUHJvcGVydGllcyhlKSx0aGlzLnByb3BlcnRpZXM9VmEoVmEoe30sdGhpcy5wcm9wZXJ0aWVzKSxlKSksIXRoaXMuX2NhbGxPYmplY3RNb2RlJiYhdGhpcy5wcm9wZXJ0aWVzLnVybCl0aHJvdyBuZXcgRXJyb3IoXCJjYW4ndCBsb2FkIGlmcmFtZSBtZWV0aW5nIGJlY2F1c2UgdXJsIHByb3BlcnR5IGlzbid0IHNldFwiKTtyZXR1cm4gdGhpcy5fdXBkYXRlQ2FsbFN0YXRlKGdpKSx0aGlzLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjp0b30pLHRoaXMuX2NhbGxPYmplY3RNb2RlP25ldyBQcm9taXNlKChmdW5jdGlvbihlLG4pe3QuX2NhbGxPYmplY3RMb2FkZXIuY2FuY2VsKCk7dmFyIHI9RGF0ZS5ub3coKTt0Ll9jYWxsT2JqZWN0TG9hZGVyLmxvYWQodC5wcm9wZXJ0aWVzLmRhaWx5Q29uZmlnLChmdW5jdGlvbihuKXt0Ll9idW5kbGVMb2FkVGltZT1uP1wibm8tb3BcIjpEYXRlLm5vdygpLXIsdC5fdXBkYXRlQ2FsbFN0YXRlKG1pKSxuJiZ0LmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjpyb30pLGUoKX0pLChmdW5jdGlvbihlLHIpe2lmKHQuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOm5vfSksIXIpe3QuX3VwZGF0ZUNhbGxTdGF0ZSh3aSksdC5yZXNldE1lZXRpbmdEZXBlbmRlbnRWYXJzKCk7dmFyIGk9e2FjdGlvbjpucyxlcnJvck1zZzplLm1zZyxlcnJvcjp7dHlwZTpcImNvbm5lY3Rpb24tZXJyb3JcIixtc2c6XCJGYWlsZWQgdG8gbG9hZCBjYWxsIG9iamVjdCBidW5kbGUuXCIsZGV0YWlsczp7b246XCJsb2FkXCIsc291cmNlRXJyb3I6ZSxidW5kbGVVcmw6Wih0LnByb3BlcnRpZXMuZGFpbHlDb25maWcpfX19O3QuX21heWJlU2VuZFRvU2VudHJ5KGkpLHQuZW1pdERhaWx5SlNFdmVudChpKSxuKGUubXNnKX19KSl9KSk6KHRoaXMuX2lmcmFtZS5zcmM9WCh0aGlzLmFzc2VtYmxlTWVldGluZ1VybCgpLHRoaXMucHJvcGVydGllcy5kYWlseUNvbmZpZyksbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsbil7dC5fbG9hZGVkQ2FsbGJhY2s9ZnVuY3Rpb24ocil7dC5fY2FsbFN0YXRlIT09d2k/KHQuX3VwZGF0ZUNhbGxTdGF0ZShtaSksKHQucHJvcGVydGllcy5jc3NGaWxlfHx0LnByb3BlcnRpZXMuY3NzVGV4dCkmJnQubG9hZENzcyh0LnByb3BlcnRpZXMpLGUoKSk6bihyKX19KSkpfX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gTC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImpvaW5cIix2YWx1ZTooST1wKChmdW5jdGlvbiooKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3RoaXMuX3Rlc3RDYWxsSW5Qcm9ncmVzcyYmdGhpcy5zdG9wVGVzdENhbGxRdWFsaXR5KCk7dmFyIG49ITE7aWYodGhpcy5uZWVkc0xvYWQoKSl7dGhpcy51cGRhdGVJc1ByZXBhcmluZ1RvSm9pbighMCk7dHJ5e3lpZWxkIHRoaXMubG9hZCh0KX1jYXRjaChlKXtyZXR1cm4gdGhpcy51cGRhdGVJc1ByZXBhcmluZ1RvSm9pbighMSksUHJvbWlzZS5yZWplY3QoZSl9fWVsc2V7aWYobj0hKCF0aGlzLnByb3BlcnRpZXMuY3NzRmlsZSYmIXRoaXMucHJvcGVydGllcy5jc3NUZXh0KSx0aGlzLl9kaWRQcmVBdXRoKXtpZih0LnVybCYmdC51cmwhPT10aGlzLnByb3BlcnRpZXMudXJsKXJldHVybiBjb25zb2xlLmVycm9yKFwidXJsIGluIGpvaW4oKSBpcyBkaWZmZXJlbnQgdGhhbiB0aGUgb25lIHVzZWQgaW4gcHJlQXV0aCgpXCIpLHRoaXMudXBkYXRlSXNQcmVwYXJpbmdUb0pvaW4oITEpLFByb21pc2UucmVqZWN0KCk7aWYodC50b2tlbiYmdC50b2tlbiE9PXRoaXMucHJvcGVydGllcy50b2tlbilyZXR1cm4gY29uc29sZS5lcnJvcihcInRva2VuIGluIGpvaW4oKSBpcyBkaWZmZXJlbnQgdGhhbiB0aGUgb25lIHVzZWQgaW4gcHJlQXV0aCgpXCIpLHRoaXMudXBkYXRlSXNQcmVwYXJpbmdUb0pvaW4oITEpLFByb21pc2UucmVqZWN0KCl9aWYodC51cmwmJiF0aGlzLl9jYWxsT2JqZWN0TW9kZSYmdC51cmwmJnQudXJsIT09dGhpcy5wcm9wZXJ0aWVzLnVybClyZXR1cm4gY29uc29sZS5lcnJvcihcInVybCBpbiBqb2luKCkgaXMgZGlmZmVyZW50IHRoYW4gdGhlIG9uZSB1c2VkIGluIGxvYWQoKSAoXCIuY29uY2F0KHRoaXMucHJvcGVydGllcy51cmwsXCIgLT4gXCIpLmNvbmNhdCh0LnVybCxcIilcIikpLHRoaXMudXBkYXRlSXNQcmVwYXJpbmdUb0pvaW4oITEpLFByb21pc2UucmVqZWN0KCk7dGhpcy52YWxpZGF0ZVByb3BlcnRpZXModCksdGhpcy5wcm9wZXJ0aWVzPVZhKFZhKHt9LHRoaXMucHJvcGVydGllcyksdCl9cmV0dXJuIHZvaWQgMCE9PXQuc2hvd0xvY2FsVmlkZW8mJih0aGlzLl9jYWxsT2JqZWN0TW9kZT9jb25zb2xlLmVycm9yKFwic2hvd0xvY2FsVmlkZW8gaXMgbm90IGF2YWlsYWJsZSBpbiBjYWxsT2JqZWN0IG1vZGVcIik6dGhpcy5fc2hvd0xvY2FsVmlkZW89ISF0LnNob3dMb2NhbFZpZGVvKSx2b2lkIDAhPT10LnNob3dQYXJ0aWNpcGFudHNCYXImJih0aGlzLl9jYWxsT2JqZWN0TW9kZT9jb25zb2xlLmVycm9yKFwic2hvd1BhcnRpY2lwYW50c0JhciBpcyBub3QgYXZhaWxhYmxlIGluIGNhbGxPYmplY3QgbW9kZVwiKTp0aGlzLl9zaG93UGFydGljaXBhbnRzQmFyPSEhdC5zaG93UGFydGljaXBhbnRzQmFyKSx0aGlzLl9jYWxsU3RhdGU9PT1iaXx8dGhpcy5fY2FsbFN0YXRlPT09eWk/KGNvbnNvbGUud2FybihcImFscmVhZHkgam9pbmVkIG1lZXRpbmcsIGNhbGwgbGVhdmUoKSBiZWZvcmUgam9pbmluZyBhZ2FpblwiKSx2b2lkIHRoaXMudXBkYXRlSXNQcmVwYXJpbmdUb0pvaW4oITEpKToodGhpcy5fdXBkYXRlQ2FsbFN0YXRlKHlpLCExKSx0aGlzLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjpzb30pLHRoaXMuX3ByZWxvYWRDYWNoZS5pbnB1dFNldHRpbmdzPXRoaXMuX3ByZXBJbnB1dFNldHRpbmdzRm9yU2hhcmluZyh0aGlzLl9pbnB1dFNldHRpbmdzfHx7fSwhMSksdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImpvaW4tbWVldGluZ1wiLHByb3BlcnRpZXM6b2ModGhpcy5wcm9wZXJ0aWVzLHRoaXMuY2FsbENsaWVudElkKSxwcmVsb2FkQ2FjaGU6b2ModGhpcy5fcHJlbG9hZENhY2hlLHRoaXMuY2FsbENsaWVudElkKX0pLG5ldyBQcm9taXNlKChmdW5jdGlvbih0LHIpe2UuX2pvaW5lZENhbGxiYWNrPWZ1bmN0aW9uKGksbyl7aWYoZS5fY2FsbFN0YXRlIT09d2kpe2lmKGUuX3VwZGF0ZUNhbGxTdGF0ZShiaSksaSlmb3IodmFyIHMgaW4gaSl7aWYoZS5fY2FsbE9iamVjdE1vZGUpe3ZhciBhPWUuX2NhbGxNYWNoaW5lKCkuc3RvcmU7dWEoaVtzXSxhKSxkYShpW3NdLGEpLGhhKGlbc10sZS5fcGFydGljaXBhbnRzW3NdLGEpfWUuX3BhcnRpY2lwYW50c1tzXT1WYSh7fSxpW3NdKSxlLnRvZ2dsZVBhcnRpY2lwYW50QXVkaW9CYXNlZE9uTmF0aXZlQXVkaW9Gb2N1cygpfW4mJmUubG9hZENzcyhlLnByb3BlcnRpZXMpLHQoaSl9ZWxzZSByKG8pfX0pKSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gSS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImxlYXZlXCIsdmFsdWU6KGo9cCgoZnVuY3Rpb24qKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fdGVzdENhbGxJblByb2dyZXNzJiZ0aGlzLnN0b3BUZXN0Q2FsbFF1YWxpdHkoKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7ZS5fY2FsbFN0YXRlPT09X2l8fGUuX2NhbGxTdGF0ZT09PXdpP3QoKTplLl9jYWxsT2JqZWN0TG9hZGVyJiYhZS5fY2FsbE9iamVjdExvYWRlci5sb2FkZWQ/KGUuX2NhbGxPYmplY3RMb2FkZXIuY2FuY2VsKCksZS5fdXBkYXRlQ2FsbFN0YXRlKF9pKSxlLnJlc2V0TWVldGluZ0RlcGVuZGVudFZhcnMoKSxlLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjpfaX0pLHQoKSk6KGUuX3Jlc29sdmVMZWF2ZT10LGUuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJsZWF2ZS1tZWV0aW5nXCJ9KSl9KSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gai5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInN0YXJ0U2NyZWVuU2hhcmVcIix2YWx1ZTooQT1wKChmdW5jdGlvbiooKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2lmKGxjKHRoaXMuX2NhbGxNYWNoaW5lSW5pdGlhbGl6ZWQsXCJzdGFydFNjcmVlblNoYXJlKClcIiksdC5zY3JlZW5WaWRlb1NlbmRTZXR0aW5ncyYmdGhpcy5fdmFsaWRhdGVWaWRlb1NlbmRTZXR0aW5ncyhcInNjcmVlblZpZGVvXCIsdC5zY3JlZW5WaWRlb1NlbmRTZXR0aW5ncyksdC5tZWRpYVN0cmVhbSYmKHRoaXMuX3NoYXJlZFRyYWNrcy5zY3JlZW5NZWRpYVN0cmVhbT10Lm1lZGlhU3RyZWFtLHQubWVkaWFTdHJlYW09bHMpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBEYWlseU5hdGl2ZVV0aWxzJiZ2b2lkIDAhPT1EYWlseU5hdGl2ZVV0aWxzLmlzSU9TJiZEYWlseU5hdGl2ZVV0aWxzLmlzSU9TKXt2YXIgbj10aGlzLm5hdGl2ZVV0aWxzKCk7aWYoeWllbGQgbi5pc1NjcmVlbkJlaW5nQ2FwdHVyZWQoKSlyZXR1cm4gdm9pZCB0aGlzLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjp0cyx0eXBlOlwic2NyZWVuLXNoYXJlLWVycm9yXCIsZXJyb3JNc2c6XCJDb3VsZCBub3Qgc3RhcnQgdGhlIHNjcmVlbiBzaGFyaW5nLiBUaGUgc2NyZWVuIGlzIGFscmVhZHkgYmVlbiBjYXB0dXJlZCFcIn0pO24uc2V0U3lzdGVtU2NyZWVuQ2FwdHVyZVN0YXJ0Q2FsbGJhY2soKGZ1bmN0aW9uKCl7bi5zZXRTeXN0ZW1TY3JlZW5DYXB0dXJlU3RhcnRDYWxsYmFjayhudWxsKSxlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOnNzLGNhcHR1cmVPcHRpb25zOnR9KX0pKSxuLnByZXNlbnRTeXN0ZW1TY3JlZW5DYXB0dXJlUHJvbXB0KCl9ZWxzZSB0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOnNzLGNhcHR1cmVPcHRpb25zOnR9KX0pKSxmdW5jdGlvbigpe3JldHVybiBBLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5Olwic3RvcFNjcmVlblNoYXJlXCIsdmFsdWU6ZnVuY3Rpb24oKXtsYyh0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkLFwic3RvcFNjcmVlblNoYXJlKClcIiksdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImxvY2FsLXNjcmVlbi1zdG9wXCJ9KX19LHtrZXk6XCJzdGFydFJlY29yZGluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS50eXBlO2lmKHQmJlwiY2xvdWRcIiE9PXQmJlwicmF3LXRyYWNrc1wiIT09dCYmXCJsb2NhbFwiIT09dCl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHR5cGU6IFwiLmNvbmNhdCh0LFwiLCBhbGxvd2VkIHZhbHVlcyAnY2xvdWQnLCAncmF3LXRyYWNrcycsIG9yICdsb2NhbCdcIikpO3RoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKFZhKHthY3Rpb246XCJsb2NhbC1yZWNvcmRpbmctc3RhcnRcIn0sZSkpfX0se2tleTpcInVwZGF0ZVJlY29yZGluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUubGF5b3V0LG49dm9pZCAwPT09dD97cHJlc2V0OlwiZGVmYXVsdFwifTp0LHI9ZS5pbnN0YW5jZUlkO3RoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJkYWlseS1tZXRob2QtdXBkYXRlLXJlY29yZGluZ1wiLGxheW91dDpuLGluc3RhbmNlSWQ6cn0pfX0se2tleTpcInN0b3BSZWNvcmRpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZShWYSh7YWN0aW9uOlwibG9jYWwtcmVjb3JkaW5nLXN0b3BcIn0sZSkpfX0se2tleTpcInN0YXJ0TGl2ZVN0cmVhbWluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3RoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKFZhKHthY3Rpb246XCJkYWlseS1tZXRob2Qtc3RhcnQtbGl2ZS1zdHJlYW1pbmdcIn0sZSkpfX0se2tleTpcInVwZGF0ZUxpdmVTdHJlYW1pbmdcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmxheW91dCxuPXZvaWQgMD09PXQ/e3ByZXNldDpcImRlZmF1bHRcIn06dCxyPWUuaW5zdGFuY2VJZDt0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXVwZGF0ZS1saXZlLXN0cmVhbWluZ1wiLGxheW91dDpuLGluc3RhbmNlSWQ6cn0pfX0se2tleTpcImFkZExpdmVTdHJlYW1pbmdFbmRwb2ludHNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmVuZHBvaW50cyxuPWUuaW5zdGFuY2VJZDt0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOmFzLGVuZHBvaW50c09wOmZzLGVuZHBvaW50czp0LGluc3RhbmNlSWQ6bn0pfX0se2tleTpcInJlbW92ZUxpdmVTdHJlYW1pbmdFbmRwb2ludHNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmVuZHBvaW50cyxuPWUuaW5zdGFuY2VJZDt0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOmFzLGVuZHBvaW50c09wOnZzLGVuZHBvaW50czp0LGluc3RhbmNlSWQ6bn0pfX0se2tleTpcInN0b3BMaXZlU3RyZWFtaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307dGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoVmEoe2FjdGlvbjpcImRhaWx5LW1ldGhvZC1zdG9wLWxpdmUtc3RyZWFtaW5nXCJ9LGUpKX19LHtrZXk6XCJ2YWxpZGF0ZURhaWx5Q29uZmlnXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jYW1TaW11bGNhc3RFbmNvZGluZ3MmJihjb25zb2xlLndhcm4oXCJjYW1TaW11bGNhc3RFbmNvZGluZ3MgaXMgZGVwcmVjYXRlZC4gVXNlIHNlbmRTZXR0aW5ncywgZm91bmQgaW4gRGFpbHlDYWxsT3B0aW9ucywgdG8gcHJvdmlkZSBjYW1lcmEgc2ltdWxjYXN0IHNldHRpbmdzLlwiKSx0aGlzLnZhbGlkYXRlU2ltdWxjYXN0RW5jb2RpbmdzKGUuY2FtU2ltdWxjYXN0RW5jb2RpbmdzKSksZS5zY3JlZW5TaW11bGNhc3RFbmNvZGluZ3MmJmNvbnNvbGUud2FybihcInNjcmVlblNpbXVsY2FzdEVuY29kaW5ncyBpcyBkZXByZWNhdGVkLiBVc2Ugc2VuZFNldHRpbmdzLCBmb3VuZCBpbiBEYWlseUNhbGxPcHRpb25zLCB0byBwcm92aWRlIHNjcmVlbiBzaW11bGNhc3Qgc2V0dGluZ3MuXCIpLEVzKCkmJmUubm9BdXRvRGVmYXVsdERldmljZUNoYW5nZSYmY29uc29sZS53YXJuKFwibm9BdXRvRGVmYXVsdERldmljZUNoYW5nZSBpcyBub3Qgc3VwcG9ydGVkIG9uIEFuZHJvaWQsIGFuZCB3aWxsIGJlIGlnbm9yZWQuXCIpfX0se2tleTpcInZhbGlkYXRlU2ltdWxjYXN0RW5jb2RpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGwsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO2lmKGUpe2lmKCEoZSBpbnN0YW5jZW9mIEFycmF5fHxBcnJheS5pc0FycmF5KGUpKSl0aHJvdyBuZXcgRXJyb3IoXCJlbmNvZGluZ3MgbXVzdCBiZSBhbiBBcnJheVwiKTtpZighQWMoZS5sZW5ndGgsMSwzKSl0aHJvdyBuZXcgRXJyb3IoXCJlbmNvZGluZ3MgbXVzdCBiZSBhbiBBcnJheSB3aXRoIGJldHdlZW4gMSB0byBcIi5jb25jYXQoMyxcIiBsYXllcnNcIikpO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgaT1lW3JdO2Zvcih2YXIgbyBpbiB0aGlzLl92YWxpZGF0ZUVuY29kaW5nTGF5ZXJIYXNWYWxpZFByb3BlcnRpZXMoaSksaSlpZihZYS5pbmNsdWRlcyhvKSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGlbb10pdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KG8sXCIgbXVzdCBiZSBhIG51bWJlclwiKSk7aWYodCl7dmFyIHM9dFtvXSxhPXMubWluLGM9cy5tYXg7aWYoIUFjKGlbb10sYSxjKSl0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQobyxcIiB2YWx1ZSBub3QgaW4gcmFuZ2UuIHZhbGlkIHJhbmdlOiBcIikuY29uY2F0KGEsXCIgdG8gXCIpLmNvbmNhdChjKSl9fWVsc2UgaWYoIVtcImFjdGl2ZVwiLFwic2NhbGFiaWxpdHlNb2RlXCJdLmluY2x1ZGVzKG8pKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQga2V5IFwiLmNvbmNhdChvLFwiLCB2YWxpZCBrZXlzIGFyZTpcIikrT2JqZWN0LnZhbHVlcyhZYSkpO2lmKG4mJiFpLmhhc093blByb3BlcnR5KFwibWF4Qml0cmF0ZVwiKSl0aHJvdyBuZXcgRXJyb3IoXCJtYXhCaXRyYXRlIGlzIG5vdCBzcGVjaWZpZWRcIil9fX19LHtrZXk6XCJzdGFydFJlbW90ZU1lZGlhUGxheWVyXCIsdmFsdWU6KFA9cCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXMsbj1lLnVybCxyPWUuc2V0dGluZ3MsaT12b2lkIDA9PT1yP3tzdGF0ZTpwcy5QTEFZfTpyO3RyeXshZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCd1cmwgcGFyYW1ldGVyIG11c3QgYmUgXCJzdHJpbmdcIiB0eXBlJyl9KG4pLFBjKGkpLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWlmKCFYYS5pbmNsdWRlcyh0KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGtleSBcIi5jb25jYXQodCxcIiwgdmFsaWQga2V5cyBhcmU6IFwiKS5jb25jYXQoWGEpKTtlLnNpbXVsY2FzdEVuY29kaW5ncyYmdGhpcy52YWxpZGF0ZVNpbXVsY2FzdEVuY29kaW5ncyhlLnNpbXVsY2FzdEVuY29kaW5ncyxLYSwhMCl9KGkpfWNhdGNoKGUpe3Rocm93IGNvbnNvbGUuZXJyb3IoXCJpbnZhbGlkIGFyZ3VtZW50IEVycm9yOiBcIi5jb25jYXQoZSkpLGNvbnNvbGUuZXJyb3IoJ3N0YXJ0UmVtb3RlTWVkaWFQbGF5ZXIgYXJndW1lbnRzIG11c3QgYmUgb2YgdGhlIGZvcm06XFxuICB7IHVybDogXCJwbGF5YmFjayB1cmxcIixcXG4gIHNldHRpbmdzPzpcXG4gIHtzdGF0ZTogXCJwbGF5XCJ8XCJwYXVzZVwiLCBzaW11bGNhc3RFbmNvZGluZ3M/OiBbe31dIH0gfScpLGV9cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHIpe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJkYWlseS1tZXRob2Qtc3RhcnQtcmVtb3RlLW1lZGlhLXBsYXllclwiLHVybDpuLHNldHRpbmdzOml9LChmdW5jdGlvbih0KXt0LmVycm9yP3Ioe2Vycm9yOnQuZXJyb3IsZXJyb3JNc2c6dC5lcnJvck1zZ30pOmUoe3Nlc3Npb25faWQ6dC5zZXNzaW9uX2lkLHJlbW90ZU1lZGlhUGxheWVyU3RhdGU6e3N0YXRlOnQuc3RhdGUsc2V0dGluZ3M6dC5zZXR0aW5nc319KX0pKX0pKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gUC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInN0b3BSZW1vdGVNZWRpYVBsYXllclwiLHZhbHVlOihPPXAoKGZ1bmN0aW9uKihlKXt2YXIgdD10aGlzO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIiByZW1vdGVQbGF5ZXJJRCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nXCIpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXN0b3AtcmVtb3RlLW1lZGlhLXBsYXllclwiLHNlc3Npb25faWQ6ZX0sKGZ1bmN0aW9uKGUpe2UuZXJyb3I/cih7ZXJyb3I6ZS5lcnJvcixlcnJvck1zZzplLmVycm9yTXNnfSk6bigpfSkpfSkpfSkpLGZ1bmN0aW9uKGUpe3JldHVybiBPLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwidXBkYXRlUmVtb3RlTWVkaWFQbGF5ZXJcIix2YWx1ZTooVD1wKChmdW5jdGlvbiooZSl7dmFyIHQ9dGhpcyxuPWUuc2Vzc2lvbl9pZCxyPWUuc2V0dGluZ3M7dHJ5e1BjKHIpfWNhdGNoKGUpe3Rocm93IGNvbnNvbGUuZXJyb3IoXCJpbnZhbGlkIGFyZ3VtZW50IEVycm9yOiBcIi5jb25jYXQoZSkpLGNvbnNvbGUuZXJyb3IoJ3VwZGF0ZVJlbW90ZU1lZGlhUGxheWVyIGFyZ3VtZW50cyBtdXN0IGJlIG9mIHRoZSBmb3JtOlxcbiAgc2Vzc2lvbl9pZDogXCJwYXJ0aWNpcGFudCBzZXNzaW9uXCIsXFxuICB7IHNldHRpbmdzPzoge3N0YXRlOiBcInBsYXlcInxcInBhdXNlXCJ9IH0nKSxlfXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxpKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXVwZGF0ZS1yZW1vdGUtbWVkaWEtcGxheWVyXCIsc2Vzc2lvbl9pZDpuLHNldHRpbmdzOnJ9LChmdW5jdGlvbih0KXt0LmVycm9yP2koe2Vycm9yOnQuZXJyb3IsZXJyb3JNc2c6dC5lcnJvck1zZ30pOmUoe3Nlc3Npb25faWQ6dC5zZXNzaW9uX2lkLHJlbW90ZU1lZGlhUGxheWVyU3RhdGU6e3N0YXRlOnQuc3RhdGUsc2V0dGluZ3M6dC5zZXR0aW5nc319KX0pKX0pKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gVC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInN0YXJ0VHJhbnNjcmlwdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3NjKHRoaXMuX2NhbGxTdGF0ZSxcInN0YXJ0VHJhbnNjcmlwdGlvbigpXCIpLHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKFZhKHthY3Rpb246XCJkYWlseS1tZXRob2Qtc3RhcnQtdHJhbnNjcmlwdGlvblwifSxlKSl9fSx7a2V5OlwidXBkYXRlVHJhbnNjcmlwdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHNjKHRoaXMuX2NhbGxTdGF0ZSxcInVwZGF0ZVRyYW5zY3JpcHRpb24oKVwiKSwhZSl0aHJvdyBuZXcgRXJyb3IoXCJ1cGRhdGVUcmFuc2NyaXB0aW9uIEVycm9yOiBvcHRpb25zIGlzIG1hbmRhdG9yeVwiKTtpZihcIm9iamVjdFwiIT09bihlKSl0aHJvdyBuZXcgRXJyb3IoXCJ1cGRhdGVUcmFuc2NyaXB0aW9uIEVycm9yOiBvcHRpb25zIG11c3QgYmUgb2JqZWN0IHR5cGVcIik7aWYoZS5wYXJ0aWNpcGFudHMmJiFBcnJheS5pc0FycmF5KGUucGFydGljaXBhbnRzKSl0aHJvdyBuZXcgRXJyb3IoXCJ1cGRhdGVUcmFuc2NyaXB0aW9uIEVycm9yOiBwYXJ0aWNpcGFudHMgbXVzdCBiZSBhbiBhcnJheVwiKTt0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZShWYSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXVwZGF0ZS10cmFuc2NyaXB0aW9uXCJ9LGUpKX19LHtrZXk6XCJzdG9wVHJhbnNjcmlwdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHNjKHRoaXMuX2NhbGxTdGF0ZSxcInN0b3BUcmFuc2NyaXB0aW9uKClcIiksZSYmXCJvYmplY3RcIiE9PW4oZSkpdGhyb3cgbmV3IEVycm9yKFwic3RvcFRyYW5zY3JpcHRpb24gRXJyb3I6IG9wdGlvbnMgbXVzdCBiZSBvYmplY3QgdHlwZVwiKTtpZihlJiYhZS5pbnN0YW5jZUlkKXRocm93IG5ldyBFcnJvcignXCJpbnN0YW5jZUlkXCIgbm90IHByb3ZpZGVkJyk7dGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoVmEoe2FjdGlvbjpcImRhaWx5LW1ldGhvZC1zdG9wLXRyYW5zY3JpcHRpb25cIn0sZSkpfX0se2tleTpcInN0YXJ0RGlhbE91dFwiLHZhbHVlOihFPXAoKGZ1bmN0aW9uKihlKXt2YXIgdD10aGlzO3NjKHRoaXMuX2NhbGxTdGF0ZSxcInN0YXJ0RGlhbE91dCgpXCIpO3ZhciBuPWZ1bmN0aW9uKGUpe2lmKGUpe2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiBhdWRpbyBjb2RlYyBtdXN0IGJlIGFuIGFycmF5XCIpO2lmKGUubGVuZ3RoPD0wKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiBhdWRpbyBjb2RlYyBhcnJheSBzcGVjaWZpZWQgYnV0IGVtcHR5XCIpO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IGF1ZGlvIGNvZGVjIG11c3QgYmUgYSBzdHJpbmdcIik7aWYoXCJPUFVTXCIhPT1lJiZcIlBDTVVcIiE9PWUmJlwiUENNQVwiIT09ZSYmXCJHNzIyXCIhPT1lKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiBhdWRpbyBjb2RlYyBtdXN0IGJlIG9uZSBvZiBPUFVTLCBQQ01VLCBQQ01BLCBHNzIyXCIpfSkpfX07aWYoIWUuc2lwVXJpJiYhZS5waG9uZU51bWJlcil0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogZWl0aGVyIGEgc2lwIHVyaSBvciBwaG9uZSBudW1iZXIgbXVzdCBiZSBwcm92aWRlZFwiKTtpZihlLnNpcFVyaSYmZS5waG9uZU51bWJlcil0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogb25seSBvbmUgb2Ygc2lwIHVyaSBvciBwaG9uZSBudW1iZXIgbXVzdCBiZSBwcm92aWRlZFwiKTtpZihlLnNpcFVyaSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUuc2lwVXJpKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiBzaXBVcmkgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZighZS5zaXBVcmkuc3RhcnRzV2l0aChcInNpcDpcIikpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IEludmFsaWQgU0lQIFVSSSwgbXVzdCBzdGFydCB3aXRoICdzaXA6J1wiKTtpZihlLnZpZGVvJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUudmlkZW8pdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IHZpZGVvIG11c3QgYmUgYSBib29sZWFuIHZhbHVlXCIpOyFmdW5jdGlvbihlKXtpZihlJiYobihlLmF1ZGlvKSxlLnZpZGVvKSl7aWYoIUFycmF5LmlzQXJyYXkoZS52aWRlbykpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IHZpZGVvIGNvZGVjIG11c3QgYmUgYW4gYXJyYXlcIik7aWYoZS52aWRlby5sZW5ndGg8PTApdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IHZpZGVvIGNvZGVjIGFycmF5IHNwZWNpZmllZCBidXQgZW1wdHlcIik7ZS52aWRlby5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogdmlkZW8gY29kZWMgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZihcIkgyNjRcIiE9PWUmJlwiVlA4XCIhPT1lKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiB2aWRlbyBjb2RlYyBtdXN0IGJlIEgyNjQgb3IgVlA4XCIpfSkpfX0oZS5jb2RlY3MpfWlmKGUucGhvbmVOdW1iZXIpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlLnBob25lTnVtYmVyKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiBwaG9uZU51bWJlciBtdXN0IGJlIGEgc3RyaW5nXCIpO2lmKCEvXlxcK1xcZHsxLH0kLy50ZXN0KGUucGhvbmVOdW1iZXIpKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiBJbnZhbGlkIHBob25lIG51bWJlciwgbXVzdCBiZSB2YWxpZCBwaG9uZSBudW1iZXIgYXMgcGVyIEUuMTY0XCIpO2UuY29kZWNzJiZuKGUuY29kZWNzLmF1ZGlvKX1pZihlLmNhbGxlcklkKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZS5jYWxsZXJJZCl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogY2FsbGVySWQgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZihlLnNpcFVyaSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogY2FsbGVySWQgbm90IGFsbG93ZWQgd2l0aCBzaXBVcmlcIil9aWYoZS5kaXNwbGF5TmFtZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUuZGlzcGxheU5hbWUpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IGRpc3BsYXlOYW1lIG11c3QgYmUgYSBzdHJpbmdcIik7aWYoZS5kaXNwbGF5TmFtZS5sZW5ndGg+PTIwMCl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBzdGFydGluZyBkaWFsIG91dDogZGlzcGxheU5hbWUgbGVuZ3RoIG11c3QgYmUgbGVzcyB0aGFuIDIwMFwiKX1pZihlLnVzZXJJZCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUudXNlcklkKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHN0YXJ0aW5nIGRpYWwgb3V0OiB1c2VySWQgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZihlLnVzZXJJZC5sZW5ndGg+MzYpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igc3RhcnRpbmcgZGlhbCBvdXQ6IHVzZXJJZCBsZW5ndGggbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gMzZcIil9cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKFZhKHthY3Rpb246XCJkaWFsb3V0LXN0YXJ0XCJ9LGUpLChmdW5jdGlvbihlKXtlLmVycm9yP3IoZS5lcnJvcik6bihlKX0pKX0pKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gRS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInN0b3BEaWFsT3V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gc2ModGhpcy5fY2FsbFN0YXRlLFwic3RvcERpYWxPdXQoKVwiKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZShWYSh7YWN0aW9uOlwiZGlhbG91dC1zdG9wXCJ9LGUpLChmdW5jdGlvbihlKXtlLmVycm9yP3IoZS5lcnJvcik6bihlKX0pKX0pKX19LHtrZXk6XCJzaXBDYWxsVHJhbnNmZXJcIix2YWx1ZTooQz1wKChmdW5jdGlvbiooZSl7dmFyIHQ9dGhpcztpZihzYyh0aGlzLl9jYWxsU3RhdGUsXCJzaXBDYWxsVHJhbnNmZXIoKVwiKSwhZSl0aHJvdyBuZXcgRXJyb3IoXCJzaXBDYWxsVHJhbnNmZXIoKSByZXF1aXJlcyBhIHNlc3Npb25JZCBhbmQgdG9FbmRQb2ludFwiKTtyZXR1cm4gZS51c2VTaXBSZWZlcj0hMSxPYyhlLFwic2lwQ2FsbFRyYW5zZmVyXCIpLG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKFZhKHthY3Rpb246Z3N9LGUpLChmdW5jdGlvbihlKXtlLmVycm9yP3IoZS5lcnJvcik6bihlKX0pKX0pKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gQy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInNpcFJlZmVyXCIsdmFsdWU6KE09cCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXM7aWYoc2ModGhpcy5fY2FsbFN0YXRlLFwic2lwUmVmZXIoKVwiKSwhZSl0aHJvdyBuZXcgRXJyb3IoXCJzZXNzaW9uSWQgYW5kIHRvRW5kUG9pbnQgYXJlIG1hbmRhdG9yeSBwYXJhbWV0ZXJcIik7cmV0dXJuIGUudXNlU2lwUmVmZXI9ITAsT2MoZSxcInNpcFJlZmVyXCIpLG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKFZhKHthY3Rpb246Z3N9LGUpLChmdW5jdGlvbihlKXtlLmVycm9yP3IoZS5lcnJvcik6bihlKX0pKX0pKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gTS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInNlbmREVE1GXCIsdmFsdWU6KGs9cCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHNjKHRoaXMuX2NhbGxTdGF0ZSxcInNlbmREVE1GKClcIiksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXNzaW9uSWQsbj1lLnRvbmVzO2lmKCF0fHwhbil0aHJvdyBuZXcgRXJyb3IoXCJzZXNzaW9uSWQgYW5kIHRvbmVzIGFyZSBtYW5kYXRvcnkgcGFyYW1ldGVyXCIpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0fHxcInN0cmluZ1wiIT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3IoXCJzZXNzaW9uSWQgYW5kIHRvbmVzIHNob3VsZCBiZSBvZiBzdHJpbmcgdHlwZVwiKTtpZihuLmxlbmd0aD4yMCl0aHJvdyBuZXcgRXJyb3IoXCJ0b25lcyBzdHJpbmcgbXVzdCBiZSB1cHRvIDIwIGNoYXJhY3RlcnNcIik7dmFyIHI9L1teMC05QS1EKiNdL2csaT1uLm1hdGNoKHIpO2lmKGkmJmlbMF0pdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KGlbMF0sXCIgaXMgbm90IHZhbGlkIERUTUYgdG9uZVwiKSl9KGUpLG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKFZhKHthY3Rpb246XCJzZW5kLWR0bWZcIn0sZSksKGZ1bmN0aW9uKGUpe2UuZXJyb3I/cihlLmVycm9yKTpuKGUpfSkpfSkpfSkpLGZ1bmN0aW9uKGUpe3JldHVybiBrLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiZ2V0TmV0d29ya1N0YXRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuX2NhbGxTdGF0ZSE9PWJpKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFZhKHtzdGF0czp7bGF0ZXN0Ont9fX0sdGhpcy5fbmV0d29yaykpfXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7ZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImdldC1jYWxjLXN0YXRzXCJ9LChmdW5jdGlvbihuKXt0KFZhKFZhKHt9LGUuX25ldHdvcmspLHt9LHtzdGF0czpuLnN0YXRzfSkpfSkpfSkpfX0se2tleTpcInRlc3RXZWJzb2NrZXRDb25uZWN0aXZpdHlcIix2YWx1ZTooUz1wKChmdW5jdGlvbiooKXt2YXIgZT10aGlzO2lmKHVjKHRoaXMuX3Rlc3RDYWxsSW5Qcm9ncmVzcyxcInRlc3RXZWJzb2NrZXRDb25uZWN0aXZpdHkoKVwiKSx0aGlzLm5lZWRzTG9hZCgpKXRyeXt5aWVsZCB0aGlzLmxvYWQoKX1jYXRjaChlKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZSl9cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe2Uuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJ0ZXN0LXdlYnNvY2tldC1jb25uZWN0aXZpdHlcIn0sKGZ1bmN0aW9uKGUpe2UuZXJyb3I/bihlLmVycm9yKTp0KGUucmVzdWx0cyl9KSl9KSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gUy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImFib3J0VGVzdFdlYnNvY2tldENvbm5lY3Rpdml0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImFib3J0LXRlc3Qtd2Vic29ja2V0LWNvbm5lY3Rpdml0eVwifSl9fSx7a2V5OlwiX3ZhbGlkYXRlVmlkZW9UcmFja0Zvck5ldHdvcmtUZXN0c1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlP2UgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbVRyYWNrPyEhRWEoZSx7aXNMb2NhbFNjcmVlblZpZGVvOiExfSl8fChjb25zb2xlLmVycm9yKFwiVmlkZW8gdHJhY2sgaXMgbm90IHBsYXlhYmxlLiBUaGlzIHRlc3QgbmVlZHMgYSBsaXZlIHZpZGVvIHRyYWNrLlwiKSwhMSk6KGNvbnNvbGUuZXJyb3IoXCJWaWRlbyB0cmFjayBuZWVkcyB0byBiZSBvZiB0eXBlIGBNZWRpYVN0cmVhbVRyYWNrYC5cIiksITEpOihjb25zb2xlLmVycm9yKFwiTWlzc2luZyB2aWRlbyB0cmFjay4gWW91IG11c3QgcHJvdmlkZSBhIHZpZGVvIHRyYWNrIGluIG9yZGVyIHRvIHJ1biB0aGlzIHRlc3QuXCIpLCExKX19LHtrZXk6XCJ0ZXN0Q2FsbFF1YWxpdHlcIix2YWx1ZToodz1wKChmdW5jdGlvbiooKXt2YXIgdD10aGlzO2hjKCksZGModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJ0ZXN0Q2FsbFF1YWxpdHkoKVwiKSxsYyh0aGlzLl9jYWxsTWFjaGluZUluaXRpYWxpemVkLFwidGVzdENhbGxRdWFsaXR5KClcIixudWxsLCEwKSxjYyh0aGlzLl9jYWxsU3RhdGUsdGhpcy5faXNQcmVwYXJpbmdUb0pvaW4sXCJ0ZXN0Q2FsbFF1YWxpdHkoKVwiKTt2YXIgbj10aGlzLl90ZXN0Q2FsbEFscmVhZHlJblByb2dyZXNzLHI9ZnVuY3Rpb24oZSl7bnx8KHQuX3Rlc3RDYWxsSW5Qcm9ncmVzcz1lKX07aWYocighMCksdGhpcy5uZWVkc0xvYWQoKSl0cnl7dmFyIGk9dGhpcy5fY2FsbFN0YXRlO3lpZWxkIHRoaXMubG9hZCgpLHRoaXMuX2NhbGxTdGF0ZT1pfWNhdGNoKGUpe3JldHVybiByKCExKSxQcm9taXNlLnJlamVjdChlKX1yZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4pe3Quc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJ0ZXN0LWNhbGwtcXVhbGl0eVwiLGRhaWx5SnNWZXJzaW9uOnQucHJvcGVydGllcy5kYWlseUpzVmVyc2lvbn0sKGZ1bmN0aW9uKGkpe3ZhciBvPWkucmVzdWx0cyxzPW8ucmVzdWx0LGE9ZShvLEZhKTtpZihcImZhaWxlZFwiPT09cyl7dmFyIGMsbD1WYSh7fSxhKTtudWxsIT09KGM9YS5lcnJvcikmJnZvaWQgMCE9PWMmJmMuZGV0YWlscz8oYS5lcnJvci5kZXRhaWxzPUpTT04ucGFyc2UoYS5lcnJvci5kZXRhaWxzKSxsLmVycm9yPVZhKFZhKHt9LGwuZXJyb3IpLHt9LHtkZXRhaWxzOlZhKHt9LGwuZXJyb3IuZGV0YWlscyl9KSxsLmVycm9yLmRldGFpbHMuZHVyaW5nVGVzdD1cInRlc3RDYWxsUXVhbGl0eVwiKToobC5lcnJvcj1sLmVycm9yP1ZhKHt9LGwuZXJyb3IpOnt9LGwuZXJyb3IuZGV0YWlscz17ZHVyaW5nVGVzdDpcInRlc3RDYWxsUXVhbGl0eVwifSksdC5fbWF5YmVTZW5kVG9TZW50cnkobCl9cighMSksbihWYSh7cmVzdWx0OnN9LGEpKX0pKX0pKX0pKSxmdW5jdGlvbigpe3JldHVybiB3LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5Olwic3RvcFRlc3RDYWxsUXVhbGl0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInN0b3AtdGVzdC1jYWxsLXF1YWxpdHlcIn0pfX0se2tleTpcInRlc3RDb25uZWN0aW9uUXVhbGl0eVwiLHZhbHVlOihfPXAoKGZ1bmN0aW9uKihlKXt2YXIgdDt5cygpPyhjb25zb2xlLndhcm4oXCJ0ZXN0Q29ubmVjdGlvblF1YWxpdHkoKSBpcyBkZXByZWNhdGVkOiB1c2UgdGVzdFBlZXJUb1BlZXJDYWxsUXVhbGl0eSgpIGluc3RlYWRcIiksdD15aWVsZCB0aGlzLnRlc3RQZWVyVG9QZWVyQ2FsbFF1YWxpdHkoZSkpOihjb25zb2xlLndhcm4oXCJ0ZXN0Q29ubmVjdGlvblF1YWxpdHkoKSBpcyBkZXByZWNhdGVkOiB1c2UgdGVzdENhbGxRdWFsaXR5KCkgaW5zdGVhZFwiKSx0PXlpZWxkIHRoaXMudGVzdENhbGxRdWFsaXR5KCkpO3ZhciBuPXtyZXN1bHQ6dC5yZXN1bHQsc2Vjb25kc0VsYXBzZWQ6dC5zZWNvbmRzRWxhcHNlZH07cmV0dXJuIHQuZGF0YSYmKG4uZGF0YT17bWF4UlRUOnQuZGF0YS5tYXhSb3VuZFRyaXBUaW1lLHBhY2tldExvc3M6dC5kYXRhLmF2Z1JlY3ZQYWNrZXRMb3NzfSksbn0pKSxmdW5jdGlvbihlKXtyZXR1cm4gXy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcInRlc3RQZWVyVG9QZWVyQ2FsbFF1YWxpdHlcIix2YWx1ZTooYj1wKChmdW5jdGlvbiooZSl7dmFyIHQ9dGhpcztpZih1Yyh0aGlzLl90ZXN0Q2FsbEluUHJvZ3Jlc3MsXCJ0ZXN0UGVlclRvUGVlckNhbGxRdWFsaXR5KClcIiksdGhpcy5uZWVkc0xvYWQoKSl0cnl7eWllbGQgdGhpcy5sb2FkKCl9Y2F0Y2goZSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGUpfXZhciBuPWUudmlkZW9UcmFjayxyPWUuZHVyYXRpb247aWYoIXRoaXMuX3ZhbGlkYXRlVmlkZW9UcmFja0Zvck5ldHdvcmtUZXN0cyhuKSl0aHJvdyBuZXcgRXJyb3IoXCJWaWRlbyB0cmFjayBlcnJvclwiKTtyZXR1cm4gdGhpcy5fc2hhcmVkVHJhY2tzLnZpZGVvVHJhY2tGb3JDb25uZWN0aW9uUXVhbGl0eVRlc3Q9bixuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxuKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwidGVzdC1wMnAtY2FsbC1xdWFsaXR5XCIsZHVyYXRpb246cn0sKGZ1bmN0aW9uKHQpe3QuZXJyb3I/bih0LmVycm9yKTplKHQucmVzdWx0cyl9KSl9KSl9KSksZnVuY3Rpb24oZSl7cmV0dXJuIGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJzdG9wVGVzdENvbm5lY3Rpb25RdWFsaXR5XCIsdmFsdWU6ZnVuY3Rpb24oKXt5cygpPyhjb25zb2xlLndhcm4oXCJzdG9wVGVzdENvbm5lY3Rpb25RdWFsaXR5KCkgaXMgZGVwcmVjYXRlZDogdXNlIHRlc3RQZWVyVG9QZWVyQ2FsbFF1YWxpdHkoKSBhbmQgc3RvcFRlc3RQZWVyVG9QZWVyQ2FsbFF1YWxpdHkoKSBpbnN0ZWFkXCIpLHRoaXMuc3RvcFRlc3RQZWVyVG9QZWVyQ2FsbFF1YWxpdHkoKSk6KGNvbnNvbGUud2FybihcInN0b3BUZXN0Q29ubmVjdGlvblF1YWxpdHkoKSBpcyBkZXByZWNhdGVkOiB1c2UgdGVzdENhbGxRdWFsaXR5KCkgYW5kIHN0b3BUZXN0Q2FsbFF1YWxpdHkoKSBpbnN0ZWFkXCIpLHRoaXMuc3RvcFRlc3RDYWxsUXVhbGl0eSgpKX19LHtrZXk6XCJzdG9wVGVzdFBlZXJUb1BlZXJDYWxsUXVhbGl0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInN0b3AtdGVzdC1wMnAtY2FsbC1xdWFsaXR5XCJ9KX19LHtrZXk6XCJ0ZXN0TmV0d29ya0Nvbm5lY3Rpdml0eVwiLHZhbHVlOih5PXAoKGZ1bmN0aW9uKihlKXt2YXIgdD10aGlzO2lmKHVjKHRoaXMuX3Rlc3RDYWxsSW5Qcm9ncmVzcyxcInRlc3ROZXR3b3JrQ29ubmVjdGl2aXR5KClcIiksdGhpcy5uZWVkc0xvYWQoKSl0cnl7eWllbGQgdGhpcy5sb2FkKCl9Y2F0Y2goZSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGUpfWlmKCF0aGlzLl92YWxpZGF0ZVZpZGVvVHJhY2tGb3JOZXR3b3JrVGVzdHMoZSkpdGhyb3cgbmV3IEVycm9yKFwiVmlkZW8gdHJhY2sgZXJyb3JcIik7cmV0dXJuIHRoaXMuX3NoYXJlZFRyYWNrcy52aWRlb1RyYWNrRm9yTmV0d29ya0Nvbm5lY3Rpdml0eVRlc3Q9ZSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxuKXt0LnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwidGVzdC1uZXR3b3JrLWNvbm5lY3Rpdml0eVwifSwoZnVuY3Rpb24odCl7dC5lcnJvcj9uKHQuZXJyb3IpOmUodC5yZXN1bHRzKX0pKX0pKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4geS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImFib3J0VGVzdE5ldHdvcmtDb25uZWN0aXZpdHlcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJhYm9ydC10ZXN0LW5ldHdvcmstY29ubmVjdGl2aXR5XCJ9KX19LHtrZXk6XCJnZXRDcHVMb2FkU3RhdHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtpZihlLl9jYWxsU3RhdGU9PT1iaSl7ZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImdldC1jcHUtbG9hZC1zdGF0c1wifSwoZnVuY3Rpb24oZSl7dChlLmNwdVN0YXRzKX0pKX1lbHNlIHQoe2NwdUxvYWRTdGF0ZTp2b2lkIDAsY3B1TG9hZFN0YXRlUmVhc29uOnZvaWQgMCxzdGF0czp7fX0pfSkpfX0se2tleTpcIl92YWxpZGF0ZUVuY29kaW5nTGF5ZXJIYXNWYWxpZFByb3BlcnRpZXNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdDtpZighKChudWxsPT09KHQ9T2JqZWN0LmtleXMoZSkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lmxlbmd0aCk+MCkpdGhyb3cgbmV3IEVycm9yKFwiRW1wdHkgZW5jb2RpbmcgaXMgbm90IGFsbG93ZWQuIEF0IGxlYXN0IG9uZSBvZiB0aGVzZSB2YWxpZCBrZXlzIHNob3VsZCBiZSBzcGVjaWZpZWQ6XCIrT2JqZWN0LnZhbHVlcyhZYSkpfX0se2tleTpcIl92YWxpZGF0ZVZpZGVvU2VuZFNldHRpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1cInNjcmVlblZpZGVvXCI9PT1lP1tcImRlZmF1bHQtc2NyZWVuLXZpZGVvXCIsXCJkZXRhaWwtb3B0aW1pemVkXCIsXCJtb3Rpb24tb3B0aW1pemVkXCIsXCJtb3Rpb24tYW5kLWRldGFpbC1iYWxhbmNlZFwiXTpbXCJkZWZhdWx0LXZpZGVvXCIsXCJiYW5kd2lkdGgtb3B0aW1pemVkXCIsXCJiYW5kd2lkdGgtYW5kLXF1YWxpdHktYmFsYW5jZWRcIixcInF1YWxpdHktb3B0aW1pemVkXCIsXCJhZGFwdGl2ZS0yLWxheWVyc1wiLFwiYWRhcHRpdmUtMy1sYXllcnNcIl0saT1cIlZpZGVvIHNlbmQgc2V0dGluZ3Mgc2hvdWxkIGJlIGVpdGhlciBhbiBvYmplY3Qgb3Igb25lIG9mIHRoZSBzdXBwb3J0ZWQgcHJlc2V0czogXCIuY29uY2F0KHIuam9pbigpKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7aWYoIXIuaW5jbHVkZXModCkpdGhyb3cgbmV3IEVycm9yKGkpfWVsc2V7aWYoXCJvYmplY3RcIiE9PW4odCkpdGhyb3cgbmV3IEVycm9yKGkpO2lmKCF0Lm1heFF1YWxpdHkmJiF0LmVuY29kaW5ncyYmdm9pZCAwPT09dC5hbGxvd0FkYXB0aXZlTGF5ZXJzKXRocm93IG5ldyBFcnJvcihcIlZpZGVvIHNlbmQgc2V0dGluZ3MgbXVzdCBjb250YWluIGF0IGxlYXN0IG1heFF1YWxpdHksIGFsbG93QWRhcHRpdmVMYXllcnMgb3IgZW5jb2RpbmdzIGF0dHJpYnV0ZVwiKTtpZih0Lm1heFF1YWxpdHkmJi0xPT09W1wibG93XCIsXCJtZWRpdW1cIixcImhpZ2hcIl0uaW5kZXhPZih0Lm1heFF1YWxpdHkpKXRocm93IG5ldyBFcnJvcihcIm1heFF1YWxpdHkgbXVzdCBiZSBlaXRoZXIgbG93LCBtZWRpdW0gb3IgaGlnaFwiKTtpZih0LmVuY29kaW5ncyl7dmFyIG89ITE7c3dpdGNoKE9iamVjdC5rZXlzKHQuZW5jb2RpbmdzKS5sZW5ndGgpe2Nhc2UgMTpvPSF0LmVuY29kaW5ncy5sb3c7YnJlYWs7Y2FzZSAyOm89IXQuZW5jb2RpbmdzLmxvd3x8IXQuZW5jb2RpbmdzLm1lZGl1bTticmVhaztjYXNlIDM6bz0hdC5lbmNvZGluZ3MubG93fHwhdC5lbmNvZGluZ3MubWVkaXVtfHwhdC5lbmNvZGluZ3MuaGlnaDticmVhaztkZWZhdWx0Om89ITB9aWYobyl0aHJvdyBuZXcgRXJyb3IoXCJFbmNvZGluZ3MgbXVzdCBiZSBkZWZpbmVkIGFzOiBsb3csIGxvdyBhbmQgbWVkaXVtLCBvciBsb3csIG1lZGl1bSBhbmQgaGlnaC5cIik7dC5lbmNvZGluZ3MubG93JiZ0aGlzLl92YWxpZGF0ZUVuY29kaW5nTGF5ZXJIYXNWYWxpZFByb3BlcnRpZXModC5lbmNvZGluZ3MubG93KSx0LmVuY29kaW5ncy5tZWRpdW0mJnRoaXMuX3ZhbGlkYXRlRW5jb2RpbmdMYXllckhhc1ZhbGlkUHJvcGVydGllcyh0LmVuY29kaW5ncy5tZWRpdW0pLHQuZW5jb2RpbmdzLmhpZ2gmJnRoaXMuX3ZhbGlkYXRlRW5jb2RpbmdMYXllckhhc1ZhbGlkUHJvcGVydGllcyh0LmVuY29kaW5ncy5oaWdoKX19fX0se2tleTpcInZhbGlkYXRlVXBkYXRlU2VuZFNldHRpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZXx8MD09PU9iamVjdC5rZXlzKGUpLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJTZW5kIHNldHRpbmdzIG11c3QgY29udGFpbiBhdCBsZWFzdCBpbmZvcm1hdGlvbiBmb3Igb25lIHRyYWNrIVwiKTtPYmplY3QuZW50cmllcyhlKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1mKGUsMikscj1uWzBdLGk9blsxXTt0Ll92YWxpZGF0ZVZpZGVvU2VuZFNldHRpbmdzKHIsaSl9KSl9fSx7a2V5OlwidXBkYXRlU2VuZFNldHRpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy52YWxpZGF0ZVVwZGF0ZVNlbmRTZXR0aW5ncyhlKSx0aGlzLm5lZWRzTG9hZCgpPyh0aGlzLl9wcmVsb2FkQ2FjaGUuc2VuZFNldHRpbmdzPWUse3NlbmRTZXR0aW5nczp0aGlzLl9wcmVsb2FkQ2FjaGUuc2VuZFNldHRpbmdzfSk6bmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInVwZGF0ZS1zZW5kLXNldHRpbmdzXCIsc2VuZFNldHRpbmdzOmV9LChmdW5jdGlvbihlKXtlLmVycm9yP3IoZS5lcnJvcik6bihlLnNlbmRTZXR0aW5ncyl9KSl9KSl9fSx7a2V5OlwiZ2V0U2VuZFNldHRpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VuZFNldHRpbmdzfHx0aGlzLl9wcmVsb2FkQ2FjaGUuc2VuZFNldHRpbmdzfX0se2tleTpcImdldExvY2FsQXVkaW9MZXZlbFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvY2FsQXVkaW9MZXZlbH19LHtrZXk6XCJnZXRSZW1vdGVQYXJ0aWNpcGFudHNBdWRpb0xldmVsXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbH19LHtrZXk6XCJnZXRBY3RpdmVTcGVha2VyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gaGMoKSx0aGlzLl9hY3RpdmVTcGVha2VyfX0se2tleTpcInNldEFjdGl2ZVNwZWFrZXJNb2RlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGhjKCksdGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1hY3RpdmUtc3BlYWtlci1tb2RlXCIsZW5hYmxlZDplfSksdGhpc319LHtrZXk6XCJhY3RpdmVTcGVha2VyTW9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGhjKCksdGhpcy5fYWN0aXZlU3BlYWtlck1vZGV9fSx7a2V5Olwic3Vic2NyaWJlVG9UcmFja3NBdXRvbWF0aWNhbGx5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJlbG9hZENhY2hlLnN1YnNjcmliZVRvVHJhY2tzQXV0b21hdGljYWxseX19LHtrZXk6XCJzZXRTdWJzY3JpYmVUb1RyYWNrc0F1dG9tYXRpY2FsbHlcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gc2ModGhpcy5fY2FsbFN0YXRlLFwic2V0U3Vic2NyaWJlVG9UcmFja3NBdXRvbWF0aWNhbGx5KClcIixcIlVzZSB0aGUgc3Vic2NyaWJlVG9UcmFja3NBdXRvbWF0aWNhbGx5IGNvbmZpZ3VyYXRpb24gcHJvcGVydHkuXCIpLHRoaXMuX3ByZWxvYWRDYWNoZS5zdWJzY3JpYmVUb1RyYWNrc0F1dG9tYXRpY2FsbHk9ZSx0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXN1YnNjcmliZS10by10cmFja3MtYXV0b21hdGljYWxseVwiLGVuYWJsZWQ6ZX0pLHRoaXN9fSx7a2V5OlwiZW51bWVyYXRlRGV2aWNlc1wiLHZhbHVlOihtPXAoKGZ1bmN0aW9uKigpe3ZhciBlPXRoaXM7aWYodGhpcy5fY2FsbE9iamVjdE1vZGUpe3ZhciB0PXlpZWxkIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpO3JldHVyblwiRmlyZWZveFwiPT09T3MoKSYmUHMoKS5tYWpvcj4xMTUmJlBzKCkubWFqb3I8MTIzJiYodD10LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuXCJhdWRpb291dHB1dFwiIT09ZS5raW5kfSkpKSx7ZGV2aWNlczp0Lm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSk7aWYoIXlzKCkmJlwidmlkZW9pbnB1dFwiPT09ZS5raW5kJiZlLmdldENhcGFiaWxpdGllcyl7dmFyIG4scj1lLmdldENhcGFiaWxpdGllcygpO3QuZmFjaW5nPShudWxsPT1yfHxudWxsPT09KG49ci5mYWNpbmdNb2RlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5sZW5ndGgpPj0xP3IuZmFjaW5nTW9kZVswXTp2b2lkIDB9cmV0dXJuIHR9KSl9fXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7ZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcImVudW1lcmF0ZS1kZXZpY2VzXCJ9LChmdW5jdGlvbihlKXt0KHtkZXZpY2VzOmUuZGV2aWNlc30pfSkpfSkpfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIG0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJzZW5kQXBwTWVzc2FnZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIipcIjtpZihzYyh0aGlzLl9jYWxsU3RhdGUsXCJzZW5kQXBwTWVzc2FnZSgpXCIpLEpTT04uc3RyaW5naWZ5KGUpLmxlbmd0aD50aGlzLl9tYXhBcHBNZXNzYWdlU2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJNZXNzYWdlIGRhdGEgdG9vIGxhcmdlLiBNYXggc2l6ZSBpcyBcIit0aGlzLl9tYXhBcHBNZXNzYWdlU2l6ZSk7cmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJhcHAtbXNnXCIsZGF0YTplLHRvOnR9KSx0aGlzfX0se2tleTpcImFkZEZha2VQYXJ0aWNpcGFudFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBoYygpLHNjKHRoaXMuX2NhbGxTdGF0ZSxcImFkZEZha2VQYXJ0aWNpcGFudCgpXCIpLHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKFZhKHthY3Rpb246XCJhZGQtZmFrZS1wYXJ0aWNpcGFudFwifSxlKSksdGhpc319LHtrZXk6XCJzZXRTaG93TmFtZXNNb2RlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHBjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwic2V0U2hvd05hbWVzTW9kZSgpXCIpLGhjKCksZSYmXCJhbHdheXNcIiE9PWUmJlwibmV2ZXJcIiE9PWU/KGNvbnNvbGUuZXJyb3IoJ3NldFNob3dOYW1lc01vZGUgYXJndW1lbnQgc2hvdWxkIGJlIFwiYWx3YXlzXCIsIFwibmV2ZXJcIiwgb3IgZmFsc2UnKSx0aGlzKToodGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1zaG93LW5hbWVzXCIsbW9kZTplfSksdGhpcyl9fSx7a2V5Olwic2V0U2hvd0xvY2FsVmlkZW9cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF07cmV0dXJuIHBjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwic2V0U2hvd0xvY2FsVmlkZW8oKVwiKSxoYygpLHNjKHRoaXMuX2NhbGxTdGF0ZSxcInNldFNob3dMb2NhbFZpZGVvKClcIiksXCJib29sZWFuXCIhPXR5cGVvZiBlPyhjb25zb2xlLmVycm9yKFwic2V0U2hvd0xvY2FsVmlkZW8gb25seSBhY2NlcHRzIGEgYm9vbGVhbiB2YWx1ZVwiKSx0aGlzKToodGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1zaG93LWxvY2FsLXZpZGVvXCIsc2hvdzplfSksdGhpcy5fc2hvd0xvY2FsVmlkZW89ZSx0aGlzKX19LHtrZXk6XCJzaG93TG9jYWxWaWRlb1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHBjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwic2hvd0xvY2FsVmlkZW8oKVwiKSxoYygpLHRoaXMuX3Nob3dMb2NhbFZpZGVvfX0se2tleTpcInNldFNob3dQYXJ0aWNpcGFudHNCYXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF07cmV0dXJuIHBjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwic2V0U2hvd1BhcnRpY2lwYW50c0JhcigpXCIpLGhjKCksc2ModGhpcy5fY2FsbFN0YXRlLFwic2V0U2hvd1BhcnRpY2lwYW50c0JhcigpXCIpLFwiYm9vbGVhblwiIT10eXBlb2YgZT8oY29uc29sZS5lcnJvcihcInNldFNob3dQYXJ0aWNpcGFudHNCYXIgb25seSBhY2NlcHRzIGEgYm9vbGVhbiB2YWx1ZVwiKSx0aGlzKToodGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1zaG93LXBhcnRpY2lwYW50cy1iYXJcIixzaG93OmV9KSx0aGlzLl9zaG93UGFydGljaXBhbnRzQmFyPWUsdGhpcyl9fSx7a2V5Olwic2hvd1BhcnRpY2lwYW50c0JhclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHBjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwic2hvd1BhcnRpY2lwYW50c0JhcigpXCIpLGhjKCksdGhpcy5fc2hvd1BhcnRpY2lwYW50c0Jhcn19LHtrZXk6XCJjdXN0b21JbnRlZ3JhdGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBoYygpLHBjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwiY3VzdG9tSW50ZWdyYXRpb25zKClcIiksdGhpcy5fY3VzdG9tSW50ZWdyYXRpb25zfX0se2tleTpcInNldEN1c3RvbUludGVncmF0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBoYygpLHBjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwic2V0Q3VzdG9tSW50ZWdyYXRpb25zKClcIiksc2ModGhpcy5fY2FsbFN0YXRlLFwic2V0Q3VzdG9tSW50ZWdyYXRpb25zKClcIiksRWMoZSk/KHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzZXQtY3VzdG9tLWludGVncmF0aW9uc1wiLGludGVncmF0aW9uczplfSksdGhpcy5fY3VzdG9tSW50ZWdyYXRpb25zPWUsdGhpcyk6dGhpc319LHtrZXk6XCJzdGFydEN1c3RvbUludGVncmF0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoaGMoKSxwYyh0aGlzLl9jYWxsT2JqZWN0TW9kZSxcInN0YXJ0Q3VzdG9tSW50ZWdyYXRpb25zKClcIiksc2ModGhpcy5fY2FsbFN0YXRlLFwic3RhcnRDdXN0b21JbnRlZ3JhdGlvbnMoKVwiKSxBcnJheS5pc0FycmF5KGUpJiZlLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlfSkpfHwhQXJyYXkuaXNBcnJheShlKSYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJzdGFydEN1c3RvbUludGVncmF0aW9ucygpIG9ubHkgYWNjZXB0cyBzdHJpbmcgfCBzdHJpbmdbXVwiKSx0aGlzO3ZhciBuPVwic3RyaW5nXCI9PXR5cGVvZiBlP1tlXTplLHI9bi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiEoZSBpbiB0Ll9jdXN0b21JbnRlZ3JhdGlvbnMpfSkpO3JldHVybiByLmxlbmd0aD8oY29uc29sZS5lcnJvcihcIkNhbid0IGZpbmQgY3VzdG9tIGludGVncmF0aW9uKHMpOiBcXFwiXCIuY29uY2F0KHIuam9pbihcIiwgXCIpLCdcIicpKSx0aGlzKToodGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInN0YXJ0LWN1c3RvbS1pbnRlZ3JhdGlvbnNcIixpZHM6bn0pLHRoaXMpfX0se2tleTpcInN0b3BDdXN0b21JbnRlZ3JhdGlvbnNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKGhjKCkscGModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJzdG9wQ3VzdG9tSW50ZWdyYXRpb25zKClcIiksc2ModGhpcy5fY2FsbFN0YXRlLFwic3RvcEN1c3RvbUludGVncmF0aW9ucygpXCIpLEFycmF5LmlzQXJyYXkoZSkmJmUuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGV9KSl8fCFBcnJheS5pc0FycmF5KGUpJiZcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gY29uc29sZS5lcnJvcihcInN0b3BDdXN0b21JbnRlZ3JhdGlvbnMoKSBvbmx5IGFjY2VwdHMgc3RyaW5nIHwgc3RyaW5nW11cIiksdGhpczt2YXIgbj1cInN0cmluZ1wiPT10eXBlb2YgZT9bZV06ZSxyPW4uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hKGUgaW4gdC5fY3VzdG9tSW50ZWdyYXRpb25zKX0pKTtyZXR1cm4gci5sZW5ndGg/KGNvbnNvbGUuZXJyb3IoXCJDYW4ndCBmaW5kIGN1c3RvbSBpbnRlZ3JhdGlvbihzKTogXFxcIlwiLmNvbmNhdChyLmpvaW4oXCIsIFwiKSwnXCInKSksdGhpcyk6KHRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKHthY3Rpb246XCJzdG9wLWN1c3RvbS1pbnRlZ3JhdGlvbnNcIixpZHM6bn0pLHRoaXMpfX0se2tleTpcImN1c3RvbVRyYXlCdXR0b25zXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gcGModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJjdXN0b21UcmF5QnV0dG9ucygpXCIpLGhjKCksdGhpcy5fY3VzdG9tVHJheUJ1dHRvbnN9fSx7a2V5OlwidXBkYXRlQ3VzdG9tVHJheUJ1dHRvbnNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gcGModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJ1cGRhdGVDdXN0b21UcmF5QnV0dG9ucygpXCIpLGhjKCksc2ModGhpcy5fY2FsbFN0YXRlLFwidXBkYXRlQ3VzdG9tVHJheUJ1dHRvbnMoKVwiKSxDYyhlKT8odGhpcy5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInVwZGF0ZS1jdXN0b20tdHJheS1idXR0b25zXCIsYnRuczplfSksdGhpcy5fY3VzdG9tVHJheUJ1dHRvbnM9ZSx0aGlzKTooY29uc29sZS5lcnJvcihcInVwZGF0ZUN1c3RvbVRyYXlCdXR0b25zIG9ubHkgYWNjZXB0cyBhIGRpY3Rpb25hcnkgb2YgdGhlIHR5cGUgXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KGVjKSkpLHRoaXMpfX0se2tleTpcInRoZW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gcGModGhpcy5fY2FsbE9iamVjdE1vZGUsXCJ0aGVtZSgpXCIpLHRoaXMucHJvcGVydGllcy50aGVtZX19LHtrZXk6XCJzZXRUaGVtZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHBjKHRoaXMuX2NhbGxPYmplY3RNb2RlLFwic2V0VGhlbWUoKVwiKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt0cnl7dC52YWxpZGF0ZVByb3BlcnRpZXMoe3RoZW1lOmV9KSx0LnByb3BlcnRpZXMudGhlbWU9VmEoe30sZSksdC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC10aGVtZVwiLHRoZW1lOnQucHJvcGVydGllcy50aGVtZX0pO3RyeXt0LmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjplbyx0aGVtZTp0LnByb3BlcnRpZXMudGhlbWV9KX1jYXRjaChlKXtjb25zb2xlLmxvZyhcImNvdWxkIG5vdCBlbWl0ICd0aGVtZS11cGRhdGVkJ1wiLGUpfW4odC5wcm9wZXJ0aWVzLnRoZW1lKX1jYXRjaChlKXtyKGUpfX0pKX19LHtrZXk6XCJyZXF1ZXN0RnVsbHNjcmVlblwiLHZhbHVlOihnPXAoKGZ1bmN0aW9uKigpe2lmKGhjKCksdGhpcy5faWZyYW1lJiYhZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQmJndzKCkpdHJ5eyh5aWVsZCB0aGlzLl9pZnJhbWUucmVxdWVzdEZ1bGxzY3JlZW4pP3RoaXMuX2lmcmFtZS5yZXF1ZXN0RnVsbHNjcmVlbigpOnRoaXMuX2lmcmFtZS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpfWNhdGNoKGUpe2NvbnNvbGUubG9nKFwiY291bGQgbm90IG1ha2UgdmlkZW8gY2FsbCBmdWxsc2NyZWVuXCIsZSl9fSkpLGZ1bmN0aW9uKCl7cmV0dXJuIGcuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJleGl0RnVsbHNjcmVlblwiLHZhbHVlOmZ1bmN0aW9uKCl7aGMoKSxkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudD9kb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOmRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50JiZkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbigpfX0se2tleTpcImdldFNpZGViYXJWaWV3XCIsdmFsdWU6KHY9cCgoZnVuY3Rpb24qKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fY2FsbE9iamVjdE1vZGU/KGNvbnNvbGUuZXJyb3IoXCJnZXRTaWRlYmFyVmlldyBpcyBub3QgYXZhaWxhYmxlIGluIGNhbGxPYmplY3QgbW9kZVwiKSxQcm9taXNlLnJlc29sdmUobnVsbCkpOm5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZ2V0LXNpZGViYXItdmlld1wifSwoZnVuY3Rpb24oZSl7dChlLnZpZXcpfSkpfSkpfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHYuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJzZXRTaWRlYmFyVmlld1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jYWxsT2JqZWN0TW9kZT8oY29uc29sZS5lcnJvcihcInNldFNpZGViYXJWaWV3IGlzIG5vdCBhdmFpbGFibGUgaW4gY2FsbE9iamVjdCBtb2RlXCIpLHRoaXMpOih0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwic2V0LXNpZGViYXItdmlld1wiLHZpZXc6ZX0pLHRoaXMpfX0se2tleTpcInJvb21cIix2YWx1ZTooaD1wKChmdW5jdGlvbiooKXt2YXIgZT10aGlzLHQ9KGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSkuaW5jbHVkZVJvb21Db25maWdEZWZhdWx0cyxuPXZvaWQgMD09PXR8fHQ7cmV0dXJuIHRoaXMuX2FjY2Vzc1N0YXRlLmFjY2Vzcz09PU9pfHx0aGlzLm5lZWRzTG9hZCgpP3RoaXMucHJvcGVydGllcy51cmw/e3Jvb21VcmxQZW5kaW5nSm9pbjp0aGlzLnByb3BlcnRpZXMudXJsfTpudWxsOm5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwibGliLXJvb20taW5mb1wiLGluY2x1ZGVSb29tQ29uZmlnRGVmYXVsdHM6bn0sKGZ1bmN0aW9uKGUpe2RlbGV0ZSBlLmFjdGlvbixkZWxldGUgZS5jYWxsYmFja1N0YW1wLHQoZSl9KSl9KSl9KSksZnVuY3Rpb24oKXtyZXR1cm4gaC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImdlb1wiLHZhbHVlOihkPXAoKGZ1bmN0aW9uKigpe3RyeXt2YXIgZT15aWVsZCBmZXRjaChcImh0dHBzOi8vZ3MuZGFpbHkuY28vX2tzXy94LXN3c2wvOlwiKTtyZXR1cm57Y3VycmVudDooeWllbGQgZS5qc29uKCkpLmdlb319Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJnZW8gbG9va3VwIGZhaWxlZFwiLGUpLHtjdXJyZW50OlwiXCJ9fX0pKSxmdW5jdGlvbigpe3JldHVybiBkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5Olwic2V0TmV0d29ya1RvcG9sb2d5XCIsdmFsdWU6KGM9cCgoZnVuY3Rpb24qKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGhjKCksc2ModGhpcy5fY2FsbFN0YXRlLFwic2V0TmV0d29ya1RvcG9sb2d5KClcIiksbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpcInNldC1uZXR3b3JrLXRvcG9sb2d5XCIsb3B0czplfSwoZnVuY3Rpb24oZSl7ZS5lcnJvcj9yKHtlcnJvcjplLmVycm9yfSk6bih7d29ya2VySWQ6ZS53b3JrZXJJZH0pfSkpfSkpfSkpLGZ1bmN0aW9uKGUpe3JldHVybiBjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiZ2V0TmV0d29ya1RvcG9sb2d5XCIsdmFsdWU6KGk9cCgoZnVuY3Rpb24qKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7ZS5uZWVkc0xvYWQoKSYmdCh7dG9wb2xvZ3k6XCJub25lXCJ9KSxlLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZ2V0LW5ldHdvcmstdG9wb2xvZ3lcIn0sKGZ1bmN0aW9uKGUpe2UuZXJyb3I/bih7ZXJyb3I6ZS5lcnJvcn0pOnQoe3RvcG9sb2d5OmUudG9wb2xvZ3l9KX0pKX0pKX0pKSxmdW5jdGlvbigpe3JldHVybiBpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5Olwic2V0UGxheU5ld1BhcnRpY2lwYW50U291bmRcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihoYygpLFwibnVtYmVyXCIhPXR5cGVvZiBlJiYhMCE9PWUmJiExIT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJhcmd1bWVudCB0byBzZXRTaG91bGRQbGF5TmV3UGFydGljaXBhbnRTb3VuZCBzaG91bGQgYmUgdHJ1ZSwgZmFsc2UsIG9yIGEgbnVtYmVyLCBidXQgaXMgXCIuY29uY2F0KGUpKTt0aGlzLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZSh7YWN0aW9uOlwiZGFpbHktbWV0aG9kLXNldC1wbGF5LWRpbmdcIixhcmc6ZX0pfX0se2tleTpcIm9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geC5wcm90b3R5cGUub24uY2FsbCh0aGlzLGUsdCl9fSx7a2V5Olwib25jZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHgucHJvdG90eXBlLm9uY2UuY2FsbCh0aGlzLGUsdCl9fSx7a2V5Olwib2ZmXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geC5wcm90b3R5cGUub2ZmLmNhbGwodGhpcyxlLHQpfX0se2tleTpcInZhbGlkYXRlUHJvcGVydGllc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LG47aWYobnVsbCE9ZSYmbnVsbCE9PSh0PWUuZGFpbHlDb25maWcpJiZ2b2lkIDAhPT10JiZ0LnVzZXJNZWRpYUF1ZGlvQ29uc3RyYWludHMpe3ZhciByLGk7eXMoKXx8Y29uc29sZS53YXJuKFwidXNlck1lZGlhQXVkaW9Db25zdHJhaW50cyBpcyBkZXByZWNhdGVkLiBZb3UgY2FuIG92ZXJyaWRlIGNvbnN0cmFpbnRzIHdpdGggaW5wdXRTZXR0aW5ncy5hdWRpby5zZXR0aW5ncywgZm91bmQgaW4gRGFpbHlDYWxsT3B0aW9ucy5cIik7dmFyIG89ZS5pbnB1dFNldHRpbmdzfHx7fTtvLmF1ZGlvPShudWxsPT09KHI9ZS5pbnB1dFNldHRpbmdzKXx8dm9pZCAwPT09cj92b2lkIDA6ci5hdWRpbyl8fHt9LG8uYXVkaW8uc2V0dGluZ3M9KG51bGw9PT0oaT1lLmlucHV0U2V0dGluZ3MpfHx2b2lkIDA9PT1pfHxudWxsPT09KGk9aS5hdWRpbyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc2V0dGluZ3MpfHx7fSxvLmF1ZGlvLnNldHRpbmdzPVZhKFZhKHt9LG8uYXVkaW8uc2V0dGluZ3MpLGUuZGFpbHlDb25maWcudXNlck1lZGlhQXVkaW9Db25zdHJhaW50cyksZS5pbnB1dFNldHRpbmdzPW8sZGVsZXRlIGUuZGFpbHlDb25maWcudXNlck1lZGlhQXVkaW9Db25zdHJhaW50c31pZihudWxsIT1lJiZudWxsIT09KG49ZS5kYWlseUNvbmZpZykmJnZvaWQgMCE9PW4mJm4udXNlck1lZGlhVmlkZW9Db25zdHJhaW50cyl7dmFyIHMsYTt5cygpfHxjb25zb2xlLndhcm4oXCJ1c2VyTWVkaWFWaWRlb0NvbnN0cmFpbnRzIGlzIGRlcHJlY2F0ZWQuIFlvdSBjYW4gb3ZlcnJpZGUgY29uc3RyYWludHMgd2l0aCBpbnB1dFNldHRpbmdzLnZpZGVvLnNldHRpbmdzLCBmb3VuZCBpbiBEYWlseUNhbGxPcHRpb25zLlwiKTt2YXIgYz1lLmlucHV0U2V0dGluZ3N8fHt9O2MudmlkZW89KG51bGw9PT0ocz1lLmlucHV0U2V0dGluZ3MpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnZpZGVvKXx8e30sYy52aWRlby5zZXR0aW5ncz0obnVsbD09PShhPWUuaW5wdXRTZXR0aW5ncyl8fHZvaWQgMD09PWF8fG51bGw9PT0oYT1hLnZpZGVvKXx8dm9pZCAwPT09YT92b2lkIDA6YS5zZXR0aW5ncyl8fHt9LGMudmlkZW8uc2V0dGluZ3M9VmEoVmEoe30sYy52aWRlby5zZXR0aW5ncyksZS5kYWlseUNvbmZpZy51c2VyTWVkaWFWaWRlb0NvbnN0cmFpbnRzKSxlLmlucHV0U2V0dGluZ3M9YyxkZWxldGUgZS5kYWlseUNvbmZpZy51c2VyTWVkaWFWaWRlb0NvbnN0cmFpbnRzfWZvcih2YXIgbCBpbiBlKXtpZighbmNbbF0pdGhyb3cgbmV3IEVycm9yKFwidW5yZWNvZ25pemVkIHByb3BlcnR5ICdcIi5jb25jYXQobCxcIidcIikpO2lmKG5jW2xdLnZhbGlkYXRlJiYhbmNbbF0udmFsaWRhdGUoZVtsXSx0aGlzKSl0aHJvdyBuZXcgRXJyb3IoXCJwcm9wZXJ0eSAnXCIuY29uY2F0KGwsXCInOiBcIikuY29uY2F0KG5jW2xdLmhlbHApKX19fSx7a2V5OlwiYXNzZW1ibGVNZWV0aW5nVXJsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0LG49VmEoVmEoe30sdGhpcy5wcm9wZXJ0aWVzKSx7fSx7ZW1iOnRoaXMuY2FsbENsaWVudElkLGVtYkhyZWY6ZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5ocmVmKSxwcm94eTpudWxsIT09KGU9dGhpcy5wcm9wZXJ0aWVzLmRhaWx5Q29uZmlnKSYmdm9pZCAwIT09ZSYmZS5wcm94eVVybD9lbmNvZGVVUklDb21wb25lbnQobnVsbD09PSh0PXRoaXMucHJvcGVydGllcy5kYWlseUNvbmZpZyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQucHJveHlVcmwpOnZvaWQgMH0pLHI9bi51cmwubWF0Y2goL1xcPy8pP1wiJlwiOlwiP1wiO3JldHVybiBuLnVybCtyK09iamVjdC5rZXlzKG5jKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBuY1tlXS5xdWVyeVN0cmluZyYmdm9pZCAwIT09bltlXX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVyblwiXCIuY29uY2F0KG5jW2VdLnF1ZXJ5U3RyaW5nLFwiPVwiKS5jb25jYXQobltlXSl9KSkuam9pbihcIiZcIil9fSx7a2V5OlwibmVlZHNMb2FkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5bdmksZ2ksX2ksd2ldLmluY2x1ZGVzKHRoaXMuX2NhbGxTdGF0ZSl9fSx7a2V5Olwic2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLl9kZXN0cm95ZWQmJih0aGlzLl9sb2dVc2VBZnRlckRlc3Ryb3koKSx0aGlzLnN0cmljdE1vZGUpKXRocm93IG5ldyBFcnJvcihcIlVzZSBhZnRlciBkZXN0cm95XCIpO3RoaXMuX21lc3NhZ2VDaGFubmVsLnNlbmRNZXNzYWdlVG9DYWxsTWFjaGluZShlLHQsdGhpcy5jYWxsQ2xpZW50SWQsdGhpcy5faWZyYW1lKX19LHtrZXk6XCJmb3J3YXJkUGFja2FnZWRNZXNzYWdlVG9DYWxsTWFjaGluZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX21lc3NhZ2VDaGFubmVsLmZvcndhcmRQYWNrYWdlZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKGUsdGhpcy5faWZyYW1lLHRoaXMuY2FsbENsaWVudElkKX19LHtrZXk6XCJhZGRMaXN0ZW5lckZvclBhY2thZ2VkTWVzc2FnZXNGcm9tQ2FsbE1hY2hpbmVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbWVzc2FnZUNoYW5uZWwuYWRkTGlzdGVuZXJGb3JQYWNrYWdlZE1lc3NhZ2VzRnJvbUNhbGxNYWNoaW5lKGUsdGhpcy5jYWxsQ2xpZW50SWQpfX0se2tleTpcInJlbW92ZUxpc3RlbmVyRm9yUGFja2FnZWRNZXNzYWdlc0Zyb21DYWxsTWFjaGluZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX21lc3NhZ2VDaGFubmVsLnJlbW92ZUxpc3RlbmVyRm9yUGFja2FnZWRNZXNzYWdlc0Zyb21DYWxsTWFjaGluZShlKX19LHtrZXk6XCJoYW5kbGVNZXNzYWdlRnJvbUNhbGxNYWNoaW5lXCIsdmFsdWU6ZnVuY3Rpb24odCl7c3dpdGNoKHQuYWN0aW9uKXtjYXNlIFhpOnRoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKFZhKHthY3Rpb246Wml9LHRoaXMucHJvcGVydGllcykpO2JyZWFrO2Nhc2VcImNhbGwtbWFjaGluZS1pbml0aWFsaXplZFwiOnRoaXMuX2NhbGxNYWNoaW5lSW5pdGlhbGl6ZWQ9ITA7dmFyIG49e2FjdGlvbjpjcyxsZXZlbDpcImxvZ1wiLGNvZGU6MTAxMSxzdGF0czp7ZXZlbnQ6XCJidW5kbGUgbG9hZFwiLHRpbWU6XCJuby1vcFwiPT09dGhpcy5fYnVuZGxlTG9hZFRpbWU/MDp0aGlzLl9idW5kbGVMb2FkVGltZSxwcmVMb2FkZWQ6XCJuby1vcFwiPT09dGhpcy5fYnVuZGxlTG9hZFRpbWUsdXJsOloodGhpcy5wcm9wZXJ0aWVzLmRhaWx5Q29uZmlnKX19O3RoaXMuc2VuZE1lc3NhZ2VUb0NhbGxNYWNoaW5lKG4pLHRoaXMuX2RlbGF5RHVwbGljYXRlSW5zdGFuY2VMb2cmJnRoaXMuX2xvZ0R1cGxpY2F0ZUluc3RhbmNlQXR0ZW1wdCgpO2JyZWFrO2Nhc2Ugcm86dGhpcy5fbG9hZGVkQ2FsbGJhY2smJih0aGlzLl9sb2FkZWRDYWxsYmFjaygpLHRoaXMuX2xvYWRlZENhbGxiYWNrPW51bGwpLHRoaXMuZW1pdERhaWx5SlNFdmVudCh0KTticmVhaztjYXNlIGFvOnZhciByLGk9VmEoe30sdCk7ZGVsZXRlIGkuaW50ZXJuYWwsdGhpcy5fbWF4QXBwTWVzc2FnZVNpemU9KG51bGw9PT0ocj10LmludGVybmFsKXx8dm9pZCAwPT09cj92b2lkIDA6ci5fbWF4QXBwTWVzc2FnZVNpemUpfHxycyx0aGlzLl9qb2luZWRDYWxsYmFjayYmKHRoaXMuX2pvaW5lZENhbGxiYWNrKHQucGFydGljaXBhbnRzKSx0aGlzLl9qb2luZWRDYWxsYmFjaz1udWxsKSx0aGlzLmVtaXREYWlseUpTRXZlbnQoaSk7YnJlYWs7Y2FzZSBsbzpjYXNlIHVvOmlmKHRoaXMuX2NhbGxTdGF0ZT09PV9pKXJldHVybjtpZih0LnBhcnRpY2lwYW50JiZ0LnBhcnRpY2lwYW50LnNlc3Npb25faWQpe3ZhciBvPXQucGFydGljaXBhbnQubG9jYWw/XCJsb2NhbFwiOnQucGFydGljaXBhbnQuc2Vzc2lvbl9pZDtpZih0aGlzLl9jYWxsT2JqZWN0TW9kZSl7dmFyIHM9dGhpcy5fY2FsbE1hY2hpbmUoKS5zdG9yZTt1YSh0LnBhcnRpY2lwYW50LHMpLGRhKHQucGFydGljaXBhbnQscyksaGEodC5wYXJ0aWNpcGFudCx0aGlzLl9wYXJ0aWNpcGFudHNbb10scyl9dHJ5e3RoaXMubWF5YmVQYXJ0aWNpcGFudFRyYWNrc1N0b3BwZWQodGhpcy5fcGFydGljaXBhbnRzW29dLHQucGFydGljaXBhbnQpLHRoaXMubWF5YmVQYXJ0aWNpcGFudFRyYWNrc1N0YXJ0ZWQodGhpcy5fcGFydGljaXBhbnRzW29dLHQucGFydGljaXBhbnQpLHRoaXMubWF5YmVFdmVudFJlY29yZGluZ1N0b3BwZWQodGhpcy5fcGFydGljaXBhbnRzW29dLHQucGFydGljaXBhbnQpLHRoaXMubWF5YmVFdmVudFJlY29yZGluZ1N0YXJ0ZWQodGhpcy5fcGFydGljaXBhbnRzW29dLHQucGFydGljaXBhbnQpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJ0cmFjayBldmVudHMgZXJyb3JcIixlKX10aGlzLmNvbXBhcmVFcXVhbEZvclBhcnRpY2lwYW50VXBkYXRlRXZlbnQodC5wYXJ0aWNpcGFudCx0aGlzLl9wYXJ0aWNpcGFudHNbb10pfHwodGhpcy5fcGFydGljaXBhbnRzW29dPVZhKHt9LHQucGFydGljaXBhbnQpLHRoaXMudG9nZ2xlUGFydGljaXBhbnRBdWRpb0Jhc2VkT25OYXRpdmVBdWRpb0ZvY3VzKCksdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpKX1icmVhaztjYXNlIHBvOmlmKHQucGFydGljaXBhbnQmJnQucGFydGljaXBhbnQuc2Vzc2lvbl9pZCl7dmFyIGE9dGhpcy5fcGFydGljaXBhbnRzW3QucGFydGljaXBhbnQuc2Vzc2lvbl9pZF07YSYmdGhpcy5tYXliZVBhcnRpY2lwYW50VHJhY2tzU3RvcHBlZChhLG51bGwpLGRlbGV0ZSB0aGlzLl9wYXJ0aWNpcGFudHNbdC5wYXJ0aWNpcGFudC5zZXNzaW9uX2lkXSx0aGlzLmVtaXREYWlseUpTRXZlbnQodCl9YnJlYWs7Y2FzZSBobzpOKHRoaXMuX3BhcnRpY2lwYW50Q291bnRzLHQucGFydGljaXBhbnRDb3VudHMpfHwodGhpcy5fcGFydGljaXBhbnRDb3VudHM9dC5wYXJ0aWNpcGFudENvdW50cyx0aGlzLmVtaXREYWlseUpTRXZlbnQodCkpO2JyZWFrO2Nhc2UgZm86dmFyIGM9e2FjY2Vzczp0LmFjY2Vzc307dC5hd2FpdGluZ0FjY2VzcyYmKGMuYXdhaXRpbmdBY2Nlc3M9dC5hd2FpdGluZ0FjY2VzcyksTih0aGlzLl9hY2Nlc3NTdGF0ZSxjKXx8KHRoaXMuX2FjY2Vzc1N0YXRlPWMsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpKTticmVhaztjYXNlIHZvOmlmKHQubWVldGluZ1Nlc3Npb24pe3RoaXMuX21lZXRpbmdTZXNzaW9uU3VtbWFyeT10Lm1lZXRpbmdTZXNzaW9uLHRoaXMuZW1pdERhaWx5SlNFdmVudCh0KTt2YXIgbD1WYShWYSh7fSx0KSx7fSx7YWN0aW9uOlwibWVldGluZy1zZXNzaW9uLXVwZGF0ZWRcIn0pO3RoaXMuZW1pdERhaWx5SlNFdmVudChsKX1icmVhaztjYXNlIG5zOnZhciB1O3RoaXMuX2lmcmFtZSYmIXQucHJlc2VydmVJZnJhbWUmJih0aGlzLl9pZnJhbWUuc3JjPVwiXCIpLHRoaXMuX3VwZGF0ZUNhbGxTdGF0ZSh3aSksdGhpcy5yZXNldE1lZXRpbmdEZXBlbmRlbnRWYXJzKCksdGhpcy5fbG9hZGVkQ2FsbGJhY2smJih0aGlzLl9sb2FkZWRDYWxsYmFjayh0LmVycm9yTXNnKSx0aGlzLl9sb2FkZWRDYWxsYmFjaz1udWxsKSx0LnByZXNlcnZlSWZyYW1lO3ZhciBkPWUodCxCYSk7bnVsbCE9ZCYmbnVsbCE9PSh1PWQuZXJyb3IpJiZ2b2lkIDAhPT11JiZ1LmRldGFpbHMmJihkLmVycm9yLmRldGFpbHM9SlNPTi5wYXJzZShkLmVycm9yLmRldGFpbHMpKSx0aGlzLl9tYXliZVNlbmRUb1NlbnRyeSh0KSx0aGlzLl9qb2luZWRDYWxsYmFjayYmKHRoaXMuX2pvaW5lZENhbGxiYWNrKG51bGwsZCksdGhpcy5fam9pbmVkQ2FsbGJhY2s9bnVsbCksdGhpcy5lbWl0RGFpbHlKU0V2ZW50KGQpO2JyZWFrO2Nhc2UgY286dGhpcy5fY2FsbFN0YXRlIT09d2kmJnRoaXMuX3VwZGF0ZUNhbGxTdGF0ZShfaSksdGhpcy5yZXNldE1lZXRpbmdEZXBlbmRlbnRWYXJzKCksdGhpcy5fcmVzb2x2ZUxlYXZlJiYodGhpcy5fcmVzb2x2ZUxlYXZlKCksdGhpcy5fcmVzb2x2ZUxlYXZlPW51bGwpLHRoaXMuZW1pdERhaWx5SlNFdmVudCh0KTticmVhaztjYXNlXCJzZWxlY3RlZC1kZXZpY2VzLXVwZGF0ZWRcIjp0LmRldmljZXMmJnRoaXMuZW1pdERhaWx5SlNFdmVudCh0KTticmVhaztjYXNlIEpvOnZhciBwPXQuc3RhdGUsaD10LnRocmVzaG9sZCxmPXQucXVhbGl0eSx2PXAuc3RhdGUsZz1wLnJlYXNvbnM7dj09PXRoaXMuX25ldHdvcmsubmV0d29ya1N0YXRlJiZOKGcsdGhpcy5fbmV0d29yay5uZXR3b3JrU3RhdGVSZWFzb25zKSYmaD09PXRoaXMuX25ldHdvcmsudGhyZXNob2xkJiZmPT09dGhpcy5fbmV0d29yay5xdWFsaXR5fHwodGhpcy5fbmV0d29yay5uZXR3b3JrU3RhdGU9dix0aGlzLl9uZXR3b3JrLm5ldHdvcmtTdGF0ZVJlYXNvbnM9Zyx0aGlzLl9uZXR3b3JrLnF1YWxpdHk9Zix0aGlzLl9uZXR3b3JrLnRocmVzaG9sZD1oLHQubmV0d29ya1N0YXRlPXYsZy5sZW5ndGgmJih0Lm5ldHdvcmtTdGF0ZVJlYXNvbnM9ZyksZGVsZXRlIHQuc3RhdGUsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpKTticmVhaztjYXNlIHFvOnQmJnQuY3B1TG9hZFN0YXRlJiZ0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7YnJlYWs7Y2FzZSB6bzp0JiZ2b2lkIDAhPT10LmZhY2VDb3VudHMmJnRoaXMuZW1pdERhaWx5SlNFdmVudCh0KTticmVhaztjYXNlIFVvOnZhciBtPXQuYWN0aXZlU3BlYWtlcjt0aGlzLl9hY3RpdmVTcGVha2VyLnBlZXJJZCE9PW0ucGVlcklkJiYodGhpcy5fYWN0aXZlU3BlYWtlci5wZWVySWQ9bS5wZWVySWQsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246dC5hY3Rpb24sYWN0aXZlU3BlYWtlcjp0aGlzLl9hY3RpdmVTcGVha2VyfSkpO2JyZWFrO2Nhc2VcInNob3ctbG9jYWwtdmlkZW8tY2hhbmdlZFwiOmlmKHRoaXMuX2NhbGxPYmplY3RNb2RlKXJldHVybjt2YXIgeT10LnNob3c7dGhpcy5fc2hvd0xvY2FsVmlkZW89eSx0aGlzLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjp0LmFjdGlvbixzaG93Onl9KTticmVhaztjYXNlIFZvOnZhciBiPXQuZW5hYmxlZDt0aGlzLl9hY3RpdmVTcGVha2VyTW9kZSE9PWImJih0aGlzLl9hY3RpdmVTcGVha2VyTW9kZT1iLHRoaXMuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOnQuYWN0aW9uLGVuYWJsZWQ6dGhpcy5fYWN0aXZlU3BlYWtlck1vZGV9KSk7YnJlYWs7Y2FzZSB5bzpjYXNlIGJvOmNhc2UgX286dGhpcy5fd2FpdGluZ1BhcnRpY2lwYW50cz10LmFsbFdhaXRpbmdQYXJ0aWNpcGFudHMsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246dC5hY3Rpb24scGFydGljaXBhbnQ6dC5wYXJ0aWNpcGFudH0pO2JyZWFrO2Nhc2UgWm86Tih0aGlzLl9yZWNlaXZlU2V0dGluZ3MsdC5yZWNlaXZlU2V0dGluZ3MpfHwodGhpcy5fcmVjZWl2ZVNldHRpbmdzPXQucmVjZWl2ZVNldHRpbmdzLHRoaXMuZW1pdERhaWx5SlNFdmVudCh7YWN0aW9uOnQuYWN0aW9uLHJlY2VpdmVTZXR0aW5nczp0LnJlY2VpdmVTZXR0aW5nc30pKTticmVhaztjYXNlIGVzOnRoaXMuX21heWJlVXBkYXRlSW5wdXRTZXR0aW5ncyh0LmlucHV0U2V0dGluZ3MpO2JyZWFrO2Nhc2VcInNlbmQtc2V0dGluZ3MtdXBkYXRlZFwiOk4odGhpcy5fc2VuZFNldHRpbmdzLHQuc2VuZFNldHRpbmdzKXx8KHRoaXMuX3NlbmRTZXR0aW5ncz10LnNlbmRTZXR0aW5ncyx0aGlzLl9wcmVsb2FkQ2FjaGUuc2VuZFNldHRpbmdzPW51bGwsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246dC5hY3Rpb24sc2VuZFNldHRpbmdzOnQuc2VuZFNldHRpbmdzfSkpO2JyZWFrO2Nhc2VcImxvY2FsLWF1ZGlvLWxldmVsXCI6dGhpcy5fbG9jYWxBdWRpb0xldmVsPXQuYXVkaW9MZXZlbCx0aGlzLl9wcmVsb2FkQ2FjaGUubG9jYWxBdWRpb0xldmVsT2JzZXJ2ZXI9bnVsbCx0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7YnJlYWs7Y2FzZVwicmVtb3RlLXBhcnRpY2lwYW50cy1hdWRpby1sZXZlbFwiOnRoaXMuX3JlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWw9dC5wYXJ0aWNpcGFudHNBdWRpb0xldmVsLHRoaXMuX3ByZWxvYWRDYWNoZS5yZW1vdGVQYXJ0aWNpcGFudHNBdWRpb0xldmVsT2JzZXJ2ZXI9bnVsbCx0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7YnJlYWs7Y2FzZSBMbzp2YXIgXz10LnNlc3Npb25faWQ7dGhpcy5fcm1wUGxheWVyU3RhdGVbX109dC5wbGF5ZXJTdGF0ZSx0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7YnJlYWs7Y2FzZSBObzpkZWxldGUgdGhpcy5fcm1wUGxheWVyU3RhdGVbdC5zZXNzaW9uX2lkXSx0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7YnJlYWs7Y2FzZSBEbzp2YXIgdz10LnNlc3Npb25faWQsUz10aGlzLl9ybXBQbGF5ZXJTdGF0ZVt3XTtTJiZ0aGlzLmNvbXBhcmVFcXVhbEZvclJNUFVwZGF0ZUV2ZW50KFMsdC5yZW1vdGVNZWRpYVBsYXllclN0YXRlKXx8KHRoaXMuX3JtcFBsYXllclN0YXRlW3ddPXQucmVtb3RlTWVkaWFQbGF5ZXJTdGF0ZSx0aGlzLmVtaXREYWlseUpTRXZlbnQodCkpO2JyZWFrO2Nhc2VcImN1c3RvbS1idXR0b24tY2xpY2tcIjpjYXNlXCJzaWRlYmFyLXZpZXctY2hhbmdlZFwiOnRoaXMuZW1pdERhaWx5SlNFdmVudCh0KTticmVhaztjYXNlIGdvOnZhciBrPXRoaXMuX21lZXRpbmdTZXNzaW9uU3RhdGUudG9wb2xvZ3khPT0odC5tZWV0aW5nU2Vzc2lvblN0YXRlJiZ0Lm1lZXRpbmdTZXNzaW9uU3RhdGUudG9wb2xvZ3kpO3RoaXMuX21lZXRpbmdTZXNzaW9uU3RhdGU9amModC5tZWV0aW5nU2Vzc2lvblN0YXRlLHRoaXMuX2NhbGxPYmplY3RNb2RlKSwodGhpcy5fY2FsbE9iamVjdE1vZGV8fGspJiZ0aGlzLmVtaXREYWlseUpTRXZlbnQodCk7YnJlYWs7Y2FzZSBSbzp0aGlzLl9pc1NjcmVlblNoYXJpbmc9ITAsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpO2JyZWFrO2Nhc2UgRm86Y2FzZSBCbzp0aGlzLl9pc1NjcmVlblNoYXJpbmc9ITEsdGhpcy5lbWl0RGFpbHlKU0V2ZW50KHQpO2JyZWFrO2Nhc2UgRW86Y2FzZSBUbzpjYXNlIE9vOmNhc2UgUG86Y2FzZSBBbzpjYXNlIGtvOmNhc2UgTW86Y2FzZSBDbzpjYXNlIGlvOmNhc2Ugb286Y2FzZSBJbzpjYXNlIHhvOmNhc2VcInRlc3QtY29tcGxldGVkXCI6Y2FzZSAkbzpjYXNlIGpvOmNhc2UgR286Y2FzZSBRbzpjYXNlIEtvOmNhc2UgWW86Y2FzZSB0czpjYXNlIFhvOmNhc2VcImRpYWxpbi1yZWFkeVwiOmNhc2VcImRpYWxpbi1jb25uZWN0ZWRcIjpjYXNlXCJkaWFsaW4tZXJyb3JcIjpjYXNlXCJkaWFsaW4tc3RvcHBlZFwiOmNhc2VcImRpYWxpbi13YXJuaW5nXCI6Y2FzZVwiZGlhbG91dC1jb25uZWN0ZWRcIjpjYXNlXCJkaWFsb3V0LWFuc3dlcmVkXCI6Y2FzZVwiZGlhbG91dC1lcnJvclwiOmNhc2VcImRpYWxvdXQtc3RvcHBlZFwiOmNhc2VcImRpYWxvdXQtd2FybmluZ1wiOnRoaXMuZW1pdERhaWx5SlNFdmVudCh0KTticmVhaztjYXNlXCJyZXF1ZXN0LWZ1bGxzY3JlZW5cIjp0aGlzLnJlcXVlc3RGdWxsc2NyZWVuKCk7YnJlYWs7Y2FzZVwicmVxdWVzdC1leGl0LWZ1bGxzY3JlZW5cIjp0aGlzLmV4aXRGdWxsc2NyZWVuKCl9fX0se2tleTpcIm1heWJlRXZlbnRSZWNvcmRpbmdTdG9wcGVkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1cInJlY29yZFwiO2UmJih0LmxvY2FsfHwhMSE9PXRbbl18fGVbbl09PT10W25dfHx0aGlzLmVtaXREYWlseUpTRXZlbnQoe2FjdGlvbjpUb30pKX19LHtrZXk6XCJtYXliZUV2ZW50UmVjb3JkaW5nU3RhcnRlZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49XCJyZWNvcmRcIjtlJiYodC5sb2NhbHx8ITAhPT10W25dfHxlW25dPT09dFtuXXx8dGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246RW99KSl9fSx7a2V5OlwiX3RyYWNrU3RhdGVQbGF5YWJsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fGUuc3RhdGUhPT1UaSl9fSx7a2V5OlwiX3RyYWNrQ2hhbmdlZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuISgobnVsbD09ZT92b2lkIDA6ZS5pZCk9PT0obnVsbD09dD92b2lkIDA6dC5pZCkpfX0se2tleTpcIm1heWJlRXZlbnRUcmFja1N0b3BwZWRcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPW51bGwhPT0ocj1udWxsPT10P3ZvaWQgMDp0LnRyYWNrc1tlXSkmJnZvaWQgMCE9PXI/cjpudWxsLHM9bnVsbCE9PShpPW51bGw9PW4/dm9pZCAwOm4udHJhY2tzW2VdKSYmdm9pZCAwIT09aT9pOm51bGwsYT1udWxsPT1vP3ZvaWQgMDpvLnRyYWNrO2lmKGEpe3ZhciBjPXRoaXMuX3RyYWNrU3RhdGVQbGF5YWJsZShvKSxsPXRoaXMuX3RyYWNrU3RhdGVQbGF5YWJsZShzKSx1PXRoaXMuX3RyYWNrQ2hhbmdlZChhLG51bGw9PXM/dm9pZCAwOnMudHJhY2spO2MmJihsJiYhdXx8dGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246U28sdHJhY2s6YSxwYXJ0aWNpcGFudDpudWxsIT1uP246dCx0eXBlOmV9KSl9fX0se2tleTpcIm1heWJlRXZlbnRUcmFja1N0YXJ0ZWRcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPW51bGwhPT0ocj1udWxsPT10P3ZvaWQgMDp0LnRyYWNrc1tlXSkmJnZvaWQgMCE9PXI/cjpudWxsLHM9bnVsbCE9PShpPW51bGw9PW4/dm9pZCAwOm4udHJhY2tzW2VdKSYmdm9pZCAwIT09aT9pOm51bGwsYT1udWxsPT1zP3ZvaWQgMDpzLnRyYWNrO2lmKGEpe3ZhciBjPXRoaXMuX3RyYWNrU3RhdGVQbGF5YWJsZShvKSxsPXRoaXMuX3RyYWNrU3RhdGVQbGF5YWJsZShzKSx1PXRoaXMuX3RyYWNrQ2hhbmdlZChudWxsPT1vP3ZvaWQgMDpvLnRyYWNrLGEpO2wmJihjJiYhdXx8dGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246d28sdHJhY2s6YSxwYXJ0aWNpcGFudDpuLHR5cGU6ZX0pKX19fSx7a2V5OlwibWF5YmVQYXJ0aWNpcGFudFRyYWNrc1N0b3BwZWRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKGUpZm9yKHZhciBuIGluIGUudHJhY2tzKXRoaXMubWF5YmVFdmVudFRyYWNrU3RvcHBlZChuLGUsdCl9fSx7a2V5OlwibWF5YmVQYXJ0aWNpcGFudFRyYWNrc1N0YXJ0ZWRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHQpZm9yKHZhciBuIGluIHQudHJhY2tzKXRoaXMubWF5YmVFdmVudFRyYWNrU3RhcnRlZChuLGUsdCl9fSx7a2V5OlwiY29tcGFyZUVxdWFsRm9yUk1QVXBkYXRlRXZlbnRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI7cmV0dXJuIGUuc3RhdGU9PT10LnN0YXRlJiYobnVsbD09PShuPWUuc2V0dGluZ3MpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnZvbHVtZSk9PT0obnVsbD09PShyPXQuc2V0dGluZ3MpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnZvbHVtZSl9fSx7a2V5OlwiZW1pdERhaWx5SlNFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RyeXtlLmNhbGxDbGllbnRJZD10aGlzLmNhbGxDbGllbnRJZCx0aGlzLmVtaXQoZS5hY3Rpb24sZSl9Y2F0Y2godCl7Y29uc29sZS5sb2coXCJjb3VsZCBub3QgZW1pdFwiLGUsdCl9fX0se2tleTpcImNvbXBhcmVFcXVhbEZvclBhcnRpY2lwYW50VXBkYXRlRXZlbnRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiEhTihlLHQpJiYoKCFlLnZpZGVvVHJhY2t8fCF0LnZpZGVvVHJhY2t8fGUudmlkZW9UcmFjay5pZD09PXQudmlkZW9UcmFjay5pZCYmZS52aWRlb1RyYWNrLm11dGVkPT09dC52aWRlb1RyYWNrLm11dGVkJiZlLnZpZGVvVHJhY2suZW5hYmxlZD09PXQudmlkZW9UcmFjay5lbmFibGVkKSYmKCFlLmF1ZGlvVHJhY2t8fCF0LmF1ZGlvVHJhY2t8fGUuYXVkaW9UcmFjay5pZD09PXQuYXVkaW9UcmFjay5pZCYmZS5hdWRpb1RyYWNrLm11dGVkPT09dC5hdWRpb1RyYWNrLm11dGVkJiZlLmF1ZGlvVHJhY2suZW5hYmxlZD09PXQuYXVkaW9UcmFjay5lbmFibGVkKSl9fSx7a2V5OlwibmF0aXZlVXRpbHNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB5cygpP1widW5kZWZpbmVkXCI9PXR5cGVvZiBEYWlseU5hdGl2ZVV0aWxzPyhjb25zb2xlLndhcm4oXCJpbiBSZWFjdCBOYXRpdmUsIERhaWx5TmF0aXZlVXRpbHMgaXMgZXhwZWN0ZWQgdG8gYmUgYXZhaWxhYmxlXCIpLG51bGwpOkRhaWx5TmF0aXZlVXRpbHM6bnVsbH19LHtrZXk6XCJ1cGRhdGVJc1ByZXBhcmluZ1RvSm9pblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX3VwZGF0ZUNhbGxTdGF0ZSh0aGlzLl9jYWxsU3RhdGUsZSl9fSx7a2V5OlwiX3VwZGF0ZUNhbGxTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0aGlzLl9pc1ByZXBhcmluZ1RvSm9pbjtpZihlIT09dGhpcy5fY2FsbFN0YXRlfHx0IT09dGhpcy5faXNQcmVwYXJpbmdUb0pvaW4pe3ZhciBuPXRoaXMuX2NhbGxTdGF0ZSxyPXRoaXMuX2lzUHJlcGFyaW5nVG9Kb2luO3RoaXMuX2NhbGxTdGF0ZT1lLHRoaXMuX2lzUHJlcGFyaW5nVG9Kb2luPXQ7dmFyIGk9dGhpcy5fY2FsbFN0YXRlPT09Ymk7dGhpcy51cGRhdGVTaG93QW5kcm9pZE9uZ29pbmdNZWV0aW5nTm90aWZpY2F0aW9uKGkpO3ZhciBvPWFjKG4scikscz1hYyh0aGlzLl9jYWxsU3RhdGUsdGhpcy5faXNQcmVwYXJpbmdUb0pvaW4pO28hPT1zJiYodGhpcy51cGRhdGVLZWVwRGV2aWNlQXdha2UocyksdGhpcy51cGRhdGVEZXZpY2VBdWRpb01vZGUocyksdGhpcy51cGRhdGVOb09wUmVjb3JkaW5nRW5zdXJpbmdCYWNrZ3JvdW5kQ29udGludWl0eShzKSl9fX0se2tleTpcInJlc2V0TWVldGluZ0RlcGVuZGVudFZhcnNcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3BhcnRpY2lwYW50cz17fSx0aGlzLl9wYXJ0aWNpcGFudENvdW50cz1RYSx0aGlzLl93YWl0aW5nUGFydGljaXBhbnRzPXt9LHRoaXMuX2FjdGl2ZVNwZWFrZXI9e30sdGhpcy5fYWN0aXZlU3BlYWtlck1vZGU9ITEsdGhpcy5fZGlkUHJlQXV0aD0hMSx0aGlzLl9hY2Nlc3NTdGF0ZT17YWNjZXNzOk9pfSx0aGlzLl9maW5hbFN1bW1hcnlPZlByZXZTZXNzaW9uPXRoaXMuX21lZXRpbmdTZXNzaW9uU3VtbWFyeSx0aGlzLl9tZWV0aW5nU2Vzc2lvblN1bW1hcnk9e30sdGhpcy5fbWVldGluZ1Nlc3Npb25TdGF0ZT1qYyhHYSx0aGlzLl9jYWxsT2JqZWN0TW9kZSksdGhpcy5faXNTY3JlZW5TaGFyaW5nPSExLHRoaXMuX3JlY2VpdmVTZXR0aW5ncz17fSx0aGlzLl9pbnB1dFNldHRpbmdzPXZvaWQgMCx0aGlzLl9zZW5kU2V0dGluZ3M9e30sdGhpcy5fbG9jYWxBdWRpb0xldmVsPTAsdGhpcy5faXNMb2NhbEF1ZGlvTGV2ZWxPYnNlcnZlclJ1bm5pbmc9ITEsdGhpcy5fcmVtb3RlUGFydGljaXBhbnRzQXVkaW9MZXZlbD17fSx0aGlzLl9pc1JlbW90ZVBhcnRpY2lwYW50c0F1ZGlvTGV2ZWxPYnNlcnZlclJ1bm5pbmc9ITEsdGhpcy5fbWF4QXBwTWVzc2FnZVNpemU9cnMsdGhpcy5fY2FsbE1hY2hpbmVJbml0aWFsaXplZD0hMSx0aGlzLl9idW5kbGVMb2FkVGltZT12b2lkIDAsdGhpcy5fcHJlbG9hZENhY2hlfX0se2tleTpcInVwZGF0ZUtlZXBEZXZpY2VBd2FrZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3lzKCkmJnRoaXMubmF0aXZlVXRpbHMoKS5zZXRLZWVwRGV2aWNlQXdha2UoZSx0aGlzLmNhbGxDbGllbnRJZCl9fSx7a2V5OlwidXBkYXRlRGV2aWNlQXVkaW9Nb2RlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoeXMoKSYmIXRoaXMuZGlzYWJsZVJlYWN0TmF0aXZlQXV0b0RldmljZU1hbmFnZW1lbnQoXCJhdWRpb1wiKSl7dmFyIHQ9ZT90aGlzLl9uYXRpdmVJbkNhbGxBdWRpb01vZGU6XCJpZGxlXCI7dGhpcy5uYXRpdmVVdGlscygpLnNldEF1ZGlvTW9kZSh0KX19fSx7a2V5OlwidXBkYXRlU2hvd0FuZHJvaWRPbmdvaW5nTWVldGluZ05vdGlmaWNhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHlzKCkmJnRoaXMubmF0aXZlVXRpbHMoKS5zZXRTaG93T25nb2luZ01lZXRpbmdOb3RpZmljYXRpb24pe3ZhciB0LG4scixpO2lmKHRoaXMucHJvcGVydGllcy5yZWFjdE5hdGl2ZUNvbmZpZyYmdGhpcy5wcm9wZXJ0aWVzLnJlYWN0TmF0aXZlQ29uZmlnLmFuZHJvaWRJbkNhbGxOb3RpZmljYXRpb24pe3ZhciBvPXRoaXMucHJvcGVydGllcy5yZWFjdE5hdGl2ZUNvbmZpZy5hbmRyb2lkSW5DYWxsTm90aWZpY2F0aW9uO3Q9by50aXRsZSxuPW8uc3VidGl0bGUscj1vLmljb25OYW1lLGk9by5kaXNhYmxlRm9yQ3VzdG9tT3ZlcnJpZGV9aSYmKGU9ITEpLHRoaXMubmF0aXZlVXRpbHMoKS5zZXRTaG93T25nb2luZ01lZXRpbmdOb3RpZmljYXRpb24oZSx0LG4scix0aGlzLmNhbGxDbGllbnRJZCl9fX0se2tleTpcInVwZGF0ZU5vT3BSZWNvcmRpbmdFbnN1cmluZ0JhY2tncm91bmRDb250aW51aXR5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7eXMoKSYmdGhpcy5uYXRpdmVVdGlscygpLmVuYWJsZU5vT3BSZWNvcmRpbmdFbnN1cmluZ0JhY2tncm91bmRDb250aW51aXR5JiZ0aGlzLm5hdGl2ZVV0aWxzKCkuZW5hYmxlTm9PcFJlY29yZGluZ0Vuc3VyaW5nQmFja2dyb3VuZENvbnRpbnVpdHkoZSl9fSx7a2V5OlwidG9nZ2xlUGFydGljaXBhbnRBdWRpb0Jhc2VkT25OYXRpdmVBdWRpb0ZvY3VzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZTtpZih5cygpKXt2YXIgdD1udWxsPT09KGU9dGhpcy5fY2FsbE1hY2hpbmUoKSl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLnN0b3JlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRTdGF0ZSgpO2Zvcih2YXIgbiBpbiBudWxsPT10P3ZvaWQgMDp0LnN0cmVhbXMpe3ZhciByPXQuc3RyZWFtc1tuXTtyJiZyLnBlbmRpbmdUcmFjayYmXCJhdWRpb1wiPT09ci5wZW5kaW5nVHJhY2sua2luZCYmKHIucGVuZGluZ1RyYWNrLmVuYWJsZWQ9dGhpcy5faGFzTmF0aXZlQXVkaW9Gb2N1cyl9fX19LHtrZXk6XCJkaXNhYmxlUmVhY3ROYXRpdmVBdXRvRGV2aWNlTWFuYWdlbWVudFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnByb3BlcnRpZXMucmVhY3ROYXRpdmVDb25maWcmJnRoaXMucHJvcGVydGllcy5yZWFjdE5hdGl2ZUNvbmZpZy5kaXNhYmxlQXV0b0RldmljZU1hbmFnZW1lbnQmJnRoaXMucHJvcGVydGllcy5yZWFjdE5hdGl2ZUNvbmZpZy5kaXNhYmxlQXV0b0RldmljZU1hbmFnZW1lbnRbZV19fSx7a2V5OlwiYWJzb2x1dGVVcmxcIix2YWx1ZTpmdW5jdGlvbihlKXtpZih2b2lkIDAhPT1lKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtyZXR1cm4gdC5ocmVmPWUsdC5ocmVmfX19LHtrZXk6XCJzYXlIZWxsb1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9XCJoZWxsbywgd29ybGQuXCI7cmV0dXJuIGNvbnNvbGUubG9nKGUpLGV9fSx7a2V5OlwiX2xvZ1VzZUFmdGVyRGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LnZhbHVlcyh6YSlbMF07aWYodGhpcy5uZWVkc0xvYWQoKSl7aWYoZSYmIWUubmVlZHNMb2FkKCkpe3ZhciB0PXthY3Rpb246Y3MsbGV2ZWw6XCJlcnJvclwiLGNvZGU6dGhpcy5zdHJpY3RNb2RlPzk5OTU6OTk5N307ZS5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUodCl9ZWxzZSBpZighdGhpcy5zdHJpY3RNb2RlKXtjb25zb2xlLmVycm9yKFwiWW91IGFyZSBhcmUgYXR0ZW1wdGluZyB0byB1c2UgYSBjYWxsIGluc3RhbmNlIHRoYXQgd2FzIHByZXZpb3VzbHkgZGVzdHJveWVkLCB3aGljaCBpcyB1bnN1cHBvcnRlZC4gUGxlYXNlIHJlbW92ZSBgc3RyaWN0TW9kZTogZmFsc2VgIGZyb20geW91ciBjb25zdHJ1Y3RvciBwcm9wZXJ0aWVzIHRvIGVuYWJsZSBzdHJpY3QgbW9kZSB0byB0cmFjayBkb3duIGFuZCBmaXggdGhpcyB1bnN1cHBvcnRlZCB1c2FnZS5cIil9fWVsc2V7dmFyIG49e2FjdGlvbjpjcyxsZXZlbDpcImVycm9yXCIsY29kZTp0aGlzLnN0cmljdE1vZGU/OTk5NTo5OTk3fTt0aGlzLl9tZXNzYWdlQ2hhbm5lbC5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUobixudWxsLHRoaXMuY2FsbENsaWVudElkLHRoaXMuX2lmcmFtZSl9fX0se2tleTpcIl9sb2dEdXBsaWNhdGVJbnN0YW5jZUF0dGVtcHRcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9T2JqZWN0LnZhbHVlcyh6YSk7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuPXRbZV07bi5fY2FsbE1hY2hpbmVJbml0aWFsaXplZD8obi5zZW5kTWVzc2FnZVRvQ2FsbE1hY2hpbmUoe2FjdGlvbjpjcyxsZXZlbDpcIndhcm5cIixjb2RlOnRoaXMuYWxsb3dNdWx0aXBsZUNhbGxJbnN0YW5jZXM/OTk5Mzo5OTkyfSksbi5fZGVsYXlEdXBsaWNhdGVJbnN0YW5jZUxvZz0hMSk6bi5fZGVsYXlEdXBsaWNhdGVJbnN0YW5jZUxvZz0hMH19fSx7a2V5OlwiX21heWJlU2VuZFRvU2VudHJ5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQsbixpLG87aWYobnVsbCE9PSh0PWUuZXJyb3IpJiZ2b2lkIDAhPT10JiZ0LnR5cGUpe2lmKCFbJGksVmksQmldLmluY2x1ZGVzKGUuZXJyb3IudHlwZSkpcmV0dXJuO2lmKGUuZXJyb3IudHlwZT09PUJpJiZlLmVycm9yLm1zZy5pbmNsdWRlcyhcImRlbGV0ZWRcIikpcmV0dXJufXZhciBzPW51bGwhPT0obj10aGlzLnByb3BlcnRpZXMpJiZ2b2lkIDAhPT1uJiZuLnVybD9uZXcgVVJMKHRoaXMucHJvcGVydGllcy51cmwpOnZvaWQgMCxhPVwicHJvZHVjdGlvblwiO3MmJnMuaG9zdC5pbmNsdWRlcyhcIi5zdGFnaW5nLmRhaWx5XCIpJiYoYT1cInN0YWdpbmdcIik7dmFyIGMsbCx1LGQscCxoPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9W0duKCksV24oKSxpaSgpLG5pKCksdWkoKSxmaSgpLHJyKCksaGkoKV07cmV0dXJuITEhPT1lLmF1dG9TZXNzaW9uVHJhY2tpbmcmJnQucHVzaChsaSgpKSx0fSh7fSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hW1wiQnJvd3NlckFwaUVycm9yc1wiLFwiQnJlYWRjcnVtYnNcIixcIkdsb2JhbEhhbmRsZXJzXCJdLmluY2x1ZGVzKGUubmFtZSl9KSksZj1uZXcganIoe2RzbjpcImh0dHBzOi8vZjEwZjFjODFlNWQ0NGE0MDk4NDE2YzA4NjdhOGI3NDBAbzc3OTA2LmluZ2VzdC5zZW50cnkuaW8vMTY4ODQ0XCIsdHJhbnNwb3J0OldyLHN0YWNrUGFyc2VyOlpyLGludGVncmF0aW9uczpoLGVudmlyb25tZW50OmF9KSx2PW5ldyBNdDtpZih2LnNldENsaWVudChmKSxmLmluaXQoKSx0aGlzLnNlc3Npb25faWQmJnYuc2V0RXh0cmEoXCJzZXNzaW9uSWRcIix0aGlzLnNlc3Npb25faWQpLHRoaXMucHJvcGVydGllcyl7dmFyIGc9VmEoe30sdGhpcy5wcm9wZXJ0aWVzKTtnLnVzZXJOYW1lPWcudXNlck5hbWU/XCJbRmlsdGVyZWRdXCI6dm9pZCAwLGcudXNlckRhdGE9Zy51c2VyRGF0YT9cIltGaWx0ZXJlZF1cIjp2b2lkIDAsZy50b2tlbj1nLnRva2VuP1wiW0ZpbHRlcmVkXVwiOnZvaWQgMCx2LnNldEV4dHJhKFwicHJvcGVydGllc1wiLGcpfWlmKHMpe3ZhciBtPXMuc2VhcmNoUGFyYW1zLmdldChcImRvbWFpblwiKTtpZighbSl7dmFyIHk9cy5ob3N0Lm1hdGNoKC8oLio/KVxcLi8pO209eSYmeVsxXXx8XCJcIn1tJiZ2LnNldFRhZyhcImRvbWFpblwiLG0pfWUuZXJyb3ImJih2LnNldFRhZyhcImZhdGFsRXJyb3JUeXBlXCIsZS5lcnJvci50eXBlKSx2LnNldEV4dHJhKFwiZXJyb3JEZXRhaWxzXCIsZS5lcnJvci5kZXRhaWxzKSwobnVsbD09PShjPWUuZXJyb3IuZGV0YWlscyl8fHZvaWQgMD09PWM/dm9pZCAwOmMudXJpKSYmdi5zZXRUYWcoXCJzZXJ2ZXJBZGRyZXNzXCIsZS5lcnJvci5kZXRhaWxzLnVyaSksKG51bGw9PT0obD1lLmVycm9yLmRldGFpbHMpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLndvcmtlckdyb3VwKSYmdi5zZXRUYWcoXCJ3b3JrZXJHcm91cFwiLGUuZXJyb3IuZGV0YWlscy53b3JrZXJHcm91cCksKG51bGw9PT0odT1lLmVycm9yLmRldGFpbHMpfHx2b2lkIDA9PT11P3ZvaWQgMDp1Lmdlb0dyb3VwKSYmdi5zZXRUYWcoXCJnZW9Hcm91cFwiLGUuZXJyb3IuZGV0YWlscy5nZW9Hcm91cCksKG51bGw9PT0oZD1lLmVycm9yLmRldGFpbHMpfHx2b2lkIDA9PT1kP3ZvaWQgMDpkLm9uKSYmdi5zZXRUYWcoXCJjb25uZWN0aW9uQXR0ZW1wdFwiLGUuZXJyb3IuZGV0YWlscy5vbiksbnVsbCE9PShwPWUuZXJyb3IuZGV0YWlscykmJnZvaWQgMCE9PXAmJnAuYnVuZGxlVXJsJiYodi5zZXRUYWcoXCJidW5kbGVVcmxcIixlLmVycm9yLmRldGFpbHMuYnVuZGxlVXJsKSx2LnNldFRhZyhcImJ1bmRsZUVycm9yXCIsZS5lcnJvci5kZXRhaWxzLnNvdXJjZUVycm9yLnR5cGUpKSk7di5zZXRUYWdzKHtjYWxsTW9kZTp0aGlzLl9jYWxsT2JqZWN0TW9kZT95cygpP1wicmVhY3ROYXRpdmVcIjpudWxsIT09KGk9dGhpcy5wcm9wZXJ0aWVzKSYmdm9pZCAwIT09aSYmbnVsbCE9PShpPWkuZGFpbHlDb25maWcpJiZ2b2lkIDAhPT1pJiZudWxsIT09KGk9aS5jYWxsTW9kZSkmJnZvaWQgMCE9PWkmJmkuaW5jbHVkZXMoXCJwcmVidWlsdFwiKT90aGlzLnByb3BlcnRpZXMuZGFpbHlDb25maWcuY2FsbE1vZGU6XCJjdXN0b21cIjpcInByZWJ1aWx0LWZyYW1lXCIsdmVyc2lvbjpyLnZlcnNpb24oKX0pO3ZhciBiPShudWxsPT09KG89ZS5lcnJvcil8fHZvaWQgMD09PW8/dm9pZCAwOm8ubXNnKXx8ZS5lcnJvck1zZzt2LmNhcHR1cmVFeGNlcHRpb24obmV3IEVycm9yKGIpKX19LHtrZXk6XCJfY2FsbE1hY2hpbmVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlO3JldHVybiBudWxsPT09KGU9d2luZG93Ll9kYWlseSl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLmluc3RhbmNlcyl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lW3RoaXMuY2FsbENsaWVudElkXSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2FsbE1hY2hpbmV9fSx7a2V5OlwiX21heWJlVXBkYXRlSW5wdXRTZXR0aW5nc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFOKHRoaXMuX2lucHV0U2V0dGluZ3MsZSkpe3ZhciB0PXRoaXMuX2dldElucHV0U2V0dGluZ3MoKTt0aGlzLl9pbnB1dFNldHRpbmdzPWU7dmFyIG49dGhpcy5fZ2V0SW5wdXRTZXR0aW5ncygpO04odCxuKXx8dGhpcy5lbWl0RGFpbHlKU0V2ZW50KHthY3Rpb246ZXMsaW5wdXRTZXR0aW5nczpufSl9fX1dLFt7a2V5Olwic3VwcG9ydGVkQnJvd3NlclwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoeXMoKSlyZXR1cm57c3VwcG9ydGVkOiEwLG1vYmlsZTohMCxuYW1lOlwiUmVhY3QgTmF0aXZlXCIsdmVyc2lvbjpudWxsLHN1cHBvcnRzU2NyZWVuU2hhcmU6ITAsc3VwcG9ydHNTZnU6ITAsc3VwcG9ydHNWaWRlb1Byb2Nlc3Npbmc6ITEsc3VwcG9ydHNBdWRpb1Byb2Nlc3Npbmc6ITF9O3ZhciBlPVEuZ2V0UGFyc2VyKG1zKCkpO3JldHVybntzdXBwb3J0ZWQ6ISFDcygpLG1vYmlsZTpcIm1vYmlsZVwiPT09ZS5nZXRQbGF0Zm9ybVR5cGUoKSxuYW1lOmUuZ2V0QnJvd3Nlck5hbWUoKSx2ZXJzaW9uOmUuZ2V0QnJvd3NlclZlcnNpb24oKSxzdXBwb3J0c0Z1bGxzY3JlZW46ISF3cygpLHN1cHBvcnRzU2NyZWVuU2hhcmU6ISFfcygpLHN1cHBvcnRzU2Z1OiEhQ3MoKSxzdXBwb3J0c1ZpZGVvUHJvY2Vzc2luZzprcygpLHN1cHBvcnRzQXVkaW9Qcm9jZXNzaW5nOk1zKCl9fX0se2tleTpcInZlcnNpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiMC43Ny4wXCJ9fSx7a2V5OlwiY3JlYXRlQ2FsbE9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBlLmxheW91dD1cIm5vbmVcIixuZXcgcihudWxsLGUpfX0se2tleTpcIndyYXBcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYoaGMoKSwhZXx8IWUuY29udGVudFdpbmRvd3x8XCJzdHJpbmdcIiE9dHlwZW9mIGUuc3JjKXRocm93IG5ldyBFcnJvcihcIkRhaWx5SWZyYW1lOjpXcmFwIG5lZWRzIGFuIGlmcmFtZS1saWtlIGZpcnN0IGFyZ3VtZW50XCIpO3JldHVybiB0LmxheW91dHx8KHQuY3VzdG9tTGF5b3V0P3QubGF5b3V0PVwiY3VzdG9tLXYxXCI6dC5sYXlvdXQ9XCJicm93c2VyXCIpLG5ldyByKGUsdCl9fSx7a2V5OlwiY3JlYXRlRnJhbWVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuLGk7aGMoKSxlJiZ0PyhuPWUsaT10KTplJiZlLmFwcGVuZD8obj1lLGk9e30pOihuPWRvY3VtZW50LmJvZHksaT1lfHx7fSk7dmFyIG89aS5pZnJhbWVTdHlsZTtvfHwobz1uPT09ZG9jdW1lbnQuYm9keT97cG9zaXRpb246XCJmaXhlZFwiLGJvcmRlcjpcIjFweCBzb2xpZCBibGFja1wiLGJhY2tncm91bmRDb2xvcjpcIndoaXRlXCIsd2lkdGg6XCIzNzVweFwiLGhlaWdodDpcIjQ1MHB4XCIscmlnaHQ6XCIxZW1cIixib3R0b206XCIxZW1cIn06e2JvcmRlcjowLHdpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIn0pO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7d2luZG93Lm5hdmlnYXRvciYmd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLzYxXFwuLyk/cy5hbGxvdz1cIm1pY3JvcGhvbmUsIGNhbWVyYVwiOnMuYWxsb3c9XCJtaWNyb3Bob25lOyBjYW1lcmE7IGF1dG9wbGF5OyBkaXNwbGF5LWNhcHR1cmU7IHNjcmVlbi13YWtlLWxvY2tcIixzLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIixuLmFwcGVuZENoaWxkKHMpLHMuc3R5bGUudmlzaWJpbGl0eT1udWxsLE9iamVjdC5rZXlzKG8pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBzLnN0eWxlW2VdPW9bZV19KSksaS5sYXlvdXR8fChpLmN1c3RvbUxheW91dD9pLmxheW91dD1cImN1c3RvbS12MVwiOmkubGF5b3V0PVwiYnJvd3NlclwiKTt0cnl7cmV0dXJuIG5ldyByKHMsaSl9Y2F0Y2goZSl7dGhyb3cgbi5yZW1vdmVDaGlsZChzKSxlfX19LHtrZXk6XCJjcmVhdGVUcmFuc3BhcmVudEZyYW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aGMoKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO3JldHVybiB0LmFsbG93PVwibWljcm9waG9uZTsgY2FtZXJhOyBhdXRvcGxheVwiLHQuc3R5bGUuY3NzVGV4dD1cIlxcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgICB0b3A6IDA7XFxuICAgICAgbGVmdDogMDtcXG4gICAgICB3aWR0aDogMTAwJTtcXG4gICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgYm9yZGVyOiAwO1xcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgICBcIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHQpLGUubGF5b3V0fHwoZS5sYXlvdXQ9XCJjdXN0b20tdjFcIiksci53cmFwKHQsZSl9fSx7a2V5OlwiZ2V0Q2FsbEluc3RhbmNlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dm9pZCAwO3JldHVybiBlP3phW2VdOk9iamVjdC52YWx1ZXMoemEpWzBdfX1dKTt2YXIgaSxjLGQsaCx2LGcsbSx5LGIsXyx3LFMsayxNLEMsRSxULE8sUCxBLGosSSxMLEQsUixGLEIsVSxWLEosJCxxLHosVyxILEcsWSxlZX0oKTtmdW5jdGlvbiBvYyhlLHQpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiBlKWlmKGVbcl1pbnN0YW5jZW9mIE1lZGlhU3RyZWFtVHJhY2spY29uc29sZS53YXJuKFwiTWVkaWFTdHJlYW1UcmFjayBmb3VuZCBpbiBwcm9wcyBvciBjYWNoZS5cIixyKSxuW3JdPWxzO2Vsc2UgaWYoXCJkYWlseUNvbmZpZ1wiPT09cil7aWYoZVtyXS5tb2RpZnlMb2NhbFNkcEhvb2spe3ZhciBpPXdpbmRvdy5fZGFpbHkuaW5zdGFuY2VzW3RdLmN1c3RvbUNhbGxiYWNrc3x8e307aS5tb2RpZnlMb2NhbFNkcEhvb2s9ZVtyXS5tb2RpZnlMb2NhbFNkcEhvb2ssd2luZG93Ll9kYWlseS5pbnN0YW5jZXNbdF0uY3VzdG9tQ2FsbGJhY2tzPWksZGVsZXRlIGVbcl0ubW9kaWZ5TG9jYWxTZHBIb29rfWlmKGVbcl0ubW9kaWZ5UmVtb3RlU2RwSG9vayl7dmFyIG89d2luZG93Ll9kYWlseS5pbnN0YW5jZXNbdF0uY3VzdG9tQ2FsbGJhY2tzfHx7fTtvLm1vZGlmeVJlbW90ZVNkcEhvb2s9ZVtyXS5tb2RpZnlSZW1vdGVTZHBIb29rLHdpbmRvdy5fZGFpbHkuaW5zdGFuY2VzW3RdLmN1c3RvbUNhbGxiYWNrcz1vLGRlbGV0ZSBlW3JdLm1vZGlmeVJlbW90ZVNkcEhvb2t9bltyXT1lW3JdfWVsc2UgbltyXT1lW3JdO3JldHVybiBufWZ1bmN0aW9uIHNjKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwO2lmKGUhPT1iaSl7dmFyIG49XCJcIi5jb25jYXQoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiVGhpcyBkYWlseS1qcyBtZXRob2RcIixcIiBvbmx5IHN1cHBvcnRlZCBhZnRlciBqb2luLlwiKTt0aHJvdyB0JiYobis9XCIgXCIuY29uY2F0KHQpKSxjb25zb2xlLmVycm9yKG4pLG5ldyBFcnJvcihuKX19ZnVuY3Rpb24gYWMoZSx0KXtyZXR1cm5beWksYmldLmluY2x1ZGVzKGUpfHx0fWZ1bmN0aW9uIGNjKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOlwiVGhpcyBkYWlseS1qcyBtZXRob2RcIixyPWFyZ3VtZW50cy5sZW5ndGg+Mz9hcmd1bWVudHNbM106dm9pZCAwO2lmKGFjKGUsdCkpe3ZhciBpPVwiXCIuY29uY2F0KG4sXCIgbm90IHN1cHBvcnRlZCBhZnRlciBqb2luaW5nIGEgbWVldGluZy5cIik7dGhyb3cgciYmKGkrPVwiIFwiLmNvbmNhdChyKSksY29uc29sZS5lcnJvcihpKSxuZXcgRXJyb3IoaSl9fWZ1bmN0aW9uIGxjKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIlRoaXMgZGFpbHktanMgbWV0aG9kXCIsbj1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDtpZighZSl7dmFyIHI9XCJcIi5jb25jYXQodCxhcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdP1wiIHJlcXVpcmVzIHByZUF1dGgoKSBvciBzdGFydENhbWVyYSgpIHRvIGluaXRpYWxpemUgY2FsbCBzdGF0ZS5cIjpcIiByZXF1aXJlcyBwcmVBdXRoKCksIHN0YXJ0Q2FtZXJhKCksIG9yIGpvaW4oKSB0byBpbml0aWFsaXplIGNhbGwgc3RhdGUuXCIpO3Rocm93IG4mJihyKz1cIiBcIi5jb25jYXQobikpLGNvbnNvbGUuZXJyb3IociksbmV3IEVycm9yKHIpfX1mdW5jdGlvbiB1YyhlKXtpZihlKXt2YXIgdD1cIkEgcHJlLWNhbGwgcXVhbGl0eSB0ZXN0IGlzIGluIHByb2dyZXNzLiBQbGVhc2UgdHJ5IFwiLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJUaGlzIGRhaWx5LWpzIG1ldGhvZFwiLFwiIGFnYWluIG9uY2UgdGVzdGluZyBoYXMgY29tcGxldGVkLiBVc2Ugc3RvcFRlc3RDYWxsUXVhbGl0eSgpIHRvIGVuZCBpdCBlYXJseS5cIik7dGhyb3cgY29uc29sZS5lcnJvcih0KSxuZXcgRXJyb3IodCl9fWZ1bmN0aW9uIGRjKGUpe2lmKCFlKXt2YXIgdD1cIlwiLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJUaGlzIGRhaWx5LWpzIG1ldGhvZFwiLFwiIGlzIG9ubHkgc3VwcG9ydGVkIG9uIGN1c3RvbSBjYWxsT2JqZWN0IGluc3RhbmNlc1wiKTt0aHJvdyBjb25zb2xlLmVycm9yKHQpLG5ldyBFcnJvcih0KX19ZnVuY3Rpb24gcGMoZSl7aWYoZSl7dmFyIHQ9XCJcIi5jb25jYXQoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiVGhpcyBkYWlseS1qcyBtZXRob2RcIixcIiBpcyBvbmx5IHN1cHBvcnRlZCBhcyBwYXJ0IG9mIERhaWx5J3MgUHJlYnVpbHRcIik7dGhyb3cgY29uc29sZS5lcnJvcih0KSxuZXcgRXJyb3IodCl9fWZ1bmN0aW9uIGhjKCl7aWYoeXMoKSl0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGRhaWx5LWpzIG1ldGhvZCBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcIil9ZnVuY3Rpb24gZmMoKXtpZigheXMoKSl0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGRhaWx5LWpzIG1ldGhvZCBpcyBvbmx5IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcIil9ZnVuY3Rpb24gdmMoZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4hMDt2YXIgdDtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl0PWU7ZWxzZSB0cnl7dD1KU09OLnN0cmluZ2lmeShlKSxOKEpTT04ucGFyc2UodCksZSl8fGNvbnNvbGUud2FybihcIlRoZSB1c2VyRGF0YSBwcm92aWRlZCB3aWxsIGJlIG1vZGlmaWVkIHdoZW4gc2VyaWFsaXplZC5cIil9Y2F0Y2goZSl7dGhyb3cgRXJyb3IoXCJ1c2VyRGF0YSBtdXN0IGJlIHNlcmlhbGl6YWJsZSB0byBKU09OOiBcIi5jb25jYXQoZSkpfWlmKHQubGVuZ3RoPjQwOTYpdGhyb3cgRXJyb3IoXCJ1c2VyRGF0YSBpcyB0b28gbGFyZ2UgKFwiLmNvbmNhdCh0Lmxlbmd0aCxcIiBjaGFyYWN0ZXJzKS4gTWF4aW11bSBzaXplIHN1cHBwb3J0ZWQgaXMgXCIpLmNvbmNhdCg0MDk2LFwiLlwiKSk7cmV0dXJuITB9ZnVuY3Rpb24gZ2MoZSx0KXtmb3IodmFyIG49dC5hbGxvd0FsbFBhcnRpY2lwYW50c0tleSxyPWZ1bmN0aW9uKGUpe3ZhciB0PVtcImxvY2FsXCJdO3JldHVybiBufHx0LnB1c2goXCIqXCIpLGUmJiF0LmluY2x1ZGVzKGUpfSxpPWZ1bmN0aW9uKGUpe3JldHVybiEhKHZvaWQgMD09PWUubGF5ZXJ8fE51bWJlci5pc0ludGVnZXIoZS5sYXllcikmJmUubGF5ZXI+PTB8fFwiaW5oZXJpdFwiPT09ZS5sYXllcil9LG89ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYoIShlLnZpZGVvJiYhaShlLnZpZGVvKSkmJiEoZS5zY3JlZW5WaWRlbyYmIWkoZS5zY3JlZW5WaWRlbykpKX0scz0wLGE9T2JqZWN0LmVudHJpZXMoZSk7czxhLmxlbmd0aDtzKyspe3ZhciBjPWYoYVtzXSwyKSxsPWNbMF0sdT1jWzFdO2lmKCFyKGwpfHwhbyh1KSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBtYyhlKXtpZihcIm9iamVjdFwiIT09bihlKSlyZXR1cm4hMTtmb3IodmFyIHQ9MCxyPU9iamVjdC5lbnRyaWVzKGUpO3Q8ci5sZW5ndGg7dCsrKXt2YXIgaT1mKHJbdF0sMiksbz1pWzBdLHM9aVsxXTtzd2l0Y2gobyl7Y2FzZVwidmlkZW9cIjppZihcIm9iamVjdFwiIT09bihzKSlyZXR1cm4hMTtmb3IodmFyIGE9MCxjPU9iamVjdC5lbnRyaWVzKHMpO2E8Yy5sZW5ndGg7YSsrKXt2YXIgbD1mKGNbYV0sMiksdT1sWzBdLGQ9bFsxXTtzd2l0Y2godSl7Y2FzZVwicHJvY2Vzc29yXCI6aWYoIV9jKGQpKXJldHVybiExO2JyZWFrO2Nhc2VcInNldHRpbmdzXCI6aWYoIXdjKGQpKXJldHVybiExO2JyZWFrO2RlZmF1bHQ6cmV0dXJuITF9fWJyZWFrO2Nhc2VcImF1ZGlvXCI6aWYoXCJvYmplY3RcIiE9PW4ocykpcmV0dXJuITE7Zm9yKHZhciBwPTAsaD1PYmplY3QuZW50cmllcyhzKTtwPGgubGVuZ3RoO3ArKyl7dmFyIHY9ZihoW3BdLDIpLGc9dlswXSxtPXZbMV07c3dpdGNoKGcpe2Nhc2VcInByb2Nlc3NvclwiOmlmKCFiYyhtKSlyZXR1cm4hMTticmVhaztjYXNlXCJzZXR0aW5nc1wiOmlmKCF3YyhtKSlyZXR1cm4hMTticmVhaztkZWZhdWx0OnJldHVybiExfX1icmVhaztkZWZhdWx0OnJldHVybiExfX1yZXR1cm4hMH1mdW5jdGlvbiB5YyhlLHQsbil7dmFyIHIsaT1bXTtlLnZpZGVvJiZlLnZpZGVvLnByb2Nlc3NvciYmKGtzKG51bGwhPT0ocj1udWxsPT10P3ZvaWQgMDp0LnVzZUxlZ2FjeVZpZGVvUHJvY2Vzc29yKSYmdm9pZCAwIT09ciYmcil8fChlLnZpZGVvLnNldHRpbmdzP2RlbGV0ZSBlLnZpZGVvLnByb2Nlc3NvcjpkZWxldGUgZS52aWRlbyxpLnB1c2goXCJ2aWRlb1wiKSkpO2UuYXVkaW8mJmUuYXVkaW8ucHJvY2Vzc29yJiYoTXMoKXx8KGUuYXVkaW8uc2V0dGluZ3M/ZGVsZXRlIGUuYXVkaW8ucHJvY2Vzc29yOmRlbGV0ZSBlLmF1ZGlvLGkucHVzaChcImF1ZGlvXCIpKSksaS5sZW5ndGg+MCYmY29uc29sZS5lcnJvcihcIklnbm9yaW5nIHNldHRpbmdzIGZvciBicm93c2VyLSBvciBwbGF0Zm9ybS11bnN1cHBvcnRlZCBpbnB1dCBwcm9jZXNzb3Iocyk6IFwiLmNvbmNhdChpLmpvaW4oXCIsIFwiKSkpLGUuYXVkaW8mJmUuYXVkaW8uc2V0dGluZ3MmJihlLmF1ZGlvLnNldHRpbmdzLmN1c3RvbVRyYWNrPyhuLmF1ZGlvVHJhY2s9ZS5hdWRpby5zZXR0aW5ncy5jdXN0b21UcmFjayxlLmF1ZGlvLnNldHRpbmdzPXtjdXN0b21UcmFjazpsc30pOmRlbGV0ZSBuLmF1ZGlvVHJhY2spLGUudmlkZW8mJmUudmlkZW8uc2V0dGluZ3MmJihlLnZpZGVvLnNldHRpbmdzLmN1c3RvbVRyYWNrPyhuLnZpZGVvVHJhY2s9ZS52aWRlby5zZXR0aW5ncy5jdXN0b21UcmFjayxlLnZpZGVvLnNldHRpbmdzPXtjdXN0b21UcmFjazpsc30pOmRlbGV0ZSBuLnZpZGVvVHJhY2spfWZ1bmN0aW9uIGJjKGUpe2lmKHlzKCkpcmV0dXJuIGNvbnNvbGUud2FybihcIlZpZGVvIHByb2Nlc3NpbmcgaXMgbm90IHlldCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXCIpLCExO3ZhciB0PVtcInR5cGVcIl07cmV0dXJuISFlJiYoXCJvYmplY3RcIj09PW4oZSkmJihPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiF0LmluY2x1ZGVzKGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcImludmFsaWQga2V5IGlucHV0U2V0dGluZ3MgLT4gYXVkaW8gLT4gcHJvY2Vzc29yIDogXCIuY29uY2F0KHQpKSxkZWxldGUgZVt0XX0pKSwhIWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiExO2lmKCFPYmplY3QudmFsdWVzKGRzKS5pbmNsdWRlcyhlKSlyZXR1cm4gY29uc29sZS5lcnJvcihcImlucHV0U2V0dGluZ3MgYXVkaW8gcHJvY2Vzc29yIHR5cGUgaW52YWxpZFwiKSwhMTtyZXR1cm4hMH0oZS50eXBlKSkpfWZ1bmN0aW9uIF9jKGUpe2lmKHlzKCkpcmV0dXJuIGNvbnNvbGUud2FybihcIlZpZGVvIHByb2Nlc3NpbmcgaXMgbm90IHlldCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXCIpLCExO3ZhciB0PVtcInR5cGVcIixcImNvbmZpZ1wiXTtpZighZSlyZXR1cm4hMTtpZihcIm9iamVjdFwiIT09bihlKSlyZXR1cm4hMTtpZighZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuITE7aWYoIU9iamVjdC52YWx1ZXModXMpLmluY2x1ZGVzKGUpKXJldHVybiBjb25zb2xlLmVycm9yKFwiaW5wdXRTZXR0aW5ncyB2aWRlbyBwcm9jZXNzb3IgdHlwZSBpbnZhbGlkXCIpLCExO3JldHVybiEwfShlLnR5cGUpKXJldHVybiExO2lmKGUuY29uZmlnKXtpZihcIm9iamVjdFwiIT09bihlLmNvbmZpZykpcmV0dXJuITE7aWYoIWZ1bmN0aW9uKGUsdCl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoMD09PW4ubGVuZ3RoKXJldHVybiEwO3ZhciByPVwiaW52YWxpZCBvYmplY3QgaW4gaW5wdXRTZXR0aW5ncyAtPiB2aWRlbyAtPiBwcm9jZXNzb3IgLT4gY29uZmlnXCI7c3dpdGNoKGUpe2Nhc2UgdXMuQkdCTFVSOnJldHVybiBuLmxlbmd0aD4xfHxcInN0cmVuZ3RoXCIhPT1uWzBdPyhjb25zb2xlLmVycm9yKHIpLCExKTohKFwibnVtYmVyXCIhPXR5cGVvZiB0LnN0cmVuZ3RofHx0LnN0cmVuZ3RoPD0wfHx0LnN0cmVuZ3RoPjF8fGlzTmFOKHQuc3RyZW5ndGgpKXx8KGNvbnNvbGUuZXJyb3IoXCJcIi5jb25jYXQocixcIjsgZXhwZWN0ZWQ6IHswIDwgc3RyZW5ndGggPD0gMX0sIGdvdDogXCIpLmNvbmNhdCh0LnN0cmVuZ3RoKSksITEpO2Nhc2UgdXMuQkdJTUFHRTpyZXR1cm4hKHZvaWQgMCE9PXQuc291cmNlJiYhZnVuY3Rpb24oZSl7aWYoXCJkZWZhdWx0XCI9PT1lLnNvdXJjZSlyZXR1cm4gZS50eXBlPVwiZGVmYXVsdFwiLCEwO2lmKGUuc291cmNlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuITA7aWYoZWUoZS5zb3VyY2UpKXJldHVybiBlLnR5cGU9XCJ1cmxcIiwhIWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBVUkwoZSksbj10LnBhdGhuYW1lO2lmKFwiZGF0YTpcIj09PXQucHJvdG9jb2wpdHJ5e3ZhciByPW4uc3Vic3RyaW5nKG4uaW5kZXhPZihcIjpcIikrMSxuLmluZGV4T2YoXCI7XCIpKS5zcGxpdChcIi9cIilbMV07cmV0dXJuIGhzLmluY2x1ZGVzKHIpfWNhdGNoKGUpe3JldHVybiBjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGRlZHVjZSBibG9iIGNvbnRlbnQgdHlwZVwiLGUpLCExfXZhciBpPW4uc3BsaXQoXCIuXCIpLmF0KC0xKS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtyZXR1cm4gaHMuaW5jbHVkZXMoaSl9KGUuc291cmNlKXx8KGNvbnNvbGUuZXJyb3IoXCJpbnZhbGlkIGltYWdlIHR5cGU7IHN1cHBvcnRlZCB0eXBlczogW1wiLmNvbmNhdChocy5qb2luKFwiLCBcIiksXCJdXCIpKSwhMSk7cmV0dXJuIHQ9ZS5zb3VyY2Usbj1OdW1iZXIodCksaXNOYU4obil8fCFOdW1iZXIuaXNJbnRlZ2VyKG4pfHxuPD0wfHxuPjEwPyhjb25zb2xlLmVycm9yKFwiaW52YWxpZCBpbWFnZSBzZWxlY3Rpb247IG11c3QgYmUgYW4gaW50LCA+IDAsIDw9IFwiLmNvbmNhdCgxMCkpLCExKTooZS50eXBlPVwiZGFpbHktcHJlc2VsZWN0XCIsITApO3ZhciB0LG59KHQpKTtkZWZhdWx0OnJldHVybiEwfX0oZS50eXBlLGUuY29uZmlnKSlyZXR1cm4hMX1yZXR1cm4gT2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hdC5pbmNsdWRlcyhlKX0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oXCJpbnZhbGlkIGtleSBpbnB1dFNldHRpbmdzIC0+IHZpZGVvIC0+IHByb2Nlc3NvciA6IFwiLmNvbmNhdCh0KSksZGVsZXRlIGVbdF19KSksITB9ZnVuY3Rpb24gd2MoZSl7cmV0dXJuXCJvYmplY3RcIj09PW4oZSkmJighZS5jdXN0b21UcmFja3x8ZS5jdXN0b21UcmFjayBpbnN0YW5jZW9mIE1lZGlhU3RyZWFtVHJhY2spfWZ1bmN0aW9uIFNjKCl7dmFyIGU9T2JqZWN0LnZhbHVlcyh1cykuam9pbihcIiB8IFwiKSx0PU9iamVjdC52YWx1ZXMoZHMpLmpvaW4oXCIgfCBcIik7cmV0dXJuXCJpbnB1dFNldHRpbmdzIG11c3QgYmUgb2YgdGhlIGZvcm06IHsgdmlkZW8/OiB7IHByb2Nlc3Nvcj86IHsgdHlwZTogWyBcIi5jb25jYXQoZSxcIiBdLCBjb25maWc/OiB7fSB9IH0sIGF1ZGlvPzogeyBwcm9jZXNzb3I6IHt0eXBlOiBbIFwiKS5jb25jYXQodCxcIiBdIH0gfSB9XCIpfWZ1bmN0aW9uIGtjKGUpe3ZhciB0PWUuYWxsb3dBbGxQYXJ0aWNpcGFudHNLZXk7cmV0dXJuXCJyZWNlaXZlU2V0dGluZ3MgbXVzdCBiZSBvZiB0aGUgZm9ybSB7IFs8cmVtb3RlIHBhcnRpY2lwYW50IGlkPiB8IFwiLmNvbmNhdChJaSkuY29uY2F0KHQ/JyB8IFwiJy5jb25jYXQoXCIqXCIsJ1wiJyk6XCJcIixcIl06IFwiKSsneyBbdmlkZW86IFt7IGxheWVyOiBbPG5vbi1uZWdhdGl2ZSBpbnRlZ2VyPiB8IFwiaW5oZXJpdFwiXSB9IHwgXCJpbmhlcml0XCJdXSwgW3NjcmVlblZpZGVvOiBbeyBsYXllcjogWzxub24tbmVnYXRpdmUgaW50ZWdlcj4gfCBcImluaGVyaXRcIl0gfSB8IFwiaW5oZXJpdFwiXV0gfX19J31mdW5jdGlvbiBNYygpe3JldHVyblwiY3VzdG9tSW50ZWdyYXRpb25zIHNob3VsZCBiZSBhbiBvYmplY3Qgb2YgdHlwZSBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkodGMpLFwiLlwiKX1mdW5jdGlvbiBDYyhlKXtpZihlJiZcIm9iamVjdFwiIT09bihlKXx8QXJyYXkuaXNBcnJheShlKSlyZXR1cm4gY29uc29sZS5lcnJvcihcImN1c3RvbVRyYXlCdXR0b25zIHNob3VsZCBiZSBhbiBPYmplY3Qgb2YgdGhlIHR5cGUgXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KGVjKSxcIi5cIikpLCExO2lmKGUpZm9yKHZhciB0PTAscj1PYmplY3QuZW50cmllcyhlKTt0PHIubGVuZ3RoO3QrKylmb3IodmFyIGk9ZihyW3RdLDEpWzBdLG89MCxzPU9iamVjdC5lbnRyaWVzKGVbaV0pO288cy5sZW5ndGg7bysrKXt2YXIgYT1mKHNbb10sMiksYz1hWzBdLGw9YVsxXSx1PWVjLmlkW2NdO2lmKCF1KXJldHVybiBjb25zb2xlLmVycm9yKFwiY3VzdG9tVHJheUJ1dHRvbiBkb2VzIG5vdCBzdXBwb3J0IGtleSBcIi5jb25jYXQoYykpLCExO3N3aXRjaChjKXtjYXNlXCJpY29uUGF0aFwiOmNhc2VcImljb25QYXRoRGFya01vZGVcIjppZighZWUobCkpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJjdXN0b21UcmF5QnV0dG9uIFwiLmNvbmNhdChjLFwiIHNob3VsZCBiZSBhIHVybC5cIikpLCExO2JyZWFrO2Nhc2VcInZpc3VhbFN0YXRlXCI6aWYoIVtcImRlZmF1bHRcIixcInNpZGViYXItb3BlblwiLFwiYWN0aXZlXCJdLmluY2x1ZGVzKGwpKXJldHVybiBjb25zb2xlLmVycm9yKFwiY3VzdG9tVHJheUJ1dHRvbiBcIi5jb25jYXQoYyxcIiBzaG91bGQgYmUgXCIpLmNvbmNhdCh1LFwiLiBHb3Q6IFwiKS5jb25jYXQobCkpLCExO2JyZWFrO2RlZmF1bHQ6aWYobihsKSE9PXUpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJjdXN0b21UcmF5QnV0dG9uIFwiLmNvbmNhdChjLFwiIHNob3VsZCBiZSBhIFwiKS5jb25jYXQodSxcIi5cIikpLCExfX1yZXR1cm4hMH1mdW5jdGlvbiBFYyhlKXtpZighZXx8ZSYmXCJvYmplY3RcIiE9PW4oZSl8fEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGNvbnNvbGUuZXJyb3IoTWMoKSksITE7Zm9yKHZhciB0PWZ1bmN0aW9uKGUpe3JldHVyblwiXCIuY29uY2F0KGUsXCIgc2hvdWxkIGJlIFwiKS5jb25jYXQodGMuaWRbZV0pfSxyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJjdXN0b21JbnRlZ3JhdGlvbiBcIi5jb25jYXQoZSxcIjogXCIpLmNvbmNhdCh0KSl9LGk9MCxvPU9iamVjdC5lbnRyaWVzKGUpO2k8by5sZW5ndGg7aSsrKXt2YXIgcz1mKG9baV0sMSlbMF07aWYoIShcImxhYmVsXCJpbiBlW3NdKSlyZXR1cm4gcihzLFwibGFiZWwgaXMgcmVxdWlyZWRcIiksITE7aWYoIShcImxvY2F0aW9uXCJpbiBlW3NdKSlyZXR1cm4gcihzLFwibG9jYXRpb24gaXMgcmVxdWlyZWRcIiksITE7aWYoIShcInNyY1wiaW4gZVtzXSkmJiEoXCJzcmNkb2NcImluIGVbc10pKXJldHVybiByKHMsXCJzcmMgb3Igc3JjZG9jIGlzIHJlcXVpcmVkXCIpLCExO2Zvcih2YXIgYT0wLGM9T2JqZWN0LmVudHJpZXMoZVtzXSk7YTxjLmxlbmd0aDthKyspe3ZhciBsPWYoY1thXSwyKSx1PWxbMF0sZD1sWzFdO3N3aXRjaCh1KXtjYXNlXCJhbGxvd1wiOmNhc2VcImNzcFwiOmNhc2VcIm5hbWVcIjpjYXNlXCJyZWZlcnJlclBvbGljeVwiOmNhc2VcInNhbmRib3hcIjppZihcInN0cmluZ1wiIT10eXBlb2YgZClyZXR1cm4gcihzLHQodSkpLCExO2JyZWFrO2Nhc2VcImljb25VUkxcIjppZighZWUoZCkpcmV0dXJuIHIocyxcIlwiLmNvbmNhdCh1LFwiIHNob3VsZCBiZSBhIHVybFwiKSksITE7YnJlYWs7Y2FzZVwic3JjXCI6aWYoXCJzcmNkb2NcImluIGVbc10pcmV0dXJuIHIocyxcImNhbm5vdCBoYXZlIGJvdGggc3JjIGFuZCBzcmNkb2NcIiksITE7aWYoIWVlKGQpKXJldHVybiByKHMsJ3NyYyBcIicuY29uY2F0KGQsJ1wiIGlzIG5vdCBhIHZhbGlkIFVSTCcpKSwhMTticmVhaztjYXNlXCJzcmNkb2NcIjppZihcInNyY1wiaW4gZVtzXSlyZXR1cm4gcihzLFwiY2Fubm90IGhhdmUgYm90aCBzcmMgYW5kIHNyY2RvY1wiKSwhMTtpZihcInN0cmluZ1wiIT10eXBlb2YgZClyZXR1cm4gcihzLHQodSkpLCExO2JyZWFrO2Nhc2VcImxvY2F0aW9uXCI6aWYoIVtcIm1haW5cIixcInNpZGViYXJcIl0uaW5jbHVkZXMoZCkpcmV0dXJuIHIocyx0KHUpKSwhMTticmVhaztjYXNlXCJjb250cm9sbGVkQnlcIjppZihcIipcIiE9PWQmJlwib3duZXJzXCIhPT1kJiYoIUFycmF5LmlzQXJyYXkoZCl8fGQuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGV9KSkpKXJldHVybiByKHMsdCh1KSksITE7YnJlYWs7Y2FzZVwic2hhcmVkXCI6aWYoKCFBcnJheS5pc0FycmF5KGQpfHxkLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlfSkpKSYmXCJvd25lcnNcIiE9PWQmJlwiYm9vbGVhblwiIT10eXBlb2YgZClyZXR1cm4gcihzLHQodSkpLCExO2JyZWFrO2RlZmF1bHQ6aWYoIXRjLmlkW3VdKXJldHVybiBjb25zb2xlLmVycm9yKFwiY3VzdG9tSW50ZWdyYXRpb24gZG9lcyBub3Qgc3VwcG9ydCBrZXkgXCIuY29uY2F0KHUpKSwhMX19fXJldHVybiEwfWZ1bmN0aW9uIFRjKGUsdCl7aWYodm9pZCAwPT09dClyZXR1cm4hMTtzd2l0Y2gobih0KSl7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIG4oZSk9PT10O2Nhc2VcIm9iamVjdFwiOmlmKFwib2JqZWN0XCIhPT1uKGUpKXJldHVybiExO2Zvcih2YXIgciBpbiBlKWlmKCFUYyhlW3JdLHRbcl0pKXJldHVybiExO3JldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fWZ1bmN0aW9uIE9jKGUsdCl7dmFyIG49ZS5zZXNzaW9uSWQscj1lLnRvRW5kUG9pbnQsaT1lLmNhbGxlcklkLG89ZS51c2VTaXBSZWZlcjtpZighbnx8IXIpdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KHQsXCIoKSByZXF1aXJlcyBhIHNlc3Npb25JZCBhbmQgdG9FbmRQb2ludFwiKSk7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIG58fFwic3RyaW5nXCIhPXR5cGVvZiByKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFyYW1hdGVyOiBzZXNzaW9uSWQgYW5kIHRvRW5kUG9pbnQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZ1wiKTtpZihvJiYhci5zdGFydHNXaXRoKFwic2lwOlwiKSl0aHJvdyBuZXcgRXJyb3IoJ1widG9FbmRQb2ludFwiIG11c3QgYmUgYSBcInNpcFwiIGFkZHJlc3MnKTtpZighci5zdGFydHNXaXRoKFwic2lwOlwiKSYmIXIuc3RhcnRzV2l0aChcIitcIikpdGhyb3cgbmV3IEVycm9yKFwidG9FbmRQb2ludDogXCIuY29uY2F0KHIsJyBtdXN0IHN0YXJ0cyB3aXRoIGVpdGhlciBcInNpcDpcIiBvciBcIitcIicpKTtpZihpJiZcInN0cmluZ1wiIT10eXBlb2YgaSl0aHJvdyBuZXcgRXJyb3IoXCJjYWxsZXJJZCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nXCIpO2lmKGkmJiFyLnN0YXJ0c1dpdGgoXCIrXCIpKXRocm93IG5ldyBFcnJvcihcImNhbGxlcklkIGlzIG9ubHkgdmFsaWQgd2hlbiB0cmFuc2ZlcnJpbmcgdG8gYSBQU1ROIG51bWJlclwiKX1mdW5jdGlvbiBQYyhlKXtpZihcIm9iamVjdFwiIT09bihlKSl0aHJvdyBuZXcgRXJyb3IoJ1JlbW90ZU1lZGlhUGxheWVyU2V0dGluZ3M6IG11c3QgYmUgXCJvYmplY3RcIiB0eXBlJyk7aWYoZS5zdGF0ZSYmIU9iamVjdC52YWx1ZXMocHMpLmluY2x1ZGVzKGUuc3RhdGUpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIFJlbW90ZU1lZGlhUGxheWVyU2V0dGluZ3Muc3RhdGUsIHZhbGlkIHZhbHVlcyBhcmU6IFwiK0pTT04uc3RyaW5naWZ5KHBzKSk7aWYoZS52b2x1bWUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlLnZvbHVtZSl0aHJvdyBuZXcgRXJyb3IoJ1JlbW90ZU1lZGlhUGxheWVyU2V0dGluZ3Mudm9sdW1lOiBtdXN0IGJlIFwibnVtYmVyXCIgdHlwZScpO2lmKGUudm9sdW1lPDB8fGUudm9sdW1lPjIpdGhyb3cgbmV3IEVycm9yKFwiUmVtb3RlTWVkaWFQbGF5ZXJTZXR0aW5ncy52b2x1bWU6IG11c3QgYmUgYmV0d2VlbiAwLjAgLSAyLjBcIil9fWZ1bmN0aW9uIEFjKGUsdCxuKXtyZXR1cm4hKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlPHR8fGU+bil9ZnVuY3Rpb24gamMoZSx0KXtyZXR1cm4gZSYmIXQmJmRlbGV0ZSBlLmRhdGEsZX1leHBvcnR7UGkgYXMgREFJTFlfQUNDRVNTX0xFVkVMX0ZVTEwsQWkgYXMgREFJTFlfQUNDRVNTX0xFVkVMX0xPQkJZLGppIGFzIERBSUxZX0FDQ0VTU19MRVZFTF9OT05FLE9pIGFzIERBSUxZX0FDQ0VTU19VTktOT1dOLFdpIGFzIERBSUxZX0NBTUVSQV9FUlJPUl9DQU1fQU5EX01JQ19JTl9VU0UscWkgYXMgREFJTFlfQ0FNRVJBX0VSUk9SX0NBTV9JTl9VU0UsS2kgYXMgREFJTFlfQ0FNRVJBX0VSUk9SX0NPTlNUUkFJTlRTLHppIGFzIERBSUxZX0NBTUVSQV9FUlJPUl9NSUNfSU5fVVNFLFFpIGFzIERBSUxZX0NBTUVSQV9FUlJPUl9OT1RfRk9VTkQsSGkgYXMgREFJTFlfQ0FNRVJBX0VSUk9SX1BFUk1JU1NJT05TLEdpIGFzIERBSUxZX0NBTUVSQV9FUlJPUl9VTkRFRl9NRURJQURFVklDRVMsWWkgYXMgREFJTFlfQ0FNRVJBX0VSUk9SX1VOS05PV04sZm8gYXMgREFJTFlfRVZFTlRfQUNDRVNTX1NUQVRFX1VQREFURUQsVW8gYXMgREFJTFlfRVZFTlRfQUNUSVZFX1NQRUFLRVJfQ0hBTkdFLFZvIGFzIERBSUxZX0VWRU5UX0FDVElWRV9TUEVBS0VSX01PREVfQ0hBTkdFLElvIGFzIERBSUxZX0VWRU5UX0FQUF9NU0csb28gYXMgREFJTFlfRVZFTlRfQ0FNRVJBX0VSUk9SLHFvIGFzIERBSUxZX0VWRU5UX0NQVV9MT0FEX0NIQU5HRSxucyBhcyBEQUlMWV9FVkVOVF9FUlJPUixIbyBhcyBEQUlMWV9FVkVOVF9FWElUX0ZVTExTQ1JFRU4sem8gYXMgREFJTFlfRVZFTlRfRkFDRV9DT1VOVFNfVVBEQVRFRCxXbyBhcyBEQUlMWV9FVkVOVF9GVUxMU0NSRUVOLFppIGFzIERBSUxZX0VWRU5UX0lGUkFNRV9MQVVOQ0hfQ09ORklHLFhpIGFzIERBSUxZX0VWRU5UX0lGUkFNRV9SRUFEWV9GT1JfTEFVTkNIX0NPTkZJRyxlcyBhcyBEQUlMWV9FVkVOVF9JTlBVVF9TRVRUSU5HU19VUERBVEVELGFvIGFzIERBSUxZX0VWRU5UX0pPSU5FRF9NRUVUSU5HLHNvIGFzIERBSUxZX0VWRU5UX0pPSU5JTkdfTUVFVElORyxYbyBhcyBEQUlMWV9FVkVOVF9MQU5HX1VQREFURUQsY28gYXMgREFJTFlfRVZFTlRfTEVGVF9NRUVUSU5HLFlvIGFzIERBSUxZX0VWRU5UX0xJVkVfU1RSRUFNSU5HX0VSUk9SLEdvIGFzIERBSUxZX0VWRU5UX0xJVkVfU1RSRUFNSU5HX1NUQVJURUQsS28gYXMgREFJTFlfRVZFTlRfTElWRV9TVFJFQU1JTkdfU1RPUFBFRCxRbyBhcyBEQUlMWV9FVkVOVF9MSVZFX1NUUkVBTUlOR19VUERBVEVELHJvIGFzIERBSUxZX0VWRU5UX0xPQURFRCx0byBhcyBEQUlMWV9FVkVOVF9MT0FESU5HLG5vIGFzIERBSUxZX0VWRU5UX0xPQURfQVRURU1QVF9GQUlMRUQsQm8gYXMgREFJTFlfRVZFTlRfTE9DQUxfU0NSRUVOX1NIQVJFX0NBTkNFTEVELFJvIGFzIERBSUxZX0VWRU5UX0xPQ0FMX1NDUkVFTl9TSEFSRV9TVEFSVEVELEZvIGFzIERBSUxZX0VWRU5UX0xPQ0FMX1NDUkVFTl9TSEFSRV9TVE9QUEVELG1vIGFzIERBSUxZX0VWRU5UX01FRVRJTkdfU0VTU0lPTl9EQVRBX0VSUk9SLGdvIGFzIERBSUxZX0VWRU5UX01FRVRJTkdfU0VTU0lPTl9TVEFURV9VUERBVEVELHZvIGFzIERBSUxZX0VWRU5UX01FRVRJTkdfU0VTU0lPTl9TVU1NQVJZX1VQREFURUQsJG8gYXMgREFJTFlfRVZFTlRfTkVUV09SS19DT05ORUNUSU9OLEpvIGFzIERBSUxZX0VWRU5UX05FVFdPUktfUVVBTElUWV9DSEFOR0UsdHMgYXMgREFJTFlfRVZFTlRfTk9ORkFUQUxfRVJST1IsaG8gYXMgREFJTFlfRVZFTlRfUEFSVElDSVBBTlRfQ09VTlRTX1VQREFURUQsbG8gYXMgREFJTFlfRVZFTlRfUEFSVElDSVBBTlRfSk9JTkVELHBvIGFzIERBSUxZX0VWRU5UX1BBUlRJQ0lQQU5UX0xFRlQsdW8gYXMgREFJTFlfRVZFTlRfUEFSVElDSVBBTlRfVVBEQVRFRCxabyBhcyBEQUlMWV9FVkVOVF9SRUNFSVZFX1NFVFRJTkdTX1VQREFURUQsam8gYXMgREFJTFlfRVZFTlRfUkVDT1JESU5HX0RBVEEsUG8gYXMgREFJTFlfRVZFTlRfUkVDT1JESU5HX0VSUk9SLEVvIGFzIERBSUxZX0VWRU5UX1JFQ09SRElOR19TVEFSVEVELE9vIGFzIERBSUxZX0VWRU5UX1JFQ09SRElOR19TVEFUUyxUbyBhcyBEQUlMWV9FVkVOVF9SRUNPUkRJTkdfU1RPUFBFRCxBbyBhcyBEQUlMWV9FVkVOVF9SRUNPUkRJTkdfVVBMT0FEX0NPTVBMRVRFRCxMbyBhcyBEQUlMWV9FVkVOVF9SRU1PVEVfTUVESUFfUExBWUVSX1NUQVJURUQsTm8gYXMgREFJTFlfRVZFTlRfUkVNT1RFX01FRElBX1BMQVlFUl9TVE9QUEVELERvIGFzIERBSUxZX0VWRU5UX1JFTU9URV9NRURJQV9QTEFZRVJfVVBEQVRFRCxpbyBhcyBEQUlMWV9FVkVOVF9TVEFSVEVEX0NBTUVSQSxlbyBhcyBEQUlMWV9FVkVOVF9USEVNRV9VUERBVEVELHdvIGFzIERBSUxZX0VWRU5UX1RSQUNLX1NUQVJURUQsU28gYXMgREFJTFlfRVZFTlRfVFJBQ0tfU1RPUFBFRCxDbyBhcyBEQUlMWV9FVkVOVF9UUkFOU0NSSVBUSU9OX0VSUk9SLHhvIGFzIERBSUxZX0VWRU5UX1RSQU5TQ1JJUFRJT05fTVNHLGtvIGFzIERBSUxZX0VWRU5UX1RSQU5TQ1JJUFRJT05fU1RBUlRFRCxNbyBhcyBEQUlMWV9FVkVOVF9UUkFOU0NSSVBUSU9OX1NUT1BQRUQseW8gYXMgREFJTFlfRVZFTlRfV0FJVElOR19QQVJUSUNJUEFOVF9BRERFRCxfbyBhcyBEQUlMWV9FVkVOVF9XQUlUSU5HX1BBUlRJQ0lQQU5UX1JFTU9WRUQsYm8gYXMgREFJTFlfRVZFTlRfV0FJVElOR19QQVJUSUNJUEFOVF9VUERBVEVELCRpIGFzIERBSUxZX0ZBVEFMX0VSUk9SX0NPTk5FQ1RJT04sTGkgYXMgREFJTFlfRkFUQUxfRVJST1JfRUpFQ1RFRCxWaSBhcyBEQUlMWV9GQVRBTF9FUlJPUl9FT0wsUmkgYXMgREFJTFlfRkFUQUxfRVJST1JfRVhQX1JPT00sRmkgYXMgREFJTFlfRkFUQUxfRVJST1JfRVhQX1RPS0VOLFVpIGFzIERBSUxZX0ZBVEFMX0VSUk9SX01FRVRJTkdfRlVMTCxEaSBhcyBEQUlMWV9GQVRBTF9FUlJPUl9OQkZfUk9PTSxOaSBhcyBEQUlMWV9GQVRBTF9FUlJPUl9OQkZfVE9LRU4sSmkgYXMgREFJTFlfRkFUQUxfRVJST1JfTk9UX0FMTE9XRUQsQmkgYXMgREFJTFlfRkFUQUxfRVJST1JfTk9fUk9PTSx4aSBhcyBEQUlMWV9SRUNFSVZFX1NFVFRJTkdTX0FMTF9QQVJUSUNJUEFOVFNfS0VZLElpIGFzIERBSUxZX1JFQ0VJVkVfU0VUVElOR1NfQkFTRV9LRVksd2kgYXMgREFJTFlfU1RBVEVfRVJST1IsYmkgYXMgREFJTFlfU1RBVEVfSk9JTkVELHlpIGFzIERBSUxZX1NUQVRFX0pPSU5JTkcsX2kgYXMgREFJTFlfU1RBVEVfTEVGVCx2aSBhcyBEQUlMWV9TVEFURV9ORVcsU2kgYXMgREFJTFlfVFJBQ0tfU1RBVEVfQkxPQ0tFRCxFaSBhcyBEQUlMWV9UUkFDS19TVEFURV9JTlRFUlJVUFRFRCxDaSBhcyBEQUlMWV9UUkFDS19TVEFURV9MT0FESU5HLGtpIGFzIERBSUxZX1RSQUNLX1NUQVRFX09GRixUaSBhcyBEQUlMWV9UUkFDS19TVEFURV9QTEFZQUJMRSxNaSBhcyBEQUlMWV9UUkFDS19TVEFURV9TRU5EQUJMRSxpYyBhcyBkZWZhdWx0fTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@pipecat-ai/small-webrtc-transport/node_modules/@daily-co/daily-js/dist/daily-esm.js\n");

/***/ })

};
;